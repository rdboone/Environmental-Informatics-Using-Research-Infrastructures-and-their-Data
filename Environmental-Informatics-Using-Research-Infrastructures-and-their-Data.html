<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Environmental Informatics Using Research Infrastructures and their Data</title>
  <meta name="description" content="Course text for NAU INF 550" />
  <meta name="generator" content="bookdown #bookdown:version# and GitBook 2.6.7" />

  <meta property="og:title" content="Environmental Informatics Using Research Infrastructures and their Data" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="//Users/rohan/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data/images/EcoInfo4.png" />
  <meta property="og:description" content="Course text for NAU INF 550" />
  <meta name="github-repo" content="rdboone/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Environmental Informatics Using Research Infrastructures and their Data" />
  
  <meta name="twitter:description" content="Course text for NAU INF 550" />
  <meta name="twitter:image" content="//Users/rohan/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data/images/EcoInfo4.png" />

<meta name="author" content="Dr. Katharyn Duffy, Dr. Ben Ruddell" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



<!--bookdown:title:start-->
<div id="header">
<h1 class="title">Environmental Informatics Using Research Infrastructures and their Data</h1>
<p class="author"><em>Dr. Katharyn Duffy, Dr. Ben Ruddell</em></p>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#preface" id="toc-preface">Preface<span></span></a>
<ul>
<li><a href="#acknowledgements" id="toc-acknowledgements">Acknowledgements<span></span></a>
<ul>
<li><a href="#key-contributors" id="toc-key-contributors">Key Contributors<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="#pre-course-setup-ecoinformatics-tools" id="toc-pre-course-setup-ecoinformatics-tools">Pre-Course Setup: EcoInformatics Tools<span></span></a>
<ul>
<li><a href="#pre-course-skills-setup" id="toc-pre-course-skills-setup"><span class="toc-section-number">0.1</span> Pre-Course Skills &amp; Setup<span></span></a>
<ul>
<li><a href="#installing-or-updating-r" id="toc-installing-or-updating-r"><span class="toc-section-number">0.1.1</span> Installing or Updating R<span></span></a></li>
<li><a href="#windows-rrstudio-setup" id="toc-windows-rrstudio-setup"><span class="toc-section-number">0.1.2</span> Windows R/RStudio Setup<span></span></a></li>
<li><a href="#mac-rrstudio-setup" id="toc-mac-rrstudio-setup"><span class="toc-section-number">0.1.3</span> Mac R/RStudio Setup<span></span></a></li>
</ul></li>
<li><a href="#linux-rrstudio-setup" id="toc-linux-rrstudio-setup"><span class="toc-section-number">0.2</span> Linux R/RStudio Setup<span></span></a>
<ul>
<li><a href="#install-basic-packages-for-this-course" id="toc-install-basic-packages-for-this-course"><span class="toc-section-number">0.2.1</span> Install basic packages for this course<span></span></a></li>
</ul></li>
<li><a href="#installing-and-setting-up-git-github-on-your-machine" id="toc-installing-and-setting-up-git-github-on-your-machine"><span class="toc-section-number">0.3</span> Installing and Setting up Git &amp; Github on Your Machine<span></span></a></li>
<li><a href="#installing-atom" id="toc-installing-atom"><span class="toc-section-number">0.4</span> Installing Atom<span></span></a></li>
<li><a href="#linking-rstudio-to-git" id="toc-linking-rstudio-to-git"><span class="toc-section-number">0.5</span> Linking RStudio to Git<span></span></a></li>
<li><a href="#how-we-will-be-conducting-this-course" id="toc-how-we-will-be-conducting-this-course"><span class="toc-section-number">0.6</span> How we will be Conducting this Course<span></span></a></li>
<li><a href="#exercises" id="toc-exercises"><span class="toc-section-number">0.7</span> Exercises:<span></span></a>
<ul>
<li><a href="#exercise-0.1-a-git-introduction" id="toc-exercise-0.1-a-git-introduction"><span class="toc-section-number">0.7.1</span> Exercise 0.1: A git introduction<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="#why-ecoinformatics" id="toc-why-ecoinformatics"><span class="toc-section-number">1</span> Why ‘EcoInformatics’?<span></span></a>
<ul>
<li><a href="#the-framework-of-this-course" id="toc-the-framework-of-this-course"><span class="toc-section-number">1.1</span> The Framework of this Course<span></span></a></li>
<li><a href="#final-course-project-proposed-derived-data-product" id="toc-final-course-project-proposed-derived-data-product"><span class="toc-section-number">1.2</span> Final Course Project: Proposed Derived Data Product<span></span></a></li>
</ul></li>
<li><a href="#introduction-to-neon-its-data" id="toc-introduction-to-neon-its-data"><span class="toc-section-number">2</span> Introduction to NEON &amp; its Data<span></span></a>
<ul>
<li><a href="#learning-objectives" id="toc-learning-objectives"><span class="toc-section-number">2.1</span> Learning Objectives<span></span></a></li>
<li><a href="#the-neon-project-mission-design" id="toc-the-neon-project-mission-design"><span class="toc-section-number">2.2</span> The NEON Project Mission &amp; Design<span></span></a></li>
<li><a href="#the-science-and-design-of-neon" id="toc-the-science-and-design-of-neon"><span class="toc-section-number">2.3</span> The Science and Design of NEON<span></span></a></li>
<li><a href="#neons-spatial-design" id="toc-neons-spatial-design"><span class="toc-section-number">2.4</span> NEON’s Spatial Design<span></span></a>
<ul>
<li><a href="#neon-samples-all-20-eco-regions" id="toc-neon-samples-all-20-eco-regions"><span class="toc-section-number">2.4.1</span> NEON Samples All 20 Eco-Regions<span></span></a></li>
</ul></li>
<li><a href="#how-neon-collects-data" id="toc-how-neon-collects-data"><span class="toc-section-number">2.5</span> How NEON Collects Data<span></span></a>
<ul>
<li><a href="#specimens-samples" id="toc-specimens-samples"><span class="toc-section-number">2.5.1</span> Specimens &amp; Samples<span></span></a></li>
<li><a href="#airborne-remote-sensing" id="toc-airborne-remote-sensing"><span class="toc-section-number">2.5.2</span> Airborne Remote Sensing<span></span></a></li>
</ul></li>
<li><a href="#accessing-neon-data" id="toc-accessing-neon-data"><span class="toc-section-number">2.6</span> Accessing NEON Data<span></span></a>
<ul>
<li><a href="#pathways-to-access-neon-data" id="toc-pathways-to-access-neon-data"><span class="toc-section-number">2.6.1</span> Pathways to access NEON Data<span></span></a></li>
</ul></li>
<li><a href="#hands-on-accessing-neon-data-user-tokens" id="toc-hands-on-accessing-neon-data-user-tokens"><span class="toc-section-number">2.7</span> Hands on: Accessing NEON Data &amp; User Tokens<span></span></a>
<ul>
<li><a href="#via-the-neon-api-with-your-user-token" id="toc-via-the-neon-api-with-your-user-token"><span class="toc-section-number">2.7.1</span> Via the NEON API, with your User Token<span></span></a></li>
<li><a href="#get-a-neon-api-token" id="toc-get-a-neon-api-token"><span class="toc-section-number">2.8.1</span> Get a NEON API Token<span></span></a></li>
<li><a href="#use-the-api-token-in-neonutilities" id="toc-use-the-api-token-in-neonutilities"><span class="toc-section-number">2.8.2</span> Use the API token in neonUtilities<span></span></a></li>
<li><a href="#token-management-for-open-code" id="toc-token-management-for-open-code"><span class="toc-section-number">2.8.3</span> Token management for open code<span></span></a></li>
</ul></li>
<li><a href="#hands-on-neon-tos-data" id="toc-hands-on-neon-tos-data"><span class="toc-section-number">2.9</span> Hands on: NEON TOS Data<span></span></a>
<ul>
<li><a href="#pull-in-tree-data-from-neons-tos-and-investigate-relationships" id="toc-pull-in-tree-data-from-neons-tos-and-investigate-relationships"><span class="toc-section-number">2.9.1</span> Pull in Tree Data from NEON’s TOS and investigate relationships<span></span></a></li>
</ul></li>
<li><a href="#intro-to-neon-exercises-part-1" id="toc-intro-to-neon-exercises-part-1"><span class="toc-section-number">2.10</span> Intro to NEON Exercises Part 1<span></span></a>
<ul>
<li><a href="#exercise-2.1-neon-coding-lab---tos-vegetation-structure" id="toc-exercise-2.1-neon-coding-lab---tos-vegetation-structure"><span class="toc-section-number">2.10.1</span> Exercise 2.1: NEON Coding Lab - TOS Vegetation Structure<span></span></a></li>
</ul></li>
<li><a href="#hands-on-pulling-neon-data-via-the-api" id="toc-hands-on-pulling-neon-data-via-the-api"><span class="toc-section-number">2.11</span> Hands on: Pulling NEON Data via the API<span></span></a></li>
<li><a href="#what-is-an-api" id="toc-what-is-an-api"><span class="toc-section-number">2.12</span> What is an API?<span></span></a>
<ul>
<li><a href="#anatomy-of-an-api-call" id="toc-anatomy-of-an-api-call"><span class="toc-section-number">2.12.1</span> Anatomy of an API call<span></span></a></li>
<li><a href="#targets" id="toc-targets"><span class="toc-section-number">2.12.2</span> Targets:<span></span></a></li>
<li><a href="#observational-data-os" id="toc-observational-data-os"><span class="toc-section-number">2.12.3</span> Observational data (OS)<span></span></a></li>
<li><a href="#instrumentation-data-is" id="toc-instrumentation-data-is"><span class="toc-section-number">2.12.4</span> Instrumentation data (IS)<span></span></a></li>
<li><a href="#remote-sensing-data-aop" id="toc-remote-sensing-data-aop"><span class="toc-section-number">2.12.5</span> Remote sensing data (AOP)<span></span></a></li>
<li><a href="#geolocation-data" id="toc-geolocation-data"><span class="toc-section-number">2.12.6</span> Geolocation data<span></span></a></li>
<li><a href="#querying-a-single-named-location" id="toc-querying-a-single-named-location"><span class="toc-section-number">2.12.7</span> Querying a single named location<span></span></a></li>
<li><a href="#taxonomy" id="toc-taxonomy"><span class="toc-section-number">2.12.8</span> Taxonomy<span></span></a></li>
</ul></li>
<li><a href="#stacking-neon-data" id="toc-stacking-neon-data"><span class="toc-section-number">2.13</span> Stacking NEON data<span></span></a></li>
<li><a href="#intro-to-neon-exercises-part-2" id="toc-intro-to-neon-exercises-part-2"><span class="toc-section-number">2.14</span> Intro to NEON Exercises Part 2<span></span></a>
<ul>
<li><a href="#exercise-2.2-written-questions" id="toc-exercise-2.2-written-questions"><span class="toc-section-number">2.14.1</span> Exercise 2.2: Written questions<span></span></a></li>
<li><a href="#exercise-2.3-neon-coding-lab---further-exploration-of-neon-data" id="toc-exercise-2.3-neon-coding-lab---further-exploration-of-neon-data"><span class="toc-section-number">2.14.2</span> Exercise 2.3: NEON Coding Lab - Further Exploration of NEON Data<span></span></a></li>
<li><a href="#exercise-2.4-intro-to-neon-culmination-activity" id="toc-exercise-2.4-intro-to-neon-culmination-activity"><span class="toc-section-number">2.14.3</span> Exercise 2.4: Intro to NEON Culmination Activity<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="#introduction-to-usa-npn-its-data" id="toc-introduction-to-usa-npn-its-data"><span class="toc-section-number">3</span> Introduction to USA-NPN &amp; its Data<span></span></a>
<ul>
<li><a href="#hands-on-accessing-usa-npn-data-via-rnpn" id="toc-hands-on-accessing-usa-npn-data-via-rnpn"><span class="toc-section-number">3.8</span> Hands on: Accessing USA-NPN Data via rNPN<span></span></a>
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">3.8.1</span> Introduction<span></span></a></li>
<li><a href="#accessing-usa-npn-observational-data" id="toc-accessing-usa-npn-observational-data"><span class="toc-section-number">3.8.2</span> Accessing USA-NPN Observational Data<span></span></a></li>
<li><a href="#status-and-intensity-data" id="toc-status-and-intensity-data"><span class="toc-section-number">3.8.3</span> Status and Intensity Data<span></span></a></li>
<li><a href="#individual-phenometrics" id="toc-individual-phenometrics"><span class="toc-section-number">3.8.4</span> Individual Phenometrics<span></span></a></li>
<li><a href="#site-phenometrics" id="toc-site-phenometrics"><span class="toc-section-number">3.8.5</span> Site Phenometrics<span></span></a></li>
<li><a href="#magnitude-phenometrics" id="toc-magnitude-phenometrics"><span class="toc-section-number">3.8.6</span> Magnitude Phenometrics<span></span></a></li>
<li><a href="#usa-npn-geospatial-data" id="toc-usa-npn-geospatial-data"><span class="toc-section-number">3.8.7</span> USA-NPN Geospatial Data<span></span></a></li>
</ul></li>
<li><a href="#accumulated-growing-degree-day-products" id="toc-accumulated-growing-degree-day-products"><span class="toc-section-number">3.9</span> Accumulated Growing Degree Day Products<span></span></a></li>
<li><a href="#extended-spring-indices" id="toc-extended-spring-indices"><span class="toc-section-number">3.10</span> Extended Spring Indices<span></span></a>
<ul>
<li><a href="#other-layers" id="toc-other-layers"><span class="toc-section-number">3.10.1</span> Other Layers<span></span></a></li>
</ul></li>
<li><a href="#putting-it-all-together" id="toc-putting-it-all-together"><span class="toc-section-number">3.11</span> Putting it all together:<span></span></a></li>
<li><a href="#combine-point-and-raster-data" id="toc-combine-point-and-raster-data"><span class="toc-section-number">3.12</span> Combine Point and Raster Data<span></span></a>
<ul>
<li><a href="#step-1-get-the-data" id="toc-step-1-get-the-data"><span class="toc-section-number">3.12.1</span> Step 1: Get the data<span></span></a></li>
<li><a href="#step-2-preparing-the-data" id="toc-step-2-preparing-the-data"><span class="toc-section-number">3.12.2</span> Step 2: Preparing the data<span></span></a></li>
<li><a href="#step-3-define-style-options-and-create-graph" id="toc-step-3-define-style-options-and-create-graph"><span class="toc-section-number">3.12.3</span> Step 3: Define style options and create graph<span></span></a></li>
</ul></li>
<li><a href="#live-demo-code-with-lee-marsh-of-usa-npn" id="toc-live-demo-code-with-lee-marsh-of-usa-npn"><span class="toc-section-number">3.13</span> Live Demo Code with Lee Marsh of USA-NPN<span></span></a>
<ul>
<li><a href="#basic-utility-functions" id="toc-basic-utility-functions"><span class="toc-section-number">3.13.1</span> Basic Utility Functions<span></span></a></li>
<li><a href="#download-observational-data" id="toc-download-observational-data"><span class="toc-section-number">3.13.2</span> Download Observational Data<span></span></a></li>
<li><a href="#magnitude-data" id="toc-magnitude-data"><span class="toc-section-number">3.13.3</span> Magnitude Data<span></span></a></li>
<li><a href="#downloading-geospatial-data" id="toc-downloading-geospatial-data"><span class="toc-section-number">3.13.4</span> Downloading Geospatial Data<span></span></a></li>
<li><a href="#putting-it-together" id="toc-putting-it-together"><span class="toc-section-number">3.13.5</span> Putting it together<span></span></a></li>
<li><a href="#other-data-sources-e.g.-daymet-modis" id="toc-other-data-sources-e.g.-daymet-modis"><span class="toc-section-number">3.13.6</span> Other Data Sources, e.g. Daymet, MODIS<span></span></a></li>
</ul></li>
<li><a href="#usa-npn-coding-lab" id="toc-usa-npn-coding-lab"><span class="toc-section-number">3.14</span> USA-NPN Coding Lab<span></span></a></li>
<li><a href="#neon-tos-phenology-data-lecture" id="toc-neon-tos-phenology-data-lecture"><span class="toc-section-number">3.15</span> NEON TOS Phenology Data Lecture<span></span></a></li>
<li><a href="#understanding-observation-biases-and-censoring-in-citizen-science-data" id="toc-understanding-observation-biases-and-censoring-in-citizen-science-data"><span class="toc-section-number">3.16</span> Understanding Observation Biases and Censoring in Citizen Science Data<span></span></a>
<ul>
<li><a href="#many-existing-modeling-approaches-fail-in-one-or-both-regards." id="toc-many-existing-modeling-approaches-fail-in-one-or-both-regards."><span class="toc-section-number">3.16.1</span> Many existing modeling approaches fail in one (or both) regards.<span></span></a></li>
<li><a href="#censoring" id="toc-censoring"><span class="toc-section-number">3.16.2</span> Censoring<span></span></a></li>
</ul></li>
<li><a href="#so-then-how-can-we-model-censored-data" id="toc-so-then-how-can-we-model-censored-data"><span class="toc-section-number">3.17</span> So then how can we model censored data?<span></span></a></li>
<li><a href="#intro-to-usa-npn-culmination-activity" id="toc-intro-to-usa-npn-culmination-activity"><span class="toc-section-number">3.18</span> Intro to USA-NPN Culmination Activity<span></span></a></li>
</ul></li>
<li><a href="#phenocam-digital-repeat-photography-networks-methods" id="toc-phenocam-digital-repeat-photography-networks-methods"><span class="toc-section-number">4</span> PhenoCam: Digital Repeat Photography Networks &amp; Methods<span></span></a>
<ul>
<li><a href="#digital-repeat-photography-networks-learning-objectives" id="toc-digital-repeat-photography-networks-learning-objectives"><span class="toc-section-number">4.1</span> Digital Repeat Photography Networks Learning Objectives<span></span></a>
<ul>
<li><a href="#guest-lectures" id="toc-guest-lectures"><span class="toc-section-number">4.1.1</span> Guest Lectures<span></span></a></li>
<li><a href="#assignments-in-this-chapter" id="toc-assignments-in-this-chapter"><span class="toc-section-number">4.1.2</span> Assignments in this chapter<span></span></a></li>
</ul></li>
<li><a href="#the-phenocam-network-mission-design" id="toc-the-phenocam-network-mission-design"><span class="toc-section-number">4.2</span> The PhenoCam Network Mission &amp; Design<span></span></a>
<ul>
<li><a href="#relevant-documents-background-information-1" id="toc-relevant-documents-background-information-1"><span class="toc-section-number">4.2.1</span> Relevant documents &amp; background information:<span></span></a></li>
</ul></li>
<li><a href="#phenocams-spatial-design" id="toc-phenocams-spatial-design"><span class="toc-section-number">4.3</span> PhenoCam’s Spatial design:<span></span></a>
<ul>
<li><a href="#phenocam-as-a-near-surface-remote-sensing-technique" id="toc-phenocam-as-a-near-surface-remote-sensing-technique"><span class="toc-section-number">4.3.1</span> PhenoCam as a Near Surface Remote Sensing Technique<span></span></a></li>
<li><a href="#how-phenocams-pull-data" id="toc-how-phenocams-pull-data"><span class="toc-section-number">4.3.2</span> How PhenoCams Pull Data<span></span></a></li>
<li><a href="#leveraging-camera-near-infrared-nir-capabilities" id="toc-leveraging-camera-near-infrared-nir-capabilities"><span class="toc-section-number">4.3.3</span> Leveraging camera near-infrared (NIR) capabilities<span></span></a></li>
</ul></li>
<li><a href="#digital-repeat-photography-written-questions" id="toc-digital-repeat-photography-written-questions"><span class="toc-section-number">4.4</span> Digital Repeat Photography Written Questions<span></span></a></li>
<li><a href="#introduction-to-digital-repeat-photography-methods" id="toc-introduction-to-digital-repeat-photography-methods"><span class="toc-section-number">4.5</span> Introduction to Digital Repeat Photography Methods<span></span></a></li>
<li><a href="#pulling-data-via-the-phenocamapi-package" id="toc-pulling-data-via-the-phenocamapi-package"><span class="toc-section-number">4.6</span> Pulling Data via the <em>phenocamapi</em> Package<span></span></a></li>
<li><a href="#exploring-phenocam-metadata" id="toc-exploring-phenocam-metadata"><span class="toc-section-number">4.7</span> Exploring PhenoCam metadata<span></span></a>
<ul>
<li><a href="#remove-null-values" id="toc-remove-null-values"><span class="toc-section-number">4.7.1</span> Remove null values<span></span></a></li>
<li><a href="#filtering-using-attributes" id="toc-filtering-using-attributes"><span class="toc-section-number">4.7.2</span> Filtering using attributes<span></span></a></li>
</ul></li>
<li><a href="#download-midday-images" id="toc-download-midday-images"><span class="toc-section-number">4.8</span> Download midday images<span></span></a>
<ul>
<li><a href="#download-midday-images-for-a-given-time-range" id="toc-download-midday-images-for-a-given-time-range"><span class="toc-section-number">4.8.1</span> Download midday images for a given time range<span></span></a></li>
</ul></li>
<li><a href="#detecting-foggy-images-using-the-hazer-r-package" id="toc-detecting-foggy-images-using-the-hazer-r-package"><span class="toc-section-number">4.9</span> Detecting Foggy Images using the ‘hazer’ R Package<span></span></a></li>
<li><a href="#extracting-timeseries-from-images-using-the-xroi-r-package" id="toc-extracting-timeseries-from-images-using-the-xroi-r-package"><span class="toc-section-number">4.10</span> Extracting Timeseries from Images using the xROI R Package<span></span></a>
<ul>
<li><a href="#xroi-design" id="toc-xroi-design"><span class="toc-section-number">4.10.1</span> xROI Design<span></span></a></li>
<li><a href="#install-xroi" id="toc-install-xroi"><span class="toc-section-number">4.10.2</span> Install xROI<span></span></a></li>
<li><a href="#launch-xroi" id="toc-launch-xroi"><span class="toc-section-number">4.10.3</span> Launch xROI<span></span></a></li>
<li><a href="#end-xroi" id="toc-end-xroi"><span class="toc-section-number">4.10.4</span> End xROI<span></span></a></li>
<li><a href="#use-xroi" id="toc-use-xroi"><span class="toc-section-number">4.10.5</span> Use xROI<span></span></a></li>
</ul></li>
<li><a href="#documentation-and-citation" id="toc-documentation-and-citation"><span class="toc-section-number">4.11</span> Documentation and Citation<span></span></a>
<ul>
<li><a href="#challenge-use-xroi" id="toc-challenge-use-xroi"><span class="toc-section-number">4.11.1</span> Challenge: Use xROI<span></span></a></li>
</ul></li>
<li><a href="#hands-on-digital-repeat-photography-computational" id="toc-hands-on-digital-repeat-photography-computational"><span class="toc-section-number">4.12</span> Hands on: Digital Repeat Photography Computational<span></span></a>
<ul>
<li><a href="#phenocam-time-series" id="toc-phenocam-time-series"><span class="toc-section-number">4.12.1</span> PhenoCam time series<span></span></a></li>
<li><a href="#obtain-rois" id="toc-obtain-rois"><span class="toc-section-number">4.12.2</span> Obtain ROIs<span></span></a></li>
<li><a href="#download-time-series" id="toc-download-time-series"><span class="toc-section-number">4.12.3</span> Download time series<span></span></a></li>
<li><a href="#threshold-values" id="toc-threshold-values"><span class="toc-section-number">4.12.4</span> Threshold values<span></span></a></li>
<li><a href="#comparing-phenology-across-vegetation-types" id="toc-comparing-phenology-across-vegetation-types"><span class="toc-section-number">4.12.5</span> Comparing phenology across vegetation types<span></span></a></li>
<li><a href="#in-class-hands-on-coding-comparing-phenology-of-the-same-plant-function-type-pft-across-climate-space" id="toc-in-class-hands-on-coding-comparing-phenology-of-the-same-plant-function-type-pft-across-climate-space"><span class="toc-section-number">4.12.6</span> In Class Hands-on Coding: Comparing phenology of the same plant function type (PFT) across climate space<span></span></a></li>
</ul></li>
<li><a href="#digital-repeat-photography-coding-lab" id="toc-digital-repeat-photography-coding-lab"><span class="toc-section-number">4.13</span> Digital Repeat Photography Coding Lab<span></span></a>
<ul>
<li><a href="#quantifying-haze-and-redness-to-evaluate-california-wildfires" id="toc-quantifying-haze-and-redness-to-evaluate-california-wildfires"><span class="toc-section-number">4.13.1</span> Quantifying haze and redness to evaluate California wildfires<span></span></a></li>
</ul></li>
<li><a href="#phenocam-culmination-activity" id="toc-phenocam-culmination-activity"><span class="toc-section-number">4.14</span> PhenoCam Culmination Activity<span></span></a></li>
</ul></li>
<li><a href="#flux-measurements-inter-operability" id="toc-flux-measurements-inter-operability"><span class="toc-section-number">5</span> Flux Measurements &amp; Inter-Operability<span></span></a>
<ul>
<li><a href="#learning-objectives-1" id="toc-learning-objectives-1"><span class="toc-section-number">5.1</span> Learning Objectives<span></span></a>
<ul>
<li><a href="#guest-lectures-1" id="toc-guest-lectures-1"><span class="toc-section-number">5.1.1</span> Guest Lectures<span></span></a></li>
<li><a href="#assignments-in-this-chapter-1" id="toc-assignments-in-this-chapter-1"><span class="toc-section-number">5.1.2</span> Assignments in this chapter<span></span></a></li>
</ul></li>
<li><a href="#eddy-co_variance-data-what-does-it-actually-measure" id="toc-eddy-co_variance-data-what-does-it-actually-measure"><span class="toc-section-number">5.2</span> Eddy Co_variance Data: What does it actually measure?<span></span></a>
<ul>
<li><a href="#example-eddy-site" id="toc-example-eddy-site"><span class="toc-section-number">5.2.1</span> Example Eddy Site<span></span></a></li>
</ul></li>
<li><a href="#qaqc-flags" id="toc-qaqc-flags"><span class="toc-section-number">5.3</span> QA/QC Flags<span></span></a></li>
<li><a href="#examples-of-other-flux-networks-ameriflux-fluxnet" id="toc-examples-of-other-flux-networks-ameriflux-fluxnet"><span class="toc-section-number">5.4</span> Examples of Other Flux Networks: AMERIFLUX &amp; FLUXNET<span></span></a></li>
<li><a href="#the-power-of-networked-ecology-bridging-to-ameriflux-and-beyond" id="toc-the-power-of-networked-ecology-bridging-to-ameriflux-and-beyond"><span class="toc-section-number">5.5</span> The Power of Networked Ecology: Bridging to AMERIFLUX and Beyond<span></span></a></li>
<li><a href="#hands-on-introduction-to-working-with-neon-eddy-flux-data" id="toc-hands-on-introduction-to-working-with-neon-eddy-flux-data"><span class="toc-section-number">5.6</span> Hands On: Introduction to working with NEON eddy flux data<span></span></a>
<ul>
<li><a href="#setup" id="toc-setup"><span class="toc-section-number">5.6.1</span> Setup<span></span></a></li>
<li><a href="#data-levels" id="toc-data-levels"><span class="toc-section-number">5.6.2</span> Data Levels<span></span></a></li>
<li><a href="#extract-level-4-data-fluxes" id="toc-extract-level-4-data-fluxes"><span class="toc-section-number">5.6.3</span> Extract Level 4 data (Fluxes!)<span></span></a></li>
<li><a href="#time-stamps" id="toc-time-stamps"><span class="toc-section-number">5.6.4</span> Time stamps<span></span></a></li>
<li><a href="#merge-flux-data-with-other-sensor-data" id="toc-merge-flux-data-with-other-sensor-data"><span class="toc-section-number">5.6.5</span> Merge flux data with other sensor data<span></span></a></li>
<li><a href="#vertical-profile-data-level-3" id="toc-vertical-profile-data-level-3"><span class="toc-section-number">5.6.6</span> Vertical profile data (Level 3)<span></span></a></li>
<li><a href="#un-interpolated-vertical-profile-data-level-2" id="toc-un-interpolated-vertical-profile-data-level-2"><span class="toc-section-number">5.6.7</span> Un-interpolated vertical profile data (Level 2)<span></span></a></li>
<li><a href="#calibrated-raw-data-level-1" id="toc-calibrated-raw-data-level-1"><span class="toc-section-number">5.6.8</span> Calibrated raw data (Level 1)<span></span></a></li>
<li><a href="#convert-neon-flux-data-variables-to-ameriflux-fp-standard" id="toc-convert-neon-flux-data-variables-to-ameriflux-fp-standard"><span class="toc-section-number">5.6.9</span> Convert NEON flux data variables to AmeriFlux FP standard<span></span></a></li>
</ul></li>
<li><a href="#exercises-1" id="toc-exercises-1"><span class="toc-section-number">5.7</span> Exercises<span></span></a>
<ul>
<li><a href="#computational" id="toc-computational"><span class="toc-section-number">5.7.1</span> Computational<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="#neon-aop" id="toc-neon-aop"><span class="toc-section-number">6</span> NEON AOP<span></span></a>
<ul>
<li><a href="#learning-objectives-2" id="toc-learning-objectives-2"><span class="toc-section-number">6.1</span> Learning Objectives<span></span></a>
<ul>
<li><a href="#mapping-the-invisible" id="toc-mapping-the-invisible"><span class="toc-section-number">6.1.1</span> Mapping the Invisible<span></span></a></li>
<li><a href="#about-hyperspectral-remote-sensing-data" id="toc-about-hyperspectral-remote-sensing-data"><span class="toc-section-number">6.1.2</span> About Hyperspectral Remote Sensing Data<span></span></a></li>
</ul></li>
<li><a href="#key-metadata-for-hyperspectral-data" id="toc-key-metadata-for-hyperspectral-data"><span class="toc-section-number">6.2</span> Key Metadata for Hyperspectral Data<span></span></a>
<ul>
<li><a href="#bands-and-wavelengths" id="toc-bands-and-wavelengths"><span class="toc-section-number">6.2.1</span> Bands and Wavelengths<span></span></a></li>
<li><a href="#spectral-resolution" id="toc-spectral-resolution"><span class="toc-section-number">6.2.2</span> Spectral Resolution<span></span></a></li>
<li><a href="#full-width-half-max-fwhm" id="toc-full-width-half-max-fwhm"><span class="toc-section-number">6.2.3</span> Full Width Half Max (FWHM)<span></span></a></li>
</ul></li>
<li><a href="#intro-to-working-with-hyperspectral-remote-sensing-data-in-hdf5-format" id="toc-intro-to-working-with-hyperspectral-remote-sensing-data-in-hdf5-format"><span class="toc-section-number">6.3</span> Intro to Working with Hyperspectral Remote Sensing Data in HDF5 Format<span></span></a></li>
<li><a href="#light-detection-and-ranging-lidar-data" id="toc-light-detection-and-ranging-lidar-data"><span class="toc-section-number">6.7</span> Light Detection And Ranging (LiDAR) Data<span></span></a></li>
<li><a href="#calculating-forest-structural-diversity-metrics-from-neon-lidar-data" id="toc-calculating-forest-structural-diversity-metrics-from-neon-lidar-data"><span class="toc-section-number">6.8</span> Calculating Forest Structural Diversity Metrics from NEON LiDAR Data<span></span></a>
<ul>
<li><a href="#learning-objectives-4" id="toc-learning-objectives-4"><span class="toc-section-number">6.8.1</span> Learning Objectives<span></span></a></li>
<li><a href="#r-libraries-to-install-1" id="toc-r-libraries-to-install-1"><span class="toc-section-number">6.8.2</span> R Libraries to Install:<span></span></a></li>
<li><a href="#data-to-download-1" id="toc-data-to-download-1"><span class="toc-section-number">6.8.3</span> Data to Download<span></span></a></li>
<li><a href="#recommended-skills" id="toc-recommended-skills"><span class="toc-section-number">6.8.4</span> Recommended Skills<span></span></a></li>
<li><a href="#additional-resources-2" id="toc-additional-resources-2"><span class="toc-section-number">6.8.5</span> Additional Resources<span></span></a></li>
</ul></li>
<li><a href="#introduction-to-structural-diversity-metrics" id="toc-introduction-to-structural-diversity-metrics"><span class="toc-section-number">6.9</span> Introduction to Structural Diversity Metrics<span></span></a></li>
<li><a href="#neon-aop-discrete-return-lidar" id="toc-neon-aop-discrete-return-lidar"><span class="toc-section-number">6.10</span> NEON AOP Discrete Return LIDAR<span></span></a>
<ul>
<li><a href="#loading-the-lidar-products" id="toc-loading-the-lidar-products"><span class="toc-section-number">6.10.1</span> Loading the LIDAR Products<span></span></a></li>
<li><a href="#normalizing-tree-height-to-ground" id="toc-normalizing-tree-height-to-ground"><span class="toc-section-number">6.10.2</span> Normalizing Tree Height to Ground<span></span></a></li>
</ul></li>
<li><a href="#calculating-structural-diversity-metrics" id="toc-calculating-structural-diversity-metrics"><span class="toc-section-number">6.11</span> Calculating Structural Diversity Metrics<span></span></a>
<ul>
<li><a href="#generate-canopy-height-model-chm" id="toc-generate-canopy-height-model-chm"><span class="toc-section-number">6.11.1</span> GENERATE CANOPY HEIGHT MODEL (CHM)<span></span></a></li>
<li><a href="#combining-everything-into-one-function" id="toc-combining-everything-into-one-function"><span class="toc-section-number">6.11.2</span> Combining Everything Into One Function<span></span></a></li>
<li><a href="#comparing-metrics-between-forests" id="toc-comparing-metrics-between-forests"><span class="toc-section-number">6.11.3</span> Comparing Metrics Between Forests<span></span></a></li>
</ul></li>
<li><a href="#matching-gedi-waveforms-with-neon-aop-lidar-pointclouds" id="toc-matching-gedi-waveforms-with-neon-aop-lidar-pointclouds"><span class="toc-section-number">6.12</span> Matching GEDI waveforms with NEON AOP LiDAR pointclouds<span></span></a>
<ul>
<li><a href="#learning-objectives-5" id="toc-learning-objectives-5"><span class="toc-section-number">6.12.1</span> Learning Objectives<span></span></a></li>
<li><a href="#things-youll-need-to-complete-this-gedi-section" id="toc-things-youll-need-to-complete-this-gedi-section"><span class="toc-section-number">6.12.2</span> Things You’ll Need To Complete This GEDI Section<span></span></a></li>
<li><a href="#r-packages-to-install" id="toc-r-packages-to-install"><span class="toc-section-number">6.12.3</span> R Packages to Install<span></span></a></li>
<li><a href="#example-data-set" id="toc-example-data-set"><span class="toc-section-number">6.12.4</span> Example Data Set<span></span></a></li>
<li><a href="#getting-started" id="toc-getting-started"><span class="toc-section-number">6.12.5</span> Getting Started<span></span></a></li>
<li><a href="#downloading-gedi-data" id="toc-downloading-gedi-data"><span class="toc-section-number">6.12.6</span> Downloading GEDI data<span></span></a></li>
<li><a href="#plot-gedi-footprints-on-chm" id="toc-plot-gedi-footprints-on-chm"><span class="toc-section-number">6.12.7</span> Plot GEDI footprints on CHM<span></span></a></li>
<li><a href="#extract-waveform-for-a-single-shot" id="toc-extract-waveform-for-a-single-shot"><span class="toc-section-number">6.12.8</span> Extract Waveform for a single Shot<span></span></a></li>
<li><a href="#download-and-plot-neon-aop-lidar-pointcloud-data" id="toc-download-and-plot-neon-aop-lidar-pointcloud-data"><span class="toc-section-number">6.12.9</span> Download and Plot NEON AOP LiDAR pointcloud data<span></span></a></li>
<li><a href="#clip-aop-lidar-pointcloud-to-gedi-footprints" id="toc-clip-aop-lidar-pointcloud-to-gedi-footprints"><span class="toc-section-number">6.12.10</span> Clip AOP LiDAR Pointcloud to GEDI footprints<span></span></a></li>
<li><a href="#plot-gedi-waveform-with-aop-pointcloud-in-3d-space" id="toc-plot-gedi-waveform-with-aop-pointcloud-in-3d-space"><span class="toc-section-number">6.12.11</span> Plot GEDI Waveform with AOP Pointcloud in 3D space<span></span></a></li>
<li><a href="#datum-geoid-and-how-to-best-measure-the-earth" id="toc-datum-geoid-and-how-to-best-measure-the-earth"><span class="toc-section-number">6.12.12</span> Datum, Geoid, and how to best measure the Earth<span></span></a></li>
<li><a href="#aligning-the-vertical-datum" id="toc-aligning-the-vertical-datum"><span class="toc-section-number">6.12.13</span> Aligning the Vertical Datum<span></span></a></li>
<li><a href="#geoid12a-height-model" id="toc-geoid12a-height-model"><span class="toc-section-number">6.12.14</span> GEOID12A Height Model<span></span></a></li>
<li><a href="#extract-vertical-offset-for-gedi-shots" id="toc-extract-vertical-offset-for-gedi-shots"><span class="toc-section-number">6.12.15</span> Extract vertical offset for GEDI shots<span></span></a></li>
<li><a href="#plot-vertically-corrected-gedi-waveform-in-3d" id="toc-plot-vertically-corrected-gedi-waveform-in-3d"><span class="toc-section-number">6.12.16</span> Plot vertically corrected GEDI waveform in 3D<span></span></a></li>
<li><a href="#optional---neon-base-plots" id="toc-optional---neon-base-plots"><span class="toc-section-number">6.12.17</span> Optional - NEON base plots<span></span></a></li>
</ul></li>
<li><a href="#neon-aop-written-questions" id="toc-neon-aop-written-questions"><span class="toc-section-number">6.13</span> NEON AOP Written Questions:<span></span></a></li>
<li><a href="#neon-aop-coding-lab" id="toc-neon-aop-coding-lab"><span class="toc-section-number">6.14</span> NEON AOP Coding Lab<span></span></a></li>
<li><a href="#neon-aop-culmination-write-up" id="toc-neon-aop-culmination-write-up"><span class="toc-section-number">6.15</span> NEON AOP Culmination Write Up<span></span></a></li>
</ul></li>
<li><a href="#nasas-earth-observing-system-eos" id="toc-nasas-earth-observing-system-eos"><span class="toc-section-number">7</span> NASA’s Earth Observing System (EOS)<span></span></a>
<ul>
<li><a href="#learning-objectives-6" id="toc-learning-objectives-6"><span class="toc-section-number">7.1</span> Learning Objectives<span></span></a></li>
<li><a href="#nasa-eos-project-mission-design" id="toc-nasa-eos-project-mission-design"><span class="toc-section-number">7.2</span> NASA EOS Project Mission &amp; Design<span></span></a></li>
<li><a href="#nasa-eos-earth-data-account" id="toc-nasa-eos-earth-data-account"><span class="toc-section-number">7.3</span> NASA EOS Earth Data Account:<span></span></a></li>
<li><a href="#nasa-eos-coding-assignment-1" id="toc-nasa-eos-coding-assignment-1"><span class="toc-section-number">7.4</span> <strong>NASA EOS Coding Assignment 1</strong><span></span></a></li>
<li><a href="#distributed-active-archive-centers" id="toc-distributed-active-archive-centers"><span class="toc-section-number">7.5</span> Distributed Active Archive Centers<span></span></a>
<ul>
<li><a href="#lp-daac" id="toc-lp-daac"><span class="toc-section-number">7.5.1</span> LP DAAC<span></span></a></li>
</ul></li>
<li><a href="#the-lpdaac-mission-process-archive-distribute-apply" id="toc-the-lpdaac-mission-process-archive-distribute-apply"><span class="toc-section-number">7.6</span> The LPDAAC Mission: Process, Archive, Distribute, Apply<span></span></a>
<ul>
<li><a href="#how-you-can-use-lp-daacs-data" id="toc-how-you-can-use-lp-daacs-data"><span class="toc-section-number">7.6.1</span> How you can use LP DAAC’s data<span></span></a></li>
</ul></li>
<li><a href="#appeears" id="toc-appeears"><span class="toc-section-number">7.7</span> AppEEARS<span></span></a></li>
<li><a href="#hands-on-pulling-appeears-data-via-the-api" id="toc-hands-on-pulling-appeears-data-via-the-api"><span class="toc-section-number">7.8</span> Hands on: Pulling AppEEARS Data via the API<span></span></a></li>
<li><a href="#getting-started-with-the-appeears-api-point-request" id="toc-getting-started-with-the-appeears-api-point-request"><span class="toc-section-number">7.9</span> Getting Started with the AppEEARS API (Point Request)<span></span></a>
<ul>
<li><a href="#example-submit-a-point-request-for-multiple-neon-sites-to-extract-vegetation-and-land-surface-temperature-data" id="toc-example-submit-a-point-request-for-multiple-neon-sites-to-extract-vegetation-and-land-surface-temperature-data"><span class="toc-section-number">7.9.1</span> Example: Submit a point request for multiple NEON sites to extract vegetation and land surface temperature data<span></span></a></li>
</ul></li>
<li><a href="#topics-covered-in-this-section" id="toc-topics-covered-in-this-section"><span class="toc-section-number">7.10</span> Topics Covered in this section:<span></span></a>
<ul>
<li><a href="#prerequisites" id="toc-prerequisites"><span class="toc-section-number">7.10.1</span> Prerequisites:<span></span></a></li>
<li><a href="#appeears-information" id="toc-appeears-information"><span class="toc-section-number">7.10.2</span> AppEEARS Information:<span></span></a></li>
</ul></li>
<li><a href="#getting-started-with-the-appeears-api" id="toc-getting-started-with-the-appeears-api"><span class="toc-section-number">7.11</span> Getting Started with the AppEEARS API<span></span></a>
<ul>
<li><a href="#load-packages" id="toc-load-packages"><span class="toc-section-number">7.11.1</span> Load Packages<span></span></a></li>
<li><a href="#set-up-the-output-directory" id="toc-set-up-the-output-directory"><span class="toc-section-number">7.11.2</span> Set Up the Output Directory<span></span></a></li>
<li><a href="#login-to-earth-data" id="toc-login-to-earth-data"><span class="toc-section-number">7.11.3</span> Login to Earth Data<span></span></a></li>
</ul></li>
<li><a href="#query-available-products" id="toc-query-available-products"><span class="toc-section-number">7.12</span> Query Available Products<span></span></a></li>
<li><a href="#search-and-explore-available-products" id="toc-search-and-explore-available-products"><span class="toc-section-number">7.13</span> Search and Explore Available Products<span></span></a></li>
<li><a href="#search-and-explore-available-layers" id="toc-search-and-explore-available-layers"><span class="toc-section-number">7.14</span> Search and Explore Available Layers<span></span></a></li>
<li><a href="#submit-a-point-request" id="toc-submit-a-point-request"><span class="toc-section-number">7.15</span> Submit a Point Request<span></span></a>
<ul>
<li><a href="#compile-a-json-object" id="toc-compile-a-json-object"><span class="toc-section-number">7.15.1</span> Compile a JSON Object<span></span></a></li>
<li><a href="#submit-a-task-request" id="toc-submit-a-task-request"><span class="toc-section-number">7.15.2</span> Submit a Task Request<span></span></a></li>
<li><a href="#retrieve-task-status" id="toc-retrieve-task-status"><span class="toc-section-number">7.15.3</span> Retrieve Task Status<span></span></a></li>
</ul></li>
<li><a href="#download-a-request" id="toc-download-a-request"><span class="toc-section-number">7.16</span> Download a Request<span></span></a>
<ul>
<li><a href="#explore-files-in-request-output" id="toc-explore-files-in-request-output"><span class="toc-section-number">7.16.1</span> Explore Files in Request Output<span></span></a></li>
</ul></li>
<li><a href="#download-files-in-a-request-automation" id="toc-download-files-in-a-request-automation"><span class="toc-section-number">7.17</span> Download Files in a Request (Automation)<span></span></a></li>
<li><a href="#explore-appeears-quality-service" id="toc-explore-appeears-quality-service"><span class="toc-section-number">7.18</span> Explore AppEEARS Quality Service<span></span></a>
<ul>
<li><a href="#list-quality-layers" id="toc-list-quality-layers"><span class="toc-section-number">7.18.1</span> List Quality Layers<span></span></a></li>
<li><a href="#inspect-quality-values" id="toc-inspect-quality-values"><span class="toc-section-number">7.18.2</span> Inspect Quality Values<span></span></a></li>
</ul></li>
<li><a href="#decode-quality-values" id="toc-decode-quality-values"><span class="toc-section-number">7.19</span> Decode Quality Values<span></span></a></li>
<li><a href="#load-request-output-and-visualize" id="toc-load-request-output-and-visualize"><span class="toc-section-number">7.20</span> Load Request Output and Visualize<span></span></a></li>
<li><a href="#load-a-csv" id="toc-load-a-csv"><span class="toc-section-number">7.21</span> Load a CSV<span></span></a></li>
<li><a href="#plot-results-linescatter-plots" id="toc-plot-results-linescatter-plots"><span class="toc-section-number">7.22</span> Plot Results (Line/Scatter Plots)<span></span></a></li>
<li><a href="#submit-an-area-request" id="toc-submit-an-area-request"><span class="toc-section-number">7.23</span> Submit an Area Request<span></span></a></li>
<li><a href="#submit-an-area-request-using-a-neon-site-boundary-as-the-region-of-interest-for-extracting-elevation-vegetation-and-land-surface-temperature-data" id="toc-submit-an-area-request-using-a-neon-site-boundary-as-the-region-of-interest-for-extracting-elevation-vegetation-and-land-surface-temperature-data"><span class="toc-section-number">7.24</span> Submit an area request using a NEON site boundary as the region of interest for extracting elevation, vegetation and land surface temperature data<span></span></a>
<ul>
<li><a href="#topics-covered-in-this-tutorial" id="toc-topics-covered-in-this-tutorial"><span class="toc-section-number">7.24.1</span> Topics Covered in this Tutorial<span></span></a></li>
<li><a href="#prerequisites-1" id="toc-prerequisites-1"><span class="toc-section-number">7.24.2</span> Prerequisites:<span></span></a></li>
<li><a href="#procedures" id="toc-procedures"><span class="toc-section-number">7.24.3</span> Procedures:<span></span></a></li>
<li><a href="#appeears-information-1" id="toc-appeears-information-1"><span class="toc-section-number">7.24.4</span> AppEEARS Information:<span></span></a></li>
</ul></li>
<li><a href="#getting-started-with-an-area-request" id="toc-getting-started-with-an-area-request"><span class="toc-section-number">7.25</span> Getting Started with an Area Request<span></span></a>
<ul>
<li><a href="#load-packages-for-an-area-request" id="toc-load-packages-for-an-area-request"><span class="toc-section-number">7.25.1</span> Load Packages for an Area Request<span></span></a></li>
</ul></li>
<li><a href="#set-up-the-output-directory-1" id="toc-set-up-the-output-directory-1"><span class="toc-section-number">7.26</span> Set Up the Output Directory<span></span></a></li>
<li><a href="#load-your-earth-data-token" id="toc-load-your-earth-data-token"><span class="toc-section-number">7.27</span> Load your Earth Data Token<span></span></a></li>
<li><a href="#query-available-products-1" id="toc-query-available-products-1"><span class="toc-section-number">7.28</span> Query Available Products<span></span></a></li>
<li><a href="#search-and-explore-available-products-1" id="toc-search-and-explore-available-products-1"><span class="toc-section-number">7.29</span> Search and Explore Available Products<span></span></a></li>
<li><a href="#search-and-explore-available-layers-1" id="toc-search-and-explore-available-layers-1"><span class="toc-section-number">7.30</span> Search and Explore Available Layers<span></span></a></li>
<li><a href="#submit-an-area-request-1" id="toc-submit-an-area-request-1"><span class="toc-section-number">7.31</span> Submit an Area Request<span></span></a>
<ul>
<li><a href="#load-a-shapefile" id="toc-load-a-shapefile"><span class="toc-section-number">7.31.1</span> Load a Shapefile<span></span></a></li>
</ul></li>
<li><a href="#search-and-explore-available-projections" id="toc-search-and-explore-available-projections"><span class="toc-section-number">7.32</span> Search and Explore Available Projections<span></span></a></li>
<li><a href="#compile-a-json-object-1" id="toc-compile-a-json-object-1"><span class="toc-section-number">7.33</span> Compile a JSON Object<span></span></a></li>
<li><a href="#submit-a-task-request-1" id="toc-submit-a-task-request-1"><span class="toc-section-number">7.34</span> Submit a Task Request<span></span></a></li>
<li><a href="#retrieve-task-status-1" id="toc-retrieve-task-status-1"><span class="toc-section-number">7.35</span> Retrieve Task Status<span></span></a></li>
<li><a href="#download-a-request-1" id="toc-download-a-request-1"><span class="toc-section-number">7.36</span> Download a Request<span></span></a>
<ul>
<li><a href="#explore-files-in-request-output-1" id="toc-explore-files-in-request-output-1"><span class="toc-section-number">7.36.1</span> Explore Files in Request Output<span></span></a></li>
</ul></li>
<li><a href="#download-files-in-a-request-automation-1" id="toc-download-files-in-a-request-automation-1"><span class="toc-section-number">7.37</span> Download Files in a Request (Automation)<span></span></a></li>
<li><a href="#explore-appeears-quality-service-1" id="toc-explore-appeears-quality-service-1"><span class="toc-section-number">7.38</span> Explore AppEEARS Quality Service<span></span></a></li>
<li><a href="#list-quality-layers-1" id="toc-list-quality-layers-1"><span class="toc-section-number">7.39</span> List Quality Layers<span></span></a></li>
<li><a href="#show-quality-values" id="toc-show-quality-values"><span class="toc-section-number">7.40</span> Show Quality Values<span></span></a></li>
<li><a href="#decode-quality-values-1" id="toc-decode-quality-values-1"><span class="toc-section-number">7.41</span> Decode Quality Values<span></span></a></li>
<li><a href="#bonus-load-request-output-and-visualize" id="toc-bonus-load-request-output-and-visualize"><span class="toc-section-number">7.42</span> BONUS: Load Request Output and Visualize<span></span></a></li>
<li><a href="#load-a-geotiff" id="toc-load-a-geotiff"><span class="toc-section-number">7.43</span> Load a GeoTIFF<span></span></a></li>
<li><a href="#plot-a-geotiff" id="toc-plot-a-geotiff"><span class="toc-section-number">7.44</span> Plot a GeoTIFF<span></span></a></li>
<li><a href="#nasa-eos-coding-lab-2" id="toc-nasa-eos-coding-lab-2"><span class="toc-section-number">7.45</span> NASA EOS Coding Lab #2<span></span></a></li>
<li><a href="#nasa-eos-written-questions" id="toc-nasa-eos-written-questions"><span class="toc-section-number">7.46</span> NASA EOS Written Questions<span></span></a></li>
<li><a href="#nasa-eos-culmination-write-up" id="toc-nasa-eos-culmination-write-up"><span class="toc-section-number">7.47</span> NASA EOS Culmination Write Up<span></span></a></li>
</ul></li>
<li><a href="#usgs-national-water-information-system-nwis" id="toc-usgs-national-water-information-system-nwis"><span class="toc-section-number">8</span> USGS National Water Information System (NWIS)<span></span></a>
<ul>
<li><a href="#usgs-mission" id="toc-usgs-mission"><span class="toc-section-number">8.1</span> USGS Mission:<span></span></a></li>
<li><a href="#usgs-water-resources-mission" id="toc-usgs-water-resources-mission"><span class="toc-section-number">8.2</span> USGS Water Resources Mission:<span></span></a></li>
<li><a href="#types-of-usgs-nwis-data" id="toc-types-of-usgs-nwis-data"><span class="toc-section-number">8.3</span> Types of USGS NWIS Data<span></span></a></li>
<li><a href="#usgs-r-packages-collaborative-and-reproducible-data-analysis-using-r" id="toc-usgs-r-packages-collaborative-and-reproducible-data-analysis-using-r"><span class="toc-section-number">8.4</span> USGS R Packages: Collaborative and reproducible data analysis using R<span></span></a>
<ul>
<li><a href="#suggested-prerequisite-knowledge" id="toc-suggested-prerequisite-knowledge"><span class="toc-section-number">8.4.1</span> Suggested prerequisite knowledge<span></span></a></li>
<li><a href="#course-outline" id="toc-course-outline"><span class="toc-section-number">8.4.2</span> Course outline<span></span></a></li>
<li><a href="#software-requirements" id="toc-software-requirements"><span class="toc-section-number">8.4.3</span> Software requirements<span></span></a></li>
<li><a href="#lesson-summary" id="toc-lesson-summary"><span class="toc-section-number">8.4.4</span> Lesson Summary<span></span></a></li>
<li><a href="#lesson-objectives" id="toc-lesson-objectives"><span class="toc-section-number">8.4.5</span> Lesson Objectives<span></span></a></li>
<li><a href="#lesson-resources" id="toc-lesson-resources"><span class="toc-section-number">8.4.6</span> Lesson Resources<span></span></a></li>
<li><a href="#lesson-slide-deck" id="toc-lesson-slide-deck"><span class="toc-section-number">8.4.7</span> Lesson Slide Deck<span></span></a></li>
</ul></li>
<li><a href="#introduction-to-usgs-r-packages" id="toc-introduction-to-usgs-r-packages"><span class="toc-section-number">8.5</span> Introduction to USGS R Packages<span></span></a></li>
<li><a href="#data-available" id="toc-data-available"><span class="toc-section-number">8.6</span> Data available<span></span></a></li>
<li><a href="#common-nwis-function-arguments" id="toc-common-nwis-function-arguments"><span class="toc-section-number">8.7</span> Common NWIS function arguments<span></span></a></li>
<li><a href="#discovering-nwis-data" id="toc-discovering-nwis-data"><span class="toc-section-number">8.8</span> Discovering NWIS data<span></span></a>
<ul>
<li><a href="#whatnwisdata" id="toc-whatnwisdata"><span class="toc-section-number">8.8.1</span> whatNWISdata<span></span></a></li>
</ul></li>
<li><a href="#common-wqp-function-arguments" id="toc-common-wqp-function-arguments"><span class="toc-section-number">8.9</span> Common WQP function arguments<span></span></a></li>
<li><a href="#discovering-wqp-data" id="toc-discovering-wqp-data"><span class="toc-section-number">8.10</span> Discovering WQP data<span></span></a>
<ul>
<li><a href="#readwqpdata-querysummary" id="toc-readwqpdata-querysummary"><span class="toc-section-number">8.10.1</span> readWQPdata + querySummary<span></span></a></li>
<li><a href="#whatwqpsites" id="toc-whatwqpsites"><span class="toc-section-number">8.10.2</span> whatWQPsites<span></span></a></li>
</ul></li>
<li><a href="#readnwis-functions" id="toc-readnwis-functions"><span class="toc-section-number">8.11</span> readNWIS functions<span></span></a>
<ul>
<li><a href="#readnwisdata" id="toc-readnwisdata"><span class="toc-section-number">8.11.1</span> readNWISdata<span></span></a></li>
<li><a href="#readnwisdv" id="toc-readnwisdv"><span class="toc-section-number">8.11.2</span> readNWISdv<span></span></a></li>
<li><a href="#readnwisgwl" id="toc-readnwisgwl"><span class="toc-section-number">8.11.3</span> readNWISgwl<span></span></a></li>
<li><a href="#readnwismeas" id="toc-readnwismeas"><span class="toc-section-number">8.11.4</span> readNWISmeas<span></span></a></li>
<li><a href="#readnwispcode" id="toc-readnwispcode"><span class="toc-section-number">8.11.5</span> readNWISpCode<span></span></a></li>
<li><a href="#readnwispeak" id="toc-readnwispeak"><span class="toc-section-number">8.11.6</span> readNWISpeak<span></span></a></li>
<li><a href="#readnwisqw" id="toc-readnwisqw"><span class="toc-section-number">8.11.7</span> readNWISqw<span></span></a></li>
<li><a href="#readnwisrating" id="toc-readnwisrating"><span class="toc-section-number">8.11.8</span> readNWISrating<span></span></a></li>
<li><a href="#readnwissite" id="toc-readnwissite"><span class="toc-section-number">8.11.9</span> readNWISsite<span></span></a></li>
<li><a href="#readnwisstat" id="toc-readnwisstat"><span class="toc-section-number">8.11.10</span> readNWISstat<span></span></a></li>
<li><a href="#readnwisuse" id="toc-readnwisuse"><span class="toc-section-number">8.11.11</span> readNWISuse<span></span></a></li>
<li><a href="#readnwisuv" id="toc-readnwisuv"><span class="toc-section-number">8.11.12</span> readNWISuv<span></span></a></li>
</ul></li>
<li><a href="#additional-features" id="toc-additional-features"><span class="toc-section-number">8.12</span> Additional Features<span></span></a>
<ul>
<li><a href="#accessing-attributes" id="toc-accessing-attributes"><span class="toc-section-number">8.12.1</span> Accessing attributes<span></span></a></li>
<li><a href="#using-lists-as-input" id="toc-using-lists-as-input"><span class="toc-section-number">8.12.2</span> Using lists as input<span></span></a></li>
<li><a href="#helper-functions" id="toc-helper-functions"><span class="toc-section-number">8.12.3</span> Helper functions<span></span></a></li>
</ul></li>
<li><a href="#readwqp-functions" id="toc-readwqp-functions"><span class="toc-section-number">8.13</span> readWQP functions<span></span></a>
<ul>
<li><a href="#readwqpdata" id="toc-readwqpdata"><span class="toc-section-number">8.13.1</span> readWQPdata<span></span></a></li>
<li><a href="#readwqpqw" id="toc-readwqpqw"><span class="toc-section-number">8.13.2</span> readWQPqw<span></span></a></li>
</ul></li>
<li><a href="#attributes-and-metadata" id="toc-attributes-and-metadata"><span class="toc-section-number">8.14</span> Attributes and metadata<span></span></a></li>
<li><a href="#usgs-coding-lab-exercises" id="toc-usgs-coding-lab-exercises"><span class="toc-section-number">8.15</span> USGS Coding Lab Exercises<span></span></a>
<ul>
<li><a href="#just-how-dry-was-the-2020-monsoon" id="toc-just-how-dry-was-the-2020-monsoon"><span class="toc-section-number">8.15.1</span> Just how dry was the 2020 monsoon?<span></span></a></li>
</ul></li>
<li><a href="#geoknife---introduction" id="toc-geoknife---introduction"><span class="toc-section-number">8.16</span> geoKnife - Introduction<span></span></a></li>
<li><a href="#lesson-summary-1" id="toc-lesson-summary-1"><span class="toc-section-number">8.17</span> Lesson Summary<span></span></a></li>
<li><a href="#lesson-objectives-1" id="toc-lesson-objectives-1"><span class="toc-section-number">8.18</span> Lesson Objectives<span></span></a></li>
<li><a href="#lesson-resources-1" id="toc-lesson-resources-1"><span class="toc-section-number">8.19</span> Lesson Resources<span></span></a></li>
<li><a href="#remote-processing" id="toc-remote-processing"><span class="toc-section-number">8.20</span> Remote processing<span></span></a></li>
<li><a href="#geoknife-components-fabric-stencil-knife" id="toc-geoknife-components-fabric-stencil-knife"><span class="toc-section-number">8.21</span> geoknife components: fabric, stencil, knife<span></span></a></li>
<li><a href="#available-webdata" id="toc-available-webdata"><span class="toc-section-number">8.22</span> Available webdata<span></span></a>
<ul>
<li><a href="#gdp-datasets" id="toc-gdp-datasets"><span class="toc-section-number">8.22.1</span> GDP datasets<span></span></a></li>
<li><a href="#datasets-not-in-gdp" id="toc-datasets-not-in-gdp"><span class="toc-section-number">8.22.2</span> Datasets not in GDP<span></span></a></li>
</ul></li>
<li><a href="#available-webgeoms" id="toc-available-webgeoms"><span class="toc-section-number">8.23</span> Available webgeoms<span></span></a></li>
<li><a href="#available-webprocesses" id="toc-available-webprocesses"><span class="toc-section-number">8.24</span> Available webprocesses<span></span></a></li>
<li><a href="#setting-up-a-geojob" id="toc-setting-up-a-geojob"><span class="toc-section-number">8.25</span> Setting up a geojob<span></span></a></li>
<li><a href="#checking-the-geojob-status" id="toc-checking-the-geojob-status"><span class="toc-section-number">8.26</span> Checking the geojob status<span></span></a></li>
<li><a href="#getting-geojob-data" id="toc-getting-geojob-data"><span class="toc-section-number">8.27</span> Getting geojob data<span></span></a></li>
<li><a href="#wait-and-email" id="toc-wait-and-email"><span class="toc-section-number">8.28</span> <code>wait</code> and <code>email</code><span></span></a></li>
<li><a href="#putting-it-all-together-mapping-precipitation-from-tropical-storm-colin" id="toc-putting-it-all-together-mapping-precipitation-from-tropical-storm-colin"><span class="toc-section-number">8.29</span> Putting it all together, mapping precipitation from Tropical Storm Colin<span></span></a></li>
<li><a href="#usgs-nwis-culmination-write-up" id="toc-usgs-nwis-culmination-write-up"><span class="toc-section-number">8.30</span> USGS NWIS Culmination Write Up<span></span></a></li>
</ul></li>
<li><a href="#frequently-asked-questions" id="toc-frequently-asked-questions">Frequently Asked Questions:<span></span></a>
<ul>
<li><a href="#where-can-i-find-due-dates-for-assignments" id="toc-where-can-i-find-due-dates-for-assignments"><span class="toc-section-number">8.31</span> Where can I find due dates for assignments?<span></span></a></li>
<li><a href="#how-do-i-submit-assignments" id="toc-how-do-i-submit-assignments"><span class="toc-section-number">8.32</span> How do I submit assignments?<span></span></a></li>
<li><a href="#do-i-still-have-to-submit-written-exercises-as-.rmd-and-.pdf" id="toc-do-i-still-have-to-submit-written-exercises-as-.rmd-and-.pdf"><span class="toc-section-number">8.33</span> Do I still have to submit written exercises as .Rmd and .pdf?<span></span></a></li>
<li><a href="#whats-better-for-code-conciseness-or-readability" id="toc-whats-better-for-code-conciseness-or-readability"><span class="toc-section-number">8.34</span> What’s better for code, conciseness or readability?<span></span></a></li>
<li><a href="#how-find-i-find-resources-to-navigate-the-neon-data-portal" id="toc-how-find-i-find-resources-to-navigate-the-neon-data-portal"><span class="toc-section-number">8.35</span> How find I find resources to navigate the NEON Data Portal?<span></span></a></li>
<li><a href="#how-can-i-best-prepare-for-class-and-succeed" id="toc-how-can-i-best-prepare-for-class-and-succeed"><span class="toc-section-number">8.36</span> How can I best prepare for class and succeed?<span></span></a></li>
</ul></li>
<li><a href="#fall-2020-ignite-session" id="toc-fall-2020-ignite-session"><span class="toc-section-number">9</span> Fall 2020 IGNITE Session<span></span></a></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Environmental Informatics Using Research Infrastructures and their Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<blockquote>
<p>2020 Edition</p>
</blockquote>
<div id="preface" class="section level1 unnumbered hasAnchor">
<h1 class="unnumbered hasAnchor">Preface<a href="#preface" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This textbook provides an introduction to environmental and ecological informatics in the context of “big science”- that is, in the context of research infrastructures and observatories that collect and publish reams of observations and derived data products about the earth and its environment. The reader will learn how to make use of environmental infrastructures’ data products.</p>
<p>This textbook introduces a framework of learning outcomes that covers the broad context of these data products that is necessary to make proper use of the information:</p>
<ul>
<li>The infrastructure’s organizational structure and scientific scope;</li>
<li>Instrumentation, quality control, metadata, data catalogs, API’s, and data products;</li>
<li>Key references, key tutorials, and informatics best practices;</li>
<li>Professional career tracks in informatics;</li>
</ul>
<p>This textbook is intended primarily for graduate students enrolled in computer science and informatics programs but engaged in studies and research on environmental and geoscience topics- with a special emphasis on ecological topics. Advanced undergraduates and other graduate students enrolled in STEM programs may also be well-served if they have a strong background in programming and computing. Additionally, professional scientists may find this textbook useful as a reference and as a training manual when they encounter the need to make use of the research infrastructures and data that are directly covered by the book’s content- or find the need to train a junior scientist on the use of these infrastructures’ data.</p>
<p>The scope of the infrastructures and data products is mostly U.S. focused in this edition, but some of these infrastructures have a global reach, and the material is almost as useful for students in other countries as for U.S. students. The textbook can be tackled one unit at a time as a lab manual within a university course, or- in its intended application- a standard semester-long three-credit-hour graduate course should be offered to cover the entire textbook from start to finish. Digital supplements are provided with examples of successful projects.</p>
<p>Efforts have been made to select activities using data products, software, and tools that are relatively mature and stable. Even so, because this textbook covers a rapidly moving field, portions will, unfortunately, become dated quickly. It is the authors’ intent to release frequent editions that update and expand the material to keep pace with the rapid development of our field.</p>
<p>Informatics is arguably <em>the key scientific discipline</em> of the 21st century, and research infrastructures are the source of the raw natural resource fueling the informatics revolution: observational data. Most 21st century scientists and scientific staff will spend their careers immersed in the data revolution. We sincerely hope that this textbook provides the launchpad you need for your career or for your next project in environmental science.</p>
<div id="acknowledgements" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Acknowledgements<a href="#acknowledgements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This first version of the textbook was developed to offer INF550, a graduate course in the School of Informatics Computing and Cyber Systems at Northern Arizona University in Fall 2020, with funding and leadership from the National Science Foundation funded National Research Traineeship “T3” option in Ecological and Environmental Informatics within a PhD program in Informatics and Computing <em>(NRT-HDR #1829075, PI’s Ogle, Barber, Richardson, Ruddell, and Sankey)</em>. Our research infrastructure partners were critical to the creation of the material. Our partners at NEON - Battelle deserve special gratitude for anchoring the project. The opinions expressed are those of the researchers, and not necessarily the funding agencies. Special thanks to Megan Jones and Donal O’Leary at NEON-Battelle for their support in pulling NEON materials.</p>
<div id="key-contributors" class="section level3 unnumbered hasAnchor">
<h3 class="unnumbered hasAnchor">Key Contributors<a href="#key-contributors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Alphabetized by organization, then last name:</em></p>
<ul>
<li>Alycia Crall, <em>NEON - Battelle</em></li>
<li>Chris Florian, <em>NEON - Battelle</em></li>
<li>Megan Jones, <em>NEON - Battelle</em></li>
<li>Hank Loescher, <em>NEON - Battelle</em></li>
<li>Paula Mabee, <em>NEON - Battelle</em></li>
<li>Donal O’Leary, <em>NEON - Battelle</em></li>
<li>Kate Thibault, <em>NEON - Battelle</em></li>
<li>Andrew Richardson, <em>PhenoCam - NAU</em></li>
<li>Bijan Seyednasrollah, <em>PhenoCam - NAU</em></li>
<li>Theresa Crimmons, <em>USA-NPN</em></li>
<li>Kathy Gerst, <em>USA-NPN</em></li>
<li>Lee Marsh, <em>USA-NPN</em></li>
</ul>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
<!--chapter:end:index.Rmd-->
</div>
</div>
</div>
<div id="pre-course-setup-ecoinformatics-tools" class="section level1 unnumbered hasAnchor">
<h1 class="unnumbered hasAnchor">Pre-Course Setup: EcoInformatics Tools<a href="#pre-course-setup-ecoinformatics-tools" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The purpose of this course is to train you in key ecoinformatics
practices.</p>
<p>Therefore, as an Ecoinformatician you <em>need</em> to be able to:</p>
<ol style="list-style-type: decimal">
<li><p>Pull data from Application Programming Interfaces (APIs)</p>
<ul>
<li>More on this in Chapter 2</li>
</ul></li>
<li><p>Organize and document your code and data</p></li>
<li><p>Version control your code to avoid disaster and make it reproducible</p>
<ul>
<li>For you, your collaborators, and/or the wider community</li>
</ul></li>
<li><p>Push your code up to public-facing repositories</p></li>
<li><p>Pull others code from public repositories.</p></li>
</ol>
<p>More thoughts on the benefits and power of reproducibility <a href="https://github.com/katharynduffy/ECOSS_reproducible_science">can be found
here</a></p>
<p>To be successful, both in this course and in your careers you will need
these skills. This is why <strong>they are a requirement</strong> for this course. If
you are already using these skills on a daily basis, fantastic! If you
don’t feel that you have mastery in the workflows listed above we have
placed lesson links throughout this chapter so that you can build these
skills and be successful in this course.</p>
<div id="pre-course-skills-setup" class="section level2 hasAnchor" number="0.1">
<h2 class="hasAnchor"><span class="header-section-number">0.1</span> Pre-Course Skills &amp; Setup<a href="#pre-course-skills-setup" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For the purpose of this course we will largely be using the following
tools to access, pull, and explore data:</p>
<ol style="list-style-type: decimal">
<li>R &amp; Rstudio</li>
<li>Git, GitHub, &amp; Atom.io</li>
<li>Markdown &amp; Rmarkdown</li>
</ol>
<p>As such we will need to install and/or update these tools on your
personal computer <em>before</em> our first day of class. While we chose R for
this course, nearly all of the packages and data are fully available and
transferable to Python or other languages. If you’d like to brush up on
your R skills I highly recommend Data Carpentry Boot camp’s free <a href="http://swcarpentry.github.io/r-novice-gapminder">R for
Reproducible Scientific
Analysis</a> course.</p>
<div id="installing-or-updating-r" class="section level3 hasAnchor" number="0.1.1">
<h3 class="hasAnchor"><span class="header-section-number">0.1.1</span> Installing or Updating R<a href="#installing-or-updating-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Please check your version of R. You will need R 3.6.0+</p>
<p>How to check your version in R or RStudio if you already have it:</p>
<pre><code>&gt; version
               _                           
platform       x86_64-apple-darwin15.6.0   
arch           x86_64                      
os             darwin15.6.0                
system         x86_64, darwin15.6.0        
status                                     
major          3                           
minor          5.1                         
year           2018                        
month          07                          
day            02                          
svn rev        74947                       
language       R                           
version.string R version 3.5.1 (2018-07-02)
nickname       Feather Spray  </code></pre>
<p>If you don’t already have R or need to update it <a href="https://cran.rstudio.com/">do so
here.</a></p>
</div>
<div id="windows-rrstudio-setup" class="section level3 hasAnchor" number="0.1.2">
<h3 class="hasAnchor"><span class="header-section-number">0.1.2</span> Windows R/RStudio Setup<a href="#windows-rrstudio-setup" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After you have downloaded R, run the .exe file that was just downloaded
Go to the <a href="https://www.rstudio.com/products/rstudio/download/#download">RStudio Download
page</a> Under
Installers select RStudio X.XX.XXX - e.g. Windows Vista/7/8/10 Double
click the file to install it Once R and RStudio are installed, click to
open RStudio. If you don’t get any error messages you are set. If there
is an error message, you will need to re-install the program.</p>
</div>
<div id="mac-rrstudio-setup" class="section level3 hasAnchor" number="0.1.3">
<h3 class="hasAnchor"><span class="header-section-number">0.1.3</span> Mac R/RStudio Setup<a href="#mac-rrstudio-setup" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After you have downloaded R, double click on the file that was
downloaded and R will install Go to the <a href="https://www.rstudio.com/products/rstudio/download/#download">RStudio Download
page</a> Under
Installers select RStudio 1.2.1135 - Mac OS X XX.X (64-bit) to download
it. Once it’s downloaded, double click the file to install it. Once R
and RStudio are installed, click to open RStudio. If you don’t get any
error messages you are set. If there is an error message, you will need
to re-install the program.</p>
</div>
</div>
<div id="linux-rrstudio-setup" class="section level2 hasAnchor" number="0.2">
<h2 class="hasAnchor"><span class="header-section-number">0.2</span> Linux R/RStudio Setup<a href="#linux-rrstudio-setup" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is available through most Linux package managers. You can download the
binary files for your distribution from CRAN. Or you can use your
package manager. e.g. for Debian/Ubuntu</p>
<pre><code>  run sudo apt-get install r-base</code></pre>
<p>and for Fedora</p>
<pre><code>  run sudo yum install R</code></pre>
<p>To install RStudio, go to the <a href="https://www.rstudio.com/products/rstudio/download/#download">RStudio Download
page</a> Under
Installers select the version for your distribution. Once it’s
downloaded, double click the file to install it Once R and RStudio are
installed, click to open RStudio. If you don’t get any error messages
you are set. If there is an error message, you will need to re-install
the program.</p>
<div id="install-basic-packages-for-this-course" class="section level3 hasAnchor" number="0.2.1">
<h3 class="hasAnchor"><span class="header-section-number">0.2.1</span> Install basic packages for this course<a href="#install-basic-packages-for-this-course" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can run the following script to make sure all the required packages
are properly installed on your computer.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># list of required packages</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>list.of.packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;data.table&#39;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;tidyverse&#39;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;jsonlite&#39;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;jpeg&#39;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;png&#39;</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;raster&#39;</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;rgdal&#39;</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;rmarkdown&#39;</span>, </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;knitr&#39;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># identify new (not installed) packages</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>new.packages <span class="ot">&lt;-</span> list.of.packages[<span class="sc">!</span>(list.of.packages <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[,<span class="st">&quot;Package&quot;</span>])]</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># install new (not installed) packages</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(new.packages)) </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(new.packages, </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                   <span class="at">repos=</span><span class="st">&#39;http://cran.rstudio.com/&#39;</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># load all of the required libraries</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(list.of.packages, library, <span class="at">character.only =</span> T)</span></code></pre></div>
<p><strong>Note</strong>: On some operating systems, you may need to install the
Geospatial Data Abstraction Library (GDAL). More information about GDAL
can be found from
<a href="https://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries">here</a>.</p>
</div>
</div>
<div id="installing-and-setting-up-git-github-on-your-machine" class="section level2 hasAnchor" number="0.3">
<h2 class="hasAnchor"><span class="header-section-number">0.3</span> Installing and Setting up Git &amp; Github on Your Machine<a href="#installing-and-setting-up-git-github-on-your-machine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this course you will need: 1. Git installed on your local machine 2.
Very basic bash scripting 3. A linked GitHub account 4. To link RStudio
to git via RStudio or Atom.io</p>
<p>As we will be using these skills constantly, they are a <em>pre-requisite</em>
for this course. If you don’t yet have these skills it’s okay! You can
learn everything that you need to know via the following freely
available resources:</p>
<ul>
<li><p><a href="http://swcarpentry.github.io/shell-novice">The Unix Shell</a></p></li>
<li><p><a href="http://swcarpentry.github.io/git-novice">Version Control with Git</a></p></li>
<li><p><a href="https://happygitwithr.com/">Happy Git with R</a></p></li>
</ul>
<p>If you are learning these skills from scratch I estimate that you will
need to devote ~4-6 hours to get set up and comfortable with the
various workflows. Also remember that I have code office hours every
week and that Stack Exchange is your friend.</p>
</div>
<div id="installing-atom" class="section level2 hasAnchor" number="0.4">
<h2 class="hasAnchor"><span class="header-section-number">0.4</span> Installing Atom<a href="#installing-atom" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://atom.io/">Atom.io</a> is a powerful and useful text editor for the
following reasons:</p>
<ol style="list-style-type: decimal">
<li><p>It is language agnostic</p></li>
<li><p>It fully integrates with git and github + You can use it to
push/pull/resolve conflicts and write code all in one space.</p></li>
</ol>
</div>
<div id="linking-rstudio-to-git" class="section level2 hasAnchor" number="0.5">
<h2 class="hasAnchor"><span class="header-section-number">0.5</span> Linking RStudio to Git<a href="#linking-rstudio-to-git" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://happygitwithr.com/rstudio-git-github.html">Happy Git with R</a>
has a fantastic tutorial to help you link Rstudio-Git-Github on your
local machine and push/pull from or to public repositories.</p>
</div>
<div id="how-we-will-be-conducting-this-course" class="section level2 hasAnchor" number="0.6">
<h2 class="hasAnchor"><span class="header-section-number">0.6</span> How we will be Conducting this Course<a href="#how-we-will-be-conducting-this-course" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you find a <strong>broken link or error</strong> in this course text <a href="https://github.com/katharynduffy/katharynduffy.github.io/issues">submit an
issue on the course github
repository</a>.</p>
<p>At the end of each chapter you will find a set of <strong>Exercises</strong>. At the
end of the assigned chapter you will be expected to submit two files to
the course webdrive:</p>
<ol style="list-style-type: decimal">
<li><p>An <a href="https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">RMarkdown
file</a>
with the naming convention: LASTNAME_COURSECODE_Section#.Rmd, and</p></li>
<li><p>A knitted .PDF with the same naming convention:
LASTNAME_COURSECODE_Section#.pdf</p></li>
</ol>
<p>To generate these files you have two options:</p>
<ol style="list-style-type: decimal">
<li><p>Click on the pencil and pad logo in the top of this text, copy the
exercise section code, and drop it into your own .Rmd.</p></li>
<li><p>Git clone our <a href="https://github.com/katharynduffy/katharynduffy.github.io">course Github
Repository</a>,
navigate to the ‘_Exercises’ folder, and use that .Rmd as a
template.</p></li>
</ol>
<p><em>Note: Exercises submitted in any other format, or those missing
questions will not be graded</em></p>
<p>To generate your .PDF to upload, in your RMarkdown file simply push the
‘Knit’ button at the top of your document.</p>
</div>
<div id="exercises" class="section level2 hasAnchor" number="0.7">
<h2 class="hasAnchor"><span class="header-section-number">0.7</span> Exercises:<a href="#exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="exercise-0.1-a-git-introduction" class="section level3 hasAnchor" number="0.7.1">
<h3 class="hasAnchor"><span class="header-section-number">0.7.1</span> Exercise 0.1: A git introduction<a href="#exercise-0.1-a-git-introduction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Navigate to our <a href="https://github.com/katharynduffy/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data">course
github</a></li>
<li><code>git fork</code> our repo onto your own personal github account.</li>
<li><code>git clone</code> the repo onto your own personal machine in a place that
is functional and not temporary <em>(e.g. not your downloads folder)</em>.</li>
</ol>
<!-- -->
<pre><code>#hints
cd `Your/Path/Here&#39;
git clone &#39;repo HTTPS&#39;</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Add 2-3 sentences introducing yourself in the <code>_Course-participants</code>
folder. For example:</li>
</ol>
<!-- -->
<pre><code>***
Hi, I&#39;m Dr. Katharyn Duffy.  I have a Ph.D in Earth Science from Northern Arizona University.  Over the past two years I&#39;ve worked as an open-source software engineer in the PhenoCam lab, and now I&#39;m the coding and lab support for your course.  I really look forward to working with all of you!
***</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Submit a <code>pull request</code> to add your introduction to our course
participants folder.</li>
</ol>
<!-- -->
<pre><code>#hints
git add ...
git commit ...
git status....
git push --set-upstream
git remote -v
git remote add upstream...</code></pre>
<p><strong>Note:</strong> <em>You may complete these either on the command line or via a
program like Atom.io. If you haven’t yet made commits to a remote
repository or submitted pull requests please reference the resources
listed above.</em></p>
</div>
</div>
</div>
<div id="why-ecoinformatics" class="section level1 hasAnchor" number="1">
<h1 class="hasAnchor"><span class="header-section-number">1</span> Why ‘EcoInformatics’?<a href="#why-ecoinformatics" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><em>Portions of the following introduction were adapted from <a href="https://www.cell.com/trends/ecology-evolution/fulltext/S0169-5347(11)00339-9">Michener &amp;
Jones 2012, Trends in Ecology &amp; Evolution ’Ecoinformatics: supporting
ecology as a data-intensive
science</a></em></p>
<p>Ecology is increasingly becoming a data-intensive science, relying on
massive amounts of data collected by both remote-sensing platforms and
sensor networks embedded in the environment. New observatory networks,
such as the US National Ecological Observatory Network (NEON), provide
research platforms that enable scientists to examine phenomena across
diverse ecosystem types through access to thousands of sensors
collecting diverse environmental observations. These networks spatially
and temporaly overlap with a number of other networks and
infrastructures ranging from remote sensing, to citizen science, and so
on.</p>
<p>It has been argued that <strong>data-intensive science represents the fourth
scientific paradigm</strong> following the empirical <em>(i.e. description of
natural phenomena)</em>, theoretical <em>(e.g. modeling and generalization)</em>
and computational <em>(e.g. simulation)</em> scientific approaches, and
comprises an approach for unifying theory, experimentation and
simulation.</p>
<p>Ecologists increasingly address questions at broader scales that have
both scientific and societal relevance. For example, the <a href="https://academic.oup.com/bioscience/article/61/4/290/324883">40 top
priorities for science that can inform conservation and management
policy in the
USA</a> rely
principally on a sound foundation of ecological research, and the
ability to scale knowledge and inter-connect data.</p>
<p><img src="images/interconnect_data.png" width="951" /></p>
<blockquote>
<p>Continental-scale patterns and dynamics result from climate and people
as broad-scale drivers interacting with finer-scale vectors that
redistribute materials within and among linked terrestrial and aquatic
systems. Climate and land-use change interact with patterns and
processes at multiple, finer scales (blue arrows). (a) These drivers
can influence broad-scale patterns directly, and these constraints may
act to overwhelm heterogeneity and processes at (b) mesoscales and at
(c) the finer scale of local sites. Broad-scale drivers can also exert
an indirect impact on broad-scale patterns through their interactions
with disturbances, including (d) the spread of invasive species, (e)
pattern–process relationships at meso-scales, or (f) at finer scales
within a site. Connectivity imparted by the transfer of materials
occurs both at (g) the meso-scale and at (h) finer scales within sites
where terrestrial and aquatic systems are connected. These dynamics at
fine scales can propagate to influence larger spatial extents (red
arrows). Feedbacks occur throughout the system. The term “drivers”
refers to both forcing functions that are part of the system and to
external drivers. <a href="https://esajournals.onlinelibrary.wiley.com/doi/pdf/10.1890/070098">Peters et al.,
2008</a></p>
</blockquote>
<p><strong>Ecology is also affected by changes that are occurring throughout
science as a whole.</strong></p>
<p>In particular, scientists, professional societies and research sponsors
are recognizing the value of data as a product of the scientific
enterprise and placing increased emphasis on data stewardship, data
sharing, openness and supporting study repeatability.</p>
<p><img src="images/intro_data.png" width="875" /></p>
<blockquote>
<p>Data on ecological and environmental systems are (A) acquired, checked
for quality, documented using an acquisition workflow, and then both
the raw and derived data products are versioned and deposited in the
DataONE federated data archive (red dashed arrows). Researchers
discover and access data from the federation and then (B) integrate
and process the data in an analysis workflow, resulting in derived
data products, visualizations, and scholarly papers that are in turn
archived in the data federation (red dashed arrows). Other researchers
directly cite any of the versioned data, workflows, and visualizations
that are archived in the DataONE federation. <a href="https://science.sciencemag.org/content/sci/331/6018/703.full.pdf?casa_token=dDumP2G8NpEAAAAA:8Zrx01SOGOQK79my5SKJdsy5buDQAOd_wVclvlq2eFJZ0MWpeUlHQ7zx3ygkfoQOXSyRLhgx0FDO9V4">Richman et al.,
2011</a></p>
</blockquote>
<p><strong>The changes that are occurring in ecology create challenges with
respect to acquiring, managing and analyzing the large volumes of data
that are collected by scientists worldwide.</strong></p>
<p>One challenge that is particularly daunting lies in dealing with the
scope of ecology and the enormous variability in scales that is
encountered, spanning microbial community dynamics, communities of
organisms inhabiting a single plant or square meter, and ecological
processes occurring at the scale of the continent and biosphere. The
diversity in scales studied and the ways in which studies are carried
out results in large numbers of <a href="https://muse.jhu.edu/article/262029/pdf?casa_token=8ysDn-0aPmAAAAAA:kqtGap8fEbZOvCZE_tcp4sjof-RwcLsiNvk0kk4fpx90jv4npnStRQAPQOb4jb9UC-JINBLlCEw">small, idiosyncratic data
sets</a>
that accumulate from the thousands of scientists that collect relevant
biological, ecological and environmental data.</p>
<p><img src="images/data-ontology.png" width="1226" /></p>
<blockquote>
<p>A proposed high-level architecture for ecological and environmental
data management is shown consisting of three primary levels. Data
stored within distributed data repositories (a) is mediated by
standard metadata and ontologies (b) to power software tools used by
scientists and data managers (c). Software applications use
community-endorsed ontologies and metadata standards from the middle
level to provide tools that are more effective for publishing,
querying, integrating and analyzing data. Ontologies are separated
into framework ontologies and domain-specific extensions, enabling
contributions from multiple research groups, disciplines and
individuals. Cross-disciplinary data are maintained in local
repositories, but made accessible to the broader research community
through distributed systems based on shared, open protocols (such as
Metacat). Example repositories include the LTER network, National
Ecological Observatory Network, United States Geographical Survey and
SEEK’s EarthGrid. <a href="https://www.sciencedirect.com/science/article/pii/S0169534708000384?casa_token=b8GX-9jkuLwAAAAA:nQtJlhAUGyZdcokpQLEtho3OfVeDUKhENueO0k8H7dWPmPmXOUFYhGR6sKNtT04rEgJNR_HNlqg">Madin et al.
2008,</a></p>
</blockquote>
<p><strong>Ecoinformatics is a framework</strong> that enables scientists to generate
new knowledge through innovative tools and approaches for:</p>
<ul>
<li>discovering,</li>
<li>managing,</li>
<li>integrating,</li>
<li>analyzing,</li>
<li>visualizing,</li>
<li>and preserving</li>
</ul>
<p>relevant biological, environmental, and socioeconomic data and
information. Many ecoinformatics solutions have been developed <em>over the
past decade</em>, increasing scientists’ efficiency and supporting faster
and easier data discovery, integration and analysis; however, many
challenges remain, especially in relation to installing ecoinformatics
practices into mainstream research and education.</p>
<p>And that, course participants, is why we are here.</p>
<div id="the-framework-of-this-course" class="section level2 hasAnchor" number="1.1">
<h2 class="hasAnchor"><span class="header-section-number">1.1</span> The Framework of this Course<a href="#the-framework-of-this-course" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Over the duration of this course we will survey a wide array of
observation platforms and networks and build hands-on experience with
the framework of Ecoinformatics. For coherance we will cover the
following overarching themes:</p>
<blockquote>
<ol style="list-style-type: decimal">
<li>Each network’s <strong>mission and design</strong></li>
<li>Each network’s <strong>spatial design</strong></li>
</ol>
<ul>
<li>e.g. opprtunistic vs. planned, citizen science vs. orbital sensors</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>The <strong>types of data</strong> that stream from each network</li>
</ol>
<ul>
<li>e.g. sensors, derived products, metadata</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li><strong>How to access that data</strong></li>
</ol>
<ul>
<li>e.g. APIs, landing pages, r packages etc.</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>Opportunities to interact with or contribute to each network</li>
</ol>
<ul>
<li>e.g. RFP’s coming down the pipeline, internships, and
post-doctoral scholar programs.</li>
</ul>
</blockquote>
<p>At the conclusion of each network’s section you will be asked to write a
1-page summary reviewing the above framework for each network, and
highlight how it potentially aligns with your own research. These series
of 1-page summaries will then culminate into a final presentation where
you propose to derive your own data product for your own research
<em>touching upon multiple networks</em> and <em>accounting for differences in
spatial footprints, frequency of observations, and important data
cross-walks</em>.</p>
</div>
<div id="final-course-project-proposed-derived-data-product" class="section level2 hasAnchor" number="1.2">
<h2 class="hasAnchor"><span class="header-section-number">1.2</span> Final Course Project: Proposed Derived Data Product<a href="#final-course-project-proposed-derived-data-product" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For your final project, you will present a <strong>4-6 minute IGNITE-style
derived data product pitch</strong>, followed by <em>2-3 minutes of questions from
your audience</em> (which will include members from the infrastrures we’ve
covered). Think of this project as your <em>‘sales pitch’</em> to the research
infrastructure whose data you are using, and/or the scientific community
as a whole. In the IGNITE theme of <em>‘Enlighten us but make it quick’</em>,
you will construct a series of slides that auto-advance every 30
seconds. Specific instructions for the content of each slide are below.</p>
<p>Ideally, this final presentation will feed upon a number of the
‘culmination write-ups’ you have conducted over the course of the
semester. Ideally, this derived data product will utilize data from a
number of sources, either covered within this course or external to it.
Ideally, it will also convince your audience that your idea is <strong>novel,
useful,</strong> <em>and</em> <strong>possible</strong>.</p>
<p>In order to complete this presentation, you will need to have worked
with the various data products you propose, have an in-depth
understanding of them, and their challenges, along with original, clean,
high-level summary graphics. Further, giving an IGNITE-style
presentation takes practice. IGNITE-style presentations are powerful, as
they keep <em>you</em> moving forward, and give your audience a <em>high-level
understanding</em> of your topic. We fully recommend rehearsing your
presentation <strong>many times</strong> before giving it live and recording yourself
to learn how you can improve.</p>
<p>Here’s an example (of an even faster) ignite talk from one of your
book’s authors:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JOlVcHrtl8M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><strong>In your derived data product pitch you will cover these themes:</strong></p>
<ol style="list-style-type: decimal">
<li><p>The need for the derived data that you are proposing to produce.</p></li>
<li><p>What data you will use to derive this product, including the
justification for this exact data.</p></li>
<li><p>The processing pipeline for this product, along with estimates for a
timeline.</p></li>
<li><p>Potential hurdles you will have to overcome.</p></li>
<li><p>How this product will serve the infrastructure and/or the scientific
community.</p></li>
</ol>
<p><strong>Specific slide criteria are as follows:</strong></p>
<p><strong>Slide 1:</strong> Title, authors (including contacts at infrastructures
covered if applicable)</p>
<p><strong>Slide 2:</strong> Justification for the derived data product; the gap or need
that it fills</p>
<p><strong>Slides 3-x:</strong></p>
<p>1 slide per data product used including:</p>
<ul>
<li><p>The exact data product (e.g. NEON data product id and full title)</p></li>
<li><p>A 1 sentence summary of the data product and its justification for
this purpose</p></li>
<li><p>An original, clean, polished high-level plot, gif or .mp4 of the
data</p></li>
</ul>
<p><strong>Slide x + 1:</strong> A high-level workflow diagram of the processing
pipeline <em>E.g.: Original data and how you pull it in (API, r-package
etc)</em></p>
<ul>
<li><p>Filtering process using QA/QC or metadata</p></li>
<li><p>Orthorectification in time or space</p></li>
</ul>
<p>Example generated using <a href="https://app.diagrams.net/">draw.io</a>:</p>
<p><img src="images/APIS_usecase2_v2%20(4).png" width="492" /></p>
<p><strong>Slide x + 2:</strong> A clean plot of all of the data you mentioned together,
and/or the derived data product itself with a 1 sentence summary</p>
<p>Example:</p>
<p><img src="images/mased_APIS_2.png" width="5252" /></p>
<p><strong>Slide x+3:</strong> Summary: Circle back on how this derived data product
serves your research, the infrastructure, and the wider science
community (no more than 10 words, suggestion: graphics or bullet points)</p>
<p><strong>Slide x + 4:</strong> Data citations for all data used in proposed derived
data product</p>
<p><strong>An example slide deck with specific ideas</strong> <a href="https://docs.google.com/presentation/d/16vRomNXmdyGrKQ_bdsGaOfbbU-CW_ZGi5-MPhzDBclY/edit?usp=sharing"><strong>can be found
here</strong></a></p>
<p><strong>The rubric for your final presentation grade is as follows:</strong></p>
<p>Presentation meets all requirements and criteria: 60%</p>
<p>Aesthetics and craft of presentation: 10%</p>
<p>Live presentation of materials: 30%</p>
<!--chapter:end:01_Pre-Course_Skills.Rmd-->
</div>
</div>
<div id="introduction-to-neon-its-data" class="section level1 hasAnchor" number="2">
<h1 class="hasAnchor"><span class="header-section-number">2</span> Introduction to NEON &amp; its Data<a href="#introduction-to-neon-its-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>Estimated Time: 2 hours</p>
</blockquote>
<p><strong>Course participants</strong>: As you review this information, please consider
the final course project that you will work on the over this semester.
At the end of this section you will document an initial research
question, or idea and associated data needed to address that question,
that you may want to explore while pursuing this course.</p>
<div id="learning-objectives" class="section level2 hasAnchor" number="2.1">
<h2 class="hasAnchor"><span class="header-section-number">2.1</span> Learning Objectives<a href="#learning-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At the end of this activity, you will be able to:</p>
<ul>
<li>Explain the mission of the National Ecological Observatory Network
(NEON).</li>
<li>Explain the how sites are located within the NEON project design.</li>
<li>Determine how the different types of data that are collected and
provided by NEON, and how they align with your own research.</li>
<li>Pull NEON data from the API and <code>neonUtilities</code> package
<span class="citation">[@R-neonUtilites]</span></li>
</ul>
</div>
<div id="the-neon-project-mission-design" class="section level2 hasAnchor" number="2.2">
<h2 class="hasAnchor"><span class="header-section-number">2.2</span> The NEON Project Mission &amp; Design<a href="#the-neon-project-mission-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To capture ecological heterogeneity across the United States, <a href="https://www.neonscience.org/neon-project-science-brochure">NEON’s
design</a>
divides the continent into 20 statistically different eco-climatic
domains. Each NEON field site is located within an eco-climatic domain.</p>
</div>
<div id="the-science-and-design-of-neon" class="section level2 hasAnchor" number="2.3">
<h2 class="hasAnchor"><span class="header-section-number">2.3</span> The Science and Design of NEON<a href="#the-science-and-design-of-neon" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To gain a better understanding of the broad scope of NEON watch this
4:08 minute long video.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/39YrzpxVRF8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
</iframe>
</div>
<div id="neons-spatial-design" class="section level2 hasAnchor" number="2.4">
<h2 class="hasAnchor"><span class="header-section-number">2.4</span> NEON’s Spatial Design<a href="#neons-spatial-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Watch this 4:22 minute video exploring the spatial design of NEON field
sites.</p>
<iframe width="640" height="360" src="https://www.youtube.com/embed/zYr9vII-iu4" frameborder="0" allowfullscreen>
</iframe>
<p>Please read the following page about NEON’s Spatial Design:</p>
<ul>
<li><p><a href="https://www.neonscience.org/observatory/observatory-blog/primer-neon-sampling-design" target="_blank">
Read this primer on NEON’s Sampling Design</a></p></li>
<li><p><a href="https://www.neonscience.org/field-sites/spatiotemporal-design" target="_blank">
Read about the different types of field sites - core and
relocatable</a></p></li>
</ul>
<div id="neon-samples-all-20-eco-regions" class="section level3 hasAnchor" number="2.4.1">
<h3 class="hasAnchor"><span class="header-section-number">2.4.1</span> NEON Samples All 20 Eco-Regions<a href="#neon-samples-all-20-eco-regions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Explore the NEON Field Site map taking note of the locations of:</p>
<ol style="list-style-type: decimal">
<li>Aquatic &amp; terrestrial field sites.</li>
<li>Core &amp; relocatable field sites.</li>
</ol>
<p><a class="link--button link--arrow" href="https://www.neonscience.org/field-sites/field-sites-map" target="_blank">
Click here to view the NEON Field Site Map</a></p>
<p>Explore the NEON field site map. Do the following:</p>
<ul>
<li>Zoom in on a study area of interest to see if there are any NEON
field sites that are nearby.</li>
<li>Click the “More” button in the <strong>upper right hand</strong> corner of the
map to filter sites by name, site host, domain or state.</li>
<li>Select one field site of interest.
<ul>
<li>Click on the marker in the map.</li>
<li>Then click on the name of the field site to jump to the field
site landing page.</li>
</ul></li>
</ul>
<div id="ds-dataTip" markdown="1">
<p><i class="fa fa-star"></i> <strong>Data Tip:</strong> You can download
<a href="https://www.neonscience.org/data/maps-spatial-data" target="_blank">maps,
kmz, or shapefiles of the field sites here</a>.</p>
</div>
</div>
</div>
<div id="how-neon-collects-data" class="section level2 hasAnchor" number="2.5">
<h2 class="hasAnchor"><span class="header-section-number">2.5</span> How NEON Collects Data<a href="#how-neon-collects-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Watch this 3:06 minute video exploring the data that NEON collects.
<iframe width="640" height="360" src="https://www.youtube.com/embed/9IbbdQC1N3A" frameborder="0" allowfullscreen></iframe></p>
<p>Read the
<a href="https://www.neonscience.org/data-collection" target="_blank">
Data Collection Methods</a> page to learn more about the different types
of data that NEON collects and provides. Then, follow the links below to
learn more about each collection method:</p>
<ul>
<li><a href="https://www.neonscience.org/data-collection/aquatic-observations" target="_blank">Aquatic
Observation System (AOS) </a></li>
<li><a href="https://www.neonscience.org/data-collection/aquatic-sensor-measurements" target="_blank">Aquatic
Instrument System (AIS) </a></li>
<li><a href="https://www.neonscience.org/data-collection/flux-tower-measurements" target="_blank">
Terrestrial Instrument System (TIS) – Flux Tower </a></li>
<li><a href="https://www.neonscience.org/data-collection/soil-sensors-measurements" target="_blank">
Terrestrial Instrument System (TIS) – Soil Sensors and Measurements
</a></li>
<li><a href="https://www.neonscience.org/data-collection/terrestrial-organismal-sampling" target="_blank">
Terrestrial Organismal System (TOS) </a></li>
<li><a href="https://www.neonscience.org/data-collection/airborne-remote-sensing" target="_blank">
Airborne Observation Platform (AOP) </a></li>
</ul>
<p>All data collection protocols and processing documents are publicly
available. Read more about
<a href="https://www.neonscience.org/data-collection/protocols-standardized-methods" target="_blank">the
standardized protocols and how to access these documents</a>.</p>
<div id="specimens-samples" class="section level3 hasAnchor" number="2.5.1">
<h3 class="hasAnchor"><span class="header-section-number">2.5.1</span> Specimens &amp; Samples<a href="#specimens-samples" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>NEON also collects samples and specimens from which the other data
products are based. These samples are also available for research and
education purposes. Learn more:
<a href="https://www.neonscience.org/data/archival-samples/archival-samples-catalog" target="_blank">
NEON Biorepository</a>.</p>
</div>
<div id="airborne-remote-sensing" class="section level3 hasAnchor" number="2.5.2">
<h3 class="hasAnchor"><span class="header-section-number">2.5.2</span> Airborne Remote Sensing<a href="#airborne-remote-sensing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Watch this 4:02 minute video to better understand the NEON Airborne
Observation Platform (AOP).</p>
<iframe width="560" height="315" src="https://www.youtube.com/watch?v=etnU4xFMTQo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
</iframe>
<div markdown="1">
<p><i class="fa fa-star"></i> <strong>Data Tip:</strong> NEON also provides support to
your own research including proposals to fly the AOP over other study
sites, a mobile tower/instrumentation setup and others. Learn more here
the
<a href="https://www.neonscience.org/opportunities/assignable-assets" target="_blank">Assignable
Assets programs </a>.</p>
</div>
</div>
</div>
<div id="accessing-neon-data" class="section level2 hasAnchor" number="2.6">
<h2 class="hasAnchor"><span class="header-section-number">2.6</span> Accessing NEON Data<a href="#accessing-neon-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>NEON data are processed and go through quality assurance quality control
checks at NEON headquarters in Boulder, CO. NEON carefully documents
every aspect of sampling design, data collection, processing and
delivery. This documentation is freely available through the NEON data
portal.</p>
<ul>
<li>Visit the
<a href="http://data.neonscience.org/home" target="_blank">NEON Data
Portal - data.neonscience.org </a></li>
<li>Read more about the
<a href="https://www.neonscience.org/data/data-processing" target="_blank">quality
assurance and quality control processes for NEON data</a> and how
the data are processed from raw data to higher level data products.</li>
<li><a href="http://data.neonscience.org/data-products/explore" target="_blank">Explore
NEON Data Products</a>. On the page for each data product in the
catalog you can find the basic information about the product, find
the data collection and processing protocols, and link directly to
downloading the data.</li>
<li>Additionally, some types of NEON data are also available through the
data portals of other organizations. For example,
<a href="http://www.ibol.org/dna-barcodes-for-neons-terrestrial-insects/" target="_blank">
NEON Terrestrial Insect DNA Barcoding Data</a> is available through
the
<a href="http://www.boldsystems.org/index.php/databases" target="_blank">
Barcode of Life Datasystem (BOLD)</a>. Or NEON phenocam images are
available from the
<a href="https://phenocam.sr.unh.edu/webcam/network/search/?sitename=neon&type=&primary_vegtype=&dominant_species=&active=1&fluxdata=1" target="_blank">Phenocam
network site</a>. More details on where else the data are available
from can be found in the Availability and Download section on the
Product Details page for each data product (visit
<a href="http://data.neonscience.org/data-products/explore" target="_blank">Explore
Data Products</a> to access individual Product Details pages).</li>
</ul>
<div id="pathways-to-access-neon-data" class="section level3 hasAnchor" number="2.6.1">
<h3 class="hasAnchor"><span class="header-section-number">2.6.1</span> Pathways to access NEON Data<a href="#pathways-to-access-neon-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are several ways to access data from NEON:</p>
<ol style="list-style-type: decimal">
<li>Via the
<a href="http://data.neonscience.org/home" target="_blank">NEON data
portal</a>. Explore and download data. Note that much of the tabular
data is available in zipped .csv files for each month and site of
interest. To combine these files, use the neonUtilities package
(<a href="https://www.neonscience.org/neonDataStackR" target="_blank">R
tutorial</a>,
<a href="https://www.neonscience.org/neon-utilities-python" target="_blank">Python
tutorial</a>).<br />
</li>
<li>Use R or Python to programmatically access the data. NEON and
community members have created code packages to directly access the
data through an API. Learn more about the available resources by
reading the
<a href="https://www.neonscience.org/data/code-resources" target="_blank">Code
Resources page</a> or visiting the
<a href="https://github.com/NEONScience" target="_blank">NEONScience
GitHub repo</a>.<br />
</li>
<li>Using the
<a href="http://data.neonscience.org/data-api" target="_blank">NEON
API</a>. Access NEON data directly using a custom API call.</li>
<li>Access NEON data through partner’s portals. Where NEON data directly
overlap with other community resources, NEON data can be accessed
through the portals. Examples include Phenocam, BOLD, Ameriflux, and
others. You can learn more in the documentation for individual data
products.</li>
</ol>
</div>
</div>
<div id="hands-on-accessing-neon-data-user-tokens" class="section level2 hasAnchor" number="2.7">
<h2 class="hasAnchor"><span class="header-section-number">2.7</span> Hands on: Accessing NEON Data &amp; User Tokens<a href="#hands-on-accessing-neon-data-user-tokens" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="via-the-neon-api-with-your-user-token" class="section level3 hasAnchor" number="2.7.1">
<h3 class="hasAnchor"><span class="header-section-number">2.7.1</span> Via the NEON API, with your User Token<a href="#via-the-neon-api-with-your-user-token" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>NEON data can be downloaded from either the NEON Data Portal or the NEON
API. When downloading from the Data Portal, you can create a user
account. Read about the benefits of an account on the
<a href="https://www.neonscience.org/data/about-data/data-portal-user-accounts" target="_blank">User
Account page</a>. You can also use your account to create a token for
using the API. Your token is unique to your account, so don’t share it.</p>
<p>While using a token is optional in general, it is required for this
course. Using a token when downloading data via the API, including when
using the neonUtilities package, links your downloads to your user
account, as well as enabling faster download speeds. For more
information about token usage and benefits, see the
<a href="https://data.neonscience.org/data-api" target="_blank">NEON API
documentation</a> page.</p>
<p>For now, in addition to faster downloads, using a token helps NEON to
track data downloads. Using <strong>anonymized</strong> user information, they can
then calculate data access statistics, such as which data products are
downloaded most frequently, which data products are downloaded in groups
by the same users, and how many users in total are downloading data.
This information helps NEON to evaluate the growth and reach of the
observatory, and to advocate for training activities, workshops, and
software development.</p>
<p>Tokens can (and should) be used whenever you use the NEON API. In this
tutorial, we’ll focus on using tokens with the neonUtilities R package.</p>
</div>
<div id="ds-objectives" markdown="1">
<div id="objectives" class="section level3 hasAnchor" number="2.7.2">
<h3 class="hasAnchor"><span class="header-section-number">2.7.2</span> Objectives<a href="#objectives" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After completing this section, you will be able to:</p>
<ul>
<li>Create a NEON API token</li>
<li>Use your token when downloading data with neonUtilities</li>
</ul>
</div>
<div id="things-youll-need-to-complete-this-tutorial" class="section level3 hasAnchor" number="2.7.3">
<h3 class="hasAnchor"><span class="header-section-number">2.7.3</span> Things You’ll Need To Complete This Tutorial<a href="#things-youll-need-to-complete-this-tutorial" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You will need a version of R (3.4.1 or higher) and <code>RStudio</code> loaded on
your computer.</p>
</div>
<div id="install-r-packages" class="section level3 hasAnchor" number="2.7.4">
<h3 class="hasAnchor"><span class="header-section-number">2.7.4</span> Install R Packages<a href="#install-r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><strong>neonUtilities:</strong> <code>install.packages("neonUtilities")</code></li>
</ol>
</div>
<div id="additional-resources" class="section level2 hasAnchor" number="2.8">
<h2 class="hasAnchor"><span class="header-section-number">2.8</span> Additional Resources<a href="#additional-resources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol start="2" style="list-style-type: decimal">
<li>NEON <a href="http://data.neonscience.org" target="_blank"> Data
Portal </a></li>
<li><a href="https://github.com/NEONScience" target="_blank">NEONScience
GitHub Organization</a></li>
<li><a href="https://www.neonscience.org/neonDataStackR" target="_blank">neonUtilities
tutorial</a></li>
</ol>
</div>
</div>
<p>If you’ve never downloaded NEON data using the neonUtilities package
before, we recommend starting with the
<a href="https://www.neonscience.org/download-explore-neon-data" target="_blank">Download
and Explore tutorial</a> before proceeding with this tutorial.</p>
<p>In the next sections, we’ll get an API token from the NEON Data Portal,
and then use it in neonUtilities when downloading data.</p>
<div id="get-a-neon-api-token" class="section level3 hasAnchor" number="2.8.1">
<h3 class="hasAnchor"><span class="header-section-number">2.8.1</span> Get a NEON API Token<a href="#get-a-neon-api-token" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first step is create a NEON user account, if you don’t have one.
Follow the instructions on the
<a href="https://www.neonscience.org/data/about-data/data-portal-user-accounts" target="_blank">Data
Portal User Accounts</a> page. If you do already have an account, go to
<a href="https://data.neonscience.org/home" target="_blank">the NEON
Data Portal</a>, sign in, and go to your My Account profile page.</p>
<p>Once you have an account, you can create an API token for yourself. At
the bottom of the My Account page, you should see this bar:</p>
<p><img src="images/get-api-token-button.png" width="600" /></p>
<p>Click the ‘GET API TOKEN’ button. After a moment, you should see this:</p>
<p><img src="images/account-page-token-view.png" width="602" /></p>
<p>Click on the Copy button to copy your API token to the clipboard.</p>
</div>
<div id="use-the-api-token-in-neonutilities" class="section level3 hasAnchor" number="2.8.2">
<h3 class="hasAnchor"><span class="header-section-number">2.8.2</span> Use the API token in neonUtilities<a href="#use-the-api-token-in-neonutilities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the next section, we’ll walk through saving your token somewhere
secure but accessible to your code. But first let’s try out using the
token the easy way.</p>
<p>First, we need to load the <code>neonUtilities</code> package and set the working
directory:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install neonUtilities - can skip if already installed, but</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># API tokens are only enabled in neonUtilities v1.3.4 and higher</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># if your version number is lower, re-install</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;neonUtilities&quot;</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># load neonUtilities</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neonUtilities)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># set working directory</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>wd <span class="ot">&lt;-</span> <span class="st">&quot;~/data&quot;</span> <span class="co"># this will depend on your local machine</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(wd)</span></code></pre></div>
<p>NEON API tokens are very long, so it would be annoying to keep pasting
the entire text string into functions. Assign your token an object name:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>NEON_TOKEN <span class="ot">&lt;-</span> <span class="st">&quot;PASTE YOUR TOKEN HERE&quot;</span></span></code></pre></div>
<p>Now we’ll use the <code>loadByProduct()</code> function to download data. Your API
token is entered as the optional <code>token</code> input parameter. For this
example, we’ll download Plant foliar traits (DP1.10026.001).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>foliar <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP1.10026.001&quot;</span>, <span class="at">site=</span><span class="st">&quot;all&quot;</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">package=</span><span class="st">&quot;expanded&quot;</span>, <span class="at">check.size=</span>F,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">token=</span>NEON_TOKEN)</span></code></pre></div>
<p>You should now have data saved in the <code>foliar</code> object; the API silently
used your token. If you’ve downloaded data without a token before, you
may notice this is faster!</p>
<p>This format applies to all <code>neonUtilities</code> functions that involve
downloading data or otherwise accessing the API; you can use the <code>token</code>
input with all of them. For example, when downloading remote sensing
data:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>chm <span class="ot">&lt;-</span> <span class="fu">byTileAOP</span>(<span class="at">dpID=</span><span class="st">&quot;DP3.30015.001&quot;</span>, <span class="at">site=</span><span class="st">&quot;WREF&quot;</span>, </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">year=</span><span class="dv">2017</span>, <span class="at">check.size=</span>F,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">easting=</span><span class="fu">c</span>(<span class="dv">571000</span>,<span class="dv">578000</span>), </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">northing=</span><span class="fu">c</span>(<span class="dv">5079000</span>,<span class="dv">5080000</span>), </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">savepath=</span>wd,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">token=</span>NEON_TOKEN)</span></code></pre></div>
</div>
<div id="token-management-for-open-code" class="section level3 hasAnchor" number="2.8.3">
<h3 class="hasAnchor"><span class="header-section-number">2.8.3</span> Token management for open code<a href="#token-management-for-open-code" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Your API token is unique to your account, so don’t share it!</p>
<p>If you’re writing code that will be shared with colleagues or available
publicly, such as in a GitHub repository or supplemental materials of a
published paper, you can’t include the line of code above where we
assigned your token to <code>NEON_TOKEN</code>, since your token is fully visible
in the code there. Instead, you’ll need to save your token locally on
your computer, and pull it into your code without displaying it. There
are a few ways to do this, we’ll show two options here.</p>
<ul>
<li><p>Option 1: Save the token in a local file, and <code>source()</code> that file
at the start of every script. This is fairly simple but requires a
line of code in every script.</p></li>
<li><p>Option 2: Add the token to a <code>.Renviron</code> file to create an
environment variable that gets loaded when you open R. This is a
little harder to set up initially, but once it’s done, it’s done
globally, and it will work in every script you run.</p></li>
</ul>
<div id="option-1-save-token-in-a-local-file" class="section level4 hasAnchor" number="2.8.3.1">
<h4 class="hasAnchor"><span class="header-section-number">2.8.3.1</span> Option 1: Save token in a local file<a href="#option-1-save-token-in-a-local-file" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Open a new, empty R script (.R). Put a single line of code in the
script:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>NEON_TOKEN <span class="ot">&lt;-</span> <span class="st">&quot;PASTE YOUR TOKEN HERE&quot;</span></span></code></pre></div>
<p>Save this file within your current R project and call the file
<code>neon_token_source.R</code>. So that you don’t accidently push your token up
to GitHub, move over to the command line or Atom.io and add it to your
<code>.gitignore</code> file:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&#39;./docs/images/git_ignore.png&#39;</span>)</span></code></pre></div>
<p><img src="docs/images/git_ignore.png" width="622" /></p>
<p>Now, whenever you want to pull NEON data via the API, at the start of
any analysis you would place this line of code:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;neon_token_source.R&#39;</span>)</span></code></pre></div>
<p>Then you’ll be able to use <code>token=NEON_TOKEN</code> when you run
<code>neonUtilities</code> functions, and you can share your code without
accidentally sharing your token.</p>
</div>
<div id="option-2-save-your-toekn-to-your-r-environment" class="section level4 hasAnchor" number="2.8.3.2">
<h4 class="hasAnchor"><span class="header-section-number">2.8.3.2</span> Option 2: Save your toekn to your R environment<a href="#option-2-save-your-toekn-to-your-r-environment" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Instructions for finding and editing your .Renviron can be found in this
tutorial in <a href="https://www.neonscience.org/neon-api-tokens-tutorial">NEON’s Data Tutorials
section.</a></p>
</div>
</div>
</div>
<div id="hands-on-neon-tos-data" class="section level2 hasAnchor" number="2.9">
<h2 class="hasAnchor"><span class="header-section-number">2.9</span> Hands on: NEON TOS Data<a href="#hands-on-neon-tos-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="pull-in-tree-data-from-neons-tos-and-investigate-relationships" class="section level3 hasAnchor" number="2.9.1">
<h3 class="hasAnchor"><span class="header-section-number">2.9.1</span> Pull in Tree Data from NEON’s TOS and investigate relationships<a href="#pull-in-tree-data-from-neons-tos-and-investigate-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<blockquote>
<p>Adapted from <a href="https://www.neonscience.org/tree-heights-veg-structure-chm">Claire Lunch’s ‘Compare tree height measured from the
ground to a Lidar-based Canopy Height
Model’</a>
tutorial</p>
</blockquote>
<p>Later in this course we will be working with NEON’s LiDAR-based Canopy
Height Model (CHM) data from their extensive Airborne Observation
Platform (AOP). In this section we will pull in <strong>DP1.10098.001, Woody
plant vegetation structure</strong> from NEON’s Terrestrial Observation
Sampling (TOS) data and explore the data, from requesting it to plotting
it.</p>
<p><img src="docs/images/NEON_TOS_Sampling.png" width="1078" /></p>
<blockquote>
<p>Generalized TOS sampling schematic, showing the placement of
Distributed, Tower, and Gradient Plots from the <a href="https://www.google.com/url?sa=i&amp;url=http%3A%2F%2Fdata.neonscience.org%2Fapi%2Fv0%2Fdocuments%2FNEON_vegStructure_userGuide_vA&amp;psig=AOvVaw32PujoEegMkzIWVuL_Scwn&amp;ust=1597765301177000&amp;source=images&amp;cd=vfe&amp;ved=0CA0QjhxqFwoTCOjFiN_JousCFQAAAAAdAAAAABAU">NEON GUIDE TO WOODY
PLANT VEGETATION STRUCTURE,
2018</a></p>
</blockquote>
<p>The <a href="https://data.neonscience.org/data-products/DP1.10098.001">vegetation structure
data</a> are
collected by by field staff on the ground. This data product contains
the quality-controlled, native sampling resolution data from in-situ
measurements of live and standing dead woody individuals and shrub
groups, from all terrestrial NEON sites with qualifying woody
vegetation. The exact measurements collected per individual depend on
growth form, and these measurements are focused on enabling biomass and
productivity estimation, estimation of shrub volume and biomass, and
calibration / validation of multiple NEON airborne remote-sensing data
products. In general, comparatively large individuals that are visible
to remote-sensing instruments are mapped, tagged and measured, and other
smaller individuals are tagged and measured but not mapped. Smaller
individuals may be subsampled according to a nested subplot approach in
order to standardize the per plot sampling effort. Structure and mapping
data are reported per individual per plot; sampling metadata, such as
per growth form sampling area, are reported per plot.</p>
<p><img src="docs/images/NEON_woody_sampling.png" width="1039" /></p>
<blockquote>
<p>Illustration of a 20 m x 20 m Distributed/Gradient/Tower base plot
(left), a 40 m x 40 m Tower base plot (right), and associated nested
subplots used for measuring woody stem vegetation. Locations of
subplots are denoted with plain text numbers, and locations of nested
subplots are denoted with italic numbers from the <a href="https://www.google.com/url?sa=i&amp;url=http%3A%2F%2Fdata.neonscience.org%2Fapi%2Fv0%2Fdocuments%2FNEON_vegStructure_userGuide_vA&amp;psig=AOvVaw32PujoEegMkzIWVuL_Scwn&amp;ust=1597765301177000&amp;source=images&amp;cd=vfe&amp;ved=0CA0QjhxqFwoTCOjFiN_JousCFQAAAAAdAAAAABAU">NEON GUIDE TO WOODY
PLANT VEGETATION STRUCTURE,
2018</a></p>
</blockquote>
<p>For the purpose of this hands-on activity we will be using data from the
Wind River Experimental Forest NEON field site located in Washington
state. The predominant vegetation at that site is tall evergreen
conifers.</p>
<p><em>Note: this is also a core site for many other networks such as
<a href="https://ameriflux.lbl.gov/sites/siteinfo/US-Wrc">AmeriFlux and
FLUXNET</a>, which we will
cover later</em>.</p>
<p><img src="images/DSC_0385-scaled-photo-gallery-680x1024.jpg" width="340" /></p>
<blockquote>
<p>Image of the Wind River Crane Flux Tower from
<a href="https://ameriflux.lbl.gov/sites/siteinfo/US-Wrc">Ameriflux</a></p>
</blockquote>
<p>Let’s begin by:</p>
<ol style="list-style-type: decimal">
<li>Installing the <code>geoNEON</code> package</li>
<li>Making sure that the packages that we need are loaded, and</li>
<li>Supressing ‘strings as factors’ in R, as factors make all sorts of
functions in R ‘cranky’.</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors=</span>F)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;devtools&quot;) #uncomment if you don&#39;t yet have devtools</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#devtools::install_github(&quot;NEONScience/NEON-geolocation/geoNEON&quot;)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neonUtilities)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geoNEON)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)</span></code></pre></div>
<p>Now lets begin by pulling in the <strong>vegetation structure data</strong> using the
<code>loadByProduct()</code> function in the <code>neonUtilities</code> package. Inputs needed
to the function are:</p>
<ul>
<li><p>dpID: data product ID; (woody vegetation structure = DP1.10098.001</p></li>
<li><p>site: 4-letter site code; Wind River = WREF</p></li>
<li><p>package: basic or expanded; we’ll begin with a <code>basic</code> here</p></li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>veglist <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP1.10098.001&quot;</span>, <span class="at">site=</span><span class="st">&quot;WREF&quot;</span>, <span class="at">package=</span><span class="st">&quot;basic&quot;</span>, <span class="at">check.size=</span><span class="cn">FALSE</span>, <span class="at">token =</span> NEON_TOKEN)</span></code></pre></div>
<pre><code>## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |=================================                                     |  47%
  |                                                                            
  |=====================================                                 |  53%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 18.79386 MB
## Downloading 15 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |===============                                                       |  21%
  |                                                                            
  |====================                                                  |  29%
  |                                                                            
  |=========================                                             |  36%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=============================================                         |  64%
  |                                                                            
  |==================================================                    |  71%
  |                                                                            
  |=======================================================               |  79%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |======================================================================| 100%
## 
## Unpacking zip files using 1 cores.
## Stacking operation across a single core.
## Stacking table vst_apparentindividual
## Stacking table vst_mappingandtagging
## Stacking table vst_perplotperyear
## Stacking table vst_non-woody
## Copied the most recent publication of validation file to /stackedFiles
## Copied the most recent publication of categoricalCodes file to /stackedFiles
## Copied the most recent publication of variable definition file to /stackedFiles
## Finished: Stacked 4 data tables and 4 metadata tables!
## Stacking took 0.711849 secs</code></pre>
<p>Now, use the <code>getLocTOS()</code> function in the <code>geoNEON</code> package to get
precise locations for the tagged plants. You can refer to the package
documentation for more details.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>vegmap <span class="ot">&lt;-</span> <span class="fu">getLocTOS</span>(veglist<span class="sc">$</span>vst_mappingandtagging, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;vst_mappingandtagging&quot;</span>)</span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |                                                                      |   1%
  |                                                                            
  |=                                                                     |   1%
  |                                                                            
  |=                                                                     |   2%
  |                                                                            
  |==                                                                    |   2%
  |                                                                            
  |==                                                                    |   3%
  |                                                                            
  |===                                                                   |   4%
  |                                                                            
  |====                                                                  |   5%
  |                                                                            
  |====                                                                  |   6%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |=====                                                                 |   8%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |======                                                                |   9%
  |                                                                            
  |=======                                                               |   9%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |=======                                                               |  11%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |========                                                              |  12%
  |                                                                            
  |=========                                                             |  12%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |==========                                                            |  15%
  |                                                                            
  |===========                                                           |  16%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |============                                                          |  18%
  |                                                                            
  |=============                                                         |  18%
  |                                                                            
  |=============                                                         |  19%
  |                                                                            
  |==============                                                        |  19%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |==============                                                        |  21%
  |                                                                            
  |===============                                                       |  21%
  |                                                                            
  |===============                                                       |  22%
  |                                                                            
  |================                                                      |  22%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |=================                                                     |  24%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |==================                                                    |  26%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |===================                                                   |  28%
  |                                                                            
  |====================                                                  |  28%
  |                                                                            
  |====================                                                  |  29%
  |                                                                            
  |=====================                                                 |  29%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |=====================                                                 |  31%
  |                                                                            
  |======================                                                |  31%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |=======================                                               |  32%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |========================                                              |  34%
  |                                                                            
  |========================                                              |  35%
  |                                                                            
  |=========================                                             |  36%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |==========================                                            |  38%
  |                                                                            
  |===========================                                           |  38%
  |                                                                            
  |===========================                                           |  39%
  |                                                                            
  |============================                                          |  39%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |============================                                          |  41%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |==============================                                        |  42%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |================================                                      |  45%
  |                                                                            
  |================================                                      |  46%
  |                                                                            
  |=================================                                     |  47%
  |                                                                            
  |=================================                                     |  48%
  |                                                                            
  |==================================                                    |  48%
  |                                                                            
  |==================================                                    |  49%
  |                                                                            
  |===================================                                   |  49%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |===================================                                   |  51%
  |                                                                            
  |====================================                                  |  51%
  |                                                                            
  |====================================                                  |  52%
  |                                                                            
  |=====================================                                 |  52%
  |                                                                            
  |=====================================                                 |  53%
  |                                                                            
  |======================================                                |  54%
  |                                                                            
  |======================================                                |  55%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |========================================                              |  58%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |==========================================                            |  59%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |==========================================                            |  61%
  |                                                                            
  |===========================================                           |  61%
  |                                                                            
  |===========================================                           |  62%
  |                                                                            
  |============================================                          |  62%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |=============================================                         |  64%
  |                                                                            
  |==============================================                        |  65%
  |                                                                            
  |==============================================                        |  66%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |===============================================                       |  68%
  |                                                                            
  |================================================                      |  68%
  |                                                                            
  |================================================                      |  69%
  |                                                                            
  |=================================================                     |  69%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |=================================================                     |  71%
  |                                                                            
  |==================================================                    |  71%
  |                                                                            
  |==================================================                    |  72%
  |                                                                            
  |===================================================                   |  72%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  74%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |=====================================================                 |  76%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |======================================================                |  78%
  |                                                                            
  |=======================================================               |  78%
  |                                                                            
  |=======================================================               |  79%
  |                                                                            
  |========================================================              |  79%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |========================================================              |  81%
  |                                                                            
  |=========================================================             |  81%
  |                                                                            
  |=========================================================             |  82%
  |                                                                            
  |==========================================================            |  82%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |===========================================================           |  84%
  |                                                                            
  |============================================================          |  85%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |=============================================================         |  88%
  |                                                                            
  |==============================================================        |  88%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |===============================================================       |  89%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |===============================================================       |  91%
  |                                                                            
  |================================================================      |  91%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |=================================================================     |  92%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |==================================================================    |  94%
  |                                                                            
  |==================================================================    |  95%
  |                                                                            
  |===================================================================   |  96%
  |                                                                            
  |====================================================================  |  97%
  |                                                                            
  |====================================================================  |  98%
  |                                                                            
  |===================================================================== |  98%
  |                                                                            
  |===================================================================== |  99%
  |                                                                            
  |======================================================================|  99%
  |                                                                            
  |======================================================================| 100%</code></pre>
<p>Now we need to merge the mapped locations of individuals (the
<code>vst_mappingandtagging table</code>) with the annual measurements of height,
diameter, etc (the <code>vst_apparentindividual table</code>). The two tables join
based on <em>individualID</em>, the identifier for each tagged plant, but we’ll
include namedLocation, domainID, siteID, and plotID in the list of
variables to merge on, to avoid ending up with duplicates of each of
those columns. Refer to the variables table and to the Data Product User
Guide for Woody plant vegetation structure for more information about
the contents of each data table.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>veg <span class="ot">&lt;-</span> <span class="fu">merge</span>(veglist<span class="sc">$</span>vst_apparentindividual, vegmap, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;individualID&quot;</span>,<span class="st">&quot;namedLocation&quot;</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;domainID&quot;</span>,<span class="st">&quot;siteID&quot;</span>,<span class="st">&quot;plotID&quot;</span>))</span></code></pre></div>
<p>What did you just pull in? Are you sure you know what you’re working
with? A <strong>best practice</strong> is to <em>always</em> do a quick visualization to
make sure that you have the right data and that you understand its
spread:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(veg<span class="sc">$</span>adjEasting[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>        veg<span class="sc">$</span>adjNorthing[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">circles=</span>veg<span class="sc">$</span>stemDiameter[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)]<span class="sc">/</span><span class="dv">100</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">inches=</span>F, <span class="at">xlab=</span><span class="st">&quot;Easting&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Northing&quot;</span>)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>A key component of any measurement, and therefore a reoccuring theme in
this course, is an <strong>estimate of uncertainty</strong>. Let’s overlay estimates
of uncertainty for the location of each stem in blue:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(veg<span class="sc">$</span>adjEasting[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>        veg<span class="sc">$</span>adjNorthing[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">circles=</span>veg<span class="sc">$</span>stemDiameter[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)]<span class="sc">/</span><span class="dv">100</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">inches=</span>F, <span class="at">xlab=</span><span class="st">&quot;Easting&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Northing&quot;</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(veg<span class="sc">$</span>adjEasting[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        veg<span class="sc">$</span>adjNorthing[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">circles=</span>veg<span class="sc">$</span>adjCoordinateUncertainty[<span class="fu">which</span>(veg<span class="sc">$</span>plotID<span class="sc">==</span><span class="st">&quot;WREF_075&quot;</span>)], </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">inches=</span>F, <span class="at">add=</span>T, <span class="at">fg=</span><span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
</div>
<div id="intro-to-neon-exercises-part-1" class="section level2 hasAnchor" number="2.10">
<h2 class="hasAnchor"><span class="header-section-number">2.10</span> Intro to NEON Exercises Part 1<a href="#intro-to-neon-exercises-part-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="exercise-2.1-neon-coding-lab---tos-vegetation-structure" class="section level3 hasAnchor" number="2.10.1">
<h3 class="hasAnchor"><span class="header-section-number">2.10.1</span> Exercise 2.1: NEON Coding Lab - TOS Vegetation Structure<a href="#exercise-2.1-neon-coding-lab---tos-vegetation-structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="part-1-sign-up-for-and-use-an-neon-api-token" class="section level4 hasAnchor" number="2.10.1.1">
<h4 class="hasAnchor"><span class="header-section-number">2.10.1.1</span> Part 1: Sign up for and Use an NEON API Token:<a href="#part-1-sign-up-for-and-use-an-neon-api-token" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li>Submit via .Rmd and .pdf a simple script that uses a <em>HIDDEN</em> token
to access NEON data.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;neon_token_source.R&#39;</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>veglist <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP1.10098.001&quot;</span>, <span class="at">site=</span><span class="st">&quot;WREF&quot;</span>, <span class="at">package=</span><span class="st">&quot;basic&quot;</span>, <span class="at">check.size=</span><span class="cn">FALSE</span>, <span class="at">token =</span> NEON_TOKEN)</span></code></pre></div>
<pre><code>## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |=================================                                     |  47%
  |                                                                            
  |=====================================                                 |  53%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 18.79386 MB
## Downloading 15 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |===============                                                       |  21%
  |                                                                            
  |====================                                                  |  29%
  |                                                                            
  |=========================                                             |  36%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=============================================                         |  64%
  |                                                                            
  |==================================================                    |  71%
  |                                                                            
  |=======================================================               |  79%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |======================================================================| 100%
## 
## Unpacking zip files using 1 cores.
## Stacking operation across a single core.
## Stacking table vst_apparentindividual
## Stacking table vst_mappingandtagging
## Stacking table vst_perplotperyear
## Stacking table vst_non-woody
## Copied the most recent publication of validation file to /stackedFiles
## Copied the most recent publication of categoricalCodes file to /stackedFiles
## Copied the most recent publication of variable definition file to /stackedFiles
## Finished: Stacked 4 data tables and 4 metadata tables!
## Stacking took 0.6172729 secs</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(veglist)</span></code></pre></div>
<pre><code>##                        Length Class      Mode
## categoricalCodes_10098  5     data.table list
## issueLog_10098          9     data.table list
## readme_10098            1     data.frame list
## validation_10098        8     data.table list
## variables_10098         9     data.table list
## vst_apparentindividual 41     data.frame list
## vst_mappingandtagging  30     data.frame list
## vst_non-woody          47     data.frame list
## vst_perplotperyear     43     data.frame list</code></pre>
</div>
<div id="part-2-further-investigation-of-neon-tos-vegetation-structure-data" class="section level4 hasAnchor" number="2.10.1.2">
<h4 class="hasAnchor"><span class="header-section-number">2.10.1.2</span> Part 2: Further Investigation of NEON TOS Vegetation Structure Data<a href="#part-2-further-investigation-of-neon-tos-vegetation-structure-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Suggested Timing: Complete this exercise before our next class
session</strong></p>
<p><em>In the following section all demonstration code uses the <code>iris</code> dataset
for R as examples. In this exercise the <code>iris</code> data is merely used for
example code to get your started, you will complete all plots and models
using the NEON TOS vegetation structure data</em></p>
<ol style="list-style-type: decimal">
<li>Convert the above diameter plot into a ggplot: If you need some
refreshers on ggplot <a href="https://dereksonderegger.github.io/444/14-graphing-part-ii.html">Derek Sonderegger’s Introductory Data Science
using R: Graphing Part
II</a>
is a wonderful resource. I’ve pulled some of his plotting examples
here.</li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> (<span class="st">&#39;your code here&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;your code here&quot;</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Set the color your circles to be a function of each species:</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#hints:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;iris&quot;</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length, <span class="at">y=</span>Petal.Length, <span class="at">color=</span>Species)) <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Generate a histogram of tree heights for each plot. Color your
stacked bar as a function of each species:</li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#hints for faceting: </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length, <span class="at">y=</span>Petal.Length)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>( . <span class="sc">~</span> Species )</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Use <code>dplyr</code> to remove dead trees:</li>
</ol>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#hints:</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#veg=veg%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#filter(..... !=....)</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Create a simple linear model that uses Diameter at Breast Height
(DBH) and height to predict allometries. Print the summary
information of your model:</li>
</ol>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#hints</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>mdl<span class="ot">=</span><span class="fu">lm</span>(Some_diameter <span class="sc">+</span> Some_height, <span class="at">data=</span>something) <span class="co">#Question: looking at the metadata which &#39;height&#39; and &#39;diameter&#39; variables should you use?</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mdl)</span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Plot your linear model:</li>
</ol>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hints:</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>mdl <span class="ot">&lt;-</span> <span class="fu">lm</span>( Petal.Length <span class="sc">~</span> Sepal.Length <span class="sc">*</span> Species, <span class="at">data =</span> iris ) </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>iris <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>( <span class="sc">-</span><span class="fu">matches</span>(<span class="st">&#39;fit&#39;</span>), <span class="sc">-</span><span class="fu">matches</span>(<span class="st">&#39;lwr&#39;</span>), <span class="sc">-</span><span class="fu">matches</span>(<span class="st">&#39;upr&#39;</span>) ) <span class="sc">%&gt;%</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>( <span class="fu">predict</span>(mdl, <span class="at">newdata=</span>., <span class="at">interval=</span><span class="st">&#39;confidence&#39;</span>) )       </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris, <span class="at">n=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species      fit      lwr
## 1          5.1         3.5          1.4         0.2  setosa 1.474373 1.398783
## 2          4.9         3.0          1.4         0.2  setosa 1.448047 1.371765
## 3          4.7         3.2          1.3         0.2  setosa 1.421721 1.324643
##        upr
## 1 1.549964
## 2 1.524329
## 3 1.518798</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length, <span class="at">y=</span>Petal.Length, <span class="at">color=</span>Species)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>( <span class="fu">aes</span>(<span class="at">y=</span>fit) ) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>( <span class="fu">aes</span>( <span class="at">ymin=</span>lwr, <span class="at">ymax=</span>upr, <span class="at">fill=</span>Species), <span class="at">alpha=</span>.<span class="dv">3</span> )   <span class="co"># alpha is the ribbon transparency</span></span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Answer the following questions:</li>
</ol>
<ul>
<li>What do you think about your simile linear model? What are its
limitations?</li>
<li>How many <code>unique</code> species are present at <code>WREF</code>?</li>
<li>What are the <code>top_5</code> trees based on height? Diameter?</li>
<li>What proportion of sampled trees are dead?</li>
</ul>
</div>
</div>
</div>
<div id="hands-on-pulling-neon-data-via-the-api" class="section level2 hasAnchor" number="2.11">
<h2 class="hasAnchor"><span class="header-section-number">2.11</span> Hands on: Pulling NEON Data via the API<a href="#hands-on-pulling-neon-data-via-the-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section covers pulling data from the NEON API or Application
Programming Interface using R and the R package httr, but the core
information about the API is applicable to other languages and
approaches.</p>
<p><strong>As a reminder, there are 3 basic categories of NEON data:</strong></p>
<ol style="list-style-type: decimal">
<li>Observational - Data collected by a human in the field, or in an
analytical laboratory, e.g. beetle identification, foliar isotopes</li>
<li>Instrumentation - Data collected by an automated, streaming sensor,
e.g. net radiation, soil carbon dioxide</li>
<li>Remote sensing - Data collected by the airborne observation
platform, e.g. LIDAR, surface reflectance</li>
</ol>
<p>This lab covers all three types of data, it is required to complete
these sections in order and not skip ahead, since the query principles
are explained in the first section, on observational data.</p>
<div markdown="1">
<div id="objectives-1" class="section level3 hasAnchor" number="2.11.1">
<h3 class="hasAnchor"><span class="header-section-number">2.11.1</span> Objectives<a href="#objectives-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After completing this activity, you will be able to:</p>
<ul>
<li>Pull observational, instrumentation, and geolocation data from the
NEON API.</li>
<li>Transform API-accessed data from JSON to tabular format for
analyses.</li>
</ul>
</div>
<div id="things-youll-need-to-complete-this-section" class="section level3 hasAnchor" number="2.11.2">
<h3 class="hasAnchor"><span class="header-section-number">2.11.2</span> Things You’ll Need To Complete This Section<a href="#things-youll-need-to-complete-this-section" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To complete this tutorial you will need the most current version of R
and, preferably, RStudio loaded on your computer.</p>
<div id="install-r-packages-1" class="section level4 hasAnchor" number="2.11.2.1">
<h4 class="hasAnchor"><span class="header-section-number">2.11.2.1</span> Install R Packages<a href="#install-r-packages-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><strong>httr:</strong> <code>install.packages("httr")</code></li>
<li><strong>jsonlite:</strong> <code>install.packages("jsonlite")</code></li>
<li><strong>dplyr:</strong> <code>install.packages("dplyr")</code></li>
<li><strong>devtools:</strong> <code>install.packages("devtools")</code></li>
<li><strong>downloader:</strong> <code>install.packages("downloader")</code></li>
<li><strong>geoNEON:</strong>
<code>devtools::install_github("NEONScience/NEON-geolocation/geoNEON")</code></li>
<li><strong>neonUtilities:</strong>
<code>devtools::install_github("NEONScience/NEON-utilities/neonUtilities")</code></li>
</ul>
<p>Note, you must have devtools installed &amp; loaded, prior to loading
geoNEON or neonUtilities.</p>
</div>
<div id="additional-resources-1" class="section level4 hasAnchor" number="2.11.2.2">
<h4 class="hasAnchor"><span class="header-section-number">2.11.2.2</span> Additional Resources<a href="#additional-resources-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><a href="http://data.neonscience.org/data-api" target="_blank">Webpage
for the NEON API</a></li>
<li><a href="https://github.com/NEONScience/neon-data-api" target="_blank">GitHub
repository for the NEON API</a></li>
<li><a href="https://github.com/ropenscilabs/nneo" target="_blank">
ROpenSci wrapper for the NEON API</a> (not covered in this tutorial)</li>
</ul>
</div>
</div>
</div>
</div>
<div id="what-is-an-api" class="section level2 hasAnchor" number="2.12">
<h2 class="hasAnchor"><span class="header-section-number">2.12</span> What is an API?<a href="#what-is-an-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/s7wmiS2mSXY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>The following material was adapted from: “Using the NEON API in R”
description: “Tutorial for getting data from the NEON API, using R and
the R package httr” dateCreated: 2017-07-07 authors: [Claire K. Lunch]
contributors: [Christine Laney, Megan A. Jones]</p>
</blockquote>
<p>If you are unfamiliar with the concept of an API, think of an API as a
‘middle person’ that provides a communication path for a software
application to obtain information from a digital data source. APIs are
becoming a very common means of sharing digital information. Many of the
apps that you use on your computer or mobile device to produce maps,
charts, reports, and other useful forms of information pull data from
multiple sources using APIs. In the ecological and environmental
sciences, many researchers use APIs to programmatically pull data into
their analyses. (Quoted from the NEON Observatory Blog story:
<a href="https://www.neonscience.org/observatory/observatory-blog/api-data-availability-viewer-now-live-neon-data-portal" target ="_blank">
API and data availability viewer now live on the NEON data portal</a>.)</p>
<p>There are actually many types or constructions of APIs. If you’re
interested you can <a href="https://stoplight.io/api-types/">read a little more about them
here</a></p>
<div id="anatomy-of-an-api-call" class="section level3 hasAnchor" number="2.12.1">
<h3 class="hasAnchor"><span class="header-section-number">2.12.1</span> Anatomy of an API call<a href="#anatomy-of-an-api-call" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An example API call:
<a href="http://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2015-07" class="uri">http://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2015-07</a></p>
<p>This includes the base URL, endpoint, and target.</p>
<div id="base-url" class="section level4 hasAnchor" number="2.12.1.1">
<h4 class="hasAnchor"><span class="header-section-number">2.12.1.1</span> Base URL:<a href="#base-url" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><span style="color:#A00606;font-weight:bold"><a href="http://data.neonscience.org/api/v0" class="uri">http://data.neonscience.org/api/v0</a></span><span style="color:#A2A4A3">/data/DP1.10003.001/WOOD/2015-07</span></p>
<p>Specifics are appended to this in order to get the data or metadata
you’re looking for, but all calls to this API will include the base URL.
For the NEON API, this is <a href="http://data.neonscience.org/api/v0" class="uri">http://data.neonscience.org/api/v0</a> – not
clickable, because the base URL by itself will take you nowhere!</p>
</div>
<div id="endpoints" class="section level4 hasAnchor" number="2.12.1.2">
<h4 class="hasAnchor"><span class="header-section-number">2.12.1.2</span> Endpoints:<a href="#endpoints" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><span style="color:#A2A4A3"><a href="http://data.neonscience.org/api/v0" class="uri">http://data.neonscience.org/api/v0</a></span><span style="color:#A00606;font-weight:bold">/data</span><span style="color:#A2A4A3">/DP1.10003.001/WOOD/2015-07</span></p>
<p>What type of data or metadata are you looking for?</p>
<ul>
<li><p><strong>~/products</strong> Information about one or all of NEON’s data products</p></li>
<li><p><strong>~/sites</strong> Information about data availability at the site
specified in the call</p></li>
<li><p><strong>~/locations</strong> Spatial data for the NEON locations specified in
the call</p></li>
<li><p><strong>~/data</strong> Data! By product, site, and date (in monthly chunks).</p></li>
</ul>
</div>
</div>
<div id="targets" class="section level3 hasAnchor" number="2.12.2">
<h3 class="hasAnchor"><span class="header-section-number">2.12.2</span> Targets:<a href="#targets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span style="color:#A2A4A3"><a href="http://data.neonscience.org/api/v0/data" class="uri">http://data.neonscience.org/api/v0/data</a></span><span style="color:#A00606;font-weight:bold">/DP1.10003.001/WOOD/2015-07</span></p>
<p>The specific data product, site, or location you want to get data for.</p>
</div>
<div id="observational-data-os" class="section level3 hasAnchor" number="2.12.3">
<h3 class="hasAnchor"><span class="header-section-number">2.12.3</span> Observational data (OS)<a href="#observational-data-os" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Which product do you want to get data for? Consult the
<a href="http://data.neonscience.org/data-products/explore" target="_blank">Explore
Data Products page</a>.</p>
<p>We’ll pick Breeding landbird point counts, DP1.10003.001</p>
<p>First query the products endpoint of the API to find out which sites and
dates have data available. In the products endpoint, the target is the
numbered identifier for the data product:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the necessary libraries</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">quietly=</span>T)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(downloader)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Request data using the GET function &amp; the API call</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/products/DP1.10003.001&quot;</span>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>req</span></code></pre></div>
<pre><code>## Response [https://data.neonscience.org/api/v0/products/DP1.10003.001]
##   Date: 2022-10-12 19:03
##   Status: 200
##   Content-Type: application/json;charset=UTF-8
##   Size: 47.6 kB</code></pre>
<p>The object returned from <code>GET()</code> has many layers of information.
Entering the name of the object gives you some basic information about
what you downloaded.</p>
<p>The <code>content()</code> function returns the contents in the form of a highly
nested list. This is typical of JSON-formatted data returned by APIs. We
can use the <code>names()</code> function to view the different types of
information within this list.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View requested data</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>req.content <span class="ot">&lt;-</span> <span class="fu">content</span>(req, <span class="at">as=</span><span class="st">&quot;parsed&quot;</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(req.content<span class="sc">$</span>data)</span></code></pre></div>
<pre><code>##  [1] &quot;productCodeLong&quot;              &quot;productCode&quot;                 
##  [3] &quot;productCodePresentation&quot;      &quot;productName&quot;                 
##  [5] &quot;productDescription&quot;           &quot;productStatus&quot;               
##  [7] &quot;productCategory&quot;              &quot;productHasExpanded&quot;          
##  [9] &quot;productScienceTeamAbbr&quot;       &quot;productScienceTeam&quot;          
## [11] &quot;productPublicationFormatType&quot; &quot;productAbstract&quot;             
## [13] &quot;productDesignDescription&quot;     &quot;productStudyDescription&quot;     
## [15] &quot;productBasicDescription&quot;      &quot;productExpandedDescription&quot;  
## [17] &quot;productSensor&quot;                &quot;productRemarks&quot;              
## [19] &quot;themes&quot;                       &quot;changeLogs&quot;                  
## [21] &quot;specs&quot;                        &quot;keywords&quot;                    
## [23] &quot;releases&quot;                     &quot;siteCodes&quot;</code></pre>
<p>You can see all of the information by running the line
<code>print(req.content)</code>, but this will result in a very long printout in
your console. Instead, you can view list items individually. Here, we
highlight a couple of interesting examples:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View Abstract</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>req.content<span class="sc">$</span>data<span class="sc">$</span>productAbstract</span></code></pre></div>
<pre><code>## [1] &quot;This data product contains the quality-controlled, native sampling resolution data from NEON&#39;s breeding landbird sampling. Breeding landbirds are defined as “smaller birds (usually exclusive of raptors and upland game birds) not usually associated with aquatic habitats” (Ralph et al. 1993). The breeding landbird point counts product provides records of species identification of all individuals observed during the 6-minute count period, as well as metadata which can be used to model detectability, e.g., weather, distances from observers to birds, and detection methods. The NEON point count method is adapted from the Integrated Monitoring in Bird Conservation Regions (IMBCR): Field protocol for spatially-balanced sampling of landbird populations (Hanni et al. 2017; http://bit.ly/2u2ChUB). For additional details, see protocol [NEON.DOC.014041](http://data.neonscience.org/api/v0/documents/NEON.DOC.014041vF): TOS Protocol and Procedure: Breeding Landbird Abundance and Diversity and science design [NEON.DOC.000916](http://data.neonscience.org/api/v0/documents/NEON.DOC.000916vB): TOS Science Design for Breeding Landbird Abundance and Diversity.\n\nLatency: The expected time from data and/or sample collection in the field to data publication is as follows, for each of the data tables (in days) in the downloaded data package. See the Data Product User Guide for more information.\n \nbrd_countdata: 120\n\nbrd_perpoint: 120\n\nbrd_personnel: 120\n\nbrd_references: 120&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View Available months and associated URLs for Onaqui, Utah - ONAQ</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>req.content<span class="sc">$</span>data<span class="sc">$</span>siteCodes[[<span class="dv">27</span>]]</span></code></pre></div>
<pre><code>## $siteCode
## [1] &quot;ONAQ&quot;
## 
## $availableMonths
## $availableMonths[[1]]
## [1] &quot;2017-05&quot;
## 
## $availableMonths[[2]]
## [1] &quot;2018-05&quot;
## 
## $availableMonths[[3]]
## [1] &quot;2018-06&quot;
## 
## $availableMonths[[4]]
## [1] &quot;2019-05&quot;
## 
## $availableMonths[[5]]
## [1] &quot;2020-05&quot;
## 
## $availableMonths[[6]]
## [1] &quot;2021-06&quot;
## 
## 
## $availableDataUrls
## $availableDataUrls[[1]]
## [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2017-05&quot;
## 
## $availableDataUrls[[2]]
## [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2018-05&quot;
## 
## $availableDataUrls[[3]]
## [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2018-06&quot;
## 
## $availableDataUrls[[4]]
## [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2019-05&quot;
## 
## $availableDataUrls[[5]]
## [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2020-05&quot;
## 
## $availableDataUrls[[6]]
## [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2021-06&quot;
## 
## 
## $availableReleases
## $availableReleases[[1]]
## $availableReleases[[1]]$release
## [1] &quot;PROVISIONAL&quot;
## 
## $availableReleases[[1]]$availableMonths
## $availableReleases[[1]]$availableMonths[[1]]
## [1] &quot;2021-06&quot;
## 
## 
## 
## $availableReleases[[2]]
## $availableReleases[[2]]$release
## [1] &quot;RELEASE-2022&quot;
## 
## $availableReleases[[2]]$availableMonths
## $availableReleases[[2]]$availableMonths[[1]]
## [1] &quot;2017-05&quot;
## 
## $availableReleases[[2]]$availableMonths[[2]]
## [1] &quot;2018-05&quot;
## 
## $availableReleases[[2]]$availableMonths[[3]]
## [1] &quot;2018-06&quot;
## 
## $availableReleases[[2]]$availableMonths[[4]]
## [1] &quot;2019-05&quot;
## 
## $availableReleases[[2]]$availableMonths[[5]]
## [1] &quot;2020-05&quot;</code></pre>
<p>To get a more accessible view of which sites have data for which months,
you’ll need to extract data from the nested list. There are a variety of
ways to do this, in this tutorial we’ll explore a couple of them. Here
we’ll use <code>fromJSON()</code>, in the jsonlite package, which doesn’t fully
flatten the nested list, but gets us the part we need. To use it, we
need a text version of the content. The text version is not as human
readable but is readable by the <code>fromJSON()</code> function.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make this JSON readable -&gt; &quot;text&quot;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>req.text <span class="ot">&lt;-</span> <span class="fu">content</span>(req, <span class="at">as=</span><span class="st">&quot;text&quot;</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten data frame to see available data. </span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>avail <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(req.text, <span class="at">simplifyDataFrame=</span>T, <span class="at">flatten=</span>T)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>avail</span></code></pre></div>
<pre><code>## $data
## $data$productCodeLong
## [1] &quot;NEON.DOM.SITE.DP1.10003.001&quot;
## 
## $data$productCode
## [1] &quot;DP1.10003.001&quot;
## 
## $data$productCodePresentation
## [1] &quot;NEON.DP1.10003&quot;
## 
## $data$productName
## [1] &quot;Breeding landbird point counts&quot;
## 
## $data$productDescription
## [1] &quot;Count, distance from observer, and taxonomic identification of breeding landbirds observed during point counts&quot;
## 
## $data$productStatus
## [1] &quot;ACTIVE&quot;
## 
## $data$productCategory
## [1] &quot;Level 1 Data Product&quot;
## 
## $data$productHasExpanded
## [1] TRUE
## 
## $data$productScienceTeamAbbr
## [1] &quot;TOS&quot;
## 
## $data$productScienceTeam
## [1] &quot;Terrestrial Observation System (TOS)&quot;
## 
## $data$productPublicationFormatType
## [1] &quot;TOS Data Product Type&quot;
## 
## $data$productAbstract
## [1] &quot;This data product contains the quality-controlled, native sampling resolution data from NEON&#39;s breeding landbird sampling. Breeding landbirds are defined as “smaller birds (usually exclusive of raptors and upland game birds) not usually associated with aquatic habitats” (Ralph et al. 1993). The breeding landbird point counts product provides records of species identification of all individuals observed during the 6-minute count period, as well as metadata which can be used to model detectability, e.g., weather, distances from observers to birds, and detection methods. The NEON point count method is adapted from the Integrated Monitoring in Bird Conservation Regions (IMBCR): Field protocol for spatially-balanced sampling of landbird populations (Hanni et al. 2017; http://bit.ly/2u2ChUB). For additional details, see protocol [NEON.DOC.014041](http://data.neonscience.org/api/v0/documents/NEON.DOC.014041vF): TOS Protocol and Procedure: Breeding Landbird Abundance and Diversity and science design [NEON.DOC.000916](http://data.neonscience.org/api/v0/documents/NEON.DOC.000916vB): TOS Science Design for Breeding Landbird Abundance and Diversity.\n\nLatency: The expected time from data and/or sample collection in the field to data publication is as follows, for each of the data tables (in days) in the downloaded data package. See the Data Product User Guide for more information.\n \nbrd_countdata: 120\n\nbrd_perpoint: 120\n\nbrd_personnel: 120\n\nbrd_references: 120&quot;
## 
## $data$productDesignDescription
## [1] &quot;Depending on the size of the site, sampling for this product occurs at either randomly distributed individual points or grids of nine points each. At larger sites, point count sampling occurs at five to ten 9-point grids, with grid centers collocated with distributed base plot centers (where plant, beetle, and/or soil sampling may also occur), if possible. At smaller sites (i.e., sites that cannot accommodate a minimum of 5 grids) point counts occur at the southwest corner (point 21) of 5-25 distributed base plots. Point counts are conducted once per breeding season at large sites and twice per breeding season at smaller sites. Point counts are six minutes long, with each minute tracked by the observer, following a two-minute settling-in period. All birds are recorded to species and sex, whenever possible, and the distance to each individual or flock is measured with a laser rangefinder, except in the case of flyovers.&quot;
## 
## $data$productStudyDescription
## [1] &quot;This sampling occurs at all NEON terrestrial sites.&quot;
## 
## $data$productBasicDescription
## [1] &quot;The basic package contains the per point metadata table that includes data pertaining to the observer and the weather conditions and the count data table that includes all of the observational data.&quot;
## 
## $data$productExpandedDescription
## [1] &quot;The expanded package includes two additional tables and two additional fields within the count data table. The personnel table provides institutional information about each observer, as well as their performance on identification quizzes, where available. The references tables provides the list of resources used by an observer to identify birds. The additional fields in the countdata table are family and nativeStatusCode, which are derived from the NEON master list of birds.&quot;
## 
## $data$productSensor
## [1] &quot;&quot;
## 
## $data$productRemarks
## [1] &quot;Queries for this data product will return data collected during the date range specified for `brd_perpoint` and `brd_countdata`, but will return data from all dates for `brd_personnel` (quiz scores may occur over time periods which are distinct from when sampling occurs) and `brd_references` (which apply to a broad range of sampling dates). A record from `brd_perPoint` should have 6+ child records in `brd_countdata`, at least one per pointCountMinute. Duplicates or missing data may exist where protocol and/or data entry aberrations have occurred; users should check data carefully for anomalies before joining tables. Taxonomic IDs of species of concern have been &#39;fuzzed&#39;; see data package readme files for more information.&quot;
## 
## $data$themes
## [1] &quot;Organisms, Populations, and Communities&quot;
## 
## $data$changeLogs
##      id parentIssueID            issueDate         resolvedDate
## 1 16607            NA 2020-10-28T00:00:00Z 2020-01-01T00:00:00Z
## 2 17938            NA 2021-01-06T00:00:00Z 2021-12-31T00:00:00Z
## 3 25404            NA 2021-06-24T00:00:00Z 2018-03-28T00:00:00Z
## 4 37004            NA 2021-12-03T00:00:00Z 2021-12-31T00:00:00Z
## 5 38204            NA 2021-12-09T00:00:00Z 2021-12-31T00:00:00Z
## 6 67504            NA 2022-09-13T00:00:00Z                 &lt;NA&gt;
## 7 67505            NA 2022-09-13T00:00:00Z                 &lt;NA&gt;
##         dateRangeStart         dateRangeEnd locationAffected
## 1 2013-01-01T00:00:00Z 2020-01-01T00:00:00Z              All
## 2 2020-03-23T00:00:00Z 2021-12-31T00:00:00Z              All
## 3 2012-01-01T00:00:00Z 2018-03-28T00:00:00Z              All
## 4 2015-01-01T00:00:00Z 2021-12-31T00:00:00Z              All
## 5 2012-01-01T00:00:00Z 2021-12-31T00:00:00Z              All
## 6 2020-03-23T00:00:00Z 2022-12-31T00:00:00Z             TOOL
## 7 2022-06-12T00:00:00Z 2022-12-31T00:00:00Z             YELL
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              issue
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                                   There was not a way to indicate that a scheduled sampling event did not occur.
## 2                                                                                                                                                                                                                                                                                                                     Safety measures to protect personnel during the COVID-19 pandemic resulted in reduced or canceled sampling activities for extended periods at NEON sites. Data availability may be reduced during this time.
## 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                     It was too expensive to have a maximum of 15 grids per site.
## 4                                                                                                                                                                                                                                                                                                                                                                                                                                                      EventIDs in `brd_perpoint` and `brd_countdata` records didn&#39;t always match.
## 5                                                                                                                                                                                Prior to the 2022 data release, publication of species identifications were obfuscated to a higher taxonomic rank when the taxon was found to be listed as threatened, endangered, or sensitive at the state level where the observation was recorded. Obfuscating state-listed taxa has created challenges for data users studying biodiversity.
## 6 Toolik Field Station required a quarantine period prior to starting work in the 2020, 2021, and 2022 field seasons to protect all personnel during the COVID-19 pandemic. This complicated NEON field scheduling logistics, which typically involves repeated travel across the state on short time frames. Consequently, NEON reduced staffing traveling to Toolik and was thus unable to complete all planned sampling efforts. Missed data collection events are indicated in data records via the samplingImpractical field.
## 7                                                                                                                                                                                                                      Severe flooding destroyed several roads into Yellowstone National Park in June 2022, making the YELL and BLDE sites inaccessible to NEON staff. Observational data collection was halted during this time. Canceled data collection events are indicated in data records via the samplingImpractical field.
##                                                                                                                                                                                                                                                                                                                                                                                                                  resolution
## 1                                                                                The fields samplingImpracticalRemarks and samplingImpractical were added prior to the 2020 field season. The contractor supplies the samplingImpracticalRemarks field, and this field autopopulates the samplingImpractical field. The samplingImpractical field has a value other than OK if something prevented sampling from occurring.
## 2 The primary impact of the pandemic on observational data was reduced data collection. Training procedures and data quality reviews were maintained throughout the pandemic, although some previously in-person training was conducted virtually.  Scheduled measurements and sampling that were not carried out due to COVID-19 or any other causes are indicated in data records via the samplingImpractical data field.
## 3                                                                                                                                                                                                                                                                                                                           In version J of the bird protocol NEON reduced the maximum number grids per site from 15 to 10.
## 4                                                                                                                                                                                                                                                                                         The inconsistent time zone issue within the date component of the eventID was resolved by stripping time of day from the eventID.
## 5                                        The state-level obfuscation routine was removed from the data publication process at all locations excluding sites located in D01 and D20. Data have been reprocessed to remove the obfuscation of state-listed taxa. Federally listed threatened and endangered or sensitive species remain obfuscated at all sites and sensitive species remain redacted at National Park sites.
## 6                                                                                                                                                                                                                                                                                                                                                                                                                          
## 7                                                                                                                                                                                                                                                                                                                                                                                                                          
## 
## $data$specs
##    specId               specNumber        specType specSize
## 1    5844        NEON.DOC.014041vK application/pdf  3778463
## 2    7294        NEON.DOC.000916vD application/pdf  1654075
## 3    7352   NEON_bird_userGuide_vC application/pdf   297054
## 4 QSG:165 NEON.QSG.DP1.10003.001v1 application/pdf   241528
##                                                               specDescription
## 1 TOS Protocol and Procedure: BRD – Breeding Landbird Abundance and Diversity
## 2            TOS Science Design for Breeding Landbird Abundance and Diversity
## 3           NEON User Guide to Breeding Landbird Point Counts (DP1.10003.001)
## 4        Quick Start Guide for Breeding landbird point counts (DP1.10003.001)
##                                                                                     specUrl
## 1                           https://data.neonscience.org/api/v0/documents/NEON.DOC.014041vK
## 2                           https://data.neonscience.org/api/v0/documents/NEON.DOC.000916vD
## 3                      https://data.neonscience.org/api/v0/documents/NEON_bird_userGuide_vC
## 4 https://data.neonscience.org/api/v0/documents/quick-start-guides/NEON.QSG.DP1.10003.001v1
## 
## $data$keywords
##  [1] &quot;vertebrates&quot;           &quot;diversity&quot;             &quot;species composition&quot;  
##  [4] &quot;point counts&quot;          &quot;landbirds&quot;             &quot;invasive&quot;             
##  [7] &quot;distance sampling&quot;     &quot;Aves&quot;                  &quot;animals&quot;              
## [10] &quot;birds&quot;                 &quot;avian&quot;                 &quot;Chordata&quot;             
## [13] &quot;Animalia&quot;              &quot;taxonomy&quot;              &quot;population&quot;           
## [16] &quot;introduced&quot;            &quot;community composition&quot; &quot;native&quot;               
## 
## $data$releases
##        release       generationDate
## 1 RELEASE-2021 2021-01-23T02:30:02Z
## 2 RELEASE-2022 2022-01-20T17:39:46Z
##                                                         url
## 1 https://data.neonscience.org/api/v0/releases/RELEASE-2021
## 2 https://data.neonscience.org/api/v0/releases/RELEASE-2022
##   productDoi.generationDate                     productDoi.url
## 1      2021-01-25T18:14:30Z https://doi.org/10.48443/s730-dy13
## 2      2022-01-21T02:53:07Z https://doi.org/10.48443/88sy-ah40
## 
## $data$siteCodes
##    siteCode
## 1      ABBY
## 2      BARR
## 3      BART
## 4      BLAN
## 5      BONA
## 6      CLBJ
## 7      CPER
## 8      DCFS
## 9      DEJU
## 10     DELA
## 11     DSNY
## 12     GRSM
## 13     GUAN
## 14     HARV
## 15     HEAL
## 16     JERC
## 17     JORN
## 18     KONA
## 19     KONZ
## 20     LAJA
## 21     LENO
## 22     MLBS
## 23     MOAB
## 24     NIWO
## 25     NOGP
## 26     OAES
## 27     ONAQ
## 28     ORNL
## 29     OSBS
## 30     PUUM
## 31     RMNP
## 32     SCBI
## 33     SERC
## 34     SJER
## 35     SOAP
## 36     SRER
## 37     STEI
## 38     STER
## 39     TALL
## 40     TEAK
## 41     TOOL
## 42     TREE
## 43     UKFS
## 44     UNDE
## 45     WOOD
## 46     WREF
## 47     YELL
##                                                                                               availableMonths
## 1                                               2017-05, 2017-06, 2018-06, 2018-07, 2019-05, 2020-06, 2021-05
## 2                                                                 2017-07, 2018-07, 2019-06, 2020-07, 2021-06
## 3                                      2015-06, 2016-06, 2017-06, 2018-06, 2019-06, 2020-06, 2020-07, 2021-06
## 4                                      2017-05, 2017-06, 2018-05, 2018-06, 2019-05, 2019-06, 2020-06, 2021-05
## 5                                               2017-06, 2018-06, 2018-07, 2019-06, 2020-06, 2020-07, 2021-06
## 6                                      2017-05, 2018-04, 2019-04, 2019-05, 2020-04, 2020-05, 2021-04, 2021-05
## 7                    2013-06, 2015-05, 2016-05, 2017-05, 2017-06, 2018-05, 2019-06, 2020-05, 2021-05, 2021-06
## 8                                               2017-06, 2017-07, 2018-07, 2019-06, 2019-07, 2020-07, 2021-07
## 9                                                                 2017-06, 2018-06, 2019-06, 2020-06, 2021-06
## 10                                                       2015-06, 2017-06, 2018-05, 2019-06, 2020-05, 2021-05
## 11                                              2015-06, 2016-05, 2017-05, 2018-05, 2019-05, 2020-05, 2021-05
## 12                                              2016-06, 2017-05, 2017-06, 2018-05, 2019-05, 2020-06, 2021-06
## 13                                              2015-05, 2017-05, 2018-05, 2019-05, 2019-06, 2020-07, 2021-06
## 14                                     2015-05, 2015-06, 2016-06, 2017-06, 2018-06, 2019-06, 2020-06, 2021-06
## 15                                              2017-06, 2018-06, 2018-07, 2019-06, 2019-07, 2020-06, 2021-06
## 16                                                       2016-06, 2017-05, 2018-06, 2019-06, 2020-05, 2021-05
## 17                                     2017-04, 2017-05, 2018-04, 2018-05, 2019-04, 2020-05, 2021-04, 2021-05
## 18                                                       2018-05, 2018-06, 2019-06, 2020-05, 2020-06, 2021-06
## 19                                                       2017-06, 2018-05, 2018-06, 2019-06, 2020-05, 2021-06
## 20                                                       2017-05, 2018-05, 2019-05, 2019-06, 2020-07, 2021-06
## 21                                                                2017-06, 2018-05, 2019-06, 2020-05, 2021-05
## 22                                                                2018-06, 2019-05, 2020-05, 2021-05, 2021-06
## 23                                              2015-06, 2017-05, 2018-05, 2019-05, 2020-05, 2020-06, 2021-06
## 24                                                       2015-07, 2017-07, 2018-07, 2019-07, 2020-07, 2021-07
## 25                                                                2017-07, 2018-07, 2019-07, 2020-07, 2021-07
## 26                                              2017-05, 2017-06, 2018-04, 2018-05, 2019-05, 2020-05, 2021-05
## 27                                                       2017-05, 2018-05, 2018-06, 2019-05, 2020-05, 2021-06
## 28                                     2016-05, 2016-06, 2017-05, 2018-06, 2019-05, 2020-05, 2021-05, 2021-06
## 29                                                       2016-05, 2017-05, 2018-05, 2019-05, 2020-06, 2021-05
## 30                                                                                           2018-04, 2021-03
## 31                   2017-06, 2017-07, 2018-06, 2018-07, 2019-06, 2019-07, 2020-06, 2020-07, 2021-06, 2021-07
## 32 2015-06, 2016-05, 2016-06, 2017-05, 2017-06, 2018-05, 2018-06, 2019-05, 2019-06, 2020-05, 2020-06, 2021-05
## 33                                              2017-05, 2017-06, 2018-05, 2019-05, 2020-05, 2020-06, 2021-06
## 34                                                                2017-04, 2018-04, 2019-04, 2020-04, 2021-04
## 35                                                                2017-05, 2018-05, 2019-05, 2020-05, 2021-05
## 36                                                       2017-05, 2018-04, 2018-05, 2019-04, 2020-04, 2021-04
## 37                   2016-05, 2016-06, 2017-06, 2018-05, 2018-06, 2019-05, 2019-06, 2020-06, 2021-05, 2021-06
## 38                            2013-06, 2015-05, 2016-05, 2017-05, 2018-05, 2019-05, 2019-06, 2020-06, 2021-05
## 39                                     2015-06, 2016-07, 2017-06, 2018-06, 2019-05, 2020-05, 2020-06, 2021-05
## 40                                                       2017-06, 2018-06, 2019-06, 2019-07, 2020-06, 2021-06
## 41                                                                2017-06, 2018-07, 2019-06, 2020-06, 2021-06
## 42                                                       2016-06, 2017-06, 2018-06, 2019-06, 2020-06, 2021-06
## 43                                                       2017-06, 2018-06, 2019-06, 2020-05, 2020-06, 2021-06
## 44                                              2016-06, 2016-07, 2017-06, 2018-06, 2019-06, 2020-06, 2021-06
## 45                                              2015-07, 2017-07, 2018-07, 2019-06, 2019-07, 2020-07, 2021-07
## 46                                                                2018-06, 2019-05, 2019-06, 2020-06, 2021-05
## 47                                                                         2018-06, 2019-06, 2020-06, 2021-07
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             availableDataUrls
## 1                                                                                                                                                                                                                                                                                                                                                           https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2021-05
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2017-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2021-06
## 3                                                                                                                                                                                                                                                                                      https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/BART/2021-06
## 4                                                                                                                                                                                                                                                                                      https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BLAN/2021-05
## 5                                                                                                                                                                                                                                                                                                                                                           https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/BONA/2021-06
## 6                                                                                                                                                                                                                                                                                      https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2018-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2019-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2020-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2021-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/CLBJ/2021-05
## 7                                                                                                                                            https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2013-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2015-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2021-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/CPER/2021-06
## 8                                                                                                                                                                                                                                                                                                                                                           https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2017-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/DCFS/2021-07
## 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     https://data.neonscience.org/api/v0/data/DP1.10003.001/DEJU/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DEJU/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DEJU/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DEJU/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DEJU/2021-06
## 10                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/DELA/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DELA/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DELA/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DELA/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DELA/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DELA/2021-05
## 11                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/DSNY/2021-05
## 12                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/GRSM/2021-06
## 13                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2015-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/GUAN/2021-06
## 14                                                                                                                                                                                                                                                                                     https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2015-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HARV/2021-06
## 15                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/HEAL/2021-06
## 16                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/JERC/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/JERC/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/JERC/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/JERC/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/JERC/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/JERC/2021-05
## 17                                                                                                                                                                                                                                                                                     https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2017-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2018-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2019-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2021-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/JORN/2021-05
## 18                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/KONA/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONA/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONA/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONA/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONA/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONA/2021-06
## 19                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/KONZ/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONZ/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONZ/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONZ/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONZ/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/KONZ/2021-06
## 20                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/LAJA/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/LAJA/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/LAJA/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/LAJA/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/LAJA/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/LAJA/2021-06
## 21                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/LENO/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/LENO/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/LENO/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/LENO/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/LENO/2021-05
## 22                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/MLBS/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/MLBS/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MLBS/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MLBS/2021-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MLBS/2021-06
## 23                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/MOAB/2021-06
## 24                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/NIWO/2015-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NIWO/2017-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NIWO/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NIWO/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NIWO/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NIWO/2021-07
## 25                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/NOGP/2017-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NOGP/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NOGP/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NOGP/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/NOGP/2021-07
## 26                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2018-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OAES/2021-05
## 27                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ONAQ/2021-06
## 28                                                                                                                                                                                                                                                                                     https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2021-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/ORNL/2021-06
## 29                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/OSBS/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OSBS/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OSBS/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OSBS/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/OSBS/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/OSBS/2021-05
## 30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   https://data.neonscience.org/api/v0/data/DP1.10003.001/PUUM/2018-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/PUUM/2021-03
## 31                                                                                                                                           https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2017-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2021-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/RMNP/2021-07
## 32 https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SCBI/2021-05
## 33                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/SERC/2021-06
## 34                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/SJER/2017-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SJER/2018-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SJER/2019-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SJER/2020-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SJER/2021-04
## 35                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/SOAP/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SOAP/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SOAP/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SOAP/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SOAP/2021-05
## 36                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/SRER/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SRER/2018-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SRER/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/SRER/2019-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SRER/2020-04, https://data.neonscience.org/api/v0/data/DP1.10003.001/SRER/2021-04
## 37                                                                                                                                           https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2021-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STEI/2021-06
## 38                                                                                                                                                                                                                https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2013-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2015-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2016-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2017-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2018-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/STER/2021-05
## 39                                                                                                                                                                                                                                                                                     https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2015-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2016-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TALL/2021-05
## 40                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/TEAK/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TEAK/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TEAK/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TEAK/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/TEAK/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TEAK/2021-06
## 41                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/TOOL/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TOOL/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/TOOL/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TOOL/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TOOL/2021-06
## 42                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/TREE/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TREE/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TREE/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TREE/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TREE/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/TREE/2021-06
## 43                                                                                                                                                                                                                                                                                                                                                                                                                               https://data.neonscience.org/api/v0/data/DP1.10003.001/UKFS/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UKFS/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UKFS/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UKFS/2020-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/UKFS/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UKFS/2021-06
## 44                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2016-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2016-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2017-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/UNDE/2021-06
## 45                                                                                                                                                                                                                                                                                                                                                          https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2015-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2017-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2018-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2019-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2020-07, https://data.neonscience.org/api/v0/data/DP1.10003.001/WOOD/2021-07
## 46                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    https://data.neonscience.org/api/v0/data/DP1.10003.001/WREF/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/WREF/2019-05, https://data.neonscience.org/api/v0/data/DP1.10003.001/WREF/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/WREF/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/WREF/2021-05
## 47                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         https://data.neonscience.org/api/v0/data/DP1.10003.001/YELL/2018-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/YELL/2019-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/YELL/2020-06, https://data.neonscience.org/api/v0/data/DP1.10003.001/YELL/2021-07
##                                                                                                                        availableReleases
## 1                                               PROVISIONAL, RELEASE-2022, 2020-06, 2021-05, 2017-05, 2017-06, 2018-06, 2018-07, 2019-05
## 2                                                                 PROVISIONAL, RELEASE-2022, 2020-07, 2021-06, 2017-07, 2018-07, 2019-06
## 3                                      PROVISIONAL, RELEASE-2022, 2021-06, 2015-06, 2016-06, 2017-06, 2018-06, 2019-06, 2020-06, 2020-07
## 4                                      PROVISIONAL, RELEASE-2022, 2021-05, 2017-05, 2017-06, 2018-05, 2018-06, 2019-05, 2019-06, 2020-06
## 5                                               PROVISIONAL, RELEASE-2022, 2021-06, 2017-06, 2018-06, 2018-07, 2019-06, 2020-06, 2020-07
## 6                                      PROVISIONAL, RELEASE-2022, 2021-04, 2021-05, 2017-05, 2018-04, 2019-04, 2019-05, 2020-04, 2020-05
## 7                    PROVISIONAL, RELEASE-2022, 2021-05, 2021-06, 2013-06, 2015-05, 2016-05, 2017-05, 2017-06, 2018-05, 2019-06, 2020-05
## 8                                               PROVISIONAL, RELEASE-2022, 2021-07, 2017-06, 2017-07, 2018-07, 2019-06, 2019-07, 2020-07
## 9                                                                 PROVISIONAL, RELEASE-2022, 2021-06, 2017-06, 2018-06, 2019-06, 2020-06
## 10                                                       PROVISIONAL, RELEASE-2022, 2021-05, 2015-06, 2017-06, 2018-05, 2019-06, 2020-05
## 11                                              PROVISIONAL, RELEASE-2022, 2020-05, 2021-05, 2015-06, 2016-05, 2017-05, 2018-05, 2019-05
## 12                                              PROVISIONAL, RELEASE-2022, 2021-06, 2016-06, 2017-05, 2017-06, 2018-05, 2019-05, 2020-06
## 13                                              PROVISIONAL, RELEASE-2022, 2021-06, 2015-05, 2017-05, 2018-05, 2019-05, 2019-06, 2020-07
## 14                                     PROVISIONAL, RELEASE-2022, 2021-06, 2015-05, 2015-06, 2016-06, 2017-06, 2018-06, 2019-06, 2020-06
## 15                                              PROVISIONAL, RELEASE-2022, 2021-06, 2017-06, 2018-06, 2018-07, 2019-06, 2019-07, 2020-06
## 16                                                       PROVISIONAL, RELEASE-2022, 2021-05, 2016-06, 2017-05, 2018-06, 2019-06, 2020-05
## 17                                     PROVISIONAL, RELEASE-2022, 2021-04, 2021-05, 2017-04, 2017-05, 2018-04, 2018-05, 2019-04, 2020-05
## 18                                                       PROVISIONAL, RELEASE-2022, 2021-06, 2018-05, 2018-06, 2019-06, 2020-05, 2020-06
## 19                                                       PROVISIONAL, RELEASE-2022, 2021-06, 2017-06, 2018-05, 2018-06, 2019-06, 2020-05
## 20                                                       PROVISIONAL, RELEASE-2022, 2021-06, 2017-05, 2018-05, 2019-05, 2019-06, 2020-07
## 21                                                                PROVISIONAL, RELEASE-2022, 2021-05, 2017-06, 2018-05, 2019-06, 2020-05
## 22                                                                PROVISIONAL, RELEASE-2022, 2021-05, 2021-06, 2018-06, 2019-05, 2020-05
## 23                                              PROVISIONAL, RELEASE-2022, 2021-06, 2015-06, 2017-05, 2018-05, 2019-05, 2020-05, 2020-06
## 24                                                       PROVISIONAL, RELEASE-2022, 2021-07, 2015-07, 2017-07, 2018-07, 2019-07, 2020-07
## 25                                                                PROVISIONAL, RELEASE-2022, 2021-07, 2017-07, 2018-07, 2019-07, 2020-07
## 26                                              PROVISIONAL, RELEASE-2022, 2021-05, 2017-05, 2017-06, 2018-04, 2018-05, 2019-05, 2020-05
## 27                                                       PROVISIONAL, RELEASE-2022, 2021-06, 2017-05, 2018-05, 2018-06, 2019-05, 2020-05
## 28                                     PROVISIONAL, RELEASE-2022, 2021-05, 2021-06, 2016-05, 2016-06, 2017-05, 2018-06, 2019-05, 2020-05
## 29                                                       PROVISIONAL, RELEASE-2022, 2021-05, 2016-05, 2017-05, 2018-05, 2019-05, 2020-06
## 30                                                                                           PROVISIONAL, RELEASE-2022, 2021-03, 2018-04
## 31                   PROVISIONAL, RELEASE-2022, 2021-06, 2021-07, 2017-06, 2017-07, 2018-06, 2018-07, 2019-06, 2019-07, 2020-06, 2020-07
## 32 PROVISIONAL, RELEASE-2022, 2021-05, 2015-06, 2016-05, 2016-06, 2017-05, 2017-06, 2018-05, 2018-06, 2019-05, 2019-06, 2020-05, 2020-06
## 33                                              PROVISIONAL, RELEASE-2022, 2021-06, 2017-05, 2017-06, 2018-05, 2019-05, 2020-05, 2020-06
## 34                                                                PROVISIONAL, RELEASE-2022, 2020-04, 2021-04, 2017-04, 2018-04, 2019-04
## 35                                                                PROVISIONAL, RELEASE-2022, 2020-05, 2021-05, 2017-05, 2018-05, 2019-05
## 36                                                       PROVISIONAL, RELEASE-2022, 2021-04, 2017-05, 2018-04, 2018-05, 2019-04, 2020-04
## 37                   PROVISIONAL, RELEASE-2022, 2021-05, 2021-06, 2016-05, 2016-06, 2017-06, 2018-05, 2018-06, 2019-05, 2019-06, 2020-06
## 38                            PROVISIONAL, RELEASE-2022, 2021-05, 2013-06, 2015-05, 2016-05, 2017-05, 2018-05, 2019-05, 2019-06, 2020-06
## 39                                     PROVISIONAL, RELEASE-2022, 2021-05, 2015-06, 2016-07, 2017-06, 2018-06, 2019-05, 2020-05, 2020-06
## 40                                                       PROVISIONAL, RELEASE-2022, 2020-06, 2021-06, 2017-06, 2018-06, 2019-06, 2019-07
## 41                                                                PROVISIONAL, RELEASE-2022, 2020-06, 2021-06, 2017-06, 2018-07, 2019-06
## 42                                                       PROVISIONAL, RELEASE-2022, 2021-06, 2016-06, 2017-06, 2018-06, 2019-06, 2020-06
## 43                                                       PROVISIONAL, RELEASE-2022, 2021-06, 2017-06, 2018-06, 2019-06, 2020-05, 2020-06
## 44                                              PROVISIONAL, RELEASE-2022, 2021-06, 2016-06, 2016-07, 2017-06, 2018-06, 2019-06, 2020-06
## 45                                              PROVISIONAL, RELEASE-2022, 2021-07, 2015-07, 2017-07, 2018-07, 2019-06, 2019-07, 2020-07
## 46                                                                PROVISIONAL, RELEASE-2022, 2020-06, 2021-05, 2018-06, 2019-05, 2019-06
## 47                                                                         PROVISIONAL, RELEASE-2022, 2021-07, 2018-06, 2019-06, 2020-06</code></pre>
<p>The object contains a lot of information about the data product,
including:</p>
<ul>
<li>keywords under <code>$data$keywords</code>,</li>
<li>references for documentation under <code>$data$specs</code>,</li>
<li>data availability by site and month under <code>$data$siteCodes</code>, and</li>
<li>specific URLs for the API calls for each site and month under
<code>$data$siteCodes$availableDataUrls</code>.</li>
</ul>
<p>We need <code>$data$siteCodes</code> to tell us what we can download.
<code>$data$siteCodes$availableDataUrls</code> allows us to avoid writing the API
calls ourselves in the next steps.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get data availability list for the product</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>bird.urls <span class="ot">&lt;-</span> <span class="fu">unlist</span>(avail<span class="sc">$</span>data<span class="sc">$</span>siteCodes<span class="sc">$</span>availableDataUrls)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(bird.urls) <span class="co">#total number of URLs</span></span></code></pre></div>
<pre><code>## [1] 314</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>bird.urls[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co">#show first 10 URLs available</span></span></code></pre></div>
<pre><code>##  [1] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2017-05&quot;
##  [2] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2017-06&quot;
##  [3] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2018-06&quot;
##  [4] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2018-07&quot;
##  [5] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2019-05&quot;
##  [6] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2020-06&quot;
##  [7] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/ABBY/2021-05&quot;
##  [8] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2017-07&quot;
##  [9] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2018-07&quot;
## [10] &quot;https://data.neonscience.org/api/v0/data/DP1.10003.001/BARR/2019-06&quot;</code></pre>
<p>These are the URLs showing us what files are available for each month
where there are data.</p>
<p>Let’s look at the bird data from Woodworth (WOOD) site from July 2015.
We can do this by using the above code but now specifying which
site/date we want using the <code>grep()</code> function.</p>
<p>Note that if there were only one month of data from a site, you could
leave off the date in the function. If you want data from more than one
site/month you need to iterate this code, GET fails if you give it more
than one URL.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get data availability for WOOD July 2015</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>brd <span class="ot">&lt;-</span> <span class="fu">GET</span>(bird.urls[<span class="fu">grep</span>(<span class="st">&quot;WOOD/2015-07&quot;</span>, bird.urls)])</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>brd.files <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(brd, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co"># view just the available data files </span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>brd.files<span class="sc">$</span>data<span class="sc">$</span>files</span></code></pre></div>
<pre><code>##                                                                               name
## 1                       NEON.D09.WOOD.DP1.10003.001.variables.20211222T043153Z.csv
## 2         NEON.D09.WOOD.DP1.10003.001.brd_references.expanded.20211222T043153Z.csv
## 3           NEON.D09.WOOD.DP1.10003.001.EML.20150701-20150705.20220120T173946Z.xml
## 4                      NEON.D09.WOOD.DP0.10003.001.validation.20211222T043153Z.csv
## 5   NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.expanded.20211222T043153Z.csv
## 6          NEON.Bird_Conservancy_of_the_Rockies.brd_personnel.20211222T043153Z.csv
## 7  NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.expanded.20211222T043153Z.csv
## 8                NEON.D09.WOOD.DP0.10003.001.categoricalCodes.20211222T043153Z.csv
## 9                          NEON.D09.WOOD.DP1.10003.001.readme.20220120T173946Z.txt
## 10                      NEON.D09.WOOD.DP1.10003.001.variables.20211222T043153Z.csv
## 11               NEON.D09.WOOD.DP0.10003.001.categoricalCodes.20211222T043153Z.csv
## 12    NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.basic.20211222T043153Z.csv
## 13                         NEON.D09.WOOD.DP1.10003.001.readme.20220120T173946Z.txt
## 14          NEON.D09.WOOD.DP1.10003.001.EML.20150701-20150705.20220120T173946Z.xml
## 15     NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.basic.20211222T043153Z.csv
## 16                     NEON.D09.WOOD.DP0.10003.001.validation.20211222T043153Z.csv
##      size                              md5 crc32 crc32c
## 1    8670 437dd6434e1cd8538dc9676dcf6ca7f9    NA     NA
## 2    1410 9835f082c527eb1b4b136b853ba9b074    NA     NA
## 3  187787 345ae36c459945f243900995cd0d7f2f    NA     NA
## 4   11700 d1296d18260b4f83e8605ad078fbf967    NA     NA
## 5   22623 3850ca4f9abcfc0544bc5722f1e07a1a    NA     NA
## 6   83076 31e36079cd2f74d0899cd01d835350f5    NA     NA
## 7  343356 5a199b5f04b6d8cf11c22840d82de24a    NA     NA
## 8   10522 1ccac9924bee55f42ca37e2d7d07746f    NA     NA
## 9   11152 2b6beae1df3c37a100bfae9f82bc93de    NA     NA
## 10   8670 437dd6434e1cd8538dc9676dcf6ca7f9    NA     NA
## 11  10522 1ccac9924bee55f42ca37e2d7d07746f    NA     NA
## 12 322242 fed00f0da15c2370158464c6c179a1c0    NA     NA
## 13  10858 8c23069bf1ac232e89eaf4e8da8bf848    NA     NA
## 14 170547 2237727df2560081f4f5e3f33e3c2ba5    NA     NA
## 15  22623 3850ca4f9abcfc0544bc5722f1e07a1a    NA     NA
## 16  11700 d1296d18260b4f83e8605ad078fbf967    NA     NA
##                                                                                                                                                                                                                           url
## 1                                       https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.variables.20211222T043153Z.csv
## 2                         https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.brd_references.expanded.20211222T043153Z.csv
## 3  https://storage.googleapis.com/neon-publication/release/tag/RELEASE-2022/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.EML.20150701-20150705.20220120T173946Z.xml
## 4                                      https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP0.10003.001.validation.20211222T043153Z.csv
## 5                   https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.expanded.20211222T043153Z.csv
## 6                          https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.Bird_Conservancy_of_the_Rockies.brd_personnel.20211222T043153Z.csv
## 7                  https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.expanded.20211222T043153Z.csv
## 8                                https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP0.10003.001.categoricalCodes.20211222T043153Z.csv
## 9                 https://storage.googleapis.com/neon-publication/release/tag/RELEASE-2022/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.readme.20220120T173946Z.txt
## 10                                         https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.variables.20211222T043153Z.csv
## 11                                  https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP0.10003.001.categoricalCodes.20211222T043153Z.csv
## 12                       https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.basic.20211222T043153Z.csv
## 13                   https://storage.googleapis.com/neon-publication/release/tag/RELEASE-2022/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.readme.20220120T173946Z.txt
## 14    https://storage.googleapis.com/neon-publication/release/tag/RELEASE-2022/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.EML.20150701-20150705.20220120T173946Z.xml
## 15                        https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.basic.20211222T043153Z.csv
## 16                                        https://storage.googleapis.com/neon-publication/NEON.DOM.SITE.DP1.10003.001/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP0.10003.001.validation.20211222T043153Z.csv</code></pre>
<p>In this output, <code>name</code> and <code>url</code> are key fields. It provides us with the
names of the files available for this site and month, and URLs where we
can get the files. We’ll use the file names to pick which ones we want.</p>
<p>The available files include both <strong>data</strong> and <strong>metadata</strong>, and both the
<strong>basic</strong> and <strong>expanded</strong> data packages. Typically the expanded package
includes additional quality or uncertainty data, either in additional
files or additional fields than in the basic files. Basic and expanded
data packages are available for most NEON data products (some only have
basic). Metadata are described by file name below.</p>
<p>The format for most of the file names is:</p>
<p><strong>NEON.[domain number].[site code].[data product ID].[file-specific
name]. [date of file creation]</strong></p>
<p>Some files omit the domain and site, since they’re not specific to a
location, like the data product readme. The date of file creation uses
the ISO6801 format, in this case 20170720T182547Z, and can be used to
determine whether data have been updated since the last time you
downloaded.</p>
<p>Available files in our query for July 2015 at Woodworth are all of the
following (leaving off the initial NEON.D09.WOOD.10003.001):</p>
<ul>
<li><p><strong>~.2015-07.expanded.20170720T182547Z.zip:</strong> zip of all files in
the expanded package</p></li>
<li><p><strong>~.brd_countdata.2015-07.expanded.20170720T182547Z.csv:</strong> count
data table, expanded package version: counts of birds at each point</p></li>
<li><p><strong>~.brd_perpoint.2015-07.expanded.20170720T182547Z.csv:</strong> point
data table, expanded package version: metadata at each observation
point</p></li>
<li><p><strong>NEON.Bird Conservancy of the Rockies.brd_personnel.csv:</strong>
personnel data table, accuracy scores for bird observers</p></li>
<li><p><strong>~.2015-07.basic.20170720T182547Z.zip:</strong> zip of all files in the
basic package</p></li>
<li><p><strong>~.brd_countdata.2015-07.basic.20170720T182547Z.csv:</strong> count data
table, basic package version: counts of birds at each point</p></li>
<li><p><strong>~.brd_perpoint.2015-07.basic.20170720T182547Z.csv:</strong> point data
table, basic package version: metadata at each observation point</p></li>
<li><p><strong>NEON.DP1.10003.001_readme.txt:</strong> readme for the data product (not
specific to dates or location). Appears twice in the list, since
it’s in both the basic and expanded package</p></li>
<li><p><strong>~.20150101-20160613.xml:</strong> Ecological Metadata Language (EML)
file. Appears twice in the list, since it’s in both the basic and
expanded package</p></li>
<li><p><strong>~.validation.20170720T182547Z.csv:</strong> validation file for the data
product, lists input data and data entry rules. Appears twice in the
list, since it’s in both the basic and expanded package</p></li>
<li><p><strong>~.variables.20170720T182547Z.csv:</strong> variables file for the data
product, lists data fields in downloaded tables. Appears twice in
the list, since it’s in both the basic and expanded package</p></li>
</ul>
<p>We’ll get the data tables for the point data and count data in the basic
package. The list of files doesn’t return in the same order every time,
so we won’t use position in the list to select. Plus, we want code we
can re-use when getting data from other sites and other months. So we
select files based on the data table name and the package name.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get both files</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>brd.count <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(brd.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>url</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>                        [<span class="fu">intersect</span>(<span class="fu">grep</span>(<span class="st">&quot;countdata&quot;</span>, </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>                                        brd.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name),</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">grep</span>(<span class="st">&quot;basic&quot;</span>, </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>                                         brd.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name))], </span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>brd.point <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(brd.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>url</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>                        [<span class="fu">intersect</span>(<span class="fu">grep</span>(<span class="st">&quot;perpoint&quot;</span>, </span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>                                        brd.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name),</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">grep</span>(<span class="st">&quot;basic&quot;</span>, </span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>                                         brd.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name))], </span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sep=</span><span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<p>Now we have the data and can access it in R. Just to show that the files
we pulled have actual data in them, let’s make a quick graphic:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cluster by species </span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>clusterBySp <span class="ot">&lt;-</span> brd.count <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(scientificName) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">total=</span><span class="fu">sum</span>(clusterSize, <span class="at">na.rm=</span>T))</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder so list is ordered most to least abundance</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>clusterBySp <span class="ot">&lt;-</span> clusterBySp[<span class="fu">order</span>(clusterBySp<span class="sc">$</span>total, <span class="at">decreasing=</span>T),]</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(clusterBySp<span class="sc">$</span>total, <span class="at">names.arg=</span>clusterBySp<span class="sc">$</span>scientificName, </span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span><span class="st">&quot;Total&quot;</span>, <span class="at">cex.names=</span><span class="fl">0.5</span>, <span class="at">las=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/os-plot-bird-data-1.png" width="672" /></p>
<p>Wow! There are lots of <em>Agelaius phoeniceus</em> (Red-winged Blackbirds) at
WOOD in July.</p>
</div>
<div id="instrumentation-data-is" class="section level3 hasAnchor" number="2.12.4">
<h3 class="hasAnchor"><span class="header-section-number">2.12.4</span> Instrumentation data (IS)<a href="#instrumentation-data-is" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The process is essentially the same for sensor data. We’ll do the same
series of queries for Soil Temperature, DP1.00041.001. Let’s use data
from Moab in June 2017 this time.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request soil temperature data availability info</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>req.soil <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/products/DP1.00041.001&quot;</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># make this JSON readable</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Note how we&#39;ve change this from two commands into one here</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>avail.soil <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(req.soil, <span class="at">as=</span><span class="st">&quot;text&quot;</span>), <span class="at">simplifyDataFrame=</span>T, <span class="at">flatten=</span>T)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="co"># get data availability list for the product</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>temp.urls <span class="ot">&lt;-</span> <span class="fu">unlist</span>(avail.soil<span class="sc">$</span>data<span class="sc">$</span>siteCodes<span class="sc">$</span>availableDataUrls)</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="co"># get data availability from location/date of interest</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">GET</span>(temp.urls[<span class="fu">grep</span>(<span class="st">&quot;MOAB/2017-06&quot;</span>, temp.urls)])</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>tmp.files <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(tmp, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tmp.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name) <span class="co"># There are a lot of available files</span></span></code></pre></div>
<pre><code>## [1] 188</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>tmp.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]   <span class="co"># Let&#39;s print the first 10</span></span></code></pre></div>
<pre><code>##  [1] &quot;NEON.D13.MOAB.DP1.00041.001.001.506.001.ST_1_minute.2017-06.basic.20211210T224045Z.csv&quot; 
##  [2] &quot;NEON.D13.MOAB.DP1.00041.001.004.505.001.ST_1_minute.2017-06.basic.20211210T224045Z.csv&quot; 
##  [3] &quot;NEON.D13.MOAB.DP1.00041.001.004.508.030.ST_30_minute.2017-06.basic.20211210T224045Z.csv&quot;
##  [4] &quot;NEON.D13.MOAB.DP1.00041.001.004.502.030.ST_30_minute.2017-06.basic.20211210T224045Z.csv&quot;
##  [5] &quot;NEON.D13.MOAB.DP1.00041.001.004.502.001.ST_1_minute.2017-06.basic.20211210T224045Z.csv&quot; 
##  [6] &quot;NEON.D13.MOAB.DP1.00041.001.readme.20220120T173946Z.txt&quot;                                
##  [7] &quot;NEON.D13.MOAB.DP1.00041.001.005.504.001.ST_1_minute.2017-06.basic.20211210T224045Z.csv&quot; 
##  [8] &quot;NEON.D13.MOAB.DP1.00041.001.001.506.030.ST_30_minute.2017-06.basic.20211210T224045Z.csv&quot;
##  [9] &quot;NEON.D13.MOAB.DP1.00041.001.001.504.001.ST_1_minute.2017-06.basic.20211210T224045Z.csv&quot; 
## [10] &quot;NEON.D13.MOAB.DP1.00041.001.005.509.001.ST_1_minute.2017-06.basic.20211210T224045Z.csv&quot;</code></pre>
<p>These file names start and end the same way as the observational files,
but the middle is a little more cryptic. The structure from beginning to
end is:</p>
<p><strong>NEON.[domain number].[site code].[data product ID].00000. [soil plot
number].[depth].[averaging interval].[data table name].
[year]-[month].[data package].[date of file creation]</strong></p>
<p>So
<strong>“NEON.D13.MOAB.DP1.00041.001.003.507.030.ST_30_minute.2017-06.expanded.20200620T070859Z.csv”</strong>
is the:</p>
<ul>
<li>NEON (<code>NEON.</code>)</li>
<li>Domain 13 (<code>.D13.</code>)</li>
<li>Moab field site (<code>.MOAB.</code>)</li>
<li>soil temperature data (<code>.DP1.00041.001.</code>)</li>
<li>collected in Soil Plot 2, (<code>.002.</code>)</li>
<li>at the 7th depth below the surface (<code>.507.</code>)</li>
<li>and reported as a 30-minute mean of (<code>.030.</code> and <code>.ST_30_minute.</code>)</li>
<li>only for the period of June 2017 (<code>.2017-06.</code>)</li>
<li>and provided in a expanded data package (<code>.basic.</code>)</li>
<li>published on June 20th, 2020 (<code>.0200620T070859Z.</code>).</li>
</ul>
<p>More information about interpreting file names can be found in the
readme that accompanies each download.</p>
<p>Let’s get data (and the URL) for only the 2nd depth described above by
selecting <code>002.502.030</code> and the word <code>basic</code> in the file name.</p>
<p>Go get it:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>soil.temp <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(tmp.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>url</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>                        [<span class="fu">intersect</span>(<span class="fu">grep</span>(<span class="st">&quot;002.502.030&quot;</span>, </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>                                        tmp.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name),</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">grep</span>(<span class="st">&quot;basic&quot;</span>, </span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>                                        tmp.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name))], </span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sep=</span><span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<p>Now we have the data and can use it to conduct our analyses. To take a
quick look at it, let’s plot the mean soil temperature by date.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot temp ~ date</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(soil.temp<span class="sc">$</span>soilTempMean<span class="sc">~</span><span class="fu">as.POSIXct</span>(soil.temp<span class="sc">$</span>startDateTime, </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">format=</span><span class="st">&quot;%Y-%m-%d T %H:%M:%S Z&quot;</span>), </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="st">&quot;.&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Date&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;T&quot;</span>)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/os-plot-soil-data-1.png" width="672" /></p>
<p>As we’d expect we see daily fluctuation in soil temperature.</p>
</div>
<div id="remote-sensing-data-aop" class="section level3 hasAnchor" number="2.12.5">
<h3 class="hasAnchor"><span class="header-section-number">2.12.5</span> Remote sensing data (AOP)<a href="#remote-sensing-data-aop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Again, the process of determining which sites and time periods have
data, and finding the URLs for those data, is the same as for the other
data types. We’ll go looking for High resolution orthorectified camera
imagery, DP1.30010.001, and we’ll look at the flight over San Joaquin
Experimental Range (SJER) in March 2017.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request camera data availability info</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>req.aop <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/products/DP1.30010.001&quot;</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># make this JSON readable</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Note how we&#39;ve changed this from two commands into one here</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>avail.aop <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(req.aop, <span class="at">as=</span><span class="st">&quot;text&quot;</span>), </span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">simplifyDataFrame=</span>T, <span class="at">flatten=</span>T)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co"># get data availability list for the product</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>cam.urls <span class="ot">&lt;-</span> <span class="fu">unlist</span>(avail.aop<span class="sc">$</span>data<span class="sc">$</span>siteCodes<span class="sc">$</span>availableDataUrls)</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="co"># get data availability from location/date of interest</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>cam <span class="ot">&lt;-</span> <span class="fu">GET</span>(cam.urls[<span class="fu">intersect</span>(<span class="fu">grep</span>(<span class="st">&quot;SJER&quot;</span>, cam.urls),</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">grep</span>(<span class="st">&quot;2017&quot;</span>, cam.urls))])</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>cam.files <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(cam, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a><span class="co"># this list of files is very long, so we&#39;ll just look at the first ten</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cam.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;17032816_EH021656(20170328201220)-1213_ort.tif&quot;
##  [2] &quot;17032816_EH021656(20170328195926)-1146_ort.tif&quot;
##  [3] &quot;17032816_EH021656(20170328200315)-1163_ort.tif&quot;
##  [4] &quot;17032816_EH021656(20170328201328)-1228_ort.tif&quot;
##  [5] &quot;17032816_EH021656(20170328181147)-0245_ort.tif&quot;
##  [6] &quot;17032816_EH021656(20170328185925)-0618_ort.tif&quot;
##  [7] &quot;17032816_EH021656(20170328175140)-0064_ort.tif&quot;
##  [8] &quot;17032816_EH021656(20170328184137)-0482_ort.tif&quot;
##  [9] &quot;17032816_EH021656(20170328184652)-0514_ort.tif&quot;
## [10] &quot;17032816_EH021656(20170328181633)-0279_ort.tif&quot;</code></pre>
<p>File names for AOP data are more variable than for IS or OS data;
different AOP data products use different naming conventions. File
formats differ by product as well.</p>
<p>This particular product, camera imagery, is stored in TIFF files.</p>
<p>Instead of reading a TIFF into R, we’ll download it to the working
directory. This is one option for getting AOP files from the API.</p>
<p>To download the TIFF file, we use the <code>downloader</code> package, and we’ll
select a file based on the time stamp in the file name: <code>20170328192931</code></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">download</span>(cam.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>url[<span class="fu">grep</span>(<span class="st">&quot;20170328192931&quot;</span>, </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>                                       cam.files<span class="sc">$</span>data<span class="sc">$</span>files<span class="sc">$</span>name)],</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">paste</span>(<span class="fu">getwd</span>(), <span class="st">&quot;/SJER_image.tif&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>), <span class="at">mode=</span><span class="st">&quot;wb&quot;</span>)</span></code></pre></div>
<p>The image, below, of the San Joaquin Experimental Range should now be in
your working directory.</p>
<p><img src="images/SJER_tile_20170328192931.png" width="500" /></p>
<blockquote>
<p>An example of camera data (DP1.30010.001) from the San Joaquin
Experimental Range. Source: National Ecological Observatory Network
(NEON)</p>
</blockquote>
</div>
<div id="geolocation-data" class="section level3 hasAnchor" number="2.12.6">
<h3 class="hasAnchor"><span class="header-section-number">2.12.6</span> Geolocation data<a href="#geolocation-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You may have noticed some of the spatial data referenced above are a bit
vague, e.g. “soil plot 2, 4th depth below the surface.”</p>
<p>This section describes how to get spatial data and what to do with it
depends on which type of data you’re working with.</p>
<div id="instrumentation-data-both-aquatic-and-terrestrial" class="section level4 hasAnchor" number="2.12.6.1">
<h4 class="hasAnchor"><span class="header-section-number">2.12.6.1</span> Instrumentation data (both aquatic and terrestrial)<a href="#instrumentation-data-both-aquatic-and-terrestrial" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Downloads of instrument system (IS) data include a file called
sensor_positions.csv. The sensor positions file contains information
about the coordinates of each sensor, relative to a reference location.</p>
<p>While the specifics vary, techniques are generalizable for working with
sensor data and the sensor_positions.csv file. Let’s look at the sensor
locations for photosynthetically active radiation (PAR; DP1.00024.001)
at the NEON Treehaven site (TREE) in July 2018. To reduce our file size,
we’ll use the 30 minute averaging interval. Our final product from this
section is to create a spatially explicit picture of light attenuation
through the canopy.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load PAR data of interest </span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>par <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP1.00024.001&quot;</span>, <span class="at">site=</span><span class="st">&quot;TREE&quot;</span>,</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">startdate=</span><span class="st">&quot;2018-07&quot;</span>, <span class="at">enddate=</span><span class="st">&quot;2018-07&quot;</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">avg=</span><span class="dv">30</span>, <span class="at">check.size=</span>F, <span class="at">token=</span>NEON_TOKEN)</span></code></pre></div>
<pre><code>## Input parameter avg is deprecated; use timeIndex to download by time interval.
## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 0.963266 MB
## Downloading 9 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=========                                                             |  12%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |==========================                                            |  38%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |============================================                          |  62%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |=============================================================         |  88%
  |                                                                            
  |======================================================================| 100%
## 
## Stacking operation across a single core.
## Stacking table PARPAR_30min
## Merged the most recent publication of sensor position files for each site and saved to /stackedFiles
## Copied the most recent publication of variable definition file to /stackedFiles
## Finished: Stacked 1 data tables and 3 metadata tables!
## Stacking took 0.3274581 secs</code></pre>
<p><strong>Now we can specifically look at the sensor positions file:</strong></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create object for sens. pos. file</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>pos <span class="ot">&lt;-</span> par<span class="sc">$</span>sensor_positions_00024</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># view names</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(pos)</span></code></pre></div>
<pre><code>##  [1] &quot;siteID&quot;               &quot;HOR.VER&quot;              &quot;name&quot;                
##  [4] &quot;description&quot;          &quot;start&quot;                &quot;end&quot;                 
##  [7] &quot;referenceName&quot;        &quot;referenceDescription&quot; &quot;referenceStart&quot;      
## [10] &quot;referenceEnd&quot;         &quot;xOffset&quot;              &quot;yOffset&quot;             
## [13] &quot;zOffset&quot;              &quot;pitch&quot;                &quot;roll&quot;                
## [16] &quot;azimuth&quot;              &quot;referenceLatitude&quot;    &quot;referenceLongitude&quot;  
## [19] &quot;referenceElevation&quot;   &quot;eastOffset&quot;           &quot;northOffset&quot;         
## [22] &quot;xAzimuth&quot;             &quot;yAzimuth&quot;             &quot;publicationDate&quot;</code></pre>
<p>The sensor locations are indexed by the <a href="https://data.neonscience.org/file-naming-conventions">HOR.VER
variable</a> - see
the file naming conventions page for more details.</p>
<p>Using unique() we can view all the locations indexes in this file.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view names</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pos<span class="sc">$</span>HOR.VER)</span></code></pre></div>
<pre><code>## [1] &quot;000.010&quot; &quot;000.020&quot; &quot;000.030&quot; &quot;000.040&quot; &quot;000.050&quot; &quot;000.060&quot;</code></pre>
<p>PAR data are collected at multiple levels of the NEON tower but along a
single vertical plane. We see this reflected in the data where HOR=000
(all data collected) at the tower location. The VER index varies (VER =
010 to 060) showing that the vertical position is changing and that PAR
is measured at six different levels.</p>
<p>The x, y, and z offsets in the sensor positions file are the relative
distance, in meters, to the reference latitude, longitude, and elevation
in the file.</p>
<p>The HOR and VER indices in the sensor positions file correspond to the
verticalPosition and horizontalPosition fields in par$PARPAR_30min.</p>
<p>Say we wanted to plot a profile of the PAR through the canopy, we would
need to start by using the aggregate() function to calculate mean PAR at
each vertical position on the tower over the month:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calc mean PAR at each level</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>parMean <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(par<span class="sc">$</span>PARPAR_30min<span class="sc">$</span>PARMean, </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">by=</span><span class="fu">list</span>(par<span class="sc">$</span>PARPAR_30min<span class="sc">$</span>verticalPosition),</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">FUN=</span>mean, <span class="at">na.rm=</span>T)</span></code></pre></div>
<p>Now we can plot mean PAR relative to height on the tower (or the
zOffset):</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot PAR</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(parMean<span class="sc">$</span>x, parMean<span class="sc">$</span>Group<span class="fl">.1</span>, <span class="at">type=</span><span class="st">&quot;b&quot;</span>, <span class="at">pch=</span><span class="dv">20</span>,</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Photosynthetically active radiation&quot;</span>,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&quot;Height above tower base (m)&quot;</span>)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
<div id="observational-data---terrestrial" class="section level4 hasAnchor" number="2.12.6.2">
<h4 class="hasAnchor"><span class="header-section-number">2.12.6.2</span> Observational data - Terrestrial<a href="#observational-data---terrestrial" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Latitude, longitude, elevation, and associated uncertainties are
included in data downloads <em>(Remember NEON COding Lab part 1?)</em>. These
are the coordinates and uncertainty of the sampling plot; for many
protocols it is possible to calculate a more precise location.
Instructions for doing this are in the respective data product user
guides, and code is in the <code>geoNEON</code> package on GitHub.</p>
</div>
</div>
<div id="querying-a-single-named-location" class="section level3 hasAnchor" number="2.12.7">
<h3 class="hasAnchor"><span class="header-section-number">2.12.7</span> Querying a single named location<a href="#querying-a-single-named-location" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s look at the named locations in the bird data we downloaded above.
To do this, look for the field called <code>namedLocation</code>, which is present
in all observational data products, both aquatic and terrestrial.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view named location</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(brd.point<span class="sc">$</span>namedLocation)</span></code></pre></div>
<pre><code>## [1] &quot;WOOD_013.birdGrid.brd&quot; &quot;WOOD_013.birdGrid.brd&quot; &quot;WOOD_013.birdGrid.brd&quot;
## [4] &quot;WOOD_013.birdGrid.brd&quot; &quot;WOOD_013.birdGrid.brd&quot; &quot;WOOD_013.birdGrid.brd&quot;</code></pre>
<p>Here we see the first six entries in the <code>namedLocation</code> column which
tells us the names of the Terrestrial Observation plots where the bird
surveys were conducted.</p>
<p>We can query the locations endpoint of the API for the first named
location, <code>WOOD_013.birdGrid.brd</code>.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># location data </span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>req.loc <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd&quot;</span>)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="co"># make this JSON readable</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>brd.WOOD_013 <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(req.loc, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>brd.WOOD_013</span></code></pre></div>
<pre><code>## $data
## $data$locationName
## [1] &quot;WOOD_013.birdGrid.brd&quot;
## 
## $data$locationDescription
## [1] &quot;Plot \&quot;WOOD_013\&quot; at site \&quot;WOOD\&quot;&quot;
## 
## $data$locationType
## [1] &quot;OS Plot - brd&quot;
## 
## $data$domainCode
## [1] &quot;D09&quot;
## 
## $data$siteCode
## [1] &quot;WOOD&quot;
## 
## $data$locationDecimalLatitude
## [1] 47.13912
## 
## $data$locationDecimalLongitude
## [1] -99.23243
## 
## $data$locationElevation
## [1] 579.31
## 
## $data$locationUtmEasting
## [1] 482375.7
## 
## $data$locationUtmNorthing
## [1] 5220650
## 
## $data$locationUtmHemisphere
## [1] &quot;N&quot;
## 
## $data$locationUtmZone
## [1] 14
## 
## $data$alphaOrientation
## [1] 0
## 
## $data$betaOrientation
## [1] 0
## 
## $data$gammaOrientation
## [1] 0
## 
## $data$xOffset
## [1] 0
## 
## $data$yOffset
## [1] 0
## 
## $data$zOffset
## [1] 0
## 
## $data$offsetLocation
## NULL
## 
## $data$locationProperties
##                             locationPropertyName locationPropertyValue
## 1                    Value for Coordinate source            GeoXH 6000
## 2               Value for Coordinate uncertainty                  0.28
## 3                              Value for Country          unitedStates
## 4                               Value for County              Stutsman
## 5                Value for Elevation uncertainty                  0.48
## 6                   Value for Filtered positions                   121
## 7                       Value for Geodetic datum                 WGS84
## 8     Value for Horizontal dilution of precision                     1
## 9                    Value for Maximum elevation                579.31
## 10                   Value for Minimum elevation                569.79
## 11 Value for National Land Cover Database (2001)   grasslandHerbaceous
## 12                     Value for Plot dimensions           500m x 500m
## 13                             Value for Plot ID              WOOD_013
## 14                           Value for Plot size                250000
## 15                        Value for Plot subtype              birdGrid
## 16                           Value for Plot type           distributed
## 17    Value for Positional dilution of precision                   2.4
## 18            Value for Reference Point Position                    B2
## 19                        Value for Slope aspect                238.91
## 20                      Value for Slope gradient                  2.83
## 21                     Value for Soil type order             Mollisols
## 22                      Value for State province                    ND
## 23               Value for Subtype Specification            ninePoints
## 24                            Value for UTM Zone                   14N
## 
## $data$locationParent
## [1] &quot;WOOD&quot;
## 
## $data$locationParentUrl
## [1] &quot;https://data.neonscience.org/api/v0/locations/WOOD&quot;
## 
## $data$locationChildren
## [1] &quot;WOOD_013.birdGrid.brd.C3&quot; &quot;WOOD_013.birdGrid.brd.B2&quot;
## [3] &quot;WOOD_013.birdGrid.brd.A3&quot; &quot;WOOD_013.birdGrid.brd.A2&quot;
## [5] &quot;WOOD_013.birdGrid.brd.A1&quot; &quot;WOOD_013.birdGrid.brd.C2&quot;
## [7] &quot;WOOD_013.birdGrid.brd.B1&quot; &quot;WOOD_013.birdGrid.brd.B3&quot;
## [9] &quot;WOOD_013.birdGrid.brd.C1&quot;
## 
## $data$locationChildrenUrls
## [1] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.C3&quot;
## [2] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.B2&quot;
## [3] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.A3&quot;
## [4] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.A2&quot;
## [5] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.A1&quot;
## [6] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.C2&quot;
## [7] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.B1&quot;
## [8] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.B3&quot;
## [9] &quot;https://data.neonscience.org/api/v0/locations/WOOD_013.birdGrid.brd.C1&quot;</code></pre>
<p>Note spatial information under <code>$data$[nameOfCoordinate]</code> and under
<code>$data$locationProperties</code>. Also note <code>$data$locationChildren</code>: these
are the finer scale locations that can be used to calculate precise
spatial data for bird observations.</p>
<p>For convenience, we’ll use the <code>geoNEON</code> package to make the
calculations. First we’ll use <code>getLocByName()</code> to get the additional
spatial information available through the API, and look at the spatial
resolution available in the initial download:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the geoNEON package</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geoNEON)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the spatial data</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>brd.point.loc <span class="ot">&lt;-</span> <span class="fu">getLocByName</span>(brd.point)</span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |====================                                                  |  29%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |==================================================                    |  71%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot bird point locations </span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co"># note that decimal degrees is also an option in the data</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(brd.point.loc<span class="sc">$</span>easting, brd.point.loc<span class="sc">$</span>northing, </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">circles=</span>brd.point.loc<span class="sc">$</span>coordinateUncertainty, </span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;Easting&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Northing&quot;</span>, <span class="at">tck=</span><span class="fl">0.01</span>, <span class="at">inches=</span>F)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/brd-extr-NL-1.png" width="672" /></p>
<p>And use <code>getLocTOS()</code> to calculate the point locations of observations.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>brd.point.pt <span class="ot">&lt;-</span> <span class="fu">getLocTOS</span>(brd.point, <span class="st">&quot;brd_perpoint&quot;</span>)</span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=                                                                     |   2%
  |                                                                            
  |==                                                                    |   3%
  |                                                                            
  |===                                                                   |   5%
  |                                                                            
  |====                                                                  |   6%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |===========                                                           |  16%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |=============                                                         |  19%
  |                                                                            
  |==============                                                        |  21%
  |                                                                            
  |================                                                      |  22%
  |                                                                            
  |=================                                                     |  24%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |====================                                                  |  29%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |========================                                              |  35%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |===========================                                           |  38%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |================================                                      |  46%
  |                                                                            
  |=================================                                     |  48%
  |                                                                            
  |==================================                                    |  49%
  |                                                                            
  |====================================                                  |  51%
  |                                                                            
  |=====================================                                 |  52%
  |                                                                            
  |======================================                                |  54%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |===========================================                           |  62%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |==============================================                        |  65%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |================================================                      |  68%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |==================================================                    |  71%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |=====================================================                 |  76%
  |                                                                            
  |======================================================                |  78%
  |                                                                            
  |========================================================              |  79%
  |                                                                            
  |=========================================================             |  81%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |===========================================================           |  84%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |==================================================================    |  94%
  |                                                                            
  |===================================================================   |  95%
  |                                                                            
  |====================================================================  |  97%
  |                                                                            
  |===================================================================== |  98%
  |                                                                            
  |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot bird point locations </span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="co"># note that decimal degrees is also an option in the data</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(brd.point.pt<span class="sc">$</span>adjEasting, brd.point.pt<span class="sc">$</span>adjNorthing,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">circles=</span>brd.point.pt<span class="sc">$</span>adjCoordinateUncertainty,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;Easting&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Northing&quot;</span>, <span class="at">tck=</span><span class="fl">0.01</span>, <span class="at">inches=</span>F)</span></code></pre></div>
<p><img src="02_Introduction_to_NEON_files/figure-html/brd-calc-NL-1.png" width="672" /></p>
<p>Now you can see the individual points where the respective point counts
were located.</p>
</div>
<div id="taxonomy" class="section level3 hasAnchor" number="2.12.8">
<h3 class="hasAnchor"><span class="header-section-number">2.12.8</span> Taxonomy<a href="#taxonomy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>NEON maintains accepted taxonomies for many of the taxonomic
identification data we collect. NEON taxonomies are available for query
via the API; they are also provided via an interactive user interface,
the <a href="http://data.neonscience.org/static/taxon.html">Taxon Viewer</a>.</p>
<p>NEON taxonomy data provides the reference information for how NEON
validates taxa; an identification must appear in the taxonomy lists in
order to be accepted into the NEON database. Additions to the lists are
reviewed regularly. The taxonomy lists also provide the author of the
scientific name, and the reference text used.</p>
<p>The taxonomy endpoint of the API works a little bit differently from the
other endpoints. In the “Anatomy of an API Call” section above, each
endpoint has a single type of target - a data product number, a named
location name, etc. For taxonomic data, there are multiple query
options, and some of them can be used in combination. For example, a
query for taxa in the Pinaceae family:</p>
<p><span style="color:#A2A4A3"><a href="http://data.neonscience.org/api/v0/taxonomy" class="uri">http://data.neonscience.org/api/v0/taxonomy</a></span><span style="color:#A00606;font-weight:bold">/?family=Pinaceae</span></p>
<p>The available types of queries are listed in the
<a href="http://data.neonscience.org/data-api#!/taxonomy/Get_taxonomy" target="_blank">taxonomy
section</a> of the API web page. Briefly, they are:</p>
<ul>
<li><code>taxonTypeCode</code>: Which of the taxonomies maintained by NEON are you
looking for? BIRD, FISH, PLANT, etc. Cannot be used in combination
with the taxonomic rank queries.</li>
<li>each of the major taxonomic ranks from genus through kingdom</li>
<li><code>scientificname</code>: Genus + specific epithet (+ authority). Search is
by exact match only, see final example below.</li>
<li><code>verbose</code>: Do you want the short (<code>false</code>) or long (<code>true</code>) response</li>
<li><code>offset</code>: Skip this number of items in the list. Defaults to 50.</li>
<li><code>limit</code>: Result set will be truncated at this length. Defaults to
<ol start="50" style="list-style-type: decimal">
<li></li>
</ol></li>
</ul>
<p>Staff on the NEON project have plans to modify the settings for <code>offset</code>
and <code>limit</code>, such that <code>offset</code> will default to 0 and <code>limit</code> will
default to ∞, but in the meantime users will want to set these manually.
They are set to non-default values in the examples below.</p>
<p>For the first example, let’s query for the loon family, Gaviidae, in the
bird taxonomy. Note that query parameters are case-sensitive.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>loon.req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/taxonomy/?family=Gaviidae&amp;offset=0&amp;limit=500&quot;</span>)</span></code></pre></div>
<p>Parse the results into a list using <code>fromJSON()</code>:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>loon.list <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(loon.req, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span></code></pre></div>
<p>And look at the <code>$data</code> element of the results, which contains:</p>
<ul>
<li>The full taxonomy of each taxon</li>
<li>The short taxon code used by NEON (taxonID/acceptedTaxonID)</li>
<li>The author of the scientific name (scientificNameAuthorship)</li>
<li>The vernacular name, if applicable</li>
<li>The reference text used (nameAccordingToID)</li>
</ul>
<p>The terms used for each field are matched to Darwin Core (dwc) and the
Global Biodiversity Information Facility (gbif) terms, where possible,
and the matches are indicated in the column headers.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>loon.list<span class="sc">$</span>data</span></code></pre></div>
<pre><code>##   taxonTypeCode taxonID acceptedTaxonID dwc:scientificName
## 1          BIRD    ARLO            ARLO      Gavia arctica
## 2          BIRD    COLO            COLO        Gavia immer
## 3          BIRD    PALO            PALO     Gavia pacifica
## 4          BIRD    RTLO            RTLO     Gavia stellata
## 5          BIRD    UNLN            UNLN          Gavia sp.
## 6          BIRD    YBLO            YBLO      Gavia adamsii
##   dwc:scientificNameAuthorship dwc:taxonRank dwc:vernacularName
## 1                   (Linnaeus)       species        Arctic Loon
## 2                   (Brunnich)       species        Common Loon
## 3                   (Lawrence)       species       Pacific Loon
## 4                (Pontoppidan)       species  Red-throated Loon
## 5                         &lt;NA&gt;         genus       Unknown Loon
## 6                 (G. R. Gray)       species Yellow-billed Loon
##                                  dwc:nameAccordingToID dwc:kingdom dwc:phylum
## 1                             doi: 10.1642/AUK-15-73.1    Animalia   Chordata
## 2                             doi: 10.1642/AUK-15-73.1    Animalia   Chordata
## 3                             doi: 10.1642/AUK-15-73.1    Animalia   Chordata
## 4                             doi: 10.1642/AUK-15-73.1    Animalia   Chordata
## 5 http://www.birdconservancy.org/ (accessed 5/16/2016)    Animalia   Chordata
## 6                             doi: 10.1642/AUK-15-73.1    Animalia   Chordata
##   dwc:class   dwc:order dwc:family dwc:genus gbif:subspecies gbif:variety
## 1      Aves Gaviiformes   Gaviidae     Gavia              NA           NA
## 2      Aves Gaviiformes   Gaviidae     Gavia              NA           NA
## 3      Aves Gaviiformes   Gaviidae     Gavia              NA           NA
## 4      Aves Gaviiformes   Gaviidae     Gavia              NA           NA
## 5      Aves Gaviiformes   Gaviidae     Gavia              NA           NA
## 6      Aves Gaviiformes   Gaviidae     Gavia              NA           NA</code></pre>
<p>To get the entire list for a particular taxonomic type, use the
<code>taxonTypeCode</code> query. Be cautious with this query, the PLANT taxonomic
list has several hundred thousand entries.</p>
<p>For an example, let’s look up the small mammal taxonomic list, which is
one of the shorter ones, and use the <code>verbose=true</code> option to see a more
extensive list of taxon data, including many taxon ranks that aren’t
populated for these taxa. For space here, we display only the first 10
taxa:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>mam.req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/taxonomy/?taxonTypeCode=SMALL_MAMMAL&amp;offset=0&amp;limit=500&amp;verbose=true&quot;</span>)</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>mam.list <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(mam.req, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>mam.list<span class="sc">$</span>data[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span></code></pre></div>
<pre><code>##    taxonTypeCode taxonID acceptedTaxonID               dwc:scientificName
## 1   SMALL_MAMMAL    AMHA            AMHA        Ammospermophilus harrisii
## 2   SMALL_MAMMAL    AMIN            AMIN       Ammospermophilus interpres
## 3   SMALL_MAMMAL    AMLE            AMLE        Ammospermophilus leucurus
## 4   SMALL_MAMMAL    AMLT            AMLT Ammospermophilus leucurus tersus
## 5   SMALL_MAMMAL    AMNE            AMNE         Ammospermophilus nelsoni
## 6   SMALL_MAMMAL    AMSP            AMSP             Ammospermophilus sp.
## 7   SMALL_MAMMAL    APRN            APRN            Aplodontia rufa nigra
## 8   SMALL_MAMMAL    APRU            APRU                  Aplodontia rufa
## 9   SMALL_MAMMAL    ARAL            ARAL                Arborimus albipes
## 10  SMALL_MAMMAL    ARLO            ARLO            Arborimus longicaudus
##    dwc:scientificNameAuthorship dwc:taxonRank            dwc:vernacularName
## 1           Audubon and Bachman       species     Harriss Antelope Squirrel
## 2                       Merriam       species       Texas Antelope Squirrel
## 3                       Merriam       species Whitetailed Antelope Squirrel
## 4                       Goldman    subspecies                          &lt;NA&gt;
## 5                       Merriam       species     Nelsons Antelope Squirrel
## 6                          &lt;NA&gt;         genus                          &lt;NA&gt;
## 7                        Taylor    subspecies                          &lt;NA&gt;
## 8                    Rafinesque       species                      Sewellel
## 9                       Merriam       species              Whitefooted Vole
## 10                         True       species                 Red Tree Vole
##    taxonProtocolCategory dwc:nameAccordingToID
## 1          opportunistic  isbn: 978 0801882210
## 2          opportunistic  isbn: 978 0801882210
## 3          opportunistic  isbn: 978 0801882210
## 4          opportunistic  isbn: 978 0801882210
## 5          opportunistic  isbn: 978 0801882210
## 6          opportunistic  isbn: 978 0801882210
## 7             non-target  isbn: 978 0801882210
## 8             non-target  isbn: 978 0801882210
## 9                 target  isbn: 978 0801882210
## 10                target  isbn: 978 0801882210
##                                                                                                                                                 dwc:nameAccordingToTitle
## 1  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 2  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 3  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 4  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 5  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 6  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 7  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 8  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 9  Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
## 10 Wilson D. E. and D. M. Reeder. 2005. Mammal Species of the World; A Taxonomic and Geographic Reference. Third edition. Johns Hopkins University Press; Baltimore, MD.
##    dwc:kingdom gbif:subkingdom gbif:infrakingdom gbif:superdivision
## 1     Animalia              NA                NA                 NA
## 2     Animalia              NA                NA                 NA
## 3     Animalia              NA                NA                 NA
## 4     Animalia              NA                NA                 NA
## 5     Animalia              NA                NA                 NA
## 6     Animalia              NA                NA                 NA
## 7     Animalia              NA                NA                 NA
## 8     Animalia              NA                NA                 NA
## 9     Animalia              NA                NA                 NA
## 10    Animalia              NA                NA                 NA
##    gbif:division gbif:subdivision gbif:infradivision gbif:parvdivision
## 1             NA               NA                 NA                NA
## 2             NA               NA                 NA                NA
## 3             NA               NA                 NA                NA
## 4             NA               NA                 NA                NA
## 5             NA               NA                 NA                NA
## 6             NA               NA                 NA                NA
## 7             NA               NA                 NA                NA
## 8             NA               NA                 NA                NA
## 9             NA               NA                 NA                NA
## 10            NA               NA                 NA                NA
##    gbif:superphylum dwc:phylum gbif:subphylum gbif:infraphylum gbif:superclass
## 1                NA   Chordata             NA               NA              NA
## 2                NA   Chordata             NA               NA              NA
## 3                NA   Chordata             NA               NA              NA
## 4                NA   Chordata             NA               NA              NA
## 5                NA   Chordata             NA               NA              NA
## 6                NA   Chordata             NA               NA              NA
## 7                NA   Chordata             NA               NA              NA
## 8                NA   Chordata             NA               NA              NA
## 9                NA   Chordata             NA               NA              NA
## 10               NA   Chordata             NA               NA              NA
##    dwc:class gbif:subclass gbif:infraclass gbif:superorder dwc:order
## 1   Mammalia            NA              NA              NA  Rodentia
## 2   Mammalia            NA              NA              NA  Rodentia
## 3   Mammalia            NA              NA              NA  Rodentia
## 4   Mammalia            NA              NA              NA  Rodentia
## 5   Mammalia            NA              NA              NA  Rodentia
## 6   Mammalia            NA              NA              NA  Rodentia
## 7   Mammalia            NA              NA              NA  Rodentia
## 8   Mammalia            NA              NA              NA  Rodentia
## 9   Mammalia            NA              NA              NA  Rodentia
## 10  Mammalia            NA              NA              NA  Rodentia
##    gbif:suborder gbif:infraorder gbif:section gbif:subsection gbif:superfamily
## 1             NA              NA           NA              NA               NA
## 2             NA              NA           NA              NA               NA
## 3             NA              NA           NA              NA               NA
## 4             NA              NA           NA              NA               NA
## 5             NA              NA           NA              NA               NA
## 6             NA              NA           NA              NA               NA
## 7             NA              NA           NA              NA               NA
## 8             NA              NA           NA              NA               NA
## 9             NA              NA           NA              NA               NA
## 10            NA              NA           NA              NA               NA
##       dwc:family gbif:subfamily gbif:tribe gbif:subtribe        dwc:genus
## 1      Sciuridae        Xerinae  Marmotini            NA Ammospermophilus
## 2      Sciuridae        Xerinae  Marmotini            NA Ammospermophilus
## 3      Sciuridae        Xerinae  Marmotini            NA Ammospermophilus
## 4      Sciuridae        Xerinae  Marmotini            NA Ammospermophilus
## 5      Sciuridae        Xerinae  Marmotini            NA Ammospermophilus
## 6      Sciuridae        Xerinae  Marmotini            NA Ammospermophilus
## 7  Aplodontiidae           &lt;NA&gt;       &lt;NA&gt;            NA       Aplodontia
## 8  Aplodontiidae           &lt;NA&gt;       &lt;NA&gt;            NA       Aplodontia
## 9     Cricetidae    Arvicolinae       &lt;NA&gt;            NA        Arborimus
## 10    Cricetidae    Arvicolinae       &lt;NA&gt;            NA        Arborimus
##    dwc:subgenus gbif:subspecies gbif:variety gbif:subvariety gbif:form
## 1          &lt;NA&gt;              NA           NA              NA        NA
## 2          &lt;NA&gt;              NA           NA              NA        NA
## 3          &lt;NA&gt;              NA           NA              NA        NA
## 4          &lt;NA&gt;              NA           NA              NA        NA
## 5          &lt;NA&gt;              NA           NA              NA        NA
## 6          &lt;NA&gt;              NA           NA              NA        NA
## 7          &lt;NA&gt;              NA           NA              NA        NA
## 8          &lt;NA&gt;              NA           NA              NA        NA
## 9          &lt;NA&gt;              NA           NA              NA        NA
## 10         &lt;NA&gt;              NA           NA              NA        NA
##    gbif:subform speciesGroup dwc:specificEpithet dwc:infraspecificEpithet
## 1            NA         &lt;NA&gt;            harrisii                     &lt;NA&gt;
## 2            NA         &lt;NA&gt;           interpres                     &lt;NA&gt;
## 3            NA         &lt;NA&gt;            leucurus                     &lt;NA&gt;
## 4            NA         &lt;NA&gt;            leucurus                   tersus
## 5            NA         &lt;NA&gt;             nelsoni                     &lt;NA&gt;
## 6            NA         &lt;NA&gt;                 sp.                     &lt;NA&gt;
## 7            NA         &lt;NA&gt;                rufa                    nigra
## 8            NA         &lt;NA&gt;                rufa                     &lt;NA&gt;
## 9            NA         &lt;NA&gt;             albipes                     &lt;NA&gt;
## 10           NA         &lt;NA&gt;         longicaudus                     &lt;NA&gt;</code></pre>
<p>To get information about a single taxon, use the <code>scientificname</code> query.
This query will not do a ‘fuzzy match’, so you need to query the exact
name of the taxon in the NEON taxonomy. Because of this, the query will
be most useful when you already have NEON data in hand and are looking
for more information about a specific taxon. Querying on
<code>scientificname</code> is unlikely to be an efficient way to figure out if
NEON recognizes a particular taxon.</p>
<p>In addition, scientific names contain spaces, which are not allowed in a
URL. The spaces need to be replaced with the URL encoding replacement,
%20.</p>
<p>For an example, let’s look up the little sand verbena, <em>Abronia minor
Standl.</em> Searching for <em>Abronia minor</em> will fail, because the NEON
taxonomy for this species includes the authority. The search will also
fail with spaces. Search for <code>Abronia%20minor%20Standl.</code>, and in this
case we can omit <code>offset</code> and <code>limit</code> because we know there can only be
a single result:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>am.req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">&quot;http://data.neonscience.org/api/v0/taxonomy/?scientificname=Abronia%20minor%20Standl.&quot;</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>am.list <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="fu">content</span>(am.req, <span class="at">as=</span><span class="st">&quot;text&quot;</span>))</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>am.list<span class="sc">$</span>data</span></code></pre></div>
<pre><code>##   taxonTypeCode taxonID acceptedTaxonID    dwc:scientificName
## 1         PLANT   ABMI2           ABMI2 Abronia minor Standl.
##   dwc:scientificNameAuthorship dwc:taxonRank  dwc:vernacularName
## 1                      Standl.       species little sand verbena
##                         dwc:nameAccordingToID dwc:kingdom    dwc:phylum
## 1 http://plants.usda.gov (accessed 8/25/2014)     Plantae Magnoliophyta
##       dwc:class      dwc:order    dwc:family dwc:genus gbif:subspecies
## 1 Magnoliopsida Caryophyllales Nyctaginaceae   Abronia              NA
##   gbif:variety
## 1           NA</code></pre>
</div>
</div>
<div id="stacking-neon-data" class="section level2 hasAnchor" number="2.13">
<h2 class="hasAnchor"><span class="header-section-number">2.13</span> Stacking NEON data<a href="#stacking-neon-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At the top of this tutorial, we installed the <code>neonUtilities</code> package.
This is a custom R package that stacks the monthly files provided by the
NEON data portal into a single continuous file for each type of data
table in the download. It currently handles files downloaded from the
data portal, but not files pulled from the API.</p>
<p>For a guide to using <code>neonUtilities</code> on data downloaded from the portal,
look
<a href="https://www.neonscience.org/neonDataStackR" target="_blank">here</a>.</p>
</div>
<div id="intro-to-neon-exercises-part-2" class="section level2 hasAnchor" number="2.14">
<h2 class="hasAnchor"><span class="header-section-number">2.14</span> Intro to NEON Exercises Part 2<a href="#intro-to-neon-exercises-part-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="exercise-2.2-written-questions" class="section level3 hasAnchor" number="2.14.1">
<h3 class="hasAnchor"><span class="header-section-number">2.14.1</span> Exercise 2.2: Written questions<a href="#exercise-2.2-written-questions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Suggested Timing: Complete this exercise before our next class
meeting</strong></p>
<p><strong>Question 1:</strong> How does NEON address ‘dark data’ (Chapter 1)?</p>
<p><strong>Question 2:</strong> How might or does the NEON project intersect with your
current research or future career goals? <em>(1 paragraph)</em></p>
</div>
<div id="ds-challenge" markdown="1">
<p><strong>Question 3:</strong> Use the map in <strong>Chapter 2:Intro to NEON</strong> to answer the
following questions. Consider the research question that you may explore
as your final semester project or a current project that you are working
on and answer each of the following questions:</p>
<ul>
<li>Are there NEON field sites that are in study regions of interest to
you?<br />
</li>
<li>What domains are the sites located in?<br />
</li>
<li>What NEON field sites do your current research or Capstone Project
ideas coincide with?<br />
</li>
<li>Is the site or sites core or relocatable?<br />
</li>
<li>Are they terrestrial or aquatic?<br />
</li>
<li>Are there data available for the NEON field site(s) that you are
most interested in? What kind of data are available?</li>
</ul>
</div>
<div markdown="1">
<p><strong>Question 4:</strong> Consider either your current or future research, or a
question you’d like to address durring this course and answer <em>each</em> of
the following questions:</p>
<ul>
<li>Which types of NEON data may be more useful to address these
questions?</li>
<li>What non-NEON data resources could be combined with NEON data to
help address your question?</li>
<li>What challenges, if any, could you foresee when beginning to work
with these data?</li>
</ul>
</div>
<div markdown="1">
<p><strong>Question 5:</strong> Use the Data Portal tools to investigate the data
availability for the field sites you’ve already identified in the
previous sections and answer <em>each</em> of the following questions:</p>
<ul>
<li>What types of aquatic or terrestrial data are currently available?
Remote sensing data?<br />
</li>
<li>Of these, what type of data are you most interested in working with
for your project during this course?<br />
</li>
<li>For what time period does the data cover?<br />
</li>
<li>What format is the downloadable file available in?<br />
</li>
<li>Where is the metadata to support this data?<br />
</li>
</ul>
</div>
<div id="ds-challenge" markdown="1">

</div>
<div id="exercise-2.3-neon-coding-lab---further-exploration-of-neon-data" class="section level3 hasAnchor" number="2.14.2">
<h3 class="hasAnchor"><span class="header-section-number">2.14.2</span> Exercise 2.3: NEON Coding Lab - Further Exploration of NEON Data<a href="#exercise-2.3-neon-coding-lab---further-exploration-of-neon-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Suggested Timing: Complete this exercise a few days before your NEON
clumination write up</strong></p>
<ol style="list-style-type: decimal">
<li>Use the answers that you’ve provided above in Exercise 2.2 to select
a <em>single</em> NEON site.</li>
</ol>
<p>e.g. <code>ONAQ</code></p>
<ol start="2" style="list-style-type: decimal">
<li>Use the answers that you’ve provided above to select <strong>3 NEON data
products</strong> from either the TOS, TIS or ARS (AOP) collection methods.
Sumarize each product with its NEON identifier, along with a
sumarry.</li>
</ol>
<p>e.g.:</p>
<p><code>**DP1.10055.001**: Plant phenology observations: phenophase status and insensity of tagged plants.  This data product contains the quality-controlled, native sampling resolution data from in-situ observations of plant leaf development and reproductive phenophases, at **D15.ONAQ**.</code></p>
<ol start="3" style="list-style-type: decimal">
<li><p>Using the NEON Ulitites package or the API pull in those data along
with metadata.</p></li>
<li><p>Organize your data into <code>data.frames</code> and produce summaries for each
of your data:</p></li>
<li><p>Filter your data based on metadata and quality flags:</p></li>
</ol>
<blockquote>
<p><strong>DP1.10055.001</strong>: Plant phenology observations: phenophase status and
intensity of tagged plants. This data product contains the
quality-controlled, native sampling resolution data from in-situ
observations of plant leaf development and reproductive phenophases,
at <strong>D15.ONAQ</strong>. Here I will focus on the phenophase intensity data,
which is a measure of how prevalent that particular phenophase is in
the sampled plants.</p>
</blockquote>
<ol start="6" style="list-style-type: decimal">
<li>Using the NEON Ulitites package or the API pull in those data along
with metadata.</li>
</ol>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>sitesOfInterest <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ONAQ&quot;</span>)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>dpid <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="st">&#39;DP1.10055.001&#39;</span>) <span class="co">#phe data</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>pheDat <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP1.10055.001&quot;</span>,</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">site =</span> sitesOfInterest,</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">package =</span> <span class="st">&quot;basic&quot;</span>,</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">check.size =</span> <span class="cn">FALSE</span>, </span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">token=</span>NEON_TOKEN)</span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Organize your data into <code>data.frames</code> and produce summaries for each
of your data:</li>
</ol>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co">#NEON sends the data as a nested list, so I need to undo that</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co"># unlist all data frames</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">list2env</span>(pheDat ,.GlobalEnv)</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(phe_perindividualperyear)</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(phe_statusintensity)</span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>Filter and format your data based on metadata and quality flags:</li>
</ol>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove duplicate records</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>phe_statusintensity <span class="ot">&lt;-</span> <span class="fu">select</span>(phe_statusintensity, <span class="sc">-</span>uid)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>phe_statusintensity <span class="ot">&lt;-</span> <span class="fu">distinct</span>(phe_statusintensity)</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Format dates (native format is &#39;factor&#39; silly R)</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(phe_statusintensity<span class="sc">$</span>date, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>editedDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(phe_statusintensity<span class="sc">$</span>editedDate, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">substr</span>(phe_statusintensity<span class="sc">$</span>date, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>monthDay <span class="ot">&lt;-</span> <span class="fu">format</span>(phe_statusintensity<span class="sc">$</span>date, <span class="at">format=</span><span class="st">&quot;%m-%d&quot;</span>)</span></code></pre></div>
<p>Now I want to remove NA values so I can see what’s really going on:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="ot">=</span>phe_statusintensity<span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(phe_statusintensity<span class="sc">$</span>phenophaseIntensity))</span></code></pre></div>
<ol start="9" style="list-style-type: decimal">
<li>Create minimum of 1 plot per data type (minimum of 3 plots total).
These will vary based on that data that you’ve chosen.</li>
</ol>
<p>A non-exhastive list of ideas: 1. Your data as a function of height on
the tower (FPAR example) 2. A map of the locations where your data is
sampled (TOS tree example, bird example) 3. A model based on the data
you’re interested in working work (Coding lab 1 example) 4. A timeseries
of your data (example below)</p>
<ol start="10" style="list-style-type: decimal">
<li>What is the temporal frequency of observations in the data you
decided was of interest? How do the data align to answer a central
question? What challenges did you run into when investigating these
data? How will you address these challenges and document your code?
<em>One to two paragraphs</em></li>
</ol>
</div>
<div id="exercise-2.4-intro-to-neon-culmination-activity" class="section level3 hasAnchor" number="2.14.3">
<h3 class="hasAnchor"><span class="header-section-number">2.14.3</span> Exercise 2.4: Intro to NEON Culmination Activity<a href="#exercise-2.4-intro-to-neon-culmination-activity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Due before we start Chapter 3: USA-NPN</strong></p>
<p>Write up a 1-page summary of <strong>a project that you might want to explore
using NEON</strong> data over the duration of this course. Include:</p>
<ol style="list-style-type: decimal">
<li>the types of NEON (and other data) that you will need to implement
this project, including data product id numbers.</li>
<li>If in your NEON coding lab part 2 you highlighted challenges to
using these data, discuss methods to address those challenges.
*e.g. If your site doesn’t yet have a long data recocrd, is it
located close to a longer lived site from another network? (LTER,
Ameriflux, LTAR etc)</li>
<li>One high-level summary graphic including all of your data from the
NEON Coding Lab Part 2</li>
</ol>
<p>Save this summary as you will be refining and adding to your ideas over
the course of the semester.</p>
<!--chapter:end:02_Introduction_to_NEON.Rmd-->
</div>
</div>
</div>
<div id="introduction-to-usa-npn-its-data" class="section level1 hasAnchor" number="3">
<h1 class="hasAnchor"><span class="header-section-number">3</span> Introduction to USA-NPN &amp; its Data<a href="#introduction-to-usa-npn-its-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>Estimated Time: 2 hours</p>
</blockquote>
<div id="ds-challenge" markdown="1">
<p><strong>Course participants</strong>: As you review this information, please consider
the final course project that you will build upon over this semester. At
the end of this section, you will document an initial research question
or idea and associated data needed to address that question, that you
may want to explore while pursuing this course.</p>
<div id="usa-npn-learning-objectives" class="section level2 hasAnchor" number="3.1">
<h2 class="hasAnchor"><span class="header-section-number">3.1</span> USA-NPN Learning Objectives<a href="#usa-npn-learning-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At the end of this activity, you will be able to:</p>
<ul>
<li><p>Understand the mission and purpose of the USA-National Phenology
Network (USA-NPN) and the nature of the citizen science program from
which the data is derived</p></li>
<li><p>Access all of the various tools &amp; resources that are available to
pull USA-NPN geospatial and observational data</p></li>
<li><p>Effectively use the rNPN package to integrate and analyze NPN data
with other similar datasets</p></li>
</ul>
</div>
<div id="usa-npn-project-mission-design" class="section level2 hasAnchor" number="3.2">
<h2 class="hasAnchor"><span class="header-section-number">3.2</span> USA-NPN Project Mission &amp; Design:<a href="#usa-npn-project-mission-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/i_l3miEF7Dk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>The <a href="www.usanpn.org">USA National Phenology Network (USA-NPN)</a> collects,
organizes, and shares phenological data and information to aid
decision-making, scientific discovery, and a broader understanding of
phenology from a diversity of perspectives. The USA National Phenology
Network consists of a National Coordinating Office (NCO), thousands of
volunteer observers and many partners, including research scientists,
resource managers, educators, and policy-makers. Anyone who participates
in Nature’s Notebook or collaborates with NCO staff to advance the
science of phenology or to inform decisions is part of the USA-NPN.</p>
</div>
<div id="vision-mission" class="section level2 hasAnchor" number="3.3">
<h2 class="hasAnchor"><span class="header-section-number">3.3</span> Vision &amp; Mission<a href="#vision-mission" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>USA-NPN’s vision is to provide data and information on the timing of
seasonal events in plants and animals to ensure the well-being of
humans, ecosystems, and natural resources. To support this and its
mission the USA-NPN collects, organizes, and shares phenological data
and information to aid decision-making, scientific discovery, and a
broader understanding of phenology from a diversity of perspectives.</p>
<div id="relevant-documents-background-information" class="section level3 hasAnchor" number="3.3.1">
<h3 class="hasAnchor"><span class="header-section-number">3.3.1</span> Relevant documents &amp; background information:<a href="#relevant-documents-background-information" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><a href="https://usanpn.org/files/npn/reports/USA-NPN_StrategicPlan_2019-2024.pdf">USA-NPN Strategic
Plan</a></p></li>
<li><p><a href="https://usanpn.org/files/npn/reports/USA-NPN_InfoSheet_2020.pdf">USA-NPN Information Sheet: Tracking seasonal changes to support
science, natural resource management, and
society</a></p></li>
<li><p><a href="https://www.usanpn.org/files/npn/reports/USA-NPN_AnnualReport2021.pdf">2019 USA-NPN Annual
Report</a></p></li>
</ol>
</div>
</div>
<div id="usa-npns-spatial-design" class="section level2 hasAnchor" number="3.4">
<h2 class="hasAnchor"><span class="header-section-number">3.4</span> USA-NPN’s Spatial design:<a href="#usa-npns-spatial-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VqyCUlXxFQo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Phenology datasets that are best suited for supporting scientific
discovery and decision making are those that consist of observations of
multiple life-cycle stages collected at regular intervals at the same
locations over multiple years. The USA-NPN collects, stores, and shares
high-quality observations of plant and animal phenology at a national
scale by engaging observers in Nature’s Notebook, a national-scale,
multi-taxon phenology observing program appropriate for both
professional and volunteer participants. Because observations are
entirely voluntary, the sampling design for observations is
opportunistic. The Nature’s Notebook program has been adopted widely;
data are collected at over 100 academic institutions, 78 National
Ecological Observatory Network (NEON) sites, and by hundreds of
researchers to contribute observations to support scientific discovery.
The program is also used by tens of thousands of individual observers
and members of federal, state, NGO, and private sector organizations as
well as K-12 and higher-ed institutions.</p>
<p>A unique aspect of Nature’s Notebook is that monitoring can be
undertaken by individuals as well as by community or
regionally-organized groups referred to as Local Phenology Programs
(LPP). Organizations such as nature centers, arboreta, land
conservancies, and National Wildlife Refuges use Nature’s Notebook to
meet a diversity of outcomes, including asking and answering scientific
questions about the impact of environmental change, informing natural
resource management and decision-making, and educating and engaging the
public.</p>
</div>
<div id="types-of-usa-npn-data" class="section level2 hasAnchor" number="3.5">
<h2 class="hasAnchor"><span class="header-section-number">3.5</span> Types of USA-NPN Data:<a href="#types-of-usa-npn-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="docs/images/USA_NPN_data_types.png" width="900" /></p>
<div id="observational" class="section level3 hasAnchor" number="3.5.1">
<h3 class="hasAnchor"><span class="header-section-number">3.5.1</span> Observational<a href="#observational" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Observational phenology data, consisting of observations made of
phenological status on individual organisms, are collected and submitted
by professional and citizen scientists, primarily through the USA-NPN
plant and animal phenology observing program, <a href="http://www.naturesnotebook.org/">Nature’s
Notebook</a>. These data are submitted to
the USA-NPN and serve as the backbone of all USA-NPN observational data
products.</p>
<p>Observation protocols consist of status monitoring, in which observers
visit a site at regular intervals to evaluate the phenological status of
marked individual plants (or patches of plants) and animal species The
protocols are described fully in <a href="https://link.springer.com/article/10.1007/s00484-014-0789-5">Denny et al.
(2014)</a>.</p>
<p>In this system, phenological status is reported by yes or no answers to
a series of questions, for example, “Do you see leaves?” or “Do you see
active individuals?”. In addition to “Yes” or “No,” observers may also
report “?”, indicating that they are uncertain of the phenophase status.
Observers are also invited to document the degree to which the
phenophase is expressed on an individual plant, or for animals, at a
site. This intensity or abundance question takes the form of a count or
percentage - for example, “95–100 percent” of a beech tree’s canopy is
full with “Leaves,” or 12 “Active individual” robins are seen.</p>
<p>USA-NPN observational data and derivative products are described in USA
National Phenology Network Observational Data Documentation <a href="https://pubs.usgs.gov/of/2018/1060/ofr20181060.pdf">(Rosemartin
et al. 2018)</a>. The
three formats in which the USA-NPN observational data are made available
include: <em>status and intensity data</em>, <em>individual phenometrics</em>, and
<em>site-level phenometrics</em>.</p>
<p><img src="docs/images/npn_data_exampe.png" width="1143" /></p>
<blockquote>
<p>Visual comparison of data collected by monitoring phenological events,
phenophase status, and phenophase status plus intensity. Event
monitoring captures onset of a given phenophase, whereas status
monitoring captures onset and duration. Status monitoring with
intensity (or abundance) captures onset, duration, and magnitude of a
phenophase. Examples are derived from 2012 data submitted in Nature’s
Notebook for (a) sugar maple (Acer saccharum) leafing for one
individual plant in Maine, and (b) forsythia flowering (Forsythia sp.)
for one individual plant in Massachusetts. Each point represents one
observation; black points indicate presence of the phenophase while
white points indicate absence. (a) illustrates the date on which the
first leaf appears (event), the period during which leaves are present
(status), and the period and rate at which the canopy fills from 0 to
100 % capacity and then, empties back to 0 with leaf fall
(status + intensity, circles and solid line) using estimates of canopy
fullness. Also illustrated is the period and rate at which the canopy
fills and empties of autumn colored leaves (status + intensity,
triangles and dashed line). (b) illustrates the date on which the
first open flower appears (event), the periods during which open
flowers are present on the plant (status), and an estimate of the
number of open flowers on the plant over the periods in which they are
present (status + intensity). In both examples, the event point is
calculated as the first date of the year where the phenophase was
reported as present. Note that in (b) there are two distinct periods
of flowering, the second of which would not have been captured using
event monitoring alone. (Denny et al., 2014)</p>
</blockquote>
</div>
<div id="status-intensity-data" class="section level3 hasAnchor" number="3.5.2">
<h3 class="hasAnchor"><span class="header-section-number">3.5.2</span> Status &amp; Intensity Data<a href="#status-intensity-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Status and intensity data consist of presence/absence records for
individual phenophases on individual plants or species of animals at a
site on a single visit. These records also include intensity and
abundance measures. Individual Phenometrics and Site Phenometrics, which
are synthesized sequentially from Status and Intensity data, provide
estimated phenophase onset and end dates. Individual Phenometrics are
derived estimates of phenophase onset and end dates for organisms within
a given period of interest. Site Phenometrics are summary metrics of the
onset and end date of phenophase activity across multiple individuals of
the same species at a site within a given period of interest. Magnitude
Phenometrics provide measures of the extent to which a phenophase is
expressed across multiple individuals or sites, for a given time
interval.</p>
<p>These metrics include several approaches for capturing the shape of
seasonal activity curves. In Nature’s Notebook, plants are marked and
tracked through time, while animals are not, resulting in several key
differences between the phenometric data types for plants and for
animals. Individual Phenometrics and Site Phenometrics are nearly
identical for animals, while for plants the former provide data for
individual plants and the latter aggregate data across plants of the
same species at a site. Magnitude Phenometrics provide additional
information on animals, including correcting abundance values by search
time and search area, which is not relevant for plants. As additional
observational phenology data types are created by the USA-NPN, they are
described at www.usanpn.org/data/new_data_products.</p>
<p><img src="docs/images/animal_pheno.png" width="894" /></p>
<blockquote>
<p>USA-NPN Animal Phenological Data by Type from Rosemartin et al.,2018</p>
</blockquote>
</div>
<div id="gridded-raster-data" class="section level3 hasAnchor" number="3.5.3">
<h3 class="hasAnchor"><span class="header-section-number">3.5.3</span> Gridded Raster Data<a href="#gridded-raster-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The USA-NPN offers a growing suite of gridded (raster) maps of
phenological events, patterns, and trends. These products include
historical, real-time, and short-term forecasts and anomalies in the
timing of events such as the <a href="https://www.usanpn.org/data/spring_indices">start of the spring
season</a>, and <a href="https://www.usanpn.org/data/agdd_maps">growing degree
days</a>. These products are
described in the USA National Phenology Network gridded products
documentation <a href="https://pubs.usgs.gov/of/2017/1003/ofr20171003.pdf">(Crimmins et al.
2017)</a></p>
<div class="figure">
<img src="https://www.usanpn.org/files/npn/maps/USA-NPN-AGDD-32base-Anomaly.gif" alt="" />
<p class="caption">Accumulated Growing Degree Days anomaly in
2018</p>
</div>
</div>
<div id="pheno-forecasts" class="section level3 hasAnchor" number="3.5.4">
<h3 class="hasAnchor"><span class="header-section-number">3.5.4</span> Pheno-Forecasts<a href="#pheno-forecasts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.usanpn.org/data/forecasts"><strong>USA-NPN Pheno-Forecasts</strong></a>
include real-time maps and short-term forecasts of insect pest activity
at management-relevant spatial and temporal resolutions and are based on
accumulated temperature thresholds associated with critical life-cycle
stages of econmically important pests. Pheno Forecasts indicate, for a
specified day, the status of the insect’s target life-cycle stage in
real time across the contiguous United States. The maps are available
for 12 insect pest species including the invasive emerald ash borer,
hemlock woolly adelgid, and gypsy moth. These products are described in
“Short-term forecasts of insect phenology inform pest management”
<a href="https://academic.oup.com/aesa/article/113/2/139/5727873">(Crimmins et al.
2020)</a></p>
<p><img src="docs/images/wolly_adleg.png" width="1067" /></p>
<blockquote>
<p>Example of USA-NPN’s Hemlock Wolly Adelgid Pheno-Forecast for August,
2020.</p>
</blockquote>
<p>Pheno-Forecasts are also available for an invasive grasses, such as
buffelgrass. The <a href="https://usanpn.org/data/forecasts/Buffelgrass">buffelgrass
Pheno-Forecast</a> is based
on known precipitation thresholds for triggering green-up to a level
where management actions are most effective. These maps are updated
daily and predict green-up one to two weeks in the future.</p>
<p><img src="https://usanpn.org/files/npn/maps/buffelgrass_10.18.19.gif" /></p>
<p>Land Surface Phenology products</p>
<p>The USA-NPN offers <a href="https://www.usanpn.org/data/land_surface_phenology">maps derived from MODIS 6 land surface phenology
data</a>. Satellite
observations can be linked to in-situ observations to help understand
vegetation dynamics across large spatial scales.</p>
<p>The MODIS Land Cover Dynamics Product (MLCD) provides global land
surface phenology (LSP) data from 2001-present. MLCD serves a wide
variety of applications and is currently the only source of
operationally produced global LSP data. MLCD data have enabled important
discoveries about the role of climate in driving seasonal vegetation
changes, helped to create improved maps of land cover, and support
ecosystem modeling efforts, among many other important applications.</p>
<p>The LSP Climate Indicators (LSP-CI) dataset is a curated collection of
the most relevant phenological indicators: a measure of spring and
autumn timing and a measure of seasonal productivity. Statistically
robust estimates of long-term normals (median and median absolute
deviation, MAD), significance-screened trends (Theil-Sen slope magnitude
where p&lt;=0.05), and interannual anomalies (in days as well as multiples
of MAD) have been computed for these three phenological indicators. The
data have been mosaiced across CONUS, reprojected and resampled to a
more familiar spatial reference system that matches complementary
datasets and delivered in the universally accessible GeoTIFF format.</p>
</div>
</div>
<div id="how-to-access-usa-npn-data" class="section level2 hasAnchor" number="3.6">
<h2 class="hasAnchor"><span class="header-section-number">3.6</span> How to Access USA-NPN Data:<a href="#how-to-access-usa-npn-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The USA-NPN makes the data they produce available through a number of
different channels and tools. This is partly driven by the format of the
data; GIS data, in many ways, can and should be managed differently than
observational records, which can more easily be managed in a relational
database. However, the need for these different venues is also driven by
end-user need. The different tiers of tools makes the data accessible to
anyone regardless of their level of technical experience. This is true
from the casual observer that would like to use the visualization tool
to see how their contributions to citizen science relate to the broader
world, all the way to the data scientist that needs simple and standard
APIs to integrate USA-NPN data into larger applications and analyses.</p>
<div id="the-usa-npn-landing-page" class="section level3 hasAnchor" number="3.6.1">
<h3 class="hasAnchor"><span class="header-section-number">3.6.1</span> The USA-NPN Landing page<a href="#the-usa-npn-landing-page" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A concise list of all available NPN data sets, tools, products.</p>
</div>
<div id="apis" class="section level3 hasAnchor" number="3.6.2">
<h3 class="hasAnchor"><span class="header-section-number">3.6.2</span> APIs<a href="#apis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is a set of standard web service calls that allows for programmatic
access to NPN data independent of any particular programming language.</p>
<p>*<a href="https://docs.google.com/document/d/1yNjupricKOAXn6tY1sI7-EwkcfwdGUZ7lxYv7fcPjO8/edit?hl=en_US">USA-NPN Web Service API
Documentation</a></p>
<p>*<a href="https://docs.google.com/document/d/1n409GY931Pf14vNqCaeQx-Ck_5VVLH5-dVUKZ5ylVpQ/edit?usp=sharing">USA-NPN Geoserver
Documentation</a></p>
<p>*<a href="http://geoserver.usanpn.org/geoserver/">USA-NPN GeoServer API</a></p>
</div>
<div id="rnpn-package" class="section level3 hasAnchor" number="3.6.3">
<h3 class="hasAnchor"><span class="header-section-number">3.6.3</span> Rnpn package<a href="#rnpn-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This suite of R functions allows for programmatic access to both gridded
and in-situ NPN data sets in an R environment. Full documentation
available here: <a href="https://cran.r-project.org/web/packages/rnpn/rnpn.pdf" class="uri">https://cran.r-project.org/web/packages/rnpn/rnpn.pdf</a></p>
</div>
<div id="phenology-observation-portal-for-observational-data" class="section level3 hasAnchor" number="3.6.4">
<h3 class="hasAnchor"><span class="header-section-number">3.6.4</span> Phenology Observation Portal (for observational data)<a href="#phenology-observation-portal-for-observational-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.usanpn.org/data/observational">This tool</a> allows users to
download customized datasets of observational data from the National
Phenology Database, which includes phenology data collected via the
Nature’s Notebook phenology program (2009-present for the United
States), and additional integrated datasets, such as historical lilac
and honeysuckle data (1955-present). Filters are available to specify
dates, regions, species and phenophases of interest. This provides
access to all phenometrics, which represents varying degrees of data
aggregation.</p>
</div>
<div id="geospatial-request-builder-for-raster-data-and-image-files" class="section level3 hasAnchor" number="3.6.5">
<h3 class="hasAnchor"><span class="header-section-number">3.6.5</span> Geospatial Request Builder (for raster data and image files)<a href="#geospatial-request-builder-for-raster-data-and-image-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.usanpn.org/geoserver-request-builder">This tool</a> simplifies
the process of accessing NPN gridded data through standard WMS and WCS
services. WMS services provide the data as basic graphic images, such as
PNGs or TIFFs, whereas WCS services provide the same data in formats
accessible to GIS applications.</p>
</div>
<div id="visualization-tool" class="section level3 hasAnchor" number="3.6.6">
<h3 class="hasAnchor"><span class="header-section-number">3.6.6</span> Visualization Tool<a href="#visualization-tool" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://data.usanpn.org/vis-tool/#/">The Visualization Tool</a> provides
an easier way to explore phenology data and maps. The user-friendly
interface is intended to allow for searching for comparing general
trends and quick-and-easy access to map data/products.</p>
</div>
</div>
<div id="usa-npn-written-questions" class="section level2 hasAnchor" number="3.7">
<h2 class="hasAnchor"><span class="header-section-number">3.7</span> USA-NPN Written Questions<a href="#usa-npn-written-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Suggested timing: Complete before lecture 2 of USA-NPN Hands on Coding
Exercises</strong></p>
<p><strong>Question 1:</strong> How might or does USA-NPN intersect with your current
research or future career goals? <em>(1 paragraph)</em></p>
</div>
</div>
<div id="ds-challenge" markdown="1">

<p><strong>Question 2:</strong> Use the USA-NPN visualization tool
( &lt;www.usanpn.org/data/visualizations&gt; ) to answer the following questions.
Consider the research question that you may explore as your final
semester project or a current project that you are working on and answer
each of the following questions:</p>
<p>· Are there species, regions, or phenophases of interest to you?</p>
<p>· Is there geospatial phenology data that is useful for your work (e.g.
Spring Indices or Growing Degree Days)?</p>
<p>· What is the timeframe of data you will need to address your research
interests?</p>
<p>· What is the spatial extent of data you will need?</p>
<p><strong>Question 3:</strong> Consider either your current or future research, or a
question you’d like to address during this course:</p>
<p>· What climate data or additional phenological datasets would be
valuable to address your research interests?</p>
<p>· What challenges, if any, could you foresee when beginning to work with
these data?</p>
<div id="ds-challenge" markdown="1">

<div id="hands-on-accessing-usa-npn-data-via-rnpn" class="section level2 hasAnchor" number="3.8">
<h2 class="hasAnchor"><span class="header-section-number">3.8</span> Hands on: Accessing USA-NPN Data via rNPN<a href="#hands-on-accessing-usa-npn-data-via-rnpn" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="introduction" class="section level3 hasAnchor" number="3.8.1">
<h3 class="hasAnchor"><span class="header-section-number">3.8.1</span> Introduction<a href="#introduction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The USA National Phenology Network (USA-NPN) is a USGS funded
organization that collects phenological observation records from
volunteer and professional scientists to better understand the impact of
changes in the environment on the timing of species’ life cycles. The
USA-NPN also provides a number of raster-based climatological data sets
and phenological models. These in-situ observation and geospatial,
modeled datasets are available through a number of tools and data
services.</p>
<p>The USA-NPN R library, “rnpn”, is primarily a data access service for
USA-NPN data products, serving as a wrapper to the <a href="">USA-NPN REST based
web services</a>. This guide details how to use the library to access and
work with all USA-NPN data types.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;devtools&#39;</span>)</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;usa-npn/rnpn&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;rnpn&#39;</span>)</span></code></pre></div>
</div>
<div id="accessing-usa-npn-observational-data" class="section level3 hasAnchor" number="3.8.2">
<h3 class="hasAnchor"><span class="header-section-number">3.8.2</span> Accessing USA-NPN Observational Data<a href="#accessing-usa-npn-observational-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>USA-NPN Observational data are collected on the ground by citizen and
professional observers following standardized protocols, using the
Nature’s Notebook platform. The data are available 2009 to present, and
come in four formats or data types: Status &amp; Intensity, Individual
Phenometrics, Site Phenometrics and Magnitude Phenometrics. An overview
of the differences is provided in the figure below, and each type is
detailed in the following sections. For a complete description of the
USA-NPN approach and notes for working with each data type see the <a href="https://pubs.usgs.gov/of/2018/1060/ofr20181060.pdf">Open
File Report on USA-NPN Observational
Data</a>.</p>
<p>In Nature’s Notebook, observers register a location, and then at each
location they register any number of individual plants or animal
species. The expectation is that the user then takes regular
observations on each individual/species at a regular interval.
Phenological status is reported by yes or no answers to a series of
questions, for example, “Do you see leaves?” or “Do you see active
individuals?”. In contrast to traditional monitoring of annual “first”
events (for example, date of first leaf or first robin), this approach
captures absence data when the phenophase is not occurring and repeat
events. Each observation is comprised of a series of 1, 0 and -1 values,
representing yes/no/uncertain for each possible phenophase for the plant
on that date. To explore data in this native “Status and Intensity”
format, see the vignette by the same name.</p>
<p>A few considerations and functions apply across all USA-NPN
Observational data types.</p>
<div id="basic-format-for-for-observational-data-calls" class="section level4 hasAnchor" number="3.8.2.1">
<h4 class="hasAnchor"><span class="header-section-number">3.8.2.1</span> Basic format for for Observational data calls<a href="#basic-format-for-for-observational-data-calls" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The basic format for an observational data call in the rnpn library is:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>npn_download_[NAME OF DATA TYPE] (</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> [<span class="cn">NULL</span>]</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span>  [<span class="cn">NULL</span>]</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ID =</span> [<span class="cn">NULL</span>]</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>)                  </span></code></pre></div>
<p>‘Request source’ should usually be populated with your full name or the
name of the organization you represent. Species_ID is the unique
identifier for all the available plants and animals in the USA-NPN
database. You can create a table of all available species and their ID
numbers:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> <span class="fu">npn_species</span>()</span></code></pre></div>
<p>Search for a species by common name from the full list:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>species[species<span class="sc">$</span>common_name<span class="sc">==</span><span class="st">&quot;red maple&quot;</span>,]</span></code></pre></div>
<pre><code>## # A tibble: 1 × 19
##   specie…¹ commo…² genus genus…³ genus…⁴ species kingdom itis_…⁵ funct…⁶ class…⁷
##      &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;     &lt;int&gt;
## 1        3 red ma… Acer      372 Maples… rubrum  Plantae   28728 Decidu…      15
## # … with 9 more variables: class_common_name &lt;chr&gt;, class_name &lt;chr&gt;,
## #   order_id &lt;int&gt;, order_common_name &lt;chr&gt;, order_name &lt;chr&gt;, family_id &lt;int&gt;,
## #   family_name &lt;chr&gt;, family_common_name &lt;chr&gt;, species_type &lt;list&gt;, and
## #   abbreviated variable names ¹​species_id, ²​common_name, ³​genus_id,
## #   ⁴​genus_common_name, ⁵​itis_taxonomic_sn, ⁶​functional_type, ⁷​class_id</code></pre>
<p>There are many parameters which can be set beyond these basic ones,
depending on the data type, and further detailed in the other vignettes
featured in this package.</p>
</div>
<div id="required-parameters" class="section level4 hasAnchor" number="3.8.2.2">
<h4 class="hasAnchor"><span class="header-section-number">3.8.2.2</span> Required Parameters<a href="#required-parameters" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Note that specifying the year(s) of interest is a required parameter.</p>
<p>There’s also another required field, “request_source”, which is a
user-provided, self-identifying string. This allows the client to
provide some information about who is accessing the data. Knowing who is
using the data is very helpful for our staff to report the impact of the
USA-NPN to the scientific community. The input provided here is entirely
honor-based.</p>
</div>
<div id="find-stations-at-which-a-species-has-been-observed" class="section level4 hasAnchor" number="3.8.2.3">
<h4 class="hasAnchor"><span class="header-section-number">3.8.2.3</span> Find stations at which a species has been observed<a href="#find-stations-at-which-a-species-has-been-observed" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can also now look up which stations have a registered plant for a
particular species. In the example below, we use the species ID for red
maple, which we were able to find through the npn_species() function, to
find all stations with that species.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_stations_with_spp</span> (<span class="dv">3</span>)</span></code></pre></div>
</div>
</div>
<div id="status-and-intensity-data" class="section level3 hasAnchor" number="3.8.3">
<h3 class="hasAnchor"><span class="header-section-number">3.8.3</span> Status and Intensity Data<a href="#status-and-intensity-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Status and Intensity data type is the most direct presentation of
the phenology data stored in the NPDb. Each row is comprised of a single
record of the status (1/present/“Yes”, 0/absent/“No” or
-1/uncertain/“?”) of a single phenophase on an individual plant or
species of animal at a site on a single site visit, as well as the
estimated intensity or abundance e.g., percent canopy fullness or number
of individual robins observed respectively.</p>
<p>Retrieving this kind of data using this package is easy, and heavily
parameterized. It’s possible to filter data using a number of including
year, geographic extent and species. In this example we get all records
of bird observations in the New England states from 2018.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_status_data</span>(</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>,</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="st">&#39;2018&#39;</span>),</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">states =</span> <span class="fu">c</span>(<span class="st">&quot;NY&quot;</span>,<span class="st">&quot;PA&quot;</span>,<span class="st">&quot;VT&quot;</span>,<span class="st">&quot;MA&quot;</span>),</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">functional_types =</span> <span class="st">&#39;Bird&#39;</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>‘states’ is an example of an optional parameter that allows you to
filter data based on geographic location. Another example is
‘functional_types’ which allows you to get all available data for a
group of similar species (e.g., all birds, shrubs or invasive species).
The best place to review <strong>all</strong> available optional filters is the
autogenerated package description.</p>
<p>Another important optional parameter is called ‘download_path’. By
default requests for data from the services are returned as a data frame
that gets stored in memory as a variable. In some cases, it makes more
sense to save the data to file for easy and fast retrieval later. The
download_path parameter allows you to specify a file path to redirect
the output from the service, without having to fuss with pesky I/O
operations. Additionally, requests made this way streams the data
returned, so if the dataset you’re working with is particularly large,
it’s possible to redirect the stream of data to file instead of loading
it all into memory which can be useful if your environment doesn’t have
enough RAM to store the entire data set at once.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_status_data</span>(</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="st">&#39;2018&#39;</span>), </span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">functional_types =</span> <span class="st">&#39;Bird&#39;</span>, </span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">additional_fields =</span> <span class="st">&#39;Site_Name&#39;</span>, </span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">download_path =</span><span class="st">&#39;Bird_data_2018_SiteName.csv&#39;</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Using this function to get observational records is the most basic
presentation of the data, and is the most robust for doing analysis, but
there are a number of other products offered through the data service
which provide additional value to data end users, outlined in the next
vignettes.</p>
</div>
<div id="individual-phenometrics" class="section level3 hasAnchor" number="3.8.4">
<h3 class="hasAnchor"><span class="header-section-number">3.8.4</span> Individual Phenometrics<a href="#individual-phenometrics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While Status and Intensity data provide a direct and complete look at
the observational data, some analyses rely on more synthesized output.
Individual Phenometrics are derived from phenophase status data and
provide estimates of phenophase onset and end dates based on the first
and last “Yes” status values for organisms within a specified season of
interest. Each row in this data type is comprised of values that are
derived from a string of consecutive “Yes” status reports without an
intervening “No” status report for a single phenophase for an individual
plant or animal species at a site, called a “series”. For plants, this
data type provides information on the onset and end of a phenophase on
an individual plant. For animals, it provides information on the onset
and end of the presence of an animal species at a site. As animal
presence at a site is much more likely to be interrupted by absence than
the presence of a phenophase on a plant, Status and Intensity data or
Site Phenometrics may be more appropriate for investigating animal
phenology. However, we provide animal phenology in the same format as
individual plants in this data type to allow users to readily compare
individual plant phenology with animal activity.</p>
<p>Note that more than one series may exist for a given phenophase in an
individual plant or animal species within a single growing season or
year, this might occur in the case of leaf bud break followed by a
killing frost and second round of breaking leaf buds. It could also
occur at group sites where two or more observers are reporting on the
same plant on sequential days but are not in agreement on phenophase
status.</p>
<p>Any call for individual phenometrics requires chronological bounds,
usually a calendar year, as determining onset and end depend on knowing
what the time frame of interest is. If you query the services directly
(without the benefit of this library) it’s possible to specify arbitrary
dates, in contrast this library allows you to specify a series of
calendar years as input.</p>
<p>Here’s an example of how to query the services for individual
phenometrics data. Note that the overall structure and parameters are
very similar to the call for status data. The biggest difference in this
case is that start and end date parameters are now replaced with a
‘years’ array, which predictably takes a set of year values with which
to query the service.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_individual_phenometrics</span>(</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source=</span><span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years=</span><span class="fu">c</span>(<span class="dv">2013</span>,<span class="dv">2014</span>,<span class="dv">2015</span>,<span class="dv">2016</span>), </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_id=</span><span class="fu">c</span>(<span class="dv">210</span>), </span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">download_path=</span><span class="st">&quot;saguaro_data_2013_2016.csv&quot;</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## using a custom handler function.</code></pre>
<pre><code>## opening curl input connection.</code></pre>
<pre><code>## 
 Found 96 records...</code></pre>
<pre><code>## closing curl input connection.</code></pre>
<pre><code>## using a custom handler function.</code></pre>
<pre><code>## opening curl input connection.</code></pre>
<pre><code>## 
 Found 136 records...</code></pre>
<pre><code>## closing curl input connection.</code></pre>
<pre><code>## using a custom handler function.</code></pre>
<pre><code>## opening curl input connection.</code></pre>
<pre><code>## 
 Found 145 records...</code></pre>
<pre><code>## closing curl input connection.</code></pre>
<pre><code>## using a custom handler function.</code></pre>
<pre><code>## opening curl input connection.</code></pre>
<pre><code>## 
 Found 102 records...</code></pre>
<pre><code>## closing curl input connection.</code></pre>
<pre><code>## NULL</code></pre>
<p>In this example, we’re able to see individual saguaro phenology for 2013
through 2016. The results returned from the service is a tabular set of
records, giving start and end date by individual saguaro plant. By
default, each record contains information about the location, species,
phenophase, and start and end dates.</p>
<p>Climate data from DayMet can also be acquired with Status &amp; Intensity,
Individual Phenometrics and Site Phenometric data types, by setting the
climate_data parameter to true. In this example, we are getting colored
leaves (phenophase ID is 498) data for birches, using the four birch
species IDs, for 2015:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_individual_phenometrics</span>(</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="st">&#39;2015&#39;</span>), </span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="fu">c</span>(<span class="dv">97</span>, <span class="dv">98</span>, <span class="dv">99</span>, <span class="dv">430</span>), </span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="fu">c</span>(<span class="dv">498</span>), </span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">climate_data =</span> <span class="cn">TRUE</span>,</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">download_path =</span> <span class="st">&#39;Betula_data_2015.csv&#39;</span></span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## using a custom handler function.</code></pre>
<pre><code>## opening curl input connection.</code></pre>
<pre><code>## 
 Found 146 records...</code></pre>
<pre><code>## closing curl input connection.</code></pre>
<pre><code>## NULL</code></pre>
<p>To show what this looks like, we can plot the day of year of the first
observation of colored leaves in birches (genus Betula) against summer
Tmax.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>BetulaLeaf <span class="ot">&lt;-</span><span class="fu">read.csv</span>(</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Betula_data_2015.csv&#39;</span>, </span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">header =</span> <span class="cn">TRUE</span>, </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">na=</span><span class="sc">-</span><span class="dv">9999</span>, </span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>  first_yes_doy<span class="sc">~</span>tmax_summer, </span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">data=</span>BetulaLeaf, </span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab=</span><span class="fu">c</span>(<span class="st">&quot;Day of Year&quot;</span>), </span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab=</span><span class="fu">c</span>(<span class="st">&quot;Tmax Summer&quot;</span>),</span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex=</span><span class="dv">2</span>, </span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.axis=</span><span class="fl">1.5</span>, </span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.lab=</span><span class="fl">1.5</span>, </span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch=</span><span class="dv">21</span></span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="site-phenometrics" class="section level3 hasAnchor" number="3.8.5">
<h3 class="hasAnchor"><span class="header-section-number">3.8.5</span> Site Phenometrics<a href="#site-phenometrics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Site Phenometrics, derived from Individual Phenometrics, provide summary
metrics of the onset and end date of phenophase activity for a species
at a site. Observers are directed to create sites that represent uniform
habitat and are no larger than 15 acres. For plants, this metric is
calculated as an average for all individuals of a species at the site.
For animals, where individuals are not tracked, this metric represents
the first and last recorded appearance of the species during the season
of interest. For instance, if you asked for red maple leafing data, and
there was a site with three red maple trees being observed, then the
data would be the average onset date for all three of those red maple
trees at that site.</p>
<p>Here’s an example of how to query the services for site phenometrics
data, for cloned lilacs, breaking leaf buds, 2013. The call is very
similar to the call for individual phenometrics data, however, in
addition you can supply the quality control filter for the number of
days between a yes record and preceding no record (also applies to the
last yes and following no), for the observation to be included in the
calculations. Typically this is set to 7, 14 or 30, as when downloading
data using the USA-NPN Phenology Observation Portal. If you do not set
this parameter, it defaults to 30 days. Note that in this example the
results are stored in memory, rather than output as a file.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>LilacLeafPoints2013<span class="ot">&lt;-</span><span class="fu">npn_download_site_phenometrics</span>(</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="st">&#39;2013&#39;</span>),</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">num_days_quality_filter =</span> <span class="st">&#39;30&#39;</span>,</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="st">&#39;35&#39;</span>,</span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="st">&#39;373&#39;</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>In this example we’re able to see the date of the first observation of
breaking leaf buds for cloned lilacs, averaged across individuals within
sites. If any observation did not have a preceding no record within 30
days it was excluded from the calculations.</p>
<p>We can now plot our cloned lilac site phenometric onset data by
latitude.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  mean_first_yes_doy<span class="sc">~</span>latitude, </span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data=</span>LilacLeafPoints2013, </span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab=</span><span class="fu">c</span>(<span class="st">&quot;Day of Year&quot;</span>), </span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab=</span><span class="fu">c</span>(<span class="st">&quot;Latitude&quot;</span>),</span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex=</span><span class="dv">2</span>, </span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.axis=</span><span class="fl">1.5</span>, </span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.lab=</span><span class="fl">1.5</span>, </span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch=</span><span class="dv">21</span>, </span>
<span id="cb132-10"><a href="#cb132-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">30</span>,<span class="dv">55</span>), </span>
<span id="cb132-11"><a href="#cb132-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">200</span>)</span>
<span id="cb132-12"><a href="#cb132-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="magnitude-phenometrics" class="section level3 hasAnchor" number="3.8.6">
<h3 class="hasAnchor"><span class="header-section-number">3.8.6</span> Magnitude Phenometrics<a href="#magnitude-phenometrics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Magnitude Phenometrics are a suite of eight metrics derived from Status
and Intensity data. This data type provides information on the extent to
which a phenophase is expressed across multiple individuals or sites,
for a given set of sequential time intervals. The data user may select a
weekly, bi-weekly, monthly, or custom time interval to summarize the
metrics. Two metrics are available for both plants and animals, one
metric is available for plants alone and five metrics are available for
animals alone (table 1). Three of the five animal metrics correct animal
abundance values for observer effort in time and space.</p>
<p>Here’s an example of how to query for Magnitude Phenometrics, for the
active individuals phenophase for black-capped chickadee data, in 2018.
Requirements are similar to other data types. You must additionally
specify the time interval by which the data should be summarized.
Typically this is weekly, biweekly or monthly, as in the POP and
Visualization Tool. The interval chosen in this example is 7 days.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_magnitude_phenometrics</span>(</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="st">&#39;2018&#39;</span>,</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">period_frequency =</span> <span class="st">&quot;7&quot;</span>,</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="st">&#39;245&#39;</span>, </span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="st">&#39;292&#39;</span>, </span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">download_path =</span> <span class="st">&#39;MPM_BCC_ActInd_2018.csv&#39;</span></span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>In this example we’re able to see all of the magnitude phenometric
fields, including proportion_yes_records, and mean_num_animals_in-phase.
See the
<a href="Open%20File%20Report%20on%20USA-NPN%20Observational%20Data">https://pubs.usgs.gov/of/2018/1060/ofr20181060.pdf</a>
for full field descriptions.</p>
<p>From this dataset we can view the Proportion_Yes_Records (of all the
records submitted on this species, what proportion are positive/yes
records) by weekly interval:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>BCC_AI<span class="ot">&lt;-</span><span class="fu">read.csv</span>(</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;MPM_BCC_ActInd_2018.csv&#39;</span>, </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">header =</span> <span class="cn">TRUE</span>, </span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">na=</span><span class="sc">-</span><span class="dv">9999</span>, </span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>  BCC_AI<span class="sc">$</span>proportion_yes_record<span class="sc">~</span><span class="fu">as.Date</span>(BCC_AI<span class="sc">$</span>start_date,<span class="st">&quot;%Y-%m-%d&quot;</span>), </span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab=</span><span class="fu">c</span>(<span class="st">&quot;Proportion Yes Records&quot;</span>), </span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab=</span><span class="fu">c</span>(<span class="st">&quot;Date&quot;</span>),</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex=</span><span class="dv">2</span>, </span>
<span id="cb134-12"><a href="#cb134-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.axis=</span><span class="fl">1.5</span>, </span>
<span id="cb134-13"><a href="#cb134-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.lab=</span><span class="fl">1.5</span>, </span>
<span id="cb134-14"><a href="#cb134-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch=</span><span class="dv">21</span>,</span>
<span id="cb134-15"><a href="#cb134-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlim=</span><span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">&quot;2018-01-01&quot;</span>, <span class="st">&quot;2018-08-01&quot;</span>)),</span>
<span id="cb134-16"><a href="#cb134-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb134-17"><a href="#cb134-17" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="usa-npn-geospatial-data" class="section level3 hasAnchor" number="3.8.7">
<h3 class="hasAnchor"><span class="header-section-number">3.8.7</span> USA-NPN Geospatial Data<a href="#usa-npn-geospatial-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>USA-NPN provides phenology-relevant climate data in raster format. There
are two main suites of products in this category: Accumulated Growing
Degree Days and Extended Spring Indices. Accumulated Growing Degree Days
and the Extended Spring Indices are both representations of accumulated
temperature. As accumulated winter and spring heat drives many spring
season phenological events in much of the country, these products can be
used to better understand patterns in the current and historical timing
of these events across the landscape. For a complete description of the
USA-NPN approach and notes for working with each data type see the <a href="https://pubs.usgs.gov/of/2017/1003/ofr20171003.pdf">Open
File Report</a> on
USA-NPN Gridded Data.</p>
<p>Both suites are available as:</p>
<ul>
<li>Current year value, with a 6-day forecast</li>
<li>Current year anomaly, with a 6-day forecast</li>
<li>Long-term (30 year) average</li>
<li>Historical years
<ul>
<li>AGDD - 2016-Prior Year</li>
<li>Extended Spring Index - 1880-Prior Year</li>
</ul></li>
</ul>
<p>All of these products can be downloaded using the
npn_download_geospatial call. There is a number of other products and
permutations of the above listed AGDD and Spring Index products, so you
can get a complete list of available layers and additional details about
them including resolution, extent and the abstract/layer description.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>layers <span class="ot">&lt;-</span> <span class="fu">npn_get_layer_details</span>()</span></code></pre></div>
<p>The following sections describe how to parameterize calls for both AGDD
and Spring Index layers. These calls result in raster data sets for the
contiguous United States.</p>
<p>If you are interested in how many GDDs had accumulated when the red
maple in your backyard leafed out, or what day the Spring Index
requirements for leaf out were met for your location, you may wish to
query the layers for these values, based on location and date. There are
two ways to accomplish this, using the npn_get_point_data function which
works for all layers and the npn_get_AGDD_point_data function, which
only works for AGDD layers and provides a more precise result.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_get_agdd_point_data</span>(</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gdd:agdd_50f&#39;</span>, </span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;38&#39;</span>, </span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;-90&#39;</span>, </span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;2019-02-25&#39;</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>This returns a value of 7.64098 GDD, base 50F, for the coordinates 38
north, -90 west on February 25th, 2019.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_get_point_data</span>(</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;si-x:lilac_bloom_ncep&#39;</span>, </span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;30&#39;</span>, </span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;-90&#39;</span>, </span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;2019-02-25&#39;</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## 
Downloading: 980 B     
Downloading: 980 B     
Downloading: 990 B     
Downloading: 990 B     
Downloading: 990 B     
Downloading: 990 B</code></pre>
<pre><code>## No encoding supplied: defaulting to UTF-8.</code></pre>
<pre><code>## [1] -9999</code></pre>
<p>This returns a value for lilac bloom of day 48, for the coordinates 30
north, -90 west, as of February 25th, 2019.</p>
<p>The above mentioned AGDD products use base temperatures of 32F or 50F
and are managed through WCS services. There is also a function to get
dynamic AGDD calculations based on a user defined base temperature and a
number of other parameters.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>custom_agdd_raster <span class="ot">&lt;-</span> <span class="fu">npn_get_custom_agdd_raster</span>(</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a> <span class="at">method =</span> <span class="st">&#39;double-sine&#39;</span>,</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a> <span class="at">climate_data_source =</span> <span class="st">&#39;NCEP&#39;</span>,</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a> <span class="at">temp_unit =</span> <span class="st">&#39;fahrenheit&#39;</span>,</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a> <span class="at">start_date =</span> <span class="st">&#39;2019-01-01&#39;</span>,</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a> <span class="at">end_date =</span> <span class="st">&#39;2019-05-10&#39;</span>,</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a> <span class="at">base_temp =</span> <span class="dv">20</span>,</span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a> <span class="at">upper_threshold =</span> <span class="dv">90</span></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="accumulated-growing-degree-day-products" class="section level2 hasAnchor" number="3.9">
<h2 class="hasAnchor"><span class="header-section-number">3.9</span> Accumulated Growing Degree Day Products<a href="#accumulated-growing-degree-day-products" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Heat accumulation is commonly used as a way of predicting the timing of
phenological transitions in plants and animals, including when plants
exhibit leaf out, flowering, or fruit ripening, or when insects emerge
from dormancy. This is typically expressed as accumulated heat units,
either Growing Degree Hours or Growing Degree Days. Growing degree day
thresholds have been established for many species, and are commonly used
in agriculture, horticulture, and pest management to schedule activities
such as harvesting, pesticide treatment, and flower collection. The
USA-NPN is currently generating Accumulated Growing Degree Days (AGDD)
rasters using a January 1 start date, calculated using simple averaging.
These are available calculated using two base temperatures, 32 degrees
Fahrenheit (F) and 50 F.</p>
<p>When querying certain layers, the underlying data is agnostic about the
specific year, and in these cases it makes sense to use the day of year
to request data, since that will provide a standardized result, (i.e.,
April 1st is day 91 in some years and day 92 in others).</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gdd:30yr_avg_agdd_50f&#39;</span>, </span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a> <span class="dv">95</span></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>But if you’re looking at a specific year, such as a current year layer,
it makes sense to use a specific calendar date (formatted YYYY-MM-DD).
It’s also possible to save the raster directly to file instead of
loading it into memory.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gdd:agdd&#39;</span>, </span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;2018-05-05&#39;</span>,</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a> <span class="at">output_path=</span><span class="st">&#39;20180505-agdd-value.tiff&#39;</span></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>In the case of the historic Spring Index layers, however, the product
represents the overall outcome for the entire year, so while the year
component of the date matters, the month and day do not. In this case,
specify January 1 as the month and date.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;si-x:average_bloom_prism&quot;</span>,</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;1995-01-01&quot;</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The dimension.range value, returned in the npn_get_layer_details()
function, clarifies the full set of applicable dates for each layer.</p>
<p>Of course, it’s also easy to grab raster data and load it into a visual
plot as in this example, showing a map of AGDD base 50 on 2019-06-25:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>AGDDJun2019<span class="ot">&lt;-</span><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gdd:agdd_50f&#39;</span>, </span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;2019-06-25&#39;</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a> AGDDJun2019, </span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a> <span class="at">main =</span> <span class="st">&quot;AGDD base 50 on June 25th, 2019&quot;</span></span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>An important layer to know of is the 30 year average for AGDD products.
This is useful for many comparative analyses. This layer takes DOY as
the date input, since it’s the average AGDD value for each day of year
for 1981 - 2010.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>average_30yr <span class="ot">&lt;-</span> <span class="fu">npn_download_geospatial</span>(</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;gdd:30yr_avg_agdd&quot;</span>,</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a> <span class="dv">45</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="extended-spring-indices" class="section level2 hasAnchor" number="3.10">
<h2 class="hasAnchor"><span class="header-section-number">3.10</span> Extended Spring Indices<a href="#extended-spring-indices" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The Extended Spring Indices are mathematical models that predict the
“start of spring” (timing of first leaf or first bloom) at a particular
location. These models were constructed using historical observations of
the timing of first leaf and first bloom in a cloned lilac cultivar
(Syringa X chinensis ‘Red Rothomagensis’) and two cloned honeysuckle
cultivars (Lonicera tatarica L. ‘Arnold Red’ and Lonicera korolkowii
Stapf, also known as ‘Zabelii’), which were selected based on the
availability of historical observations from across a wide geographic
area. Primary inputs to the model are temperature and weather events,
beginning January 1 of each year. The model outputs are first leaf and
first bloom date for a given location.</p>
<p>Data for the Spring Index is available through an enumeration of layers
that represents each of the three sub-models as well as an ‘average’
model which represents the aggregation of the three sub-models. These
layers are further enumerated by both of the represented phenophases,
leaf and bloom. In the example below, first the layer representing only
the Arnold Red model for 1987 is retrieved, while the second function
call gets the model averaging all three of the models for the same year.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;si-x:arnoldred_bloom_prism&quot;</span>,</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;1987-01-01&quot;</span></span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>average_model <span class="ot">&lt;-</span> <span class="fu">npn_download_geospatial</span>(</span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;si-x:average_bloom_prism&quot;</span>,</span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;1987-01-01&quot;</span></span>
<span id="cb148-8"><a href="#cb148-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The Spring Indices are also unique in that the algorithm has been run
against the BEST climate data set, so historic data going back to 1880
is available.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>BESTSIxData1905 <span class="ot">&lt;-</span> <span class="fu">npn_download_geospatial</span>(</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;si-x:average_bloom_best&#39;</span>, </span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;1905-01-01&#39;</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="fu">NAvalue</span>(BESTSIxData1905) <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">9999</span></span></code></pre></div>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a> BESTSIxData1905, </span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a> <span class="at">main =</span> <span class="st">&quot;Spring Index, 1905&quot;</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div id="other-layers" class="section level3 hasAnchor" number="3.10.1">
<h3 class="hasAnchor"><span class="header-section-number">3.10.1</span> Other Layers<a href="#other-layers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Besides the AGDD and Spring Index layers there are a number of other
useful layers available through these services, including daily
temperature minimum and maximums and aggregated MODISv6 phenometrics.</p>
<p>The daily temperature minimum and maximum values are the underlying
climate data used to generate current year AGDD and Spring Index maps.
These data are generated by NOAA’s National Centers for Environmental
Prediction (NCEP) and are reserved through NPN’s geospatial services.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>daily_max_20190505 <span class="ot">&lt;-</span> <span class="fu">npn_download_geospatial</span>(</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;climate:tmax&#39;</span>, </span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;2019-05-05&#39;</span></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a> daily_max_20190505, </span>
<span id="cb151-7"><a href="#cb151-7" aria-hidden="true" tabindex="-1"></a> <span class="at">main =</span> <span class="st">&quot;Daily Temperature Max (C), May 5th, 2019&quot;</span></span>
<span id="cb151-8"><a href="#cb151-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The MODISv6 layers are aggregate values for remote sensing values from
the MODISv6 data set, representing a subset of the following
phenometrics, aggregated across 2001 - 2017: EVI Area, Mid-Greenup,
Mid-Greendown. The available aggregate values for each layer are:
median, TSslope, and mean absolute deviation. This example shows the
median green up value, as DOY. Note that because this layer has a fixed
date, the date parameter is input as a blank string.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>median_greenup <span class="ot">&lt;-</span> <span class="fu">npn_download_geospatial</span>(</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;inca:midgup_median_nad83_02deg&#39;</span>,</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;&#39;</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a> median_greenup, </span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a> <span class="at">main =</span> <span class="st">&quot;MODIS Median Mid-Greenup, 2001 - 2017&quot;</span></span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="putting-it-all-together" class="section level2 hasAnchor" number="3.11">
<h2 class="hasAnchor"><span class="header-section-number">3.11</span> Putting it all together:<a href="#putting-it-all-together" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="combine-point-and-raster-data" class="section level2 hasAnchor" number="3.12">
<h2 class="hasAnchor"><span class="header-section-number">3.12</span> Combine Point and Raster Data<a href="#combine-point-and-raster-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Observational and gridded data can be visualized or analyzed together
for a variety of purposes. Users may want to identify spatial patterns
in the alignment of dogwood bloom and the Spring Index bloom model. The
current year’s lilac leaf out observations may be compared to the 30
year average lilac sub-model of the spring index to see how well the
model predicts the observations.</p>
<p>This example shows several data access calls to assemble observational
and gridded data.</p>
<p>Option 1: You can add a parameter to an observational data call to
additionally get a gridded layer value for each observation
location/date. Note that if you don’t specify which sub model of the
Spring Index you want, you will get the SI-x Average layers.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_site_phenometrics</span>(</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="st">&#39;2013&#39;</span>,</span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">num_days_quality_filter =</span> <span class="st">&#39;30&#39;</span>, </span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="st">&#39;35&#39;</span>,</span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="st">&#39;373&#39;</span>, </span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">download_path =</span> <span class="st">&#39;cl_lilac_data_2013_SIxLeaf.csv&#39;</span>,</span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">six_leaf_layer =</span> <span class="cn">TRUE</span>,</span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">six_sub_model =</span> <span class="st">&#39;lilac&#39;</span></span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>If you want to append raster data other than Spring Index, Leaf values,
there’s alternative boolean flags that can be set, including
six_bloom_layer for Spring Index, Bloom data, and agdd_layer. Instead of
TRUE or FALSE agdd_layer takes 32 or 50 and will correlate each data
point with the corresponding AGDD value for the given date using either
32 or 50 base temperature.</p>
<p>Option 2: You can create a combined plot of observational data with
modeled/raster data.</p>
<p>Building on the approach for accessing point data from earlier vignettes
describing Individual Phenometrics and getting raster data, we can
access and plot these products together. In this example, we will look
at how well cloned lilac leaf out observations in 2018 are predicted by
the lilac leaf sub model of the Spring Index.</p>
<div id="step-1-get-the-data" class="section level3 hasAnchor" number="3.12.1">
<h3 class="hasAnchor"><span class="header-section-number">3.12.1</span> Step 1: Get the data<a href="#step-1-get-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>LilacLeaf2018<span class="ot">&lt;-</span><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;si-x:lilac_leaf_ncep&#39;</span>, </span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;2018-12-31&#39;</span>, </span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>LilacLeaf2018Obs <span class="ot">&lt;-</span><span class="fu">npn_download_individual_phenometrics</span>(</span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Your Name Here&#39;</span>, </span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="st">&#39;2018&#39;</span>,</span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="st">&#39;35&#39;</span>,</span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="st">&#39;373&#39;</span> </span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="step-2-preparing-the-data" class="section level3 hasAnchor" number="3.12.2">
<h3 class="hasAnchor"><span class="header-section-number">3.12.2</span> Step 2: Preparing the data<a href="#step-2-preparing-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> LilacLeaf2018Obs[ , <span class="fu">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>)]</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(LilacLeaf2018Obs<span class="sc">$</span>first_yes_doy)</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>crs <span class="ot">&lt;-</span> <span class="fu">CRS</span>(<span class="st">&quot;+proj=utm +zone=18 +datum=WGS84 +units=m +no_defs </span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="st">                 +ellps=WGS84 +towgs84=0,0,0&quot;</span>)</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>LL_spdf <span class="ot">&lt;-</span> <span class="fu">SpatialPointsDataFrame</span>(</span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">coords =</span> coords,</span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> data, </span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">proj4string =</span> crs</span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="step-3-define-style-options-and-create-graph" class="section level3 hasAnchor" number="3.12.3">
<h3 class="hasAnchor"><span class="header-section-number">3.12.3</span> Step 3: Define style options and create graph<a href="#step-3-define-style-options-and-create-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>my.palette <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="at">n=</span><span class="dv">9</span>,<span class="at">name=</span><span class="st">&quot;OrRd&quot;</span>)</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>  LilacLeaf2018, </span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> my.palette,</span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">main=</span><span class="st">&quot;2018 Observed and Predicted Lilac Leaf Out&quot;</span></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>  LL_spdf,</span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">main=</span><span class="st">&quot;Lilac Obs&quot;</span>,</span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb156-11"><a href="#cb156-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> my.palette,</span>
<span id="cb156-12"><a href="#cb156-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb156-13"><a href="#cb156-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="fl">125.0208</span>,<span class="sc">-</span><span class="fl">66.47917</span>),</span>
<span id="cb156-14"><a href="#cb156-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim=</span><span class="fu">c</span>(<span class="fl">24.0625</span> ,<span class="fl">49.9375</span>),</span>
<span id="cb156-15"><a href="#cb156-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">add =</span> <span class="cn">TRUE</span></span>
<span id="cb156-16"><a href="#cb156-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb156-17"><a href="#cb156-17" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb156-18"><a href="#cb156-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;bottomright&quot;</span>, </span>
<span id="cb156-19"><a href="#cb156-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend=</span><span class="fu">c</span>(<span class="st">&quot;Cloned Lilac Leaf Out Observations&quot;</span>),</span>
<span id="cb156-20"><a href="#cb156-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb156-21"><a href="#cb156-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb156-22"><a href="#cb156-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb156-23"><a href="#cb156-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty=</span><span class="st">&quot;n&quot;</span>, </span>
<span id="cb156-24"><a href="#cb156-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex=</span>.<span class="dv">8</span></span>
<span id="cb156-25"><a href="#cb156-25" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="live-demo-code-with-lee-marsh-of-usa-npn" class="section level2 hasAnchor" number="3.13">
<h2 class="hasAnchor"><span class="header-section-number">3.13</span> Live Demo Code with Lee Marsh of USA-NPN<a href="#live-demo-code-with-lee-marsh-of-usa-npn" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="basic-utility-functions" class="section level3 hasAnchor" number="3.13.1">
<h3 class="hasAnchor"><span class="header-section-number">3.13.1</span> Basic Utility Functions<a href="#basic-utility-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> <span class="fu">npn_species</span>()</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>phenophases <span class="ot">&lt;-</span> <span class="fu">npn_phenophases</span>()</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>layer_details <span class="ot">&lt;-</span> <span class="fu">npn_get_layer_details</span>()</span></code></pre></div>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>quick_get_phenophase <span class="ot">&lt;-</span> <span class="cf">function</span>(species_id, date,phenophase_name){</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>  phenophases<span class="ot">&lt;-</span><span class="fu">npn_phenophases_by_species</span>(<span class="fu">c</span>(species_id),<span class="at">date=</span>date)</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>  phenophases_species <span class="ot">&lt;-</span> phenophases[phenophases<span class="sc">$</span>species_id<span class="sc">==</span>species_id]<span class="sc">$</span>phenophases[[<span class="dv">1</span>]]</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>  phenophases_species[phenophases_species<span class="sc">$</span>phenophase_name<span class="sc">==</span>phenophase_name,]<span class="sc">$</span>phenophase_id</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a>quick_get_species <span class="ot">&lt;-</span> <span class="cf">function</span>(species_name){</span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a>  species[species<span class="sc">$</span>common_name<span class="sc">==</span>species_name,]<span class="sc">$</span>species_id</span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="download-observational-data" class="section level3 hasAnchor" number="3.13.2">
<h3 class="hasAnchor"><span class="header-section-number">3.13.2</span> Download Observational Data<a href="#download-observational-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>white_oak_id <span class="ot">&lt;-</span> <span class="fu">quick_get_species</span>(<span class="st">&quot;white oak&quot;</span>)</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>fruits_id<span class="ot">&lt;-</span> <span class="fu">quick_get_phenophase</span>(white_oak_id,<span class="st">&quot;2017-05-15&quot;</span>,<span class="st">&quot;Fruits&quot;</span>)</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Raw data download</span></span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>s2017_white_oak_raw <span class="ot">&lt;-</span> <span class="fu">npn_download_status_data</span>(</span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&quot;R Demo&quot;</span>,</span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="dv">2017</span>),</span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="fu">c</span>(white_oak_id),</span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="fu">c</span>(fruits_id)</span>
<span id="cb159-10"><a href="#cb159-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="magnitude-data" class="section level3 hasAnchor" number="3.13.3">
<h3 class="hasAnchor"><span class="header-section-number">3.13.3</span> Magnitude Data<a href="#magnitude-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>m2017_white_oak_magnitude <span class="ot">&lt;-</span> <span class="fu">npn_download_magnitude_phenometrics</span>(</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&quot;INF550&quot;</span>,</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="dv">2017</span>),</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> <span class="fu">c</span>(white_oak_id),</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> <span class="fu">c</span>(fruits_id),</span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">period_frequency =</span> <span class="st">&quot;14&quot;</span></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a>datasets <span class="ot">&lt;-</span> <span class="fu">npn_datasets</span>()</span>
<span id="cb160-10"><a href="#cb160-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-11"><a href="#cb160-11" aria-hidden="true" tabindex="-1"></a><span class="co"># NEON data, file download, additional fields</span></span>
<span id="cb160-12"><a href="#cb160-12" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_status_data</span>(</span>
<span id="cb160-13"><a href="#cb160-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&quot;R Demo&quot;</span>,</span>
<span id="cb160-14"><a href="#cb160-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="dv">2018</span><span class="sc">:</span><span class="dv">2020</span>),</span>
<span id="cb160-15"><a href="#cb160-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">states =</span> <span class="fu">c</span>(<span class="st">&quot;CO&quot;</span>),</span>
<span id="cb160-16"><a href="#cb160-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">dataset_ids =</span> <span class="fu">c</span>(<span class="dv">16</span>),</span>
<span id="cb160-17"><a href="#cb160-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">additional_fields =</span> <span class="fu">c</span>(<span class="st">&quot;Site_Name&quot;</span>),</span>
<span id="cb160-18"><a href="#cb160-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">download_path =</span> <span class="st">&quot;NEON_CO_Data_2018-2010.csv&quot;</span></span>
<span id="cb160-19"><a href="#cb160-19" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="downloading-geospatial-data" class="section level3 hasAnchor" number="3.13.4">
<h3 class="hasAnchor"><span class="header-section-number">3.13.4</span> Downloading Geospatial Data<a href="#downloading-geospatial-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>SIXBloom2018 <span class="ot">&lt;-</span> <span class="fu">npn_download_geospatial</span>(</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;si-x:average_bloom_ncep&#39;</span>, </span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;2018-12-31&#39;</span></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="fu">npn_download_geospatial</span>(</span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;gdd:agdd&#39;</span>, </span>
<span id="cb161-9"><a href="#cb161-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;2018-04-15&#39;</span>,</span>
<span id="cb161-10"><a href="#cb161-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_path =</span> <span class="st">&quot;20180415-32-agdd.tiff&quot;</span></span>
<span id="cb161-11"><a href="#cb161-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb161-12"><a href="#cb161-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-13"><a href="#cb161-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-14"><a href="#cb161-14" aria-hidden="true" tabindex="-1"></a>my_point <span class="ot">&lt;-</span> <span class="fu">npn_get_point_data</span>(<span class="st">&quot;gdd:agdd_50f&quot;</span>, <span class="fl">33.649</span>, <span class="sc">-</span><span class="fl">111.861</span>, <span class="st">&quot;2017-05-15&quot;</span>)</span></code></pre></div>
</div>
<div id="putting-it-together" class="section level3 hasAnchor" number="3.13.5">
<h3 class="hasAnchor"><span class="header-section-number">3.13.5</span> Putting it together<a href="#putting-it-together" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>dogwood_id <span class="ot">&lt;-</span> <span class="fu">quick_get_species</span>(<span class="st">&quot;flowering dogwood&quot;</span>)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>dogwood_flowering_id <span class="ot">&lt;-</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quick_get_phenophase</span>(dogwood_id,<span class="st">&quot;2018-05-05&quot;</span>,<span class="st">&quot;Flowers or flower buds&quot;</span>)</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>dogwood_data <span class="ot">&lt;-</span> <span class="fu">npn_download_site_phenometrics</span>(</span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&#39;Demo&#39;</span>, </span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="st">&#39;2018&#39;</span>,</span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_ids =</span> dogwood_id,</span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase_ids =</span> dogwood_flowering_id, </span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">six_leaf_layer =</span> <span class="cn">TRUE</span>,</span>
<span id="cb162-11"><a href="#cb162-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">agdd=</span><span class="dv">32</span></span>
<span id="cb162-12"><a href="#cb162-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="other-data-sources-e.g.-daymet-modis" class="section level3 hasAnchor" number="3.13.6">
<h3 class="hasAnchor"><span class="header-section-number">3.13.6</span> Other Data Sources, e.g. Daymet, MODIS<a href="#other-data-sources-e.g.-daymet-modis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>add_fields <span class="ot">&lt;-</span> <span class="fu">npn_download_status_data</span>(</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">request_source =</span> <span class="st">&quot;INF550&quot;</span>,</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="fu">c</span>(<span class="dv">2014</span>),</span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">species_id =</span> <span class="fu">c</span>(<span class="dv">4</span>),</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">additional_fields =</span> <span class="fu">c</span>(<span class="st">&quot;tmaxf&quot;</span>,<span class="st">&quot;Greenup_0&quot;</span>,<span class="st">&quot;MidGreenup_0&quot;</span>)</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="usa-npn-coding-lab" class="section level2 hasAnchor" number="3.14">
<h2 class="hasAnchor"><span class="header-section-number">3.14</span> USA-NPN Coding Lab<a href="#usa-npn-coding-lab" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnpn)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neonUtilities)</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;/Users/rohan/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data/neon_token_source.R&#39;</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>For the purposes of this exercise we will be focusing on two NEON
sites: <code>HARV</code> and <code>CPER</code>. Save these two sites into your workplace
so that you can feed them into functions and packages.</p></li>
<li><p>Define AGDD and write the equation using LaTeX. What is an
appropriate time interval over which we should calculate AGDD? <em>This
will be relevant for following questions</em></p></li>
<li><p>Use the <code>neonUtilities</code> package to pull plant phenology observations
(DP1.10055.001). We will work with the <code>statusintensity</code> data:</p></li>
</ol>
<p>Hints:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TOS Phenology Data</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>sitesOfInterest <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;HARV&quot;</span>)</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>dpid <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="st">&#39;DP1.10055.001&#39;</span>) <span class="co">#phe data</span></span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>pheDat <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP1.10055.001&quot;</span>,</span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">site =</span> sitesOfInterest,</span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">package =</span> <span class="st">&quot;basic&quot;</span>,</span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">check.size =</span> <span class="cn">FALSE</span>, </span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">token=</span>NEON_TOKEN)</span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a><span class="co">#NEON sends the data as a nested list, so I need to undo that</span></span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a><span class="co"># unlist all data frames</span></span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a><span class="fu">list2env</span>(pheDat ,.GlobalEnv)</span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(phe_perindividualperyear)</span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(phe_statusintensity)</span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-18"><a href="#cb169-18" aria-hidden="true" tabindex="-1"></a><span class="co">#remove duplicate records</span></span>
<span id="cb169-19"><a href="#cb169-19" aria-hidden="true" tabindex="-1"></a>phe_statusintensity <span class="ot">&lt;-</span> <span class="fu">select</span>(phe_statusintensity, <span class="sc">-</span>uid)</span>
<span id="cb169-20"><a href="#cb169-20" aria-hidden="true" tabindex="-1"></a>phe_statusintensity <span class="ot">&lt;-</span> <span class="fu">distinct</span>(phe_statusintensity)</span></code></pre></div>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Format dates</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(phe_statusintensity<span class="sc">$</span>date, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in as.POSIXlt.POSIXct(x, tz = tz): unknown timezone &#39;%Y-%m-%d&#39;</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>editedDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(phe_statusintensity<span class="sc">$</span>editedDate, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in as.POSIXlt.POSIXct(x, tz = tz): unknown timezone &#39;%Y-%m-%d&#39;</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(phe_statusintensity<span class="sc">$</span>date, <span class="dv">1</span>, <span class="dv">4</span>))</span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>phe_statusintensity<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">format</span>(phe_statusintensity<span class="sc">$</span>date, <span class="at">format=</span><span class="st">&quot;%m&quot;</span>))</span></code></pre></div>
<p>In your <code>phe_statusintensity</code> data.frame pick a phenophase name of
interest:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(phe_statusintensity<span class="sc">$</span>phenophaseName)</span></code></pre></div>
<pre><code>##  [1] &quot;Colored leaves&quot;       &quot;Falling leaves&quot;       &quot;Leaves&quot;              
##  [4] &quot;Breaking leaf buds&quot;   &quot;Increasing leaf size&quot; &quot;Open flowers&quot;        
##  [7] &quot;Initial growth&quot;       &quot;Young needles&quot;        &quot;Breaking needle buds&quot;
## [10] &quot;Open pollen cones&quot;    &quot;Emerging needles&quot;     &quot;Young leaves&quot;</code></pre>
<p>And select a single taxon:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(phe_perindividual<span class="sc">$</span>taxonID)</span></code></pre></div>
<pre><code>##  [1] &quot;QURU&quot;  &quot;ACRU&quot;  &quot;ARNU2&quot; &quot;TRBOB&quot; &quot;UVSE&quot;  &quot;MEVI&quot;  &quot;MACA4&quot; &quot;MIRE&quot;  &quot;MARAR&quot;
## [10] &quot;PRSES&quot; &quot;BEAL2&quot; &quot;PIST&quot;  &quot;ACPE&quot;  &quot;FAGR&quot;  &quot;VACO&quot;  &quot;VIAC&quot;  &quot;BELE&quot;  &quot;FRAM2&quot;
## [19] &quot;ACSAS&quot; &quot;TSCA&quot;</code></pre>
<p>Now create a new, filtered <code>dataframe</code> only including those observations
and print a summary. You’ll also want to filter for typical things like
<code>NA</code> values, and think about how you’ll work with data that comes in
factors or strings. Are there ways you could extract numerical values
for plotting? Could you <code>count</code> data? Summarize your strategy.</p>
<ol start="4" style="list-style-type: decimal">
<li>Using dpid <strong>DP1.00002.001</strong> Single Aspirated Air Temperature
calculate AGDD based on NEON tower data over the time period you
decidided upon in question 1. To save you time and frustration I’ve
placed some <strong>mostly complete</strong> example code for <em>one</em> height on the
tower <em>just for Harvard</em>. <strong>You will need to determine which height
you think it best and conmplete these calculations for both sites.</strong>
You will also need to consder things like filtering your temperature
data for quality flags, and converting from GMT (Greenwich Mean
Time) to <a href="https://stackoverflow.com/questions/1395117/how-do-you-convert-dates-times-from-one-time-zone-to-another-in-r">your location’s
time</a>:</li>
</ol>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="do">##load libraries</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="co">#library(tidyverse)</span></span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neonUtilities)</span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&#39;mgcv&#39;)</span></span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mgcv)</span></code></pre></div>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>dpid <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="st">&#39;DP1.00002.001&#39;</span>)  <span class="do">##single aspirated air temperature</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>tempDat <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="at">dpID=</span>dpid,</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">site =</span> <span class="st">&quot;HARV&quot;</span>, </span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">startdate =</span> <span class="st">&quot;2017-01&quot;</span>,</span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">enddate=</span><span class="st">&quot;2017-12&quot;</span>,</span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">avg=</span><span class="dv">30</span>,</span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a>                        <span class="at">package =</span> <span class="st">&quot;basic&quot;</span>,</span>
<span id="cb183-9"><a href="#cb183-9" aria-hidden="true" tabindex="-1"></a>                        <span class="at">check.size =</span> <span class="cn">FALSE</span>)</span>
<span id="cb183-10"><a href="#cb183-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-11"><a href="#cb183-11" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> tempDat<span class="sc">$</span>SAAT_30min</span></code></pre></div>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># GDD typically reported in F</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="co"># convert df temps</span></span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>meanTempF<span class="ot">=</span>df<span class="sc">$</span>tempSingleMean<span class="sc">*</span><span class="fl">1.8</span><span class="sc">+</span><span class="dv">32</span></span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a><span class="co">#pull date value from dateTime</span></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">substr</span>(df<span class="sc">$</span>endDateTime, <span class="dv">1</span>, <span class="dv">10</span>)</span></code></pre></div>
<p><strong>Group data and summarize values</strong></p>
<p>Here, I will group the 30-minute temperature averages by data (to get
daily values)</p>
<p><strong>You will want to consider which vertical position is most appropriate
to use for your analysis.</strong></p>
<p>You can view the sensor position data in the sensor_positions table
downloaded above, where HOR.VER are the horizontal and vertical position
indices (separated by a period),and zOffset is in meters above the
ground:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tempDat<span class="sc">$</span>sensor_positions_00002, <span class="fu">c</span>(HOR.VER, zOffset))</span></code></pre></div>
<p>you can also view all of the sensor position info with the following
line:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tempDat<span class="sc">$</span>sensor_positions_00002)</span></code></pre></div>
<p>For example, the lowest position sensor (verticalPosition == 010) may be
most appropriate for comparison with the phenological state of very
short plants, while the highest verticalPosition may be better for
comparison with canopy trees.</p>
<p>Here I’ll select level 1 for demonstration</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>day_temp <span class="ot">&lt;-</span> df<span class="sc">%&gt;%</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(verticalPosition<span class="sc">==</span><span class="st">&quot;010&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(siteID, date)<span class="sc">%&gt;%</span></span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dayMaxTemp=</span><span class="fu">max</span>(meanTempF), <span class="at">dayMinTemp=</span><span class="fu">min</span>(meanTempF),</span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">dayMeanTemp=</span><span class="fu">mean</span>(meanTempF))<span class="sc">%&gt;%</span></span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(siteID, date, dayMaxTemp, dayMinTemp, dayMeanTemp)<span class="sc">%&gt;%</span></span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-9"><a href="#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="do">##alternative, simplified mean, consistent with many GDD calculations </span></span>
<span id="cb187-10"><a href="#cb187-10" aria-hidden="true" tabindex="-1"></a><span class="do">### does accumulation differ for true mean vs. simplified mean?</span></span>
<span id="cb187-11"><a href="#cb187-11" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>mean2 <span class="ot">&lt;-</span> (day_temp<span class="sc">$</span>dayMinTemp <span class="sc">+</span> day_temp<span class="sc">$</span>dayMaxTemp)<span class="sc">/</span><span class="dv">2</span></span></code></pre></div>
<p><strong>Caluculate daily GDD for a true mean</strong></p>
<p><em>50 degrees F is a common base temperature used to calculate plant
specific GDD. When might you select a different base temp?</em></p>
<p><em>How might you want to deal with different ‘means’ of temperature? A
couple of options below:</em></p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>GDD1 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(day_temp<span class="sc">$</span>dayMeanTemp<span class="dv">-50</span> <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="fu">round</span>(day_temp<span class="sc">$</span>dayMeanTemp<span class="dv">-50</span>, <span class="dv">0</span>))</span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>GDD2 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(day_temp<span class="sc">$</span>mean2<span class="dv">-50</span> <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="fu">round</span>(day_temp<span class="sc">$</span>mean2<span class="dv">-50</span>, <span class="dv">0</span>))</span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>GDD3 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(day_temp<span class="sc">$</span>dayMeanTemp<span class="dv">-50</span> <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="fu">round</span>(day_temp<span class="sc">$</span>mean2<span class="dv">-50</span>, <span class="dv">0</span>))</span></code></pre></div>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define year</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">substr</span>(day_temp<span class="sc">$</span>date, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a><span class="co">#function to add daily GDD values</span></span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a>sumr<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x), <span class="cf">function</span>(i) <span class="fu">sum</span>(x[<span class="dv">1</span><span class="sc">:</span>i]))</span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate Accumlated GDD</span></span>
<span id="cb189-10"><a href="#cb189-10" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>AGDD3 <span class="ot">&lt;-</span> <span class="fu">sumr.2</span>(<span class="at">x=</span>day_temp<span class="sc">$</span>GDD3)</span>
<span id="cb189-11"><a href="#cb189-11" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>AGDD2 <span class="ot">&lt;-</span> <span class="fu">sumr.2</span>(<span class="at">x=</span>day_temp<span class="sc">$</span>GDD2)</span>
<span id="cb189-12"><a href="#cb189-12" aria-hidden="true" tabindex="-1"></a>day_temp<span class="sc">$</span>AGDD1 <span class="ot">&lt;-</span> <span class="fu">sumr.2</span>(<span class="at">x=</span>day_temp<span class="sc">$</span>GDD1)</span>
<span id="cb189-13"><a href="#cb189-13" aria-hidden="true" tabindex="-1"></a>day_temp <span class="ot">&lt;-</span> <span class="fu">ungroup</span>(day_temp)</span></code></pre></div>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb190-6"><a href="#cb190-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">x=</span> <span class="sc">~</span>day_temp<span class="sc">$</span>date,</span>
<span id="cb190-7"><a href="#cb190-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> day_temp<span class="sc">$</span>AGDD1,</span>
<span id="cb190-8"><a href="#cb190-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">type=</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb190-9"><a href="#cb190-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;lines&quot;</span>,</span>
<span id="cb190-10"><a href="#cb190-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;rgb(120,120,120)&quot;</span>),</span>
<span id="cb190-11"><a href="#cb190-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;Calculated Mean Temp&quot;</span>,</span>
<span id="cb190-12"><a href="#cb190-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span>, </span>
<span id="cb190-13"><a href="#cb190-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity=</span>.<span class="dv">5</span></span>
<span id="cb190-14"><a href="#cb190-14" aria-hidden="true" tabindex="-1"></a>    )<span class="sc">%&gt;%</span></span>
<span id="cb190-15"><a href="#cb190-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(</span>
<span id="cb190-16"><a href="#cb190-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> day_temp,</span>
<span id="cb190-17"><a href="#cb190-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span> date,</span>
<span id="cb190-18"><a href="#cb190-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> AGDD2,</span>
<span id="cb190-19"><a href="#cb190-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">name=</span> <span class="st">&#39;Simplified Mean Temp&#39;</span>,</span>
<span id="cb190-20"><a href="#cb190-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb190-21"><a href="#cb190-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb190-22"><a href="#cb190-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">&#39;lines&#39;</span>,</span>
<span id="cb190-23"><a href="#cb190-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">width =</span> <span class="dv">1</span>),</span>
<span id="cb190-24"><a href="#cb190-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity=</span>.<span class="dv">5</span>)<span class="sc">%&gt;%</span></span>
<span id="cb190-25"><a href="#cb190-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(</span>
<span id="cb190-26"><a href="#cb190-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> day_temp,</span>
<span id="cb190-27"><a href="#cb190-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span> date,</span>
<span id="cb190-28"><a href="#cb190-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> AGDD3,</span>
<span id="cb190-29"><a href="#cb190-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">name=</span> <span class="st">&#39;Filtered Using Both&#39;</span>,</span>
<span id="cb190-30"><a href="#cb190-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb190-31"><a href="#cb190-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb190-32"><a href="#cb190-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">&#39;lines&#39;</span>,</span>
<span id="cb190-33"><a href="#cb190-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">width =</span> <span class="dv">1</span>),</span>
<span id="cb190-34"><a href="#cb190-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity=</span>.<span class="dv">2</span>)</span>
<span id="cb190-35"><a href="#cb190-35" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>Plot your calculated AGDD and comment on your calculations. Do you
need to revise your time horizon or sensor height?</p></li>
<li><p>Now we’re going to build a model to see how AGDD impacts
phenological status. But Wait. Is phenology <strong>all</strong> driven by
temperature? Should you consider any other variables? What about
AGDD <strong>and</strong> just plain temperature? Also, we have one very
temperate site, and another that is a semi-arid grassland. Should
water availability of any sort be considered? Any other variables or
data?</p></li>
</ol>
<p>Create a <a href="https://dereksonderegger.github.io/578/7-beyond-linearity.html#gams">GAM (Generalized Additive
Model)</a>
for your phenological data including any variables you think might be
relevant.</p>
<p>One of the bonuses of a GAM is that it will tell you which variables are
relevant and which aren’t so you can iterate a bit on your model and
revise it. You might want to test a few positions on your asipirated air
temperature, or a few other additional variables. Your selection is up
to you, but you must document and justify your decision.</p>
<p>Hints:</p>
<pre><code>library(mgcv)
model &lt;- mgcv::gam(phenological_status_you_picked ~ AGDD + s(temp or maybe precip) + s(doy), data=your_data)
mgcv::summary.gam(model) </code></pre>
<p>and plot your models for each site: Hint:</p>
<pre><code>mgcv::plot.gam(model, pages=1 )</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>Now that we have a model for NEON data, let’s use the rnpn package
to see how adding additional data could improve our fit. Use the
<code>taxonID</code> that you selected at each NEON tower, and feed that to the
<code>rnpn</code> package to grab observational data and increase your number
of observations.</li>
</ol>
<p>Hints:</p>
<ul>
<li>Feeding a state or other region will make the data more congruent</li>
<li>You’ll likely need to either request the phenophase that you
selected from NEON, or filter again.</li>
<li>It might make your life easier to request the NEON data from <code>rnpn</code>
as they host it as well.</li>
</ul>
<ol start="8" style="list-style-type: decimal">
<li><p>Pull AGDD from USA-NPN based on the observations you just pulled.</p></li>
<li><p>Combine your NEON and USA-NPN data into the same data.frame and
re-fit your GAM.</p></li>
</ol>
<ul>
<li>Summarize your new model</li>
<li>Plot your new model</li>
<li>Comment on your new model: was it improved? If so how?</li>
</ul>
<div id="ds-challenge" markdown="1">

</div>
<div id="neon-tos-phenology-data-lecture" class="section level2 hasAnchor" number="3.15">
<h2 class="hasAnchor"><span class="header-section-number">3.15</span> NEON TOS Phenology Data Lecture<a href="#neon-tos-phenology-data-lecture" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/aSapVSBoUA8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>Please watch the recorded lecture with Dr. Katie Jones, lead plant
ecologist with NEON Battelle</p>
</blockquote>
</div>
<div id="understanding-observation-biases-and-censoring-in-citizen-science-data" class="section level2 hasAnchor" number="3.16">
<h2 class="hasAnchor"><span class="header-section-number">3.16</span> Understanding Observation Biases and Censoring in Citizen Science Data<a href="#understanding-observation-biases-and-censoring-in-citizen-science-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>The following information was adapted from Zachmann et al. (in prep)
and is not to be distributed or used beyond this course.</p>
</blockquote>
<p>One significant barrier to advancing our understanding and utilization
of phenology information is wrapped up in the ability of existing models
to represent drivers of phenology and phenological shifts appropriately.</p>
<p><img src="docs/images/700phenology.jpg" width="350" /></p>
<p>The specific timing of phenological events, such as first leaf or first
flower in plants, is affected by multiple, potentially interacting
climatic and geophysical factors. For example, soil moisture supply,
atmospheric demand for water, frost events, day length, and terrain have
all been shown to influence species’ phenology. <strong>Many of these factors
vary over time as well as space.</strong> Additionally, some of their <em>effects
may themselves</em> vary over time as a result of interactions among
controls on phenology.</p>
<p><strong>For instance:</strong></p>
<ul>
<li><p>Precipitation and temperature likely interact to initiate
phenological events;</p></li>
<li><p>Precipitation triggers a state change only after enough heat has
accumulated at a given site over the course of the growing season.</p></li>
</ul>
<p>Phenological predictions, specifically, consist of estimates of the
anticipated onset dates of key events: <em>bud break and the arrival of
spring, for example, or plant senescence in the fall</em>.</p>
<p>In order to track anomalies in real-time, we need forecasts of
phenology. Further, we need forecasts of long-term shifts in phenology
as a result of climate change. However, making any such predictions
requires both <strong>reasonable</strong> <em>and</em> <strong>skillful</strong> models of phenology.</p>
<blockquote>
<p>By “reasonable” we refer to models that are appropriate for the data
– including any “nonignorable” aspects of the sampling design, Gelman
et al. (2013) – and the underlying ecological process, while by
“skillful” we mean that the model has adequate predictive performance.</p>
</blockquote>
<div id="many-existing-modeling-approaches-fail-in-one-or-both-regards." class="section level3 hasAnchor" number="3.16.1">
<h3 class="hasAnchor"><span class="header-section-number">3.16.1</span> Many existing modeling approaches fail in one (or both) regards.<a href="#many-existing-modeling-approaches-fail-in-one-or-both-regards." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Much of the existing work relies on models that implicitly or explicitly
ignore key characteristics of phenological data and the ecological
process of phenology. For example, many studies ignore censoring and
other aspects of the sampling design underlying observations, including
the location and nestedness of sampling units, or incompletely account
for the dynamic nature of phenological drivers. Efforts that fail to
account for these features of the data are liable to misrepresent the
ecological process, thereby making predictions that are demonstrably
wrong and potentially biased. Though it can be argued that some
information is better than no information, scientific understanding and
consequential management actions require the right information. In other
words, <strong>it is better to be ignorant than misled.</strong></p>
</div>
<div id="censoring" class="section level3 hasAnchor" number="3.16.2">
<h3 class="hasAnchor"><span class="header-section-number">3.16.2</span> Censoring<a href="#censoring" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Time-to-event data are rarely recorded accurately, in which case
observations are said to be censored. There are several types of
censoring we must consider. In the context of plant phenology, perhaps
the most common is <strong>interval censoring</strong>, which occurs when a
<strong>phenological event transpires between visits to a site</strong>.</p>
<p><img src="docs/images/cens1.png" width="1440" /></p>
<blockquote>
<p>Illustration of the types of censoring that are relevant to analyses
of phenological data. Although shown extending from zero to positive
infinity, the x-axis for most phenological events spans the length of
a growing season and starts on Jan. 1. The timing, ti, of the event
(e.g., first leaf), in relation to interval boundaries li and ri, is
indicated by the position of the leaf along the x- axis, while actual
site visits are represented by the presence of the person. Note that -
in the case of right-censoring – the event need not occur, hence the
question mark. Phenological observations are almost never observed
exactly, as depicted on the bottom-most timeline for uncensored
observations. (Zachmann et al, in prep)</p>
</blockquote>
<p>Taking first leaf as an example, a deciduous shrub at site i might be
completely leafless at the time of the first visit, li, but could have
several emerging leaves at time of the second visit ri. The size of the
interval depends on how frequently the site is visited, and may span
days or weeks. All that is known is that the event of interest happened
in (li,ri), rather than an exact time.</p>
<p>Censoring is often ignored in analysis, or it is addressed, potentially
inappropriately, using imputation techniques. When the intervals are
small relative to the full timespan of interest, the bias introduced by
interval censored observations may be small enough to be safely ignored.
Either such assumptions must be tested or statistical methods that
account for this feature of the sampling design must be used.</p>
</div>
</div>
<div id="so-then-how-can-we-model-censored-data" class="section level2 hasAnchor" number="3.17">
<h2 class="hasAnchor"><span class="header-section-number">3.17</span> So then how can we model censored data?<a href="#so-then-how-can-we-model-censored-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="docs/images/cens2.png" width="1440" /></p>
<blockquote>
<p>An extension of the ontology developed above, this figure shows a
simulated set of observations for eight sites chosen at random from
the N = 100 sites used to develop the concept figures. Three types of
censoring can be seen in this figure. Not all phenological
observations are created equally, nor systematically! (Zachmann et al,
in prep)</p>
</blockquote>
<p>For logistical or other reasons, record-keeping at some sites starts
earlier than others. Additionally, some of the observers make visits to
sites more frequently than others. Analyses that do not account for this
sampling process explicitly are somewhat impaired — they must filter
the observations for known events (times represented by visits shown in
purple) and must discard others (e.g., the data for sites 30 and 77), or
must impute times using single-point imputation techniques, which have
been shown to lead to invalid inference.</p>
<p><img src="docs/images/cens3.png" width="1440" /></p>
<blockquote>
<p>The histogram seen in the upper panel is constructed on the basis of
the true, unobserved leaf out dates. Metaphorically speaking, it is
the pile of leaves that would be formed if each leaf (in addition to
the other 92 sites not shown) were to fall straight to the bottom of
the plot. The histogram on the bottom (in purple) is created using
actual first leaf observations (the event dates corresponding to the
purple “botanists” above). (Zachmann et al, in prep)</p>
</blockquote>
<p>Here the authors seek to model the latent distribution of event times
(the green line overlaying the histogram in the upper panel) that gives
rise to the observations seen in the lower panel. As they begin to
introduce both greater complexity, realism, and utility, they can model
the moments (or parameters) of the latent distribution using
well-established deterministic models involving climatic and other
phenological forcings.</p>
</div>
<div id="intro-to-usa-npn-culmination-activity" class="section level2 hasAnchor" number="3.18">
<h2 class="hasAnchor"><span class="header-section-number">3.18</span> Intro to USA-NPN Culmination Activity<a href="#intro-to-usa-npn-culmination-activity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Note: Phenology data may not be relevant everyone. Here are a couple of suggestions:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Be creative, example: Say you work with ground water hydrology, how
could leaves on trees perhaps be relevant to groundwater recharge
rate? Might there be a lag? Etc etc.</p></li>
<li><p>I will fully accept alternate citizen-science-based datasets and
project proposals based on those. The challenge of taking this
option is that we have not covered that data.</p></li>
</ol>
<p>Write up a 1-page <strong>derived data product or research pipeline proposal</strong>
summary of a project that you might want to explore using USA-NPN data.
Include the types of USA-NPN (and other data) that you will need to
implement this project. Save this summary as you will be refining and
adding to your ideas over the course of the semester.</p>
<p>Sugestions:</p>
<ol style="list-style-type: decimal">
<li><p>Tables or bullet lists of <strong>specific</strong> data products</p></li>
<li><p>An <strong>overarching high-quality figure</strong> to show how these data align</p></li>
<li><p>One paragaph summarizing <em>how</em> this data or analysis is useful to
<strong>you and/or the infrastructure</strong>.</p></li>
</ol>
<!--chapter:end:03-USA-NPN.Rmd-->
</div>
</div>
<div id="phenocam-digital-repeat-photography-networks-methods" class="section level1 hasAnchor" number="4">
<h1 class="hasAnchor"><span class="header-section-number">4</span> PhenoCam: Digital Repeat Photography Networks &amp; Methods<a href="#phenocam-digital-repeat-photography-networks-methods" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>Estimated Time: 4 hours</p>
</blockquote>
<p><strong>Course participants</strong>: As you review this information, please
consider the final course project
that you will work on at the over this semester. At the end of this section, you will
document an initial research question or idea and associated data needed to
address that question, that you may want to explore while pursuing this course.</p>
<div id="digital-repeat-photography-networks-learning-objectives" class="section level2 hasAnchor" number="4.1">
<h2 class="hasAnchor"><span class="header-section-number">4.1</span> Digital Repeat Photography Networks Learning Objectives<a href="#digital-repeat-photography-networks-learning-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At the end of this activity, you will be able to:</p>
<ol style="list-style-type: decimal">
<li><p>Understand how phenology is a large driver of biosphere-atmosphere interactions, and is a sensitive indicator of climate change.</p></li>
<li><p>Summarize data which can be pulled out of digital repeat imagery</p></li>
<li><p>Describe basic processing of digital repeat photography</p></li>
<li><p>Perform basic image processing.</p></li>
<li><p>Estimate image haziness as an indication of fog, cloud or other natural or artificial factors using the <code>hazer</code>R package.</p></li>
<li><p>Define and use a Region of Interest, or ROI, for digitial repeat photography methods.</p></li>
<li><p>Handle Field-of-View (FOV) shifts in digital repeat photography.</p></li>
<li><p>Extract timeseries data from a stack of images using color-based metrics.</p></li>
</ol>
<div id="guest-lectures" class="section level3 hasAnchor" number="4.1.1">
<h3 class="hasAnchor"><span class="header-section-number">4.1.1</span> Guest Lectures<a href="#guest-lectures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="phenocam-marrying-phenology-and-fluxes" class="section level4 hasAnchor" number="4.1.1.1">
<h4 class="hasAnchor"><span class="header-section-number">4.1.1.1</span> PhenoCam, marrying phenology and fluxes<a href="#phenocam-marrying-phenology-and-fluxes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_4uHLXL1yZA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><em>This is not the correct video, it is a placeholder</em></p>
<blockquote>
<p>(1 hour, 12 minutes)</p>
</blockquote>
<p><strong>Andrew Richardson</strong>, Regents Professor at Northern Arizona University’s Center of Ecosystem Science and Society (<a href="https://ecoss.nau.edu/">Ecoss</a>) and School of Informatics, Computing and Cyber Systems (<a href="https://ecoinfo.nau.edu/">SICCS</a>), and Principal Investigator of PhenoCam explains the background of PhenoCam, its conception, and its spacial design.</p>
</div>
<div id="digital-repeat-photography-methods" class="section level4 hasAnchor" number="4.1.1.2">
<h4 class="hasAnchor"><span class="header-section-number">4.1.1.2</span> Digital repeat photography methods<a href="#digital-repeat-photography-methods" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/sJTEKEHZNVs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>(1 hour, 11 minutes)</p>
</blockquote>
<p><strong>Bijan Seyednasrollah</strong>, Post-doctoral scholar at Northern Arizona University, School of Informatics, Computing, and Cyber Systems, and lead developer of phenocamapi, covers digital repeat photography methods and the phenocamapi R package.</p>
</div>
</div>
<div id="assignments-in-this-chapter" class="section level3 hasAnchor" number="4.1.2">
<h3 class="hasAnchor"><span class="header-section-number">4.1.2</span> Assignments in this chapter<a href="#assignments-in-this-chapter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><em>Digital Repeat Photography Written Questions</em> Demonstrate your knowledge of PhenoCam’s philosophy and practices, and identify how these intersect with your own research interests (4.4).</p></li>
<li><p><em>Digital Repeat Photography Coding Lab</em> Download and Manipulate digital repeat photography data using the R packages covered in this chapter (4.13).</p></li>
<li><p><em>PhenoCam culmination activity</em> Summarize a project you might explore using PhenoCam (4.14).</p></li>
</ul>
</div>
</div>
<div id="the-phenocam-network-mission-design" class="section level2 hasAnchor" number="4.2">
<h2 class="hasAnchor"><span class="header-section-number">4.2</span> The PhenoCam Network Mission &amp; Design<a href="#the-phenocam-network-mission-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_4uHLXL1yZA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><strong>Since its inception, the objective of the PhenoCam network has been to serve as a repository for phenologically-relevant, digital, repeat (time-lapse) imagery, and to make that imagery, and derived data products, freely available to a wide array of third-party data end-users, including researchers, educators, and the general public.</strong></p>
<p>“Thus, imagery from the PhenoCam archive is made publicly available, without restriction, and we encourage you to download imagery and datasets for use in your own research and teaching. In return, we ask that you acknowledge the source of the data and imagery, and abide by the terms of the Creative Commons CC BY Attribution License.”</p>
<div id="relevant-documents-background-information-1" class="section level3 hasAnchor" number="4.2.1">
<h3 class="hasAnchor"><span class="header-section-number">4.2.1</span> Relevant documents &amp; background information:<a href="#relevant-documents-background-information-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/gallery/">The PhenoCam Gallery</a></p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/map/">A map of PhenoCam locations</a></p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/table/">A site table of all PhenoCams</a></p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/tools/site_metadata_format/">PhenoCam metadata</a></p></li>
</ul>
</div>
</div>
<div id="phenocams-spatial-design" class="section level2 hasAnchor" number="4.3">
<h2 class="hasAnchor"><span class="header-section-number">4.3</span> PhenoCam’s Spatial design:<a href="#phenocams-spatial-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The PhenoCam Network is:</p>
<ul>
<li><p>A voluntary ‘opt in’ network with collaborators who are varied, including:</p>
<ul>
<li><p>Individual research labs or field sites in North America, Europe, Asia, Africa, South America</p></li>
<li><p>Individuals who think it would be cool to be part of a network like this</p></li>
</ul></li>
</ul>
<p>The project is largely run by the Richardson Lab at NAU, with support from key collaborators at the University of New Hampshire who provide server and website management.</p>
<p>Anyone can buy a relatively inexpensive camera, run some simple scripts to correct for things like auto-white balance (which we will cover later), and patch in to the netowrk. PhenoCam then retrieves, archieves and processess imagery for distribution.</p>
<div id="phenocam-as-a-near-surface-remote-sensing-technique" class="section level3 hasAnchor" number="4.3.1">
<h3 class="hasAnchor"><span class="header-section-number">4.3.1</span> PhenoCam as a Near Surface Remote Sensing Technique<a href="#phenocam-as-a-near-surface-remote-sensing-technique" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/l3d3shbF2_s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>6 years of PhenoCam imagery at Harvard Forest</p>
</blockquote>
<ul>
<li><p>PhenoCam uses imagery from networked digital cameras for continuous monitoring of plant canopies</p></li>
<li><p>Images are recorded approximately every 30 minutes (every 15 minutes for NEON), sunrise to sunset, 365 days a year</p></li>
<li><p>The scale of observations is comparable to that of tower-based land-atmosphere flux measurements</p></li>
<li><p>PhenoCams provide a direct link between what is happening on the ground and what is seen by satellites
PhenoCams cover a wide array of:</p></li>
<li><p>Plant Funtional Types (PFTs)</p></li>
</ul>
<p><img src="images/phenocams.png" width="1471" /></p>
<ul>
<li>Ecoregions</li>
</ul>
<p><img src="images/phenocam_zones.png" width="959" /></p>
<blockquote>
<p>Spatial distribution of PhenoCam data across ecological regions of North America. Background map
illustrates USA Environmental Protection Agency Level I Ecoregions. Data counts have been aggregated to
a spatial resolution of 4°, and the size of each circle corresponds to the number of site-years of data in the 4×4°
grid cell. Sites in Hawaii, Puerto Rico, Central and South America, Europe, Asia and Africa (total of 88 site
years) are not shown. (Seyednasrollah et al., 2019)</p>
</blockquote>
<ul>
<li><p>Co-Located Networks</p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/search/?sitename=spruce&amp;type=I&amp;primary_vegtype=&amp;dominant_species=&amp;active=unknown&amp;fluxdata=unknown&amp;group=">Flux towers</a></p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/search/?sitename=&amp;type=I&amp;primary_vegtype=&amp;dominant_species=&amp;active=unknown&amp;fluxdata=false&amp;group=NEON">NEON</a></p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/search/?sitename=&amp;type=I&amp;primary_vegtype=&amp;dominant_species=&amp;active=unknown&amp;fluxdata=false&amp;group=LTAR">LTER/LTAR</a></p></li>
<li><p>Ambient vs. Experimental set ups</p></li>
</ul>
<p><img src="images/spruce_phenocam.png" width="300" /></p>
<ul>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/search/?sitename=sega&amp;type=I&amp;primary_vegtype=&amp;dominant_species=&amp;active=unknown&amp;fluxdata=unknown&amp;group=">SEGA sites</a></p></li>
<li><p><a href="https://phenocam.sr.unh.edu/webcam/network/search/?sitename=spruce&amp;type=I&amp;primary_vegtype=&amp;dominant_species=&amp;active=unknown&amp;fluxdata=unknown&amp;group=">SPRUCE Experiment</a></p></li>
</ul>
</div>
<div id="how-phenocams-pull-data" class="section level3 hasAnchor" number="4.3.2">
<h3 class="hasAnchor"><span class="header-section-number">4.3.2</span> How PhenoCams Pull Data<a href="#how-phenocams-pull-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="images/Screen%20Shot%202020-09-13%20at%205.46.32%20PM.png" width="1193" /></p>
</div>
<div id="leveraging-camera-near-infrared-nir-capabilities" class="section level3 hasAnchor" number="4.3.3">
<h3 class="hasAnchor"><span class="header-section-number">4.3.3</span> Leveraging camera near-infrared (NIR) capabilities<a href="#leveraging-camera-near-infrared-nir-capabilities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="http://harvardforest.fas.harvard.edu/publications/pdfs/Petach_AgriForestMeteor_2014.pdf">Petach et al., Agricultural &amp; Forest Meteorology 2014</a></p>
<p>CMOS sensor is sensitive to &gt; 700 nm</p>
<p><img src="images/phenocamNIR.png" width="277" /></p>
<p>A software-controlled filter enables sequential VIS (RGB color) and VIS+NIR (monochrome) images
Potential applications:</p>
<ul>
<li><p>false color images</p></li>
<li><p>“camera NDVI” as alternative to GCC</p></li>
</ul>
<p><img src="images/phenocamFALSE1.png" width="320" /><img src="images/phenocamFALSE2.png" width="320" /></p>
</div>
</div>
<div id="digital-repeat-photography-written-questions" class="section level2 hasAnchor" number="4.4">
<h2 class="hasAnchor"><span class="header-section-number">4.4</span> Digital Repeat Photography Written Questions<a href="#digital-repeat-photography-written-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>Suggested completion: Before Digital Repeat Photography methods (day 2 PhenoCam)</em></p>
<p><strong>Question 1:</strong> What do you see as the value of the images themselves? The 1 or 3-day products, the transition dates? How could they be used for different applications?</p>
<p><strong>Question 2:</strong> Why does PhenoCam take photos every 15-30 minutes, but summarize to 1 or 3-day products?</p>
<p><strong>Question 3:</strong> Why does canopy color coordinate with photosynthesis in many ecosystems? Name an example of a situation where it wouldn’t and explain why.</p>
<p><strong>Question 4:</strong> Why are there sometimes multiple <strong>Regions of Interest (ROIs)</strong> for a PhenoCam?</p>
<p><strong>Question 5:</strong> How might or does the PhenoCam project
intersect with your current research or future career goals? <em>(1 paragraph)</em></p>
<p><strong>Question 6:</strong>
Use the map on the <a href="https://phenocam.sr.unh.edu/webcam/network/map/">PhenoCam website</a> to answer the following questions. Consider the research question that you may explore as your final semester project or a current project that you are working on and answer each of the following questions:</p>
<ul>
<li>Are there PhenoCams that are in study regions of interest to you?<br />
</li>
<li>Which PhenoCam sites does your current research or final project ideas
coincide with?<br />
</li>
<li>Are they connected to other networks (e.g. LTAR, NEON, Fluxnet)?<br />
</li>
<li>What is the data record length for the sites you’re interested in?</li>
</ul>
<p><strong>Question 7:</strong>
Consider either your current or future research, or a question you’d like to
address during this course:</p>
<ul>
<li>Which types of PhenoCam data may be more useful to address these questions?</li>
<li>What non-PhenoCam data resources could be combined to help address your question?</li>
<li>What challenges, if any, could you foresee when beginning to work with these
data?</li>
</ul>
</div>
<div id="introduction-to-digital-repeat-photography-methods" class="section level2 hasAnchor" number="4.5">
<h2 class="hasAnchor"><span class="header-section-number">4.5</span> Introduction to Digital Repeat Photography Methods<a href="#introduction-to-digital-repeat-photography-methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The concept of repeat photography for studying environmental has been
introduced to scientists long time ago (See Stephens et al., 1987).
But in the past decade the idea has gained much popularity for monitoring
environmental change (e.g., Sonnentag et al., 2012).
One of the main applications of digital repeat photography is studying vegetation
phenology for a diverse range of ecosystems and biomes (Richardson et al., 2019).
The methods has also shown great applicability in other fields such as:</p>
<ol style="list-style-type: decimal">
<li><p>assessing the seasonality of gross primary production,</p></li>
<li><p>salt marsh restoration,</p></li>
<li><p>monitoring tidal wetlands,</p></li>
<li><p>investigating growth in croplands, and</p></li>
<li><p>evaluating phenological data products derived from satellite remote sensing.</p></li>
</ol>
<p>Obtaining quantitative data from digital repeat photography images is usually
performed by defining appropriate region of interest, also know as ROI’s,
and for the red (R), green (G) and blue (B) color channels, calculating
pixel value (intensity) statistics across the pixels within each ROI.
ROI boundaries are delineated by mask files which define which pixels
are included and which are excluded from these calculations.</p>
<p>The masks are then used to extract color-based time series from a stack of images.
Following the time-series, statistical metrics are used to obtain
1-day and 3-day summary time series.
From the summary product time series, phenological transition dates
corresponding to the start and the end of green-up and green-down
phenological phases are calculated.
In this chapter we explain this process by starting from general
image processing tools and then to phenocam-based software applications.</p>
<p>For more details about digital repeat photogrpahy you can check out the following publications:
- <a href="https://bnasr.github.io/papers/Seyednasrollah_et_al_2019_SciData.pdf">Seyednarollah, et al. 2019, “Tracking vegetation phenology across diverse biomes using Version 2.0 of the PhenoCam Dataset”</a>.
- <a href="https://bnasr.github.io/papers/Seyednasrollah_et_al_2019_PRS.pdf">Seyednarollah, et al. 2019, “Data extraction from digital repeat photography using xROI: An interactive framework to facilitate the process”</a>.</p>
</div>
<div id="pulling-data-via-the-phenocamapi-package" class="section level2 hasAnchor" number="4.6">
<h2 class="hasAnchor"><span class="header-section-number">4.6</span> Pulling Data via the <em>phenocamapi</em> Package<a href="#pulling-data-via-the-phenocamapi-package" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <a href="https://github.com/bnasr/phenocamapi" class="uri">https://github.com/bnasr/phenocamapi</a> <em>phenocamapi</em> R package</a>
is developed to simplify interacting with the
<a href="https://phenocam.sr.unh.edu" target="_blank">PhenoCam network</a>
dataset and perform data wrangling steps on PhenoCam sites’ data and metadata.</p>
<p>This tutorial will show you the basic commands for accessing PhenoCam data
through the PhenoCam API. The <em>phenocampapi</em> R package is developed and maintained by
<a href="https://bnasr.github.io/" target="_blank">Bijan Seyednarollah</a>.
The most recent release is available on GitHub (<a href="https://github.com/bnasr/phenocamapi" target="_blank">PhenocamAPI</a>).
<a href="https://github.com/bnasr/phenocamapi/tree/master/vignettes" target ="_blank">Additional vignettes</a>
can be found on how to merge external time-series (e.g. Flux data) with the
PhenoCam time-series.</p>
<p>We begin with several useful skills and tools for extracting PhenoCam data
directly from the server:</p>
<ul>
<li>Exploring the PhenoCam metadata</li>
<li>Filtering the dataset by site attributes</li>
<li>Extracting the list of midday images</li>
<li>Downloading midday images for a given time range</li>
</ul>
</div>
<div id="exploring-phenocam-metadata" class="section level2 hasAnchor" number="4.7">
<h2 class="hasAnchor"><span class="header-section-number">4.7</span> Exploring PhenoCam metadata<a href="#exploring-phenocam-metadata" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each PhenoCam site has specific metadata including but not limited to how a site
is set up and where it is located, what vegetation type is visible from the
camera, and its climate regime. Each PhenoCam may have zero to several Regions
of Interest (ROIs) per vegetation type. The <em>phenocamapi</em> package is an
interface to interact with the PhenoCam server to extract those data and
process them in an R environment.</p>
<p>To explore the PhenoCam data, we’ll use several packages for this tutorial.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(phenocamapi)</span></code></pre></div>
<pre><code>## Loading required package: rjson</code></pre>
<pre><code>## Loading required package: RCurl</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:data.table&#39;:
## 
##     hour, isoweek, mday, minute, month, quarter, second, wday, week,
##     yday, year</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jpeg)</span></code></pre></div>
<p>We can obtain an up-to-date <code>data.frame</code> of the metadata of the entire PhenoCam
network using the <code>get_phenos()</code> function. The returning value would be a
<code>data.table</code> in order to simplify further data exploration.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># obtaining the phenocam site metadata from the server as data.table</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>phenos <span class="ot">&lt;-</span> phenocamapi<span class="sc">::</span><span class="fu">get_phenos</span>()</span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a><span class="co"># checking out the first few sites</span></span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(phenos<span class="sc">$</span>site)</span></code></pre></div>
<pre><code>## [1] &quot;aafcottawacfiaf14e&quot; &quot;aafcottawacfiaf14n&quot; &quot;aafcottawacfiaf14w&quot;
## [4] &quot;acadia&quot;             &quot;admixpasture&quot;       &quot;adrycpasture&quot;</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking out the columns</span></span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(phenos)</span></code></pre></div>
<pre><code>##  [1] &quot;site&quot;                      &quot;lat&quot;                      
##  [3] &quot;lon&quot;                       &quot;elev&quot;                     
##  [5] &quot;active&quot;                    &quot;utc_offset&quot;               
##  [7] &quot;date_first&quot;                &quot;date_last&quot;                
##  [9] &quot;infrared&quot;                  &quot;contact1&quot;                 
## [11] &quot;contact2&quot;                  &quot;site_description&quot;         
## [13] &quot;site_type&quot;                 &quot;group&quot;                    
## [15] &quot;camera_description&quot;        &quot;camera_orientation&quot;       
## [17] &quot;flux_data&quot;                 &quot;flux_networks&quot;            
## [19] &quot;flux_sitenames&quot;            &quot;dominant_species&quot;         
## [21] &quot;primary_veg_type&quot;          &quot;secondary_veg_type&quot;       
## [23] &quot;site_meteorology&quot;          &quot;MAT_site&quot;                 
## [25] &quot;MAP_site&quot;                  &quot;MAT_daymet&quot;               
## [27] &quot;MAP_daymet&quot;                &quot;MAT_worldclim&quot;            
## [29] &quot;MAP_worldclim&quot;             &quot;koeppen_geiger&quot;           
## [31] &quot;ecoregion&quot;                 &quot;landcover_igbp&quot;           
## [33] &quot;dataset_version1&quot;          &quot;site_acknowledgements&quot;    
## [35] &quot;modified&quot;                  &quot;flux_networks_name&quot;       
## [37] &quot;flux_networks_url&quot;         &quot;flux_networks_description&quot;</code></pre>
<p>Now we have a better idea of the types of metadata that are available for the
Phenocams.</p>
<div id="remove-null-values" class="section level3 hasAnchor" number="4.7.1">
<h3 class="hasAnchor"><span class="header-section-number">4.7.1</span> Remove null values<a href="#remove-null-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We may want to explore some of the patterns in the metadata before we jump into
specific locations.</p>
<p>Let’s look at Mean Annual Precipitation (MAP) and Mean Annual
Temperature (MAT) across the different field site and classify those by the
primary vegetation type (<code>primary_veg_type</code>) for each site. We can find out what
the abbreviations for the vegetation types mean from the following table:</p>
<table>
<thead>
<tr class="header">
<th>Abbreviation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>AG</td>
<td>agriculture</td>
</tr>
<tr class="even">
<td>DB</td>
<td>deciduous broadleaf</td>
</tr>
<tr class="odd">
<td>DN</td>
<td>deciduous needleleaf</td>
</tr>
<tr class="even">
<td>EB</td>
<td>evergreen broadleaf</td>
</tr>
<tr class="odd">
<td>EN</td>
<td>evergreen needleleaf</td>
</tr>
<tr class="even">
<td>GR</td>
<td>grassland</td>
</tr>
<tr class="odd">
<td>MX</td>
<td>mixed vegetation (generally EN/DN, DB/EN, or DB/EB)</td>
</tr>
<tr class="even">
<td>SH</td>
<td>shrubs</td>
</tr>
<tr class="odd">
<td>TN</td>
<td>tundra (includes sedges, lichens, mosses, etc.)</td>
</tr>
<tr class="even">
<td>WT</td>
<td>wetland</td>
</tr>
<tr class="odd">
<td>NV</td>
<td>non-vegetated</td>
</tr>
<tr class="even">
<td>RF</td>
<td>reference panel</td>
</tr>
<tr class="odd">
<td>XX</td>
<td>unspecified</td>
</tr>
</tbody>
</table>
<p>To do this we’d first want to remove the sites where there is not data and then
plot the data.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removing the sites with unkown MAT and MAP values</span></span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>phenos <span class="ot">&lt;-</span> phenos[<span class="sc">!</span>((MAT_worldclim <span class="sc">==</span> <span class="sc">-</span><span class="dv">9999</span>)<span class="sc">|</span>(MAP_worldclim <span class="sc">==</span> <span class="sc">-</span><span class="dv">9999</span>))]</span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting the PhenoCam climate space based on the WorldClim dataset</span></span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a><span class="co"># and plotting the sites across the climate space different vegetation type as different symbols and colors</span></span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a>phenos[primary_veg_type<span class="sc">==</span><span class="st">&#39;DB&#39;</span>, <span class="fu">plot</span>(MAT_worldclim, MAP_worldclim, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">&#39;green&#39;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">27</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">4000</span>))]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>phenos[primary_veg_type<span class="sc">==</span><span class="st">&#39;DN&#39;</span>, <span class="fu">points</span>(MAT_worldclim, MAP_worldclim, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">&#39;darkgreen&#39;</span>)]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>phenos[primary_veg_type<span class="sc">==</span><span class="st">&#39;EN&#39;</span>, <span class="fu">points</span>(MAT_worldclim, MAP_worldclim, <span class="at">pch =</span> <span class="dv">17</span>, <span class="at">col =</span> <span class="st">&#39;brown&#39;</span>)]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>phenos[primary_veg_type<span class="sc">==</span><span class="st">&#39;EB&#39;</span>, <span class="fu">points</span>(MAT_worldclim, MAP_worldclim, <span class="at">pch =</span> <span class="dv">25</span>, <span class="at">col =</span> <span class="st">&#39;orange&#39;</span>)]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>phenos[primary_veg_type<span class="sc">==</span><span class="st">&#39;AG&#39;</span>, <span class="fu">points</span>(MAT_worldclim, MAP_worldclim, <span class="at">pch =</span> <span class="dv">12</span>, <span class="at">col =</span> <span class="st">&#39;yellow&#39;</span>)]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>phenos[primary_veg_type<span class="sc">==</span><span class="st">&#39;SH&#39;</span>, <span class="fu">points</span>(MAT_worldclim, MAP_worldclim, <span class="at">pch =</span> <span class="dv">23</span>, <span class="at">col =</span> <span class="st">&#39;red&#39;</span>)]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&#39;topleft&#39;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&#39;DB&#39;</span>,<span class="st">&#39;DN&#39;</span>, <span class="st">&#39;EN&#39;</span>,<span class="st">&#39;EB&#39;</span>,<span class="st">&#39;AG&#39;</span>, <span class="st">&#39;SH&#39;</span>),</span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">1</span>, <span class="dv">17</span>, <span class="dv">25</span>, <span class="dv">12</span>, <span class="dv">23</span>),</span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span>  <span class="fu">c</span>(<span class="st">&#39;green&#39;</span>, <span class="st">&#39;darkgreen&#39;</span>, <span class="st">&#39;brown&#39;</span>,  <span class="st">&#39;orange&#39;</span>,  <span class="st">&#39;yellow&#39;</span>,  <span class="st">&#39;red&#39;</span> ))</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="filtering-using-attributes" class="section level3 hasAnchor" number="4.7.2">
<h3 class="hasAnchor"><span class="header-section-number">4.7.2</span> Filtering using attributes<a href="#filtering-using-attributes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Alternatively, we may want to only include Phenocams with certain attributes in
our datasets. For example, we may be interested only in sites with a co-located
flux tower. For this, we’d want to filter for those with a flux tower using the
<code>flux_sitenames</code> attribute in the metadata.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># store sites with flux_data available and the FLUX site name is specified</span></span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a>phenofluxsites <span class="ot">&lt;-</span> phenos[flux_data<span class="sc">==</span><span class="cn">TRUE</span><span class="sc">&amp;!</span><span class="fu">is.na</span>(flux_sitenames)<span class="sc">&amp;</span>flux_sitenames<span class="sc">!=</span><span class="st">&#39;&#39;</span>,</span>
<span id="cb218-3"><a href="#cb218-3" aria-hidden="true" tabindex="-1"></a>                         .(<span class="at">PhenoCam=</span>site, <span class="at">Flux=</span>flux_sitenames)] <span class="co"># return as table</span></span>
<span id="cb218-4"><a href="#cb218-4" aria-hidden="true" tabindex="-1"></a><span class="co">#and specify which variables to retain</span></span>
<span id="cb218-5"><a href="#cb218-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-6"><a href="#cb218-6" aria-hidden="true" tabindex="-1"></a>phenofluxsites <span class="ot">&lt;-</span> phenofluxsites[Flux<span class="sc">!=</span><span class="st">&#39;&#39;</span>]</span>
<span id="cb218-7"><a href="#cb218-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-8"><a href="#cb218-8" aria-hidden="true" tabindex="-1"></a><span class="co"># see the first few rows</span></span>
<span id="cb218-9"><a href="#cb218-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(phenofluxsites)</span></code></pre></div>
<pre><code>##            PhenoCam                               Flux
## 1:     admixpasture                             NZ-ADw
## 2:   alligatorriver                             US-NC4
## 3: arkansaswhitaker                             US-RGW
## 4:      arsbrooks10 US-Br1: Brooks Field Site 10- Ames
## 5:      arsbrooks11 US-Br3: Brooks Field Site 11- Ames
## 6:    arscolesnorth                               LTAR</code></pre>
<p>We could further identify which of those Phenocams with a flux tower and in
deciduous broadleaf forests (<code>primary_veg_type=='DB'</code>).</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="co">#list deciduous broadleaf sites with flux tower</span></span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a>DB.flux <span class="ot">&lt;-</span> phenos[flux_data<span class="sc">==</span><span class="cn">TRUE</span><span class="sc">&amp;</span>primary_veg_type<span class="sc">==</span><span class="st">&#39;DB&#39;</span>,</span>
<span id="cb220-3"><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a>                  site]  <span class="co"># return just the site names as a list</span></span>
<span id="cb220-4"><a href="#cb220-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-5"><a href="#cb220-5" aria-hidden="true" tabindex="-1"></a><span class="co"># see the first few rows</span></span>
<span id="cb220-6"><a href="#cb220-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DB.flux)</span></code></pre></div>
<pre><code>## [1] &quot;alligatorriver&quot; &quot;bartlett&quot;       &quot;bartlettir&quot;     &quot;bbc1&quot;          
## [5] &quot;bbc2&quot;           &quot;bbc3&quot;</code></pre>
</div>
</div>
<div id="download-midday-images" class="section level2 hasAnchor" number="4.8">
<h2 class="hasAnchor"><span class="header-section-number">4.8</span> Download midday images<a href="#download-midday-images" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While PhenoCam sites may have many images in a given day, many simple analyses
can use just the midday image when the sun is most directly overhead the canopy.
Therefore, extracting a list of midday images (only one image a day) can be useful.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># obtaining midday_images for dukehw</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a>duke_middays <span class="ot">&lt;-</span> <span class="fu">get_midday_list</span>(<span class="st">&#39;dukehw&#39;</span>)</span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-4"><a href="#cb222-4" aria-hidden="true" tabindex="-1"></a><span class="co"># see the first few rows</span></span>
<span id="cb222-5"><a href="#cb222-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(duke_middays)</span></code></pre></div>
<pre><code>## [1] &quot;http://phenocam.nau.edu/data/archive/dukehw/2013/05/dukehw_2013_05_31_150331.jpg&quot;
## [2] &quot;http://phenocam.nau.edu/data/archive/dukehw/2013/06/dukehw_2013_06_01_120111.jpg&quot;
## [3] &quot;http://phenocam.nau.edu/data/archive/dukehw/2013/06/dukehw_2013_06_02_120109.jpg&quot;
## [4] &quot;http://phenocam.nau.edu/data/archive/dukehw/2013/06/dukehw_2013_06_03_120110.jpg&quot;
## [5] &quot;http://phenocam.nau.edu/data/archive/dukehw/2013/06/dukehw_2013_06_04_120119.jpg&quot;
## [6] &quot;http://phenocam.nau.edu/data/archive/dukehw/2013/06/dukehw_2013_06_05_120110.jpg&quot;</code></pre>
<p>Now we have a list of all the midday images from this Phenocam. Let’s download
them and plot</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download a file</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a>destfile <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&#39;.jpg&#39;</span>)</span>
<span id="cb224-3"><a href="#cb224-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-4"><a href="#cb224-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download only the first available file</span></span>
<span id="cb224-5"><a href="#cb224-5" aria-hidden="true" tabindex="-1"></a><span class="co"># modify the `[1]` to download other images</span></span>
<span id="cb224-6"><a href="#cb224-6" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(duke_middays[<span class="dv">1</span>], <span class="at">destfile =</span> destfile, <span class="at">mode =</span> <span class="st">&#39;wb&#39;</span>)</span>
<span id="cb224-7"><a href="#cb224-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-8"><a href="#cb224-8" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the image</span></span>
<span id="cb224-9"><a href="#cb224-9" aria-hidden="true" tabindex="-1"></a>img <span class="ot">&lt;-</span> <span class="fu">try</span>(<span class="fu">readJPEG</span>(destfile))</span>
<span id="cb224-10"><a href="#cb224-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">class</span>(img)<span class="sc">!=</span><span class="st">&#39;try-error&#39;</span>){</span>
<span id="cb224-11"><a href="#cb224-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mar=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb224-12"><a href="#cb224-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>,<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">type=</span><span class="st">&#39;n&#39;</span>, <span class="at">axes=</span> <span class="cn">FALSE</span>, <span class="at">xlab=</span> <span class="st">&#39;&#39;</span>, <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb224-13"><a href="#cb224-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rasterImage</span>(img, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb224-14"><a href="#cb224-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div id="download-midday-images-for-a-given-time-range" class="section level3 hasAnchor" number="4.8.1">
<h3 class="hasAnchor"><span class="header-section-number">4.8.1</span> Download midday images for a given time range<a href="#download-midday-images-for-a-given-time-range" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we can access all the midday images and download them one at a time. However,
we frequently want all the images within a specific time range of interest. We’ll
learn how to do that next.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># open a temporary directory</span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>tmp_dir <span class="ot">&lt;-</span> <span class="fu">tempdir</span>()</span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download a subset. Example dukehw 2017</span></span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a><span class="fu">download_midday_images</span>(<span class="at">site =</span> <span class="st">&#39;dukehw&#39;</span>, <span class="co"># which site</span></span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> <span class="dv">2017</span>, <span class="co"># which year(s)</span></span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">months =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="co"># which month(s)</span></span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">days =</span> <span class="dv">15</span>, <span class="co"># which days on month(s)</span></span>
<span id="cb225-9"><a href="#cb225-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">download_dir =</span> tmp_dir) <span class="co"># where on your computer</span></span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |======================================================================| 100%</code></pre>
<pre><code>## [1] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu&quot;</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># list of downloaded files</span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a>duke_middays_path <span class="ot">&lt;-</span> <span class="fu">dir</span>(tmp_dir, <span class="at">pattern =</span> <span class="st">&#39;dukehw*&#39;</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(duke_middays_path)</span></code></pre></div>
<pre><code>## [1] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu/dukehw_2017_01_15_120109.jpg&quot;
## [2] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu/dukehw_2017_02_15_120108.jpg&quot;
## [3] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu/dukehw_2017_03_15_120151.jpg&quot;
## [4] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu/dukehw_2017_04_15_120110.jpg&quot;
## [5] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu/dukehw_2017_05_15_120108.jpg&quot;
## [6] &quot;C:\\Users\\rohan\\AppData\\Local\\Temp\\Rtmp2Xnitu/dukehw_2017_06_15_120120.jpg&quot;</code></pre>
<p>We can demonstrate the seasonality of Duke forest observed from the camera. (Note
this code may take a while to run through the loop).</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(duke_middays_path)</span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">3</span>), <span class="at">oma=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))</span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n){</span>
<span id="cb230-5"><a href="#cb230-5" aria-hidden="true" tabindex="-1"></a>  img <span class="ot">&lt;-</span> <span class="fu">readJPEG</span>(duke_middays_path[i])</span>
<span id="cb230-6"><a href="#cb230-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>,<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">type=</span><span class="st">&#39;n&#39;</span>, <span class="at">axes=</span> <span class="cn">FALSE</span>, <span class="at">xlab=</span> <span class="st">&#39;&#39;</span>, <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb230-7"><a href="#cb230-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rasterImage</span>(img, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb230-8"><a href="#cb230-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mtext</span>(month.name[i], <span class="at">line =</span> <span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb230-9"><a href="#cb230-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb230-10"><a href="#cb230-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&#39;Seasonal variation of forest at Duke Hardwood Forest&#39;</span>, <span class="at">font =</span> <span class="dv">2</span>, <span class="at">outer =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>The goal of this section was to show how to download a limited number of midday images from the PhenoCam server. However, more extensive datasets should be downloaded from the <a href="https://phenocam.sr.unh.edu/webcam/network/download/"> PhenoCam </a>.</p>
<p>The <em>phenocamapi</em> R package is developed and maintained by
<a href="https://bnasr.github.io/">Bijan Seyednarollah</a>.
The most recent release is available from
<a href="https://github.com/bnasr/phenocamapi" target="_blank">https://github.com/bnasr/phenocamapi</a>.</p>
</div>
</div>
<div id="detecting-foggy-images-using-the-hazer-r-package" class="section level2 hasAnchor" number="4.9">
<h2 class="hasAnchor"><span class="header-section-number">4.9</span> Detecting Foggy Images using the ‘hazer’ R Package<a href="#detecting-foggy-images-using-the-hazer-r-package" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="read-plot-an-image" class="section level4 hasAnchor" number="4.9.0.1">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.1</span> Read &amp; Plot an Image<a href="#read-plot-an-image" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We will use several packages in this tutorial. All are available from CRAN.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hazer)</span>
<span id="cb231-3"><a href="#cb231-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jpeg)</span>
<span id="cb231-4"><a href="#cb231-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb231-5"><a href="#cb231-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:data.table&#39;:
## 
##     between, first, last</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<p>Before we start the image processing steps, let’s read in and plot an image. This
image is an example image that comes with the <em>hazer</em> package.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read the path to the example image</span></span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a>jpeg_file <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="at">package =</span> <span class="st">&#39;hazer&#39;</span>, <span class="st">&#39;pointreyes.jpg&#39;</span>)</span>
<span id="cb236-3"><a href="#cb236-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-4"><a href="#cb236-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read the image as an array</span></span>
<span id="cb236-5"><a href="#cb236-5" aria-hidden="true" tabindex="-1"></a>rgb_array <span class="ot">&lt;-</span> jpeg<span class="sc">::</span><span class="fu">readJPEG</span>(jpeg_file)</span>
<span id="cb236-6"><a href="#cb236-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-7"><a href="#cb236-7" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the RGB array on the active device panel</span></span>
<span id="cb236-8"><a href="#cb236-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-9"><a href="#cb236-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-10"><a href="#cb236-10" aria-hidden="true" tabindex="-1"></a><span class="co"># first set the margin in this order:(bottom, left, top, right)</span></span>
<span id="cb236-11"><a href="#cb236-11" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))  </span>
<span id="cb236-12"><a href="#cb236-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotRGBArray</span>(rgb_array, <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>, <span class="at">main =</span> <span class="st">&#39;Point Reyes National Seashore&#39;</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>When we work with images, all data we work with is generally on the scale of each
individual pixel in the image. Therefore, for large images we will be working with
large matrices that hold the value for each pixel. Keep this in mind before opening
some of the matrices we’ll be creating this tutorial as it can take a while for
them to load.</p>
</div>
<div id="histogram-of-rgb-channels" class="section level4 hasAnchor" number="4.9.0.2">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.2</span> Histogram of RGB channels<a href="#histogram-of-rgb-channels" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A histogram of the colors can be useful to understanding what our image is made
up of. Using the <code>density()</code> function from the base <em>stats</em> package, we can extract
density distribution of each color channel.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># color channels can be extracted from the matrix</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>red_vector <span class="ot">&lt;-</span> rgb_array[,,<span class="dv">1</span>]</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>green_vector <span class="ot">&lt;-</span> rgb_array[,,<span class="dv">2</span>]</span>
<span id="cb237-4"><a href="#cb237-4" aria-hidden="true" tabindex="-1"></a>blue_vector <span class="ot">&lt;-</span> rgb_array[,,<span class="dv">3</span>]</span>
<span id="cb237-5"><a href="#cb237-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-6"><a href="#cb237-6" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting</span></span>
<span id="cb237-7"><a href="#cb237-7" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>))</span>
<span id="cb237-8"><a href="#cb237-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(red_vector), <span class="at">col =</span> <span class="st">&#39;red&#39;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb237-9"><a href="#cb237-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&#39;Density function of the RGB channels&#39;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>))</span>
<span id="cb237-10"><a href="#cb237-10" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(green_vector), <span class="at">col =</span> <span class="st">&#39;green&#39;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb237-11"><a href="#cb237-11" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(blue_vector), <span class="at">col =</span> <span class="st">&#39;blue&#39;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>In <em>hazer</em> we can also extract three basic elements of an RGB image :</p>
<ol style="list-style-type: decimal">
<li>Brightness</li>
<li>Darkness</li>
<li>Contrast</li>
</ol>
</div>
<div id="brightness" class="section level4 hasAnchor" number="4.9.0.3">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.3</span> Brightness<a href="#brightness" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The brightness matrix comes from the maximum value of the R, G, or B channel. We
can extract and show the brightness matrix using the <code>getBrightness()</code> function.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting the brightness matrix</span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>brightness_mat <span class="ot">&lt;-</span> <span class="fu">getBrightness</span>(rgb_array)</span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-4"><a href="#cb238-4" aria-hidden="true" tabindex="-1"></a><span class="co"># unlike the RGB array which has 3 dimensions, the brightness matrix has only two</span></span>
<span id="cb238-5"><a href="#cb238-5" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions and can be shown as a grayscale image,</span></span>
<span id="cb238-6"><a href="#cb238-6" aria-hidden="true" tabindex="-1"></a><span class="co"># we can do this using the same plotRGBArray function</span></span>
<span id="cb238-7"><a href="#cb238-7" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))</span>
<span id="cb238-8"><a href="#cb238-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plotRGBArray</span>(brightness_mat, <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>, <span class="at">main =</span> <span class="st">&#39;Brightness matrix&#39;</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Here the grayscale is used to show the value of each pixel’s maximum brightness
of the R, G or B color channel.</p>
<p>To extract a single brightness value for the image, depending on our needs we can
perform some statistics or we can just use the mean of this matrix.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the main quantiles</span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(brightness_mat)</span></code></pre></div>
<pre><code>##         0%        25%        50%        75%       100% 
## 0.09019608 0.43529412 0.62745098 0.80000000 0.91764706</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create histogram</span></span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>))</span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(brightness_mat)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p><strong>Question for the class:</strong> Why are we getting so many images up in the high range of the brightness? Where
does this correlate to on the RGB image?</p>
</div>
<div id="darkness" class="section level4 hasAnchor" number="4.9.0.4">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.4</span> Darkness<a href="#darkness" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Darkness is determined by the minimum of the R, G or B color channel. In the
Similarly, we can extract and show the darkness matrix using the <code>getDarkness()</code> function.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting the darkness matrix</span></span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>darkness_mat <span class="ot">&lt;-</span> <span class="fu">getDarkness</span>(rgb_array)</span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-4"><a href="#cb242-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the darkness matrix has also two dimensions and can be shown as a grayscale image</span></span>
<span id="cb242-5"><a href="#cb242-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))</span>
<span id="cb242-6"><a href="#cb242-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plotRGBArray</span>(darkness_mat, <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>, <span class="at">main =</span> <span class="st">&#39;Darkness matrix&#39;</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="co"># main quantiles</span></span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(darkness_mat)</span></code></pre></div>
<pre><code>##         0%        25%        50%        75%       100% 
## 0.03529412 0.23137255 0.36470588 0.47843137 0.83529412</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="co"># histogram</span></span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>))</span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(darkness_mat)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="contrast" class="section level4 hasAnchor" number="4.9.0.5">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.5</span> Contrast<a href="#contrast" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The contrast of an image is the difference between the darkness and brightness
of the image. The contrast matrix is calculated by difference between the
darkness and brightness matrices.</p>
<p>The contrast of the image can quickly be extracted using the <code>getContrast()</code> function.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting the contrast matrix</span></span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a>contrast_mat <span class="ot">&lt;-</span> <span class="fu">getContrast</span>(rgb_array)</span>
<span id="cb246-3"><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-4"><a href="#cb246-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the contrast matrix has also 2D and can be shown as a grayscale image</span></span>
<span id="cb246-5"><a href="#cb246-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))</span>
<span id="cb246-6"><a href="#cb246-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plotRGBArray</span>(contrast_mat, <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>, <span class="at">main =</span> <span class="st">&#39;Contrast matrix&#39;</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># main quantiles</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(contrast_mat)</span></code></pre></div>
<pre><code>##        0%       25%       50%       75%      100% 
## 0.0000000 0.1450980 0.2470588 0.3333333 0.4509804</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="co"># histogram</span></span>
<span id="cb249-2"><a href="#cb249-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>))</span>
<span id="cb249-3"><a href="#cb249-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(contrast_mat)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="image-fogginess-haziness" class="section level4 hasAnchor" number="4.9.0.6">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.6</span> Image fogginess &amp; haziness<a href="#image-fogginess-haziness" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Haziness of an image can be estimated using the <code>getHazeFactor()</code> function. This
function is based on the method described in
<a href="https://www.omicsonline.org/open-access/detecting-foggy-images-and-estimating-the-haze-degree-factor-jcsb.1000226.pdf">Mao et al. (2014)</a>.
The technique was originally developed to for <em>“detecting foggy images and
estimating the haze degree factor”</em> for a wide range of outdoor conditions.</p>
<p>The function returns a vector of two numeric values:</p>
<ol style="list-style-type: decimal">
<li><strong>haze</strong> as the haze degree and</li>
<li><strong>A0</strong> as the global atmospheric light, as it is explained in the original paper.</li>
</ol>
<p>The PhenoCam standards classify any image with the haze degree greater
than 0.4 as a significantly foggy image.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting the haze matrix</span></span>
<span id="cb250-2"><a href="#cb250-2" aria-hidden="true" tabindex="-1"></a>haze_degree <span class="ot">&lt;-</span> <span class="fu">getHazeFactor</span>(rgb_array)</span>
<span id="cb250-3"><a href="#cb250-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-4"><a href="#cb250-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(haze_degree)</span></code></pre></div>
<pre><code>## $haze
## [1] 0.2251633
## 
## $A0
## [1] 0.7105258</code></pre>
<p>Here we have the haze values for our image. Note that the values might be
slightly different due to rounding errors on different platforms.</p>
</div>
<div id="process-sets-of-images" class="section level4 hasAnchor" number="4.9.0.7">
<h4 class="hasAnchor"><span class="header-section-number">4.9.0.7</span> Process sets of images<a href="#process-sets-of-images" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can use <code>for</code> loops or the <code>lapply</code> functions to extract the haze values for
a stack of images.</p>
<p>You can download the related datasets from
<a href="http://bit.ly/2F8w2Ia">here (direct download)</a>.
Download and extract the zip file to be used as input data for the following step.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="co">#pointreyes_url &lt;- &#39;http://bit.ly/2F8w2Ia&#39;</span></span>
<span id="cb252-2"><a href="#cb252-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-3"><a href="#cb252-3" aria-hidden="true" tabindex="-1"></a><span class="co"># set up the input image directory</span></span>
<span id="cb252-4"><a href="#cb252-4" aria-hidden="true" tabindex="-1"></a>data_dir <span class="ot">&lt;-</span> <span class="st">&#39;data/&#39;</span></span>
<span id="cb252-5"><a href="#cb252-5" aria-hidden="true" tabindex="-1"></a><span class="co">#dir.create(data_dir, showWarnings = F)</span></span>
<span id="cb252-6"><a href="#cb252-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-7"><a href="#cb252-7" aria-hidden="true" tabindex="-1"></a><span class="co">#pointreyes_zip &lt;- paste0(data_dir, &#39;pointreyes.zip&#39;)</span></span>
<span id="cb252-8"><a href="#cb252-8" aria-hidden="true" tabindex="-1"></a>pointreyes_dir <span class="ot">&lt;-</span> <span class="fu">paste0</span>(data_dir, <span class="st">&#39;pointreyes&#39;</span>)</span>
<span id="cb252-9"><a href="#cb252-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-10"><a href="#cb252-10" aria-hidden="true" tabindex="-1"></a><span class="co">#download zip file</span></span>
<span id="cb252-11"><a href="#cb252-11" aria-hidden="true" tabindex="-1"></a><span class="co">#download.file(pointreyes_url, destfile = pointreyes_zip)</span></span>
<span id="cb252-12"><a href="#cb252-12" aria-hidden="true" tabindex="-1"></a><span class="co">#unzip(pointreyes_zip, exdir = data_dir)</span></span>
<span id="cb252-13"><a href="#cb252-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-14"><a href="#cb252-14" aria-hidden="true" tabindex="-1"></a><span class="co"># get a list of all .jpg files in the directory</span></span>
<span id="cb252-15"><a href="#cb252-15" aria-hidden="true" tabindex="-1"></a>pointreyes_images <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="at">path =</span> <span class="st">&#39;data/pointreyes&#39;</span>,</span>
<span id="cb252-16"><a href="#cb252-16" aria-hidden="true" tabindex="-1"></a>                         <span class="at">pattern =</span> <span class="st">&#39;*.jpg&#39;</span>,</span>
<span id="cb252-17"><a href="#cb252-17" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ignore.case =</span> <span class="cn">TRUE</span>,</span>
<span id="cb252-18"><a href="#cb252-18" aria-hidden="true" tabindex="-1"></a>                         <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Now we can use a for loop to process all of the images to get the haze and A0
values.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of images</span></span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(pointreyes_images)</span>
<span id="cb253-3"><a href="#cb253-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-4"><a href="#cb253-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create an empty matrix to fill with haze and A0 values</span></span>
<span id="cb253-5"><a href="#cb253-5" aria-hidden="true" tabindex="-1"></a>haze_mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb253-6"><a href="#cb253-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-7"><a href="#cb253-7" aria-hidden="true" tabindex="-1"></a><span class="co"># the process takes a bit, a progress bar lets us know it is working.</span></span>
<span id="cb253-8"><a href="#cb253-8" aria-hidden="true" tabindex="-1"></a>pb <span class="ot">&lt;-</span> <span class="fu">txtProgressBar</span>(<span class="dv">0</span>, n, <span class="at">style =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb255-2"><a href="#cb255-2" aria-hidden="true" tabindex="-1"></a>  image_path <span class="ot">&lt;-</span> pointreyes_images[i]</span>
<span id="cb255-3"><a href="#cb255-3" aria-hidden="true" tabindex="-1"></a>  img <span class="ot">&lt;-</span> jpeg<span class="sc">::</span><span class="fu">readJPEG</span>(image_path)</span>
<span id="cb255-4"><a href="#cb255-4" aria-hidden="true" tabindex="-1"></a>  hz <span class="ot">&lt;-</span> <span class="fu">getHazeFactor</span>(img)</span>
<span id="cb255-5"><a href="#cb255-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-6"><a href="#cb255-6" aria-hidden="true" tabindex="-1"></a>  haze_mat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(haze_mat,</span>
<span id="cb255-7"><a href="#cb255-7" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">data.frame</span>(<span class="at">file =</span> <span class="fu">as.character</span>(image_path),</span>
<span id="cb255-8"><a href="#cb255-8" aria-hidden="true" tabindex="-1"></a>                               <span class="at">haze =</span> hz[<span class="dv">1</span>],</span>
<span id="cb255-9"><a href="#cb255-9" aria-hidden="true" tabindex="-1"></a>                               <span class="at">A0 =</span> hz[<span class="dv">2</span>]))</span>
<span id="cb255-10"><a href="#cb255-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-11"><a href="#cb255-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setTxtProgressBar</span>(pb, i)</span>
<span id="cb255-12"><a href="#cb255-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## 
  |                                                                            
  |=                                                                     |   1%
  |                                                                            
  |==                                                                    |   3%
  |                                                                            
  |===                                                                   |   4%
  |                                                                            
  |====                                                                  |   6%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |===========                                                           |  15%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |=============                                                         |  18%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |===============                                                       |  21%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |=================                                                     |  24%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |====================                                                  |  28%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  31%
  |                                                                            
  |=======================                                               |  32%
  |                                                                            
  |========================                                              |  34%
  |                                                                            
  |=========================                                             |  35%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |===========================                                           |  38%
  |                                                                            
  |============================                                          |  39%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |==============================                                        |  42%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |================================                                      |  45%
  |                                                                            
  |=================================                                     |  46%
  |                                                                            
  |==================================                                    |  48%
  |                                                                            
  |===================================                                   |  49%
  |                                                                            
  |===================================                                   |  51%
  |                                                                            
  |====================================                                  |  52%
  |                                                                            
  |=====================================                                 |  54%
  |                                                                            
  |======================================                                |  55%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |========================================                              |  58%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |==========================================                            |  61%
  |                                                                            
  |===========================================                           |  62%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |=============================================                         |  65%
  |                                                                            
  |==============================================                        |  66%
  |                                                                            
  |===============================================                       |  68%
  |                                                                            
  |================================================                      |  69%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |==================================================                    |  72%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |=====================================================                 |  76%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |=======================================================               |  79%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=========================================================             |  82%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |===========================================================           |  85%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |==================================================================    |  94%
  |                                                                            
  |===================================================================   |  96%
  |                                                                            
  |====================================================================  |  97%
  |                                                                            
  |===================================================================== |  99%
  |                                                                            
  |======================================================================| 100%</code></pre>
<p>Now we have a matrix with haze and A0 values for all our images. Let’s
compare top three images with low and high haze values.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a>top10_high_haze <span class="ot">&lt;-</span> haze_mat <span class="sc">%&gt;%</span></span>
<span id="cb257-2"><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(haze)) <span class="sc">%&gt;%</span></span>
<span id="cb257-3"><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb257-4"><a href="#cb257-4" aria-hidden="true" tabindex="-1"></a>top10_low_haze <span class="ot">&lt;-</span>  haze_mat <span class="sc">%&gt;%</span></span>
<span id="cb257-5"><a href="#cb257-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(haze)<span class="sc">%&gt;%</span></span>
<span id="cb257-6"><a href="#cb257-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb257-7"><a href="#cb257-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-8"><a href="#cb257-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-9"><a href="#cb257-9" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>), <span class="at">oma=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))</span>
<span id="cb257-10"><a href="#cb257-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-11"><a href="#cb257-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb257-12"><a href="#cb257-12" aria-hidden="true" tabindex="-1"></a>  img <span class="ot">&lt;-</span> <span class="fu">readJPEG</span>(<span class="fu">as.character</span>(top10_low_haze<span class="sc">$</span>file[i]))</span>
<span id="cb257-13"><a href="#cb257-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot.new</span>()</span>
<span id="cb257-14"><a href="#cb257-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rasterImage</span>(img, <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">1</span>], <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">3</span>], <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">2</span>], <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">4</span>])</span>
<span id="cb257-15"><a href="#cb257-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-16"><a href="#cb257-16" aria-hidden="true" tabindex="-1"></a>  img <span class="ot">&lt;-</span> <span class="fu">readJPEG</span>(<span class="fu">as.character</span>(top10_high_haze<span class="sc">$</span>file[i]))</span>
<span id="cb257-17"><a href="#cb257-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot.new</span>()</span>
<span id="cb257-18"><a href="#cb257-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rasterImage</span>(img, <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">1</span>], <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">3</span>], <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">2</span>], <span class="fu">par</span>()<span class="sc">$</span>usr[<span class="dv">4</span>])</span>
<span id="cb257-19"><a href="#cb257-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-20"><a href="#cb257-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb257-21"><a href="#cb257-21" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&#39;Top images with low (left) and high (right) haze values at Point Reyes&#39;</span>, <span class="at">font =</span> <span class="dv">2</span>, <span class="at">outer =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>Let’s classify those into hazy and non-hazy as per the PhenoCam standard of 0.4.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="co"># classify image as hazy: T/F</span></span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a>haze_mat<span class="ot">=</span>haze_mat<span class="sc">%&gt;%</span></span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(haze_mat, <span class="at">foggy=</span><span class="fu">ifelse</span>(haze<span class="sc">&gt;</span>.<span class="dv">4</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb258-4"><a href="#cb258-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-5"><a href="#cb258-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(haze_mat)</span></code></pre></div>
<pre><code>##                                               file      haze        A0 foggy
## 1 data/pointreyes/pointreyes_2017_01_01_120056.jpg 0.2249810 0.6970257 FALSE
## 2 data/pointreyes/pointreyes_2017_01_06_120210.jpg 0.2339372 0.6826148 FALSE
## 3 data/pointreyes/pointreyes_2017_01_16_120105.jpg 0.2312940 0.7009978 FALSE
## 4 data/pointreyes/pointreyes_2017_01_21_120105.jpg 0.4536108 0.6209055  TRUE
## 5 data/pointreyes/pointreyes_2017_01_26_120106.jpg 0.2297961 0.6813884 FALSE
## 6 data/pointreyes/pointreyes_2017_01_31_120125.jpg 0.4206842 0.6315728  TRUE</code></pre>
<p>Now we can save all the foggy images to a new folder that will retain the
foggy images but keep them separate from the non-foggy ones that we want to
analyze.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># identify directory to move the foggy images to</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a>foggy_dir <span class="ot">&lt;-</span> <span class="fu">paste0</span>(pointreyes_dir, <span class="st">&#39;foggy&#39;</span>)</span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a>clear_dir <span class="ot">&lt;-</span> <span class="fu">paste0</span>(pointreyes_dir, <span class="st">&#39;clear&#39;</span>)</span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a><span class="co"># if a new directory, create new directory at this file path</span></span>
<span id="cb260-6"><a href="#cb260-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(foggy_dir,  <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb260-7"><a href="#cb260-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(clear_dir,  <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb260-8"><a href="#cb260-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-9"><a href="#cb260-9" aria-hidden="true" tabindex="-1"></a><span class="co"># copy the files to the new directories</span></span>
<span id="cb260-10"><a href="#cb260-10" aria-hidden="true" tabindex="-1"></a><span class="co">#file.copy(haze_mat[foggy==TRUE,file], to = foggy_dir)</span></span>
<span id="cb260-11"><a href="#cb260-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-12"><a href="#cb260-12" aria-hidden="true" tabindex="-1"></a><span class="co">#file.copy(haze_mat[foggy==FALSE,file], to = clear_dir)</span></span></code></pre></div>
<p>Now that we have our images separated, we can get the full list of haze
values only for those images that are not classified as “foggy”.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this is an alternative approach instead of a for loop</span></span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-3"><a href="#cb261-3" aria-hidden="true" tabindex="-1"></a><span class="co"># loading all the images as a list of arrays</span></span>
<span id="cb261-4"><a href="#cb261-4" aria-hidden="true" tabindex="-1"></a>pointreyes_clear_images <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="at">path =</span> clear_dir,</span>
<span id="cb261-5"><a href="#cb261-5" aria-hidden="true" tabindex="-1"></a>                               <span class="at">pattern =</span> <span class="st">&#39;*.jpg&#39;</span>,</span>
<span id="cb261-6"><a href="#cb261-6" aria-hidden="true" tabindex="-1"></a>                               <span class="at">ignore.case =</span> <span class="cn">TRUE</span>,</span>
<span id="cb261-7"><a href="#cb261-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb261-8"><a href="#cb261-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-9"><a href="#cb261-9" aria-hidden="true" tabindex="-1"></a>img_list <span class="ot">&lt;-</span> <span class="fu">lapply</span>(pointreyes_clear_images, <span class="at">FUN =</span> jpeg<span class="sc">::</span>readJPEG)</span>
<span id="cb261-10"><a href="#cb261-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-11"><a href="#cb261-11" aria-hidden="true" tabindex="-1"></a><span class="co"># getting the haze value for the list</span></span>
<span id="cb261-12"><a href="#cb261-12" aria-hidden="true" tabindex="-1"></a><span class="co"># patience - this takes a bit of time</span></span>
<span id="cb261-13"><a href="#cb261-13" aria-hidden="true" tabindex="-1"></a>haze_list <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">sapply</span>(img_list, <span class="at">FUN =</span> getHazeFactor))</span>
<span id="cb261-14"><a href="#cb261-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-15"><a href="#cb261-15" aria-hidden="true" tabindex="-1"></a><span class="co"># view first few entries</span></span>
<span id="cb261-16"><a href="#cb261-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(haze_list)</span></code></pre></div>
<pre><code>##      haze      A0       
## [1,] 0.224981  0.6970257
## [2,] 0.2339372 0.6826148
## [3,] 0.231294  0.7009978
## [4,] 0.2297961 0.6813884
## [5,] 0.2152078 0.6949932
## [6,] 0.345584  0.6789334</code></pre>
<p>We can then use these values for further analyses and data correction.</p>
<hr />
<p>The <em>hazer</em> R package is developed and maintained by
<a href="https://bnasr.github.io/">Bijan Seyednarollah</a>.
The most recent release is available from
<a href="https://github.com/bnasr/hazer" target="_blank">https://github.com/bnasr/hazer</a>.</p>
</div>
</div>
<div id="extracting-timeseries-from-images-using-the-xroi-r-package" class="section level2 hasAnchor" number="4.10">
<h2 class="hasAnchor"><span class="header-section-number">4.10</span> Extracting Timeseries from Images using the xROI R Package<a href="#extracting-timeseries-from-images-using-the-xroi-r-package" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we’ll learn how to use an interactive open-source toolkit, the
<a href="https://cran.r-project.org/web/packages/xROI/index.html" target="_blank">xROI R package</a>
that facilitates the process of time series extraction and improves the quality
of the final data. The xROI package provides a responsive environment for
scientists to interactively:</p>
<ol style="list-style-type: lower-alpha">
<li>delineate regions of interest (ROIs),</li>
<li>handle field of view (FOV) shifts, and</li>
<li>extract and export time series data characterizing color-based metrics.</li>
</ol>
<p>Using the <em>xROI</em> R package, the user can detect FOV shifts with minimal difficulty.
The software gives user the opportunity to re-adjust mask files or redraw new
ones every time an FOV shift occurs.</p>
<p><img src="docs/images/xROI.png" width="544" /></p>
<div id="xroi-design" class="section level3 hasAnchor" number="4.10.1">
<h3 class="hasAnchor"><span class="header-section-number">4.10.1</span> xROI Design<a href="#xroi-design" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The R language and Shiny package were used as the main development tool for xROI,
while Markdown, HTML, CSS and JavaScript languages were used to improve the
interactivity. While Shiny apps are primarily used for web-based applications to
be used online, the package authors used Shiny for its graphical user interface
capabilities. In other words, both the User Interface (UI) and server modules are run
locally from the same machine and hence no internet connection is required (after
installation). The xROI’s UI element presents a side-panel for data entry and
three main tab-pages, each responsible for a specific task. The server-side
element consists of R and bash scripts. Image processing and geospatial features
were performed using the <code>Geospatial Data Abstraction Library (GDAL)</code> and the
<code>rgdal</code> and <code>raster</code> R packages.</p>
</div>
<div id="install-xroi" class="section level3 hasAnchor" number="4.10.2">
<h3 class="hasAnchor"><span class="header-section-number">4.10.2</span> Install xROI<a href="#install-xroi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The xROI R package has been published on The Comprehensive R Archive Network (CRAN).
The latest tested xROI package can be installed from the
<a href="https://cran.r-project.org/package=xROI" target="_blank">CRAN packages repository</a> by running the following command in an R environment.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">&#39;xROI&#39;</span>, <span class="at">repos =</span> <span class="st">&quot;http://cran.us.r-project.org&quot;</span> )</span></code></pre></div>
<p>Alternatively, the latest beta release of xROI can be directly downloaded and
installed from the development GitHub repository.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install devtools first</span></span>
<span id="cb264-2"><a href="#cb264-2" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">&#39;devtools&#39;</span>, <span class="at">repos =</span> <span class="st">&quot;http://cran.us.r-project.org&quot;</span> )</span>
<span id="cb264-3"><a href="#cb264-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb264-4"><a href="#cb264-4" aria-hidden="true" tabindex="-1"></a><span class="co"># use devtools to install from GitHub</span></span>
<span id="cb264-5"><a href="#cb264-5" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;bnasr/xROI&quot;</span>)</span></code></pre></div>
<p>xROI depends on many R packages including: <code>raster</code>, <code>rgdal</code>, <code>sp</code>, <code>jpeg</code>,
<code>tiff</code>, <code>shiny</code>, <code>shinyjs</code>, <code>shinyBS</code>, <code>shinyAce</code>, <code>shinyTime</code>, <code>shinyFiles</code>,
<code>shinydashboard</code>, <code>shinythemes</code>, <code>colourpicker</code>, <code>rjson</code>, <code>stringr</code>, <code>data.table</code>,
<code>lubridate</code>, <code>plotly</code>, <code>moments</code>, and <code>RCurl</code>. All the required libraries and
packages will be automatically installed with installation of <em>xROI</em>. The package
offers a fully interactive high-level interface as well as a set of low-level
functions for ROI processing.</p>
</div>
<div id="launch-xroi" class="section level3 hasAnchor" number="4.10.3">
<h3 class="hasAnchor"><span class="header-section-number">4.10.3</span> Launch xROI<a href="#launch-xroi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A comprehensive user manual for low-level image processing using <em>xROI</em> is available from
<a href="https://cran.r-project.org/package=xROI/xROI.pdf" target="_blank">CRAN xROI.pdf</a>.
While the user manual includes a set of examples for each function; here we
will learn to use the graphical interactive mode.</p>
<p>Calling the <code>Launch()</code> function, as we’ll do below, opens up the interactive
mode in your operating system’s default web browser. The landing page offers an
example dataset to explore different modules or upload a new dataset of images.</p>
<p>You can launch the interactive mode can be launched from an interactive R environment.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load xROI</span></span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xROI)</span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="co"># launch xROI</span></span>
<span id="cb265-5"><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a><span class="fu">Launch</span>()</span></code></pre></div>
<p>Or from the command line (e.g. bash in Linux, Terminal in macOS and Command
Prompt in Windows machines) where an R engine is already installed.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> “xROI::Launch<span class="er">(</span><span class="ex">Interactive</span> = TRUE<span class="kw">)</span><span class="ex">”</span></span></code></pre></div>
</div>
<div id="end-xroi" class="section level3 hasAnchor" number="4.10.4">
<h3 class="hasAnchor"><span class="header-section-number">4.10.4</span> End xROI<a href="#end-xroi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you are done with the xROI interface you can close the tab in your browser
and end the session in R by using one of the following options</p>
<p><strong>In RStudio:</strong> Press the <Esc> key on your keyboard.
<strong>In R Terminal:</strong> Press &lt;Ctrl + C&gt; on your keyboard.</p>
</div>
<div id="use-xroi" class="section level3 hasAnchor" number="4.10.5">
<h3 class="hasAnchor"><span class="header-section-number">4.10.5</span> Use xROI<a href="#use-xroi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To get some hands-on experience with <code>xROI</code>, we can analyze images from the
<a href="https://phenocam.sr.unh.edu/webcam/sites/dukehw/">dukehw</a>
of the PhenoCam network.</p>
<p>You can download the data set from
<a href="http://bit.ly/2PzZ2fL">this link (direct download)</a>.</p>
<p>Follow the steps below:</p>
<p>First,save and extract (unzip) the file on your computer.</p>
<p>Second, open the data set in <code>xROI</code> by setting the file path to your data</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="co"># launch data in ROI</span></span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a><span class="co"># first edit the path below to the dowloaded directory you just extracted</span></span>
<span id="cb267-3"><a href="#cb267-3" aria-hidden="true" tabindex="-1"></a>xROI<span class="sc">::</span><span class="fu">Launch</span>(<span class="st">&#39;/path/to/extracted/directory&#39;</span>)</span>
<span id="cb267-4"><a href="#cb267-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-5"><a href="#cb267-5" aria-hidden="true" tabindex="-1"></a><span class="co"># alternatively, you can run without specifying a path and use the interface to browse</span></span></code></pre></div>
<p>Now, draw an ROI and the metadata.</p>
<p>Then, save the metadata and explore its content.</p>
<p>Now we can explore if there is any FOV shift in the dataset using the <code>CLI processer</code> tab.</p>
<p>Finally, we can go to the <code>Time series extraction</code> tab. Extract the time-series. Save the output and explore the dataset in R.</p>
</div>
</div>
<div id="documentation-and-citation" class="section level2 hasAnchor" number="4.11">
<h2 class="hasAnchor"><span class="header-section-number">4.11</span> Documentation and Citation<a href="#documentation-and-citation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>More documentation about <strong>xROI</strong> can be found from: <a href="https://bnasr.github.io/papers/Seyednasrollah_et_al_2019_PRS.pdf">Seyednarollah, et al. 2019</a>.</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&#39;docs/images/xROI-ms2019.png&#39;</span>)</span></code></pre></div>
<p><img src="docs/images/xROI-ms2019.png" width="694" />
&gt;xROI published in ISPRS Journal of Photogrammetry and Remote Sensing, 2019</p>
<div id="challenge-use-xroi" class="section level3 hasAnchor" number="4.11.1">
<h3 class="hasAnchor"><span class="header-section-number">4.11.1</span> Challenge: Use xROI<a href="#challenge-use-xroi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s use xROI on a little more challenging site with field of view shifts.</p>
<p>Download and extract the data set from
<a href="http://bit.ly/2DrZgA1">this link (direct download, 218 MB)</a>
and follow the above steps to extract the time-series.</p>
<p>The <em>xROI</em> R package is developed and maintained by
<a href="https://bnasr.github.io/">Bijan Seyednarollah</a>.
The most recent release is available from <a href="https://github.com/bnasr/xROI" target="_blank">https://github.com/bnasr/xROI</a>.</p>
</div>
</div>
<div id="hands-on-digital-repeat-photography-computational" class="section level2 hasAnchor" number="4.12">
<h2 class="hasAnchor"><span class="header-section-number">4.12</span> Hands on: Digital Repeat Photography Computational<a href="#hands-on-digital-repeat-photography-computational" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First let’s load some packages:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;jsonlite&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:rjson&#39;:
## 
##     fromJSON, toJSON</code></pre>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(phenocamapi)</span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(phenocamr)</span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<p>As a refresher, there are two main ways to pull in PhenoCam data. First, directly via the API:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a>c      <span class="ot">=</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="st">&#39;https://phenocam.sr.unh.edu/api/cameras/?format=json&amp;limit=2000&#39;</span>)</span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a>c <span class="ot">=</span> c<span class="sc">$</span>results</span>
<span id="cb279-3"><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a>c_m<span class="ot">=</span>c<span class="sc">$</span>sitemetadata</span>
<span id="cb279-4"><a href="#cb279-4" aria-hidden="true" tabindex="-1"></a>c<span class="sc">$</span>sitemetadata<span class="ot">=</span><span class="cn">NULL</span></span>
<span id="cb279-5"><a href="#cb279-5" aria-hidden="true" tabindex="-1"></a>cams_<span class="ot">=</span><span class="fu">cbind</span>(c, c_m)</span>
<span id="cb279-6"><a href="#cb279-6" aria-hidden="true" tabindex="-1"></a>cams_[<span class="fu">is.na</span>(cams_)] <span class="ot">=</span> <span class="st">&#39;N&#39;</span></span>
<span id="cb279-7"><a href="#cb279-7" aria-hidden="true" tabindex="-1"></a>cams_[, <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">sapply</span>(cams_[, <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>], as.numeric) <span class="co">#changing lat/lon/elev from string values into numeric</span></span>
<span id="cb279-8"><a href="#cb279-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cams_)</span></code></pre></div>
<pre><code>##             Sitename       Lat       Lon Elev active utc_offset date_first
## 1 aafcottawacfiaf14e  45.29210 -75.76640   90   TRUE         -5 2020-04-27
## 2 aafcottawacfiaf14n  45.29290 -75.76700   90   TRUE         -5 2021-09-03
## 3 aafcottawacfiaf14w  45.29210 -75.76640   90   TRUE         -5 2020-05-01
## 4             acadia  44.37694 -68.26083  158  FALSE         -5 2007-03-15
## 5       admixpasture -43.64930 172.34950   33   TRUE         12 2021-03-04
## 6       adrycpasture -43.65130 172.35010   31   TRUE         12 2021-03-02
##    date_last infrared
## 1 2022-10-03        N
## 2 2022-10-03        Y
## 3 2022-10-03        N
## 4 2022-01-07        N
## 5 2022-09-08        Y
## 6 2022-09-08        Y
##                                                       contact1
## 1     Elizabeth Pattey &lt;elizabeth DOT pattey AT canada DOT ca&gt;
## 2 Elizabeth Pattey &lt;elizabeth DOT pattey AT agr DOT gc DOT ca&gt;
## 3     Elizabeth Pattey &lt;elizabeth DOT pattey AT canada DOT ca&gt;
## 4                         Dee Morse &lt;dee_morse AT nps DOT gov&gt;
## 5          John Hunt &lt;huntj AT landcareresearch DOT co DOT nz&gt;
## 6          John Hunt &lt;huntj AT landcareresearch DOT co DOT nz&gt;
##                                                   contact2
## 1      Luc Pelletier &lt;luc DOT pelletier3 AT canada DOT ca&gt;
## 2  Luc Pelletier &lt;luc DOT pelletier3 AT agr DOT gc DOT ca&gt;
## 3      Luc Pelletier &lt;luc DOT pelletier3 AT canada DOT ca&gt;
## 4                   John Gross &lt;John_Gross AT nps DOT gov&gt;
## 5 Scott Graham &lt;grahams AT landcareresearch DOT co DOT nz&gt;
## 6 Scott Graham &lt;grahams AT landcareresearch DOT co DOT nz&gt;
##                                                                                                           site_description
## 1                                                             AAFC Site - Ottawa (On) - CFIA - Field F14 - East Flux Tower
## 2                                                               AAFC Site - Ottawa (On) - CFIA - Field F14 - North Section
## 3                                                             AAFC Site - Ottawa (On) - CFIA - Field F14 - West Flux Tower
## 4                                                             Acadia National Park, McFarland Hill, near Bar Harbor, Maine
## 5 Eddy site, mixed species irrigated dairy pasture,  Ashley Dene Research &amp; Development Station, South Island, New Zealand
## 6           Ryegrass-clover irrigated dairy pasture, Ashley Dene Research &amp; Development Station, South Island, New Zealand
##   site_type                 group       camera_description camera_orientation
## 1        II                     N Campbell Scientific CCFC                 NE
## 2         I                     N        StarDot NetCam SC                NNW
## 3        II                     N Campbell Scientific CCFC                WNW
## 4       III National Park Service                  unknown                 NE
## 5         I                     N        StarDot NetCam SC                   
## 6         I                     N         StarDot NetCamSC                   
##   flux_data               flux_networks flux_sitenames
## 1      TRUE                        NULL              N
## 2      TRUE                        NULL               
## 3      TRUE OTHER, , Other/Unaffiliated              N
## 4     FALSE                        NULL               
## 5      TRUE                        NULL         NZ-ADw
## 6      TRUE                        NULL               
##                                                                                dominant_species
## 1                                      Zea mays, Triticum aestivum, Brassica napus, Glycine max
## 2                                      Zea mays, Triticum aestivum, Brassica napus, Glycine max
## 3                                      Zea mays, Triticum aestivum, Brassica napus, Glycine max
## 4                                                                                              
## 5 Lolium perenne, Lolium multiflorum, Trifolium pratense, Trifolium repens, Plantago lanceolata
## 6                                                              Lolium perenne, Trifolium repens
##   primary_veg_type secondary_veg_type site_meteorology MAT_site MAP_site
## 1               AG                 AG             TRUE      6.4      943
## 2               AG                 AG             TRUE      6.4      943
## 3               AG                 AG             TRUE      6.4      943
## 4               DB                 EN            FALSE        N        N
## 5               AG                                TRUE        N        N
## 6               AG                                TRUE        N        N
##   MAT_daymet MAP_daymet MAT_worldclim MAP_worldclim koeppen_geiger ecoregion
## 1        6.3        952             6           863            Dfb         8
## 2        6.3        953           5.9           863            Dfb         8
## 3        6.3        952             6           863            Dfb         8
## 4       7.05       1439           6.5          1303            Dfb         8
## 5          N          N          11.6           640            Cfb         N
## 6          N          N          11.6           639            Cfb         N
##   landcover_igbp
## 1             12
## 2             12
## 3             12
## 4              5
## 5              N
## 6              N
##                                                                                                                                                                                                                                                                                                                         site_acknowledgements
## 1  Camera funded by Agriculture and Agri-Food Canada (AAFC) Project J-001735 - Commercial inhibitors’ impact on crop productivity and emissions of nitrous oxide led by Dr. Elizabeth Pattey; Support provided by Drs, Luc Pelletier and Elizabeth  Pattey, Micrometeorologiccal Laboratory of AAFC - Ottawa Research and Development Centre.
## 2 Cameras funded by Agriculture and Agri-Food Canada (AAFC) Project J-001735 - Commercial inhibitors’ impact on crop productivity and emissions of nitrous oxide led by Dr. Elizabeth Pattey; Support provided by Drs, Luc Pelletier and Elizabeth  Pattey, Micrometeorologiccal Laboratory of AAFC - Ottawa Research and Development Centre.
## 3 Cameras funded by Agriculture and Agri-Food Canada (AAFC) Project J-001735 - Commercial inhibitors’ impact on crop productivity and emissions of nitrous oxide led by Dr. Elizabeth Pattey; Support provided by Drs, Luc Pelletier and Elizabeth  Pattey, Micrometeorologiccal Laboratory of AAFC - Ottawa Research and Development Centre.
## 4                                                                                                                                                                                                                           Camera images from Acadia National Park are provided courtesy of the National Park Service Air Resources Program.
## 5                                                                                                                                                                                                                    Ministry of Business, Innovation and Employment; New Zealand Agricultural Greenhouse Gas Research Centre; Manaaki Whenua
## 6                                                                                                                                                                                                                    Ministry of Business, Innovation and Employment; New Zealand Agricultural Greenhouse Gas Research Centre; Manaaki Whenua
##                           modified
## 1 2021-08-23T12:12:59.295391-04:00
## 2 2021-08-13T10:49:30.502306-04:00
## 3 2021-08-23T12:13:11.193254-04:00
## 4 2016-11-01T15:42:15.016778-04:00
## 5 2021-03-09T17:03:10.816039-05:00
## 6 2021-03-09T17:03:11.773814-05:00</code></pre>
<p>And second, via the phenocamapi package:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a>phenos<span class="ot">=</span><span class="fu">get_phenos</span>()</span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(phenos)</span></code></pre></div>
<pre><code>##                  site       lat       lon elev active utc_offset date_first
## 1: aafcottawacfiaf14e  45.29210 -75.76640   90   TRUE         -5 2020-04-27
## 2: aafcottawacfiaf14n  45.29290 -75.76700   90   TRUE         -5 2021-09-03
## 3: aafcottawacfiaf14w  45.29210 -75.76640   90   TRUE         -5 2020-05-01
## 4:             acadia  44.37694 -68.26083  158  FALSE         -5 2007-03-15
## 5:       admixpasture -43.64930 172.34950   33   TRUE         12 2021-03-04
## 6:       adrycpasture -43.65130 172.35010   31   TRUE         12 2021-03-02
##     date_last infrared                                      contact1
## 1: 2022-10-03        N Elizabeth Pattey &lt;elizabeth.pattey@canada.ca&gt;
## 2: 2022-10-03        Y Elizabeth Pattey &lt;elizabeth.pattey@agr.gc.ca&gt;
## 3: 2022-10-03        N Elizabeth Pattey &lt;elizabeth.pattey@canada.ca&gt;
## 4: 2022-01-07        N                 Dee Morse &lt;dee_morse@nps.gov&gt;
## 5: 2022-09-08        Y      John Hunt &lt;huntj@landcareresearch.co.nz&gt;
## 6: 2022-09-08        Y      John Hunt &lt;huntj@landcareresearch.co.nz&gt;
##                                         contact2
## 1:      Luc Pelletier &lt;luc.pelletier3@canada.ca&gt;
## 2:      Luc Pelletier &lt;luc.pelletier3@agr.gc.ca&gt;
## 3:      Luc Pelletier &lt;luc.pelletier3@canada.ca&gt;
## 4:               John Gross &lt;John_Gross@nps.gov&gt;
## 5: Scott Graham &lt;grahams@landcareresearch.co.nz&gt;
## 6: Scott Graham &lt;grahams@landcareresearch.co.nz&gt;
##                                                                                                            site_description
## 1:                                                             AAFC Site - Ottawa (On) - CFIA - Field F14 - East Flux Tower
## 2:                                                               AAFC Site - Ottawa (On) - CFIA - Field F14 - North Section
## 3:                                                             AAFC Site - Ottawa (On) - CFIA - Field F14 - West Flux Tower
## 4:                                                             Acadia National Park, McFarland Hill, near Bar Harbor, Maine
## 5: Eddy site, mixed species irrigated dairy pasture,  Ashley Dene Research &amp; Development Station, South Island, New Zealand
## 6:           Ryegrass-clover irrigated dairy pasture, Ashley Dene Research &amp; Development Station, South Island, New Zealand
##    site_type                 group       camera_description camera_orientation
## 1:        II                  &lt;NA&gt; Campbell Scientific CCFC                 NE
## 2:         I                  &lt;NA&gt;        StarDot NetCam SC                NNW
## 3:        II                  &lt;NA&gt; Campbell Scientific CCFC                WNW
## 4:       III National Park Service                  unknown                 NE
## 5:         I                  &lt;NA&gt;        StarDot NetCam SC                   
## 6:         I                  &lt;NA&gt;         StarDot NetCamSC                   
##    flux_data flux_networks flux_sitenames
## 1:      TRUE     &lt;list[0]&gt;           &lt;NA&gt;
## 2:      TRUE     &lt;list[0]&gt;               
## 3:      TRUE     &lt;list[1]&gt;           &lt;NA&gt;
## 4:     FALSE     &lt;list[0]&gt;               
## 5:      TRUE     &lt;list[0]&gt;         NZ-ADw
## 6:      TRUE     &lt;list[0]&gt;               
##                                                                                 dominant_species
## 1:                                      Zea mays, Triticum aestivum, Brassica napus, Glycine max
## 2:                                      Zea mays, Triticum aestivum, Brassica napus, Glycine max
## 3:                                      Zea mays, Triticum aestivum, Brassica napus, Glycine max
## 4:                                                                                              
## 5: Lolium perenne, Lolium multiflorum, Trifolium pratense, Trifolium repens, Plantago lanceolata
## 6:                                                              Lolium perenne, Trifolium repens
##    primary_veg_type secondary_veg_type site_meteorology MAT_site MAP_site
## 1:               AG                 AG             TRUE      6.4      943
## 2:               AG                 AG             TRUE      6.4      943
## 3:               AG                 AG             TRUE      6.4      943
## 4:               DB                 EN            FALSE       NA       NA
## 5:               AG                                TRUE       NA       NA
## 6:               AG                                TRUE       NA       NA
##    MAT_daymet MAP_daymet MAT_worldclim MAP_worldclim koeppen_geiger ecoregion
## 1:       6.30        952           6.0           863            Dfb         8
## 2:       6.30        953           5.9           863            Dfb         8
## 3:       6.30        952           6.0           863            Dfb         8
## 4:       7.05       1439           6.5          1303            Dfb         8
## 5:         NA         NA          11.6           640            Cfb        NA
## 6:         NA         NA          11.6           639            Cfb        NA
##    landcover_igbp dataset_version1
## 1:             12               NA
## 2:             12               NA
## 3:             12               NA
## 4:              5               NA
## 5:             NA               NA
## 6:             NA               NA
##                                                                                                                                                                                                                                                                                                                          site_acknowledgements
## 1:  Camera funded by Agriculture and Agri-Food Canada (AAFC) Project J-001735 - Commercial inhibitors’ impact on crop productivity and emissions of nitrous oxide led by Dr. Elizabeth Pattey; Support provided by Drs, Luc Pelletier and Elizabeth  Pattey, Micrometeorologiccal Laboratory of AAFC - Ottawa Research and Development Centre.
## 2: Cameras funded by Agriculture and Agri-Food Canada (AAFC) Project J-001735 - Commercial inhibitors’ impact on crop productivity and emissions of nitrous oxide led by Dr. Elizabeth Pattey; Support provided by Drs, Luc Pelletier and Elizabeth  Pattey, Micrometeorologiccal Laboratory of AAFC - Ottawa Research and Development Centre.
## 3: Cameras funded by Agriculture and Agri-Food Canada (AAFC) Project J-001735 - Commercial inhibitors’ impact on crop productivity and emissions of nitrous oxide led by Dr. Elizabeth Pattey; Support provided by Drs, Luc Pelletier and Elizabeth  Pattey, Micrometeorologiccal Laboratory of AAFC - Ottawa Research and Development Centre.
## 4:                                                                                                                                                                                                                           Camera images from Acadia National Park are provided courtesy of the National Park Service Air Resources Program.
## 5:                                                                                                                                                                                                                    Ministry of Business, Innovation and Employment; New Zealand Agricultural Greenhouse Gas Research Centre; Manaaki Whenua
## 6:                                                                                                                                                                                                                    Ministry of Business, Innovation and Employment; New Zealand Agricultural Greenhouse Gas Research Centre; Manaaki Whenua
##                            modified flux_networks_name flux_networks_url
## 1: 2021-08-23T12:12:59.295391-04:00               &lt;NA&gt;              &lt;NA&gt;
## 2: 2021-08-13T10:49:30.502306-04:00               &lt;NA&gt;              &lt;NA&gt;
## 3: 2021-08-23T12:13:11.193254-04:00              OTHER                  
## 4: 2016-11-01T15:42:15.016778-04:00               &lt;NA&gt;              &lt;NA&gt;
## 5: 2021-03-09T17:03:10.816039-05:00               &lt;NA&gt;              &lt;NA&gt;
## 6: 2021-03-09T17:03:11.773814-05:00               &lt;NA&gt;              &lt;NA&gt;
##    flux_networks_description
## 1:                      &lt;NA&gt;
## 2:                      &lt;NA&gt;
## 3:        Other/Unaffiliated
## 4:                      &lt;NA&gt;
## 5:                      &lt;NA&gt;
## 6:                      &lt;NA&gt;</code></pre>
<p>To familiarize yourself with the phenocam API, let’s explore the structure:
<a href="https://phenocam.sr.unh.edu/api/">https://phenocam.sr.unh.edu/api/</a></p>
<p>Explore the options for filtering, file type and so forth.</p>
<div id="phenocam-time-series" class="section level3 hasAnchor" number="4.12.1">
<h3 class="hasAnchor"><span class="header-section-number">4.12.1</span> PhenoCam time series<a href="#phenocam-time-series" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>PhenoCam time series are extracted time series data obtained from ROI’s for a
given site.</p>
</div>
<div id="obtain-rois" class="section level3 hasAnchor" number="4.12.2">
<h3 class="hasAnchor"><span class="header-section-number">4.12.2</span> Obtain ROIs<a href="#obtain-rois" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To download the phenological time series from the PhenoCam, we need to know the
site name, vegetation type and ROI ID. This information can be obtained from each
specific PhenoCam page on the
<a href="https://phenocam.sr.unh.edu/webcam/gallery/" target="_blank">PhenoCam website</a>
or by using the <code>get_rois()</code> function.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="co"># obtaining the list of all the available ROI&#39;s on the PhenoCam server</span></span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a><span class="co"># first, changing timeout option to prevent get_rois() from failing to connect </span></span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a><span class="co"># to the PhenoCam API due to timeout </span></span>
<span id="cb283-5"><a href="#cb283-5" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">&#39;timeout&#39;</span>)</span></code></pre></div>
<pre><code>## [1] 60</code></pre>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">300</span>)</span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a>rois <span class="ot">&lt;-</span> <span class="fu">get_rois</span>()</span>
<span id="cb285-4"><a href="#cb285-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-5"><a href="#cb285-5" aria-hidden="true" tabindex="-1"></a><span class="co"># view what information is returned</span></span>
<span id="cb285-6"><a href="#cb285-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(rois)</span></code></pre></div>
<pre><code>##  [1] &quot;roi_name&quot;          &quot;site&quot;              &quot;lat&quot;              
##  [4] &quot;lon&quot;               &quot;roitype&quot;           &quot;active&quot;           
##  [7] &quot;show_link&quot;         &quot;show_data_link&quot;    &quot;sequence_number&quot;  
## [10] &quot;description&quot;       &quot;first_date&quot;        &quot;last_date&quot;        
## [13] &quot;site_years&quot;        &quot;missing_data_pct&quot;  &quot;roi_page&quot;         
## [16] &quot;roi_stats_file&quot;    &quot;one_day_summary&quot;   &quot;three_day_summary&quot;
## [19] &quot;data_release&quot;</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view first few locations</span></span>
<span id="cb287-2"><a href="#cb287-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rois<span class="sc">$</span>roi_name)</span></code></pre></div>
<pre><code>## [1] &quot;aafcottawacfiaf14n_AG_1000&quot; &quot;admixpasture_AG_1000&quot;      
## [3] &quot;adrycpasture_AG_1000&quot;       &quot;alligatorriver_DB_1000&quot;    
## [5] &quot;arbutuslake_DB_1000&quot;        &quot;arbutuslakeinlet_DB_1000&quot;</code></pre>
</div>
<div id="download-time-series" class="section level3 hasAnchor" number="4.12.3">
<h3 class="hasAnchor"><span class="header-section-number">4.12.3</span> Download time series<a href="#download-time-series" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>get_pheno_ts()</code> function can download a time series and return the result
as a <code>data.table</code>.
Let’s work with the
<a href="https://phenocam.sr.unh.edu/data/archive/dukehw/ROI/dukehw_DB_1000.html">Duke Forest Hardwood Stand (<code>dukehw</code>) PhenoCam</a>
and specifically the ROI
<a href="https://phenocam.sr.unh.edu/data/archive/dukehw/ROI/dukehw_DB_1000.html"><code>DB_1000</code></a>
we can run the following code.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="co"># list ROIs for dukehw</span></span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a>rois[site<span class="sc">==</span><span class="st">&#39;dukehw&#39;</span>,]</span></code></pre></div>
<pre><code>##          roi_name   site      lat       lon roitype active show_link
## 1: dukehw_DB_1000 dukehw 35.97358 -79.10037      DB   TRUE      TRUE
##    show_data_link sequence_number                                   description
## 1:           TRUE            1000 canopy level DB forest at awesome Duke forest
##    first_date  last_date site_years missing_data_pct
## 1: 2013-06-01 2022-10-11        8.5              9.0
##                                               roi_page
## 1: https://phenocam.nau.edu/webcam/roi/dukehw/DB_1000/
##                                                                  roi_stats_file
## 1: https://phenocam.nau.edu/data/archive/dukehw/ROI/dukehw_DB_1000_roistats.csv
##                                                             one_day_summary
## 1: https://phenocam.nau.edu/data/archive/dukehw/ROI/dukehw_DB_1000_1day.csv
##                                                           three_day_summary
## 1: https://phenocam.nau.edu/data/archive/dukehw/ROI/dukehw_DB_1000_3day.csv
##    data_release
## 1:           NA</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to obtain the DB 1000 from dukehw</span></span>
<span id="cb291-2"><a href="#cb291-2" aria-hidden="true" tabindex="-1"></a>dukehw_DB_1000 <span class="ot">&lt;-</span> <span class="fu">get_pheno_ts</span>(<span class="at">site =</span> <span class="st">&#39;dukehw&#39;</span>, <span class="at">vegType =</span> <span class="st">&#39;DB&#39;</span>, <span class="at">roiID =</span> <span class="dv">1000</span>, <span class="at">type =</span> <span class="st">&#39;3day&#39;</span>)</span>
<span id="cb291-3"><a href="#cb291-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb291-4"><a href="#cb291-4" aria-hidden="true" tabindex="-1"></a><span class="co"># what data are available</span></span>
<span id="cb291-5"><a href="#cb291-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dukehw_DB_1000)</span></code></pre></div>
<pre><code>## Classes &#39;data.table&#39; and &#39;data.frame&#39;:   1143 obs. of  35 variables:
##  $ date                : chr  &quot;2013-06-01&quot; &quot;2013-06-04&quot; &quot;2013-06-07&quot; &quot;2013-06-10&quot; ...
##  $ year                : int  2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 ...
##  $ doy                 : int  152 155 158 161 164 167 170 173 176 179 ...
##  $ image_count         : int  57 76 77 77 77 78 21 0 0 0 ...
##  $ midday_filename     : chr  &quot;dukehw_2013_06_01_120111.jpg&quot; &quot;dukehw_2013_06_04_120119.jpg&quot; &quot;dukehw_2013_06_07_120112.jpg&quot; &quot;dukehw_2013_06_10_120108.jpg&quot; ...
##  $ midday_r            : num  91.3 76.4 60.6 76.5 88.9 ...
##  $ midday_g            : num  97.9 85 73.2 82.2 95.7 ...
##  $ midday_b            : num  47.4 33.6 35.6 37.1 51.4 ...
##  $ midday_gcc          : num  0.414 0.436 0.432 0.42 0.406 ...
##  $ midday_rcc          : num  0.386 0.392 0.358 0.391 0.377 ...
##  $ r_mean              : num  87.6 79.9 72.7 80.9 83.8 ...
##  $ r_std               : num  5.9 6 9.5 8.23 5.89 ...
##  $ g_mean              : num  92.1 86.9 84 88 89.7 ...
##  $ g_std               : num  6.34 5.26 7.71 7.77 6.47 ...
##  $ b_mean              : num  46.1 38 39.6 43.1 46.7 ...
##  $ b_std               : num  4.48 3.42 5.29 4.73 4.01 ...
##  $ gcc_mean            : num  0.408 0.425 0.429 0.415 0.407 ...
##  $ gcc_std             : num  0.00859 0.0089 0.01318 0.01243 0.01072 ...
##  $ gcc_50              : num  0.408 0.427 0.431 0.416 0.407 ...
##  $ gcc_75              : num  0.414 0.431 0.435 0.424 0.415 ...
##  $ gcc_90              : num  0.417 0.434 0.44 0.428 0.421 ...
##  $ rcc_mean            : num  0.388 0.39 0.37 0.381 0.38 ...
##  $ rcc_std             : num  0.01176 0.01032 0.01326 0.00881 0.00995 ...
##  $ rcc_50              : num  0.387 0.391 0.373 0.383 0.382 ...
##  $ rcc_75              : num  0.391 0.396 0.378 0.388 0.385 ...
##  $ rcc_90              : num  0.397 0.399 0.382 0.391 0.389 ...
##  $ max_solar_elev      : num  76 76.3 76.6 76.8 76.9 ...
##  $ snow_flag           : logi  NA NA NA NA NA NA ...
##  $ outlierflag_gcc_mean: logi  NA NA NA NA NA NA ...
##  $ outlierflag_gcc_50  : logi  NA NA NA NA NA NA ...
##  $ outlierflag_gcc_75  : logi  NA NA NA NA NA NA ...
##  $ outlierflag_gcc_90  : logi  NA NA NA NA NA NA ...
##  $ YEAR                : int  2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 ...
##  $ DOY                 : int  152 155 158 161 164 167 170 173 176 179 ...
##  $ YYYYMMDD            : chr  &quot;2013-06-01&quot; &quot;2013-06-04&quot; &quot;2013-06-07&quot; &quot;2013-06-10&quot; ...
##  - attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt;</code></pre>
<p>We now have a variety of data related to this ROI from the Hardwood Stand at Duke
Forest.</p>
<p>Green Chromatic Coordinate (GCC) is a measure of “greenness” of an area and is
widely used in Phenocam images as an indicator of the green pigment in vegetation.
Let’s use this measure to look at changes in GCC over time at this site. Looking
back at the available data, we have several options for GCC. <code>gcc90</code> is the 90th
quantile of GCC in the pixels across the ROI (for more details,
<a href="https://daac.ornl.gov/VEGETATION/guides/PhenoCam_V1.html" target="_blank"> PhenoCam v1 description</a>).
We’ll use this as it tracks the upper greenness values while not including many
outliners.</p>
<p>Before we can plot <code>gcc-90</code> we do need to fix our dates and convert them from
Factors to Date to correctly plot.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="co"># date variable into date format</span></span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a>dukehw_DB_1000[,date<span class="sc">:</span><span class="er">=</span><span class="fu">as.Date</span>(date)]</span>
<span id="cb293-3"><a href="#cb293-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-4"><a href="#cb293-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot gcc_90</span></span>
<span id="cb293-5"><a href="#cb293-5" aria-hidden="true" tabindex="-1"></a>dukehw_DB_1000[,<span class="fu">plot</span>(date, gcc_90, <span class="at">col =</span> <span class="st">&#39;green&#39;</span>, <span class="at">type =</span> <span class="st">&#39;b&#39;</span>)]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&#39;Duke Forest, Hardwood&#39;</span>, <span class="at">font =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="04-PhenoCam_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<p>Now, based on either direct API access or via the phenocamapi package, generate a dataframe of phenocam sites. Select two phenocam sites from <em>different</em> plant functional types to explore (e.g. one grassland site and one evergreen needleleaf site)</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="co">#example</span></span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>GrassSites<span class="ot">=</span>cams_<span class="sc">%&gt;%</span></span>
<span id="cb296-3"><a href="#cb296-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cams_<span class="sc">$</span>primary_veg_type<span class="sc">==</span><span class="st">&#39;GR&#39;</span>)</span>
<span id="cb296-4"><a href="#cb296-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(GrassSites)</span></code></pre></div>
<pre><code>##              Sitename      Lat        Lon Elev active utc_offset date_first
## 1       archboldbahia 27.16560  -81.21611    8   TRUE         -5 2017-03-21
## 2            arsgacp2 31.43950  -83.59146  101  FALSE          2 2016-04-27
## 3      bitterbrush001 48.15400 -119.94560  667   TRUE         -8 2020-09-20
## 4 blueoakheadquarters 37.38270 -121.73930  572   TRUE         -8 2022-01-24
## 5             bozeman 45.78306 -110.77778 2332  FALSE         -7 2015-08-16
## 6               butte 45.95304 -112.47964 1682   TRUE         -7 2008-04-01
##    date_last infrared                                              contact1
## 1 2022-10-11        Y      Amartya Saha &lt;asaha AT archbold-station DOT org&gt;
## 2 2018-01-23        Y David Bosch &lt;David DOT Bosch AT ars DOT usda DOT gov&gt;
## 3 2022-09-03        Y      Brandon Sackmann &lt;bssackmann AT gsi-net DOT com&gt;
## 4 2022-10-11        Y      Zachariah Tuhtill &lt;ztuthill AT berkeley DOT edu&gt;
## 5 2019-12-18        Y            Paul Stoy &lt;paul DOT stoy AT gmail DOT com&gt;
## 6 2022-10-11        N       James Gallagher &lt;jgallagher AT opendap DOT org&gt;
##                                                     contact2
## 1 Elizabeth Boughton &lt;eboughton AT archbold-station DOT org&gt;
## 2                                                           
## 3            Brandon Sackmann &lt;bssackmann AT gsienv DOT com&gt;
## 4                Zachary Harlow &lt;harlow AT berkeley DOT edu&gt;
## 5                                                           
## 6                     Martha Apple &lt;MApple AT mtech DOT edu&gt;
##                                                                        site_description
## 1                                             Archbold Biological Station, Florida, USA
## 2                           Southeast Watershed Research Laboratory EC2 Tifton, Georgia
## 3 Parcel 1 East at Midpoint (Shrub-Steppe - Post Wildfire ca. 2014), Methow, Washington
## 4                      Residence Meadow, Blue Oak Ranch Reserve, Santa Clara County, CA
## 5                                Bangtail Study Area, Montana State University, Montana
## 6                                                    Continental Divide, Butte, Montana
##   site_type                 group camera_description camera_orientation
## 1         I                  LTAR  StarDot NetCam SC                  N
## 2         I                  LTAR                  N                  N
## 3         I                     N  StarDot NetCam SC                  W
## 4         I                     N  StarDot NetCam SC                  N
## 5         I AmericaView AMERIFLUX  StarDot NetCam SC                  N
## 6         I              PhenoCam  StarDot NetCam SC                  E
##   flux_data                                          flux_networks
## 1     FALSE                                                   NULL
## 2     FALSE                                                   NULL
## 3     FALSE                                                   NULL
## 4     FALSE                                                   NULL
## 5      TRUE AMERIFLUX, http://ameriflux.lbl.gov, AmeriFlux Network
## 6     FALSE                                                   NULL
##         flux_sitenames
## 1                    N
## 2                    N
## 3                     
## 4                     
## 5 US-MTB (forthcoming)
## 6                     
##                                                                                                                                                                                                                                                                dominant_species
## 1                                                                                                                                                                                                                                                                              
## 2                                                                                                                                                                                                                                                                              
## 3                                                                                                                                                                                                                                                                              
## 4                                                                                                                                                                                                                               Avena spp., Quercus lobata, Elymus trachycaulus
## 5                                                                                                                                                                                                                                                            Festuca idahoensis
## 6 Agropyron cristatum, Poa pratensis, Phalaris arundinaceae, Carex. sp., Geum triflorum, Ericameria nauseousa, Centaurea macula, Achillea millefolium, Senecio sp., Lupinus sp., Penstemon sp., Linaria vulgaris, Cirsium arvense; Alnus incana, Salix sp., Populus tremuloides
##   primary_veg_type secondary_veg_type site_meteorology MAT_site MAP_site
## 1               GR                  N            FALSE        N        N
## 2               GR                  N            FALSE        N        N
## 3               GR                 SH            FALSE      8.7      323
## 4               GR                 DB            FALSE     13.4      600
## 5               GR                 EN            FALSE        5      850
## 6               GR                 SH            FALSE        N        N
##   MAT_daymet MAP_daymet MAT_worldclim MAP_worldclim koeppen_geiger ecoregion
## 1      22.85       1302          22.5          1208            Cfa         8
## 2         19       1251          18.7          1213            Cfa         8
## 3       8.35        420           7.3           340            Dsb        10
## 4      14.35        501          14.3           646            Csb        11
## 5        2.3        981           0.9           728            Dfb         6
## 6       5.05        365           4.3           311            BSk         6
##   landcover_igbp
## 1             14
## 2             14
## 3              1
## 4              8
## 5             10
## 6             10
##                                                                                                                                                                                                                                                 site_acknowledgements
## 1                                                                                                                                                                                                                                                                    
## 2                                                                                                                                                                                                                                                                    
## 3                                                                                                                                                                 Research at this site is supported by GSI Environmental Inc. (http://www.gsi-net.com), Olympia, WA.
## 4                                                                                                     Blue Oak Ranch Reserve is part of the University of California Natural Reserve System. Blue Oak Ranch is administered bu the University of California, Berkeley
## 5 Research at the Bozeman site is supported by Colorado State University and the AmericaView program (grants G13AC00393, G11AC20461, G15AC00056) with phenocam equipment and deployment sponsored by the Department of Interior North Central Climate Science Center.
## 6                                                         Research at the Continental Divide PhenoCam Site in Butte, Montana is supported by the National Science Foundation-EPSCoR (grant NSF-0701906), OpenDap, Inc., and Montana Tech of the University of Montana
##                           modified
## 1 2019-01-07T18:36:07.631244-05:00
## 2 2018-06-18T20:27:17.280524-04:00
## 3 2020-10-30T10:48:53.990761-04:00
## 4 2021-04-12T09:54:24.431967-04:00
## 5 2016-11-01T15:42:19.771057-04:00
## 6 2016-11-01T15:42:19.846100-04:00</code></pre>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a>FirstSite<span class="ot">=</span>GrassSites[<span class="dv">5</span>, ] <span class="co">#randomly chose the fifth site in the table</span></span>
<span id="cb298-2"><a href="#cb298-2" aria-hidden="true" tabindex="-1"></a>FirstSite</span></code></pre></div>
<pre><code>##   Sitename      Lat       Lon Elev active utc_offset date_first  date_last
## 5  bozeman 45.78306 -110.7778 2332  FALSE         -7 2015-08-16 2019-12-18
##   infrared                                   contact1 contact2
## 5        Y Paul Stoy &lt;paul DOT stoy AT gmail DOT com&gt;         
##                                         site_description site_type
## 5 Bangtail Study Area, Montana State University, Montana         I
##                   group camera_description camera_orientation flux_data
## 5 AmericaView AMERIFLUX  StarDot NetCam SC                  N      TRUE
##                                            flux_networks       flux_sitenames
## 5 AMERIFLUX, http://ameriflux.lbl.gov, AmeriFlux Network US-MTB (forthcoming)
##     dominant_species primary_veg_type secondary_veg_type site_meteorology
## 5 Festuca idahoensis               GR                 EN            FALSE
##   MAT_site MAP_site MAT_daymet MAP_daymet MAT_worldclim MAP_worldclim
## 5        5      850        2.3        981           0.9           728
##   koeppen_geiger ecoregion landcover_igbp
## 5            Dfb         6             10
##                                                                                                                                                                                                                                                 site_acknowledgements
## 5 Research at the Bozeman site is supported by Colorado State University and the AmericaView program (grants G13AC00393, G11AC20461, G15AC00056) with phenocam equipment and deployment sponsored by the Department of Interior North Central Climate Science Center.
##                           modified
## 5 2016-11-01T15:42:19.771057-04:00</code></pre>
<p>Chose your own sites and build out your code chunk here:</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;build your code here&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;build your code here&quot;</code></pre>
<p><a href="https://khufkens.com/">Koen Huffkens</a> developed the <a href="https://cran.r-project.org/web/packages/phenocamr/index.html">phenocamr package</a>, which streamlines access to quality controlled data. We will now use this package to download and process site based data according to a standardized methodology.</p>
<p>A full description of the methodology is provided in <a href="https://www.nature.com/articles/sdata201828">Scientific Data: Tracking vegetation phenology across diverse North American biomes using PhenoCam imagery (Richardson et al. 2018)</a>.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="co">#uncomment if you need to install via devtools</span></span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a><span class="co">#if(!require(devtools)){install.package(devtools)}</span></span>
<span id="cb302-3"><a href="#cb302-3" aria-hidden="true" tabindex="-1"></a><span class="co">#devtools::install_github(&quot;khufkens/phenocamr&quot;)</span></span>
<span id="cb302-4"><a href="#cb302-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(phenocamr)</span></code></pre></div>
<p>Use the dataframe of sites that you want to analyze to feed the phenocamr package.
<em>Note: you can choose either a 1 or 3 day product</em></p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&#39;data/&#39;</span>, <span class="at">showWarnings =</span> F)</span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a>phenocamr<span class="sc">::</span><span class="fu">download_phenocam</span>(</span>
<span id="cb303-4"><a href="#cb303-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">frequency =</span> <span class="dv">3</span>,</span>
<span id="cb303-5"><a href="#cb303-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">veg_type =</span> <span class="st">&#39;DB&#39;</span>,</span>
<span id="cb303-6"><a href="#cb303-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">roi_id =</span> <span class="dv">1000</span>,</span>
<span id="cb303-7"><a href="#cb303-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">site =</span> <span class="st">&#39;harvard&#39;</span>,</span>
<span id="cb303-8"><a href="#cb303-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">phenophase =</span> <span class="cn">TRUE</span>,</span>
<span id="cb303-9"><a href="#cb303-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">out_dir =</span> <span class="st">&quot;data/&quot;</span></span>
<span id="cb303-10"><a href="#cb303-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Downloading: harvard_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<pre><code>## Downloading: harvardbarn_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<pre><code>## Downloading: harvardbarn2_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<pre><code>## Downloading: harvardems2_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<pre><code>## Downloading: harvardfarmsouth_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<pre><code>## Downloading: harvardhemlock_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<pre><code>## Downloading: harvardlph_DB_1000_3day.csv</code></pre>
<pre><code>## -- Flagging outliers!</code></pre>
<pre><code>## -- Smoothing time series!</code></pre>
<pre><code>## -- Estimating transition dates!</code></pre>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Downloading: harvard_DB_1000_3day.csv</span></span>
<span id="cb332-2"><a href="#cb332-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -- Flagging outliers!</span></span>
<span id="cb332-3"><a href="#cb332-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -- Smoothing time series!</span></span>
<span id="cb332-4"><a href="#cb332-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -- Estimating transition dates!</span></span></code></pre></div>
<p>Now look in your working directory. You have data! Read it in:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the time series data but replace the csv filename with whatever you downloaded</span></span>
<span id="cb333-2"><a href="#cb333-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;data/harvard_DB_1000_3day.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb333-3"><a href="#cb333-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-4"><a href="#cb333-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read in the transition date file</span></span>
<span id="cb333-5"><a href="#cb333-5" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;data/harvard_DB_1000_3day_transition_dates.csv&quot;</span>,</span>
<span id="cb333-6"><a href="#cb333-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb333-7"><a href="#cb333-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<p>Let’s take a look at the data:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb334-2"><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(</span>
<span id="cb334-3"><a href="#cb334-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> df,</span>
<span id="cb334-4"><a href="#cb334-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb334-5"><a href="#cb334-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> smooth_gcc_90,</span>
<span id="cb334-6"><a href="#cb334-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&#39;Smoothed GCC&#39;</span>,</span>
<span id="cb334-7"><a href="#cb334-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb334-8"><a href="#cb334-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb334-9"><a href="#cb334-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">&#39;line&#39;</span></span>
<span id="cb334-10"><a href="#cb334-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">add_markers</span>(</span>
<span id="cb334-11"><a href="#cb334-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">data=</span>df,</span>
<span id="cb334-12"><a href="#cb334-12" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">~</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb334-13"><a href="#cb334-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span>gcc_90,</span>
<span id="cb334-14"><a href="#cb334-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&#39;GCC&#39;</span>,</span>
<span id="cb334-15"><a href="#cb334-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb334-16"><a href="#cb334-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span><span class="st">&#39;#07A4B5&#39;</span>,</span>
<span id="cb334-17"><a href="#cb334-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity=</span>.<span class="dv">5</span></span>
<span id="cb334-18"><a href="#cb334-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb334-19"><a href="#cb334-19" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<pre><code>## Warning: Ignoring 3724 observations</code></pre>
<pre><code>## Warning in RColorBrewer::brewer.pal(N, &quot;Set2&quot;): minimal value for n is 3, returning requested palette with 3 different levels

## Warning in RColorBrewer::brewer.pal(N, &quot;Set2&quot;): minimal value for n is 3, returning requested palette with 3 different levels</code></pre>
<div id="htmlwidget-b788ba9d597c61ac1348" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b788ba9d597c61ac1348">{"x":{"visdat":{"58302ac076a0":["function () ","plotlyVisDat"],"583057b2f46":["function () ","data"],"583048a7267":["function () ","data"]},"cur_data":"583048a7267","attrs":{"583057b2f46":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Smoothed GCC","showlegend":true,"type":"scatter","mode":"line","inherit":true},"583048a7267":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","name":"GCC","color":"#07A4B5","opacity":0.5,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"as.Date(date)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"smooth_gcc_90"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2008-01-05","2008-01-06","2008-01-07","2008-01-08","2008-01-09","2008-01-10","2008-01-11","2008-01-12","2008-01-13","2008-01-14","2008-01-15","2008-01-16","2008-01-17","2008-01-18","2008-01-19","2008-01-20","2008-01-21","2008-01-22","2008-01-23","2008-01-24","2008-01-25","2008-01-26","2008-01-27","2008-01-28","2008-01-29","2008-01-30","2008-01-31","2008-02-01","2008-02-02","2008-02-03","2008-02-04","2008-02-05","2008-02-06","2008-02-07","2008-02-08","2008-02-09","2008-02-10","2008-02-11","2008-02-12","2008-02-13","2008-02-14","2008-02-15","2008-02-16","2008-02-17","2008-02-18","2008-02-19","2008-02-20","2008-02-21","2008-02-22","2008-02-23","2008-02-24","2008-02-25","2008-02-26","2008-02-27","2008-02-28","2008-02-29","2008-03-01","2008-03-02","2008-03-03","2008-03-04","2008-03-05","2008-03-06","2008-03-07","2008-03-08","2008-03-09","2008-03-10","2008-03-11","2008-03-12","2008-03-13","2008-03-14","2008-03-15","2008-03-16","2008-03-17","2008-03-18","2008-03-19","2008-03-20","2008-03-21","2008-03-22","2008-03-23","2008-03-24","2008-03-25","2008-03-26","2008-03-27","2008-03-28","2008-03-29","2008-03-30","2008-03-31","2008-04-01","2008-04-02","2008-04-03","2008-04-04","2008-04-05","2008-04-06","2008-04-07","2008-04-08","2008-04-09","2008-04-10","2008-04-11","2008-04-12","2008-04-13","2008-04-14","2008-04-15","2008-04-16","2008-04-17","2008-04-18","2008-04-19","2008-04-20","2008-04-21","2008-04-22","2008-04-23","2008-04-24","2008-04-25","2008-04-26","2008-04-27","2008-04-28","2008-04-29","2008-04-30","2008-05-01","2008-05-02","2008-05-03","2008-05-04","2008-05-05","2008-05-06","2008-05-07","2008-05-08","2008-05-09","2008-05-10","2008-05-11","2008-05-12","2008-05-13","2008-05-14","2008-05-15","2008-05-16","2008-05-17","2008-05-18","2008-05-19","2008-05-20","2008-05-21","2008-05-22","2008-05-23","2008-05-24","2008-05-25","2008-05-26","2008-05-27","2008-05-28","2008-05-29","2008-05-30","2008-05-31","2008-06-01","2008-06-02","2008-06-03","2008-06-04","2008-06-05","2008-06-06","2008-06-07","2008-06-08","2008-06-09","2008-06-10","2008-06-11","2008-06-12","2008-06-13","2008-06-14","2008-06-15","2008-06-16","2008-06-17","2008-06-18","2008-06-19","2008-06-20","2008-06-21","2008-06-22","2008-06-23","2008-06-24","2008-06-25","2008-06-26","2008-06-27","2008-06-28","2008-06-29","2008-06-30","2008-07-01","2008-07-02","2008-07-03","2008-07-04","2008-07-05","2008-07-06","2008-07-07","2008-07-08","2008-07-09","2008-07-10","2008-07-11","2008-07-12","2008-07-13","2008-07-14","2008-07-15","2008-07-16","2008-07-17","2008-07-18","2008-07-19","2008-07-20","2008-07-21","2008-07-22","2008-07-23","2008-07-24","2008-07-25","2008-07-26","2008-07-27","2008-07-28","2008-07-29","2008-07-30","2008-07-31","2008-08-01","2008-08-02","2008-08-03","2008-08-04","2008-08-05","2008-08-06","2008-08-07","2008-08-08","2008-08-09","2008-08-10","2008-08-11","2008-08-12","2008-08-13","2008-08-14","2008-08-15","2008-08-16","2008-08-17","2008-08-18","2008-08-19","2008-08-20","2008-08-21","2008-08-22","2008-08-23","2008-08-24","2008-08-25","2008-08-26","2008-08-27","2008-08-28","2008-08-29","2008-08-30","2008-08-31","2008-09-01","2008-09-02","2008-09-03","2008-09-04","2008-09-05","2008-09-06","2008-09-07","2008-09-08","2008-09-09","2008-09-10","2008-09-11","2008-09-12","2008-09-13","2008-09-14","2008-09-15","2008-09-16","2008-09-17","2008-09-18","2008-09-19","2008-09-20","2008-09-21","2008-09-22","2008-09-23","2008-09-24","2008-09-25","2008-09-26","2008-09-27","2008-09-28","2008-09-29","2008-09-30","2008-10-01","2008-10-02","2008-10-03","2008-10-04","2008-10-05","2008-10-06","2008-10-07","2008-10-08","2008-10-09","2008-10-10","2008-10-11","2008-10-12","2008-10-13","2008-10-14","2008-10-15","2008-10-16","2008-10-17","2008-10-18","2008-10-19","2008-10-20","2008-10-21","2008-10-22","2008-10-23","2008-10-24","2008-10-25","2008-10-26","2008-10-27","2008-10-28","2008-10-29","2008-10-30","2008-10-31","2008-11-01","2008-11-02","2008-11-03","2008-11-04","2008-11-05","2008-11-06","2008-11-07","2008-11-08","2008-11-09","2008-11-10","2008-11-11","2008-11-12","2008-11-13","2008-11-14","2008-11-15","2008-11-16","2008-11-17","2008-11-18","2008-11-19","2008-11-20","2008-11-21","2008-11-22","2008-11-23","2008-11-24","2008-11-25","2008-11-26","2008-11-27","2008-11-28","2008-11-29","2008-11-30","2008-12-01","2008-12-02","2008-12-03","2008-12-04","2008-12-05","2008-12-06","2008-12-07","2008-12-08","2008-12-09","2008-12-10","2008-12-11","2008-12-12","2008-12-13","2008-12-14","2008-12-15","2008-12-16","2008-12-17","2008-12-18","2008-12-19","2008-12-20","2008-12-21","2008-12-22","2008-12-23","2008-12-24","2008-12-25","2008-12-26","2008-12-27","2008-12-28","2008-12-29","2008-12-30","2008-12-31","2009-01-01","2009-01-02","2009-01-03","2009-01-04","2009-01-05","2009-01-06","2009-01-07","2009-01-08","2009-01-09","2009-01-10","2009-01-11","2009-01-12","2009-01-13","2009-01-14","2009-01-15","2009-01-16","2009-01-17","2009-01-18","2009-01-19","2009-01-20","2009-01-21","2009-01-22","2009-01-23","2009-01-24","2009-01-25","2009-01-26","2009-01-27","2009-01-28","2009-01-29","2009-01-30","2009-01-31","2009-02-01","2009-02-02","2009-02-03","2009-02-04","2009-02-05","2009-02-06","2009-02-07","2009-02-08","2009-02-09","2009-02-10","2009-02-11","2009-02-12","2009-02-13","2009-02-14","2009-02-15","2009-02-16","2009-02-17","2009-02-18","2009-02-19","2009-02-20","2009-02-21","2009-02-22","2009-02-23","2009-02-24","2009-02-25","2009-02-26","2009-02-27","2009-02-28","2009-03-01","2009-03-02","2009-03-03","2009-03-04","2009-03-05","2009-03-06","2009-03-07","2009-03-08","2009-03-09","2009-03-10","2009-03-11","2009-03-12","2009-03-13","2009-03-14","2009-03-15","2009-03-16","2009-03-17","2009-03-18","2009-03-19","2009-03-20","2009-03-21","2009-03-22","2009-03-23","2009-03-24","2009-03-25","2009-03-26","2009-03-27","2009-03-28","2009-03-29","2009-03-30","2009-03-31","2009-04-01","2009-04-02","2009-04-03","2009-04-04","2009-04-05","2009-04-06","2009-04-07","2009-04-08","2009-04-09","2009-04-10","2009-04-11","2009-04-12","2009-04-13","2009-04-14","2009-04-15","2009-04-16","2009-04-17","2009-04-18","2009-04-19","2009-04-20","2009-04-21","2009-04-22","2009-04-23","2009-04-24","2009-04-25","2009-04-26","2009-04-27","2009-04-28","2009-04-29","2009-04-30","2009-05-01","2009-05-02","2009-05-03","2009-05-04","2009-05-05","2009-05-06","2009-05-07","2009-05-08","2009-05-09","2009-05-10","2009-05-11","2009-05-12","2009-05-13","2009-05-14","2009-05-15","2009-05-16","2009-05-17","2009-05-18","2009-05-19","2009-05-20","2009-05-21","2009-05-22","2009-05-23","2009-05-24","2009-05-25","2009-05-26","2009-05-27","2009-05-28","2009-05-29","2009-05-30","2009-05-31","2009-06-01","2009-06-02","2009-06-03","2009-06-04","2009-06-05","2009-06-06","2009-06-07","2009-06-08","2009-06-09","2009-06-10","2009-06-11","2009-06-12","2009-06-13","2009-06-14","2009-06-15","2009-06-16","2009-06-17","2009-06-18","2009-06-19","2009-06-20","2009-06-21","2009-06-22","2009-06-23","2009-06-24","2009-06-25","2009-06-26","2009-06-27","2009-06-28","2009-06-29","2009-06-30","2009-07-01","2009-07-02","2009-07-03","2009-07-04","2009-07-05","2009-07-06","2009-07-07","2009-07-08","2009-07-09","2009-07-10","2009-07-11","2009-07-12","2009-07-13","2009-07-14","2009-07-15","2009-07-16","2009-07-17","2009-07-18","2009-07-19","2009-07-20","2009-07-21","2009-07-22","2009-07-23","2009-07-24","2009-07-25","2009-07-26","2009-07-27","2009-07-28","2009-07-29","2009-07-30","2009-07-31","2009-08-01","2009-08-02","2009-08-03","2009-08-04","2009-08-05","2009-08-06","2009-08-07","2009-08-08","2009-08-09","2009-08-10","2009-08-11","2009-08-12","2009-08-13","2009-08-14","2009-08-15","2009-08-16","2009-08-17","2009-08-18","2009-08-19","2009-08-20","2009-08-21","2009-08-22","2009-08-23","2009-08-24","2009-08-25","2009-08-26","2009-08-27","2009-08-28","2009-08-29","2009-08-30","2009-08-31","2009-09-01","2009-09-02","2009-09-03","2009-09-04","2009-09-05","2009-09-06","2009-09-07","2009-09-08","2009-09-09","2009-09-10","2009-09-11","2009-09-12","2009-09-13","2009-09-14","2009-09-15","2009-09-16","2009-09-17","2009-09-18","2009-09-19","2009-09-20","2009-09-21","2009-09-22","2009-09-23","2009-09-24","2009-09-25","2009-09-26","2009-09-27","2009-09-28","2009-09-29","2009-09-30","2009-10-01","2009-10-02","2009-10-03","2009-10-04","2009-10-05","2009-10-06","2009-10-07","2009-10-08","2009-10-09","2009-10-10","2009-10-11","2009-10-12","2009-10-13","2009-10-14","2009-10-15","2009-10-16","2009-10-17","2009-10-18","2009-10-19","2009-10-20","2009-10-21","2009-10-22","2009-10-23","2009-10-24","2009-10-25","2009-10-26","2009-10-27","2009-10-28","2009-10-29","2009-10-30","2009-10-31","2009-11-01","2009-11-02","2009-11-03","2009-11-04","2009-11-05","2009-11-06","2009-11-07","2009-11-08","2009-11-09","2009-11-10","2009-11-11","2009-11-12","2009-11-13","2009-11-14","2009-11-15","2009-11-16","2009-11-17","2009-11-18","2009-11-19","2009-11-20","2009-11-21","2009-11-22","2009-11-23","2009-11-24","2009-11-25","2009-11-26","2009-11-27","2009-11-28","2009-11-29","2009-11-30","2009-12-01","2009-12-02","2009-12-03","2009-12-04","2009-12-05","2009-12-06","2009-12-07","2009-12-08","2009-12-09","2009-12-10","2009-12-11","2009-12-12","2009-12-13","2009-12-14","2009-12-15","2009-12-16","2009-12-17","2009-12-18","2009-12-19","2009-12-20","2009-12-21","2009-12-22","2009-12-23","2009-12-24","2009-12-25","2009-12-26","2009-12-27","2009-12-28","2009-12-29","2009-12-30","2009-12-31","2010-01-01","2010-01-02","2010-01-03","2010-01-04","2010-01-05","2010-01-06","2010-01-07","2010-01-08","2010-01-09","2010-01-10","2010-01-11","2010-01-12","2010-01-13","2010-01-14","2010-01-15","2010-01-16","2010-01-17","2010-01-18","2010-01-19","2010-01-20","2010-01-21","2010-01-22","2010-01-23","2010-01-24","2010-01-25","2010-01-26","2010-01-27","2010-01-28","2010-01-29","2010-01-30","2010-01-31","2010-02-01","2010-02-02","2010-02-03","2010-02-04","2010-02-05","2010-02-06","2010-02-07","2010-02-08","2010-02-09","2010-02-10","2010-02-11","2010-02-12","2010-02-13","2010-02-14","2010-02-15","2010-02-16","2010-02-17","2010-02-18","2010-02-19","2010-02-20","2010-02-21","2010-02-22","2010-02-23","2010-02-24","2010-02-25","2010-02-26","2010-02-27","2010-02-28","2010-03-01","2010-03-02","2010-03-03","2010-03-04","2010-03-05","2010-03-06","2010-03-07","2010-03-08","2010-03-09","2010-03-10","2010-03-11","2010-03-12","2010-03-13","2010-03-14","2010-03-15","2010-03-16","2010-03-17","2010-03-18","2010-03-19","2010-03-20","2010-03-21","2010-03-22","2010-03-23","2010-03-24","2010-03-25","2010-03-26","2010-03-27","2010-03-28","2010-03-29","2010-03-30","2010-03-31","2010-04-01","2010-04-02","2010-04-03","2010-04-04","2010-04-05","2010-04-06","2010-04-07","2010-04-08","2010-04-09","2010-04-10","2010-04-11","2010-04-12","2010-04-13","2010-04-14","2010-04-15","2010-04-16","2010-04-17","2010-04-18","2010-04-19","2010-04-20","2010-04-21","2010-04-22","2010-04-23","2010-04-24","2010-04-25","2010-04-26","2010-04-27","2010-04-28","2010-04-29","2010-04-30","2010-05-01","2010-05-02","2010-05-03","2010-05-04","2010-05-05","2010-05-06","2010-05-07","2010-05-08","2010-05-09","2010-05-10","2010-05-11","2010-05-12","2010-05-13","2010-05-14","2010-05-15","2010-05-16","2010-05-17","2010-05-18","2010-05-19","2010-05-20","2010-05-21","2010-05-22","2010-05-23","2010-05-24","2010-05-25","2010-05-26","2010-05-27","2010-05-28","2010-05-29","2010-05-30","2010-05-31","2010-06-01","2010-06-02","2010-06-03","2010-06-04","2010-06-05","2010-06-06","2010-06-07","2010-06-08","2010-06-09","2010-06-10","2010-06-11","2010-06-12","2010-06-13","2010-06-14","2010-06-15","2010-06-16","2010-06-17","2010-06-18","2010-06-19","2010-06-20","2010-06-21","2010-06-22","2010-06-23","2010-06-24","2010-06-25","2010-06-26","2010-06-27","2010-06-28","2010-06-29","2010-06-30","2010-07-01","2010-07-02","2010-07-03","2010-07-04","2010-07-05","2010-07-06","2010-07-07","2010-07-08","2010-07-09","2010-07-10","2010-07-11","2010-07-12","2010-07-13","2010-07-14","2010-07-15","2010-07-16","2010-07-17","2010-07-18","2010-07-19","2010-07-20","2010-07-21","2010-07-22","2010-07-23","2010-07-24","2010-07-25","2010-07-26","2010-07-27","2010-07-28","2010-07-29","2010-07-30","2010-07-31","2010-08-01","2010-08-02","2010-08-03","2010-08-04","2010-08-05","2010-08-06","2010-08-07","2010-08-08","2010-08-09","2010-08-10","2010-08-11","2010-08-12","2010-08-13","2010-08-14","2010-08-15","2010-08-16","2010-08-17","2010-08-18","2010-08-19","2010-08-20","2010-08-21","2010-08-22","2010-08-23","2010-08-24","2010-08-25","2010-08-26","2010-08-27","2010-08-28","2010-08-29","2010-08-30","2010-08-31","2010-09-01","2010-09-02","2010-09-03","2010-09-04","2010-09-05","2010-09-06","2010-09-07","2010-09-08","2010-09-09","2010-09-10","2010-09-11","2010-09-12","2010-09-13","2010-09-14","2010-09-15","2010-09-16","2010-09-17","2010-09-18","2010-09-19","2010-09-20","2010-09-21","2010-09-22","2010-09-23","2010-09-24","2010-09-25","2010-09-26","2010-09-27","2010-09-28","2010-09-29","2010-09-30","2010-10-01","2010-10-02","2010-10-03","2010-10-04","2010-10-05","2010-10-06","2010-10-07","2010-10-08","2010-10-09","2010-10-10","2010-10-11","2010-10-12","2010-10-13","2010-10-14","2010-10-15","2010-10-16","2010-10-17","2010-10-18","2010-10-19","2010-10-20","2010-10-21","2010-10-22","2010-10-23","2010-10-24","2010-10-25","2010-10-26","2010-10-27","2010-10-28","2010-10-29","2010-10-30","2010-10-31","2010-11-01","2010-11-02","2010-11-03","2010-11-04","2010-11-05","2010-11-06","2010-11-07","2010-11-08","2010-11-09","2010-11-10","2010-11-11","2010-11-12","2010-11-13","2010-11-14","2010-11-15","2010-11-16","2010-11-17","2010-11-18","2010-11-19","2010-11-20","2010-11-21","2010-11-22","2010-11-23","2010-11-24","2010-11-25","2010-11-26","2010-11-27","2010-11-28","2010-11-29","2010-11-30","2010-12-01","2010-12-02","2010-12-03","2010-12-04","2010-12-05","2010-12-06","2010-12-07","2010-12-08","2010-12-09","2010-12-10","2010-12-11","2010-12-12","2010-12-13","2010-12-14","2010-12-15","2010-12-16","2010-12-17","2010-12-18","2010-12-19","2010-12-20","2010-12-21","2010-12-22","2010-12-23","2010-12-24","2010-12-25","2010-12-26","2010-12-27","2010-12-28","2010-12-29","2010-12-30","2010-12-31","2011-01-01","2011-01-02","2011-01-03","2011-01-04","2011-01-05","2011-01-06","2011-01-07","2011-01-08","2011-01-09","2011-01-10","2011-01-11","2011-01-12","2011-01-13","2011-01-14","2011-01-15","2011-01-16","2011-01-17","2011-01-18","2011-01-19","2011-01-20","2011-01-21","2011-01-22","2011-01-23","2011-01-24","2011-01-25","2011-01-26","2011-01-27","2011-01-28","2011-01-29","2011-01-30","2011-01-31","2011-02-01","2011-02-02","2011-02-03","2011-02-04","2011-02-05","2011-02-06","2011-02-07","2011-02-08","2011-02-09","2011-02-10","2011-02-11","2011-02-12","2011-02-13","2011-02-14","2011-02-15","2011-02-16","2011-02-17","2011-02-18","2011-02-19","2011-02-20","2011-02-21","2011-02-22","2011-02-23","2011-02-24","2011-02-25","2011-02-26","2011-02-27","2011-02-28","2011-03-01","2011-03-02","2011-03-03","2011-03-04","2011-03-05","2011-03-06","2011-03-07","2011-03-08","2011-03-09","2011-03-10","2011-03-11","2011-03-12","2011-03-13","2011-03-14","2011-03-15","2011-03-16","2011-03-17","2011-03-18","2011-03-19","2011-03-20","2011-03-21","2011-03-22","2011-03-23","2011-03-24","2011-03-25","2011-03-26","2011-03-27","2011-03-28","2011-03-29","2011-03-30","2011-03-31","2011-04-01","2011-04-02","2011-04-03","2011-04-04","2011-04-05","2011-04-06","2011-04-07","2011-04-08","2011-04-09","2011-04-10","2011-04-11","2011-04-12","2011-04-13","2011-04-14","2011-04-15","2011-04-16","2011-04-17","2011-04-18","2011-04-19","2011-04-20","2011-04-21","2011-04-22","2011-04-23","2011-04-24","2011-04-25","2011-04-26","2011-04-27","2011-04-28","2011-04-29","2011-04-30","2011-05-01","2011-05-02","2011-05-03","2011-05-04","2011-05-05","2011-05-06","2011-05-07","2011-05-08","2011-05-09","2011-05-10","2011-05-11","2011-05-12","2011-05-13","2011-05-14","2011-05-15","2011-05-16","2011-05-17","2011-05-18","2011-05-19","2011-05-20","2011-05-21","2011-05-22","2011-05-23","2011-05-24","2011-05-25","2011-05-26","2011-05-27","2011-05-28","2011-05-29","2011-05-30","2011-05-31","2011-06-01","2011-06-02","2011-06-03","2011-06-04","2011-06-05","2011-06-06","2011-06-07","2011-06-08","2011-06-09","2011-06-10","2011-06-11","2011-06-12","2011-06-13","2011-06-14","2011-06-15","2011-06-16","2011-06-17","2011-06-18","2011-06-19","2011-06-20","2011-06-21","2011-06-22","2011-06-23","2011-06-24","2011-06-25","2011-06-26","2011-06-27","2011-06-28","2011-06-29","2011-06-30","2011-07-01","2011-07-02","2011-07-03","2011-07-04","2011-07-05","2011-07-06","2011-07-07","2011-07-08","2011-07-09","2011-07-10","2011-07-11","2011-07-12","2011-07-13","2011-07-14","2011-07-15","2011-07-16","2011-07-17","2011-07-18","2011-07-19","2011-07-20","2011-07-21","2011-07-22","2011-07-23","2011-07-24","2011-07-25","2011-07-26","2011-07-27","2011-07-28","2011-07-29","2011-07-30","2011-07-31","2011-08-01","2011-08-02","2011-08-03","2011-08-04","2011-08-05","2011-08-06","2011-08-07","2011-08-08","2011-08-09","2011-08-10","2011-08-11","2011-08-12","2011-08-13","2011-08-14","2011-08-15","2011-08-16","2011-08-17","2011-08-18","2011-08-19","2011-08-20","2011-08-21","2011-08-22","2011-08-23","2011-08-24","2011-08-25","2011-08-26","2011-08-27","2011-08-28","2011-08-29","2011-08-30","2011-08-31","2011-09-01","2011-09-02","2011-09-03","2011-09-04","2011-09-05","2011-09-06","2011-09-07","2011-09-08","2011-09-09","2011-09-10","2011-09-11","2011-09-12","2011-09-13","2011-09-14","2011-09-15","2011-09-16","2011-09-17","2011-09-18","2011-09-19","2011-09-20","2011-09-21","2011-09-22","2011-09-23","2011-09-24","2011-09-25","2011-09-26","2011-09-27","2011-09-28","2011-09-29","2011-09-30","2011-10-01","2011-10-02","2011-10-03","2011-10-04","2011-10-05","2011-10-06","2011-10-07","2011-10-08","2011-10-09","2011-10-10","2011-10-11","2011-10-12","2011-10-13","2011-10-14","2011-10-15","2011-10-16","2011-10-17","2011-10-18","2011-10-19","2011-10-20","2011-10-21","2011-10-22","2011-10-23","2011-10-24","2011-10-25","2011-10-26","2011-10-27","2011-10-28","2011-10-29","2011-10-30","2011-10-31","2011-11-01","2011-11-02","2011-11-03","2011-11-04","2011-11-05","2011-11-06","2011-11-07","2011-11-08","2011-11-09","2011-11-10","2011-11-11","2011-11-12","2011-11-13","2011-11-14","2011-11-15","2011-11-16","2011-11-17","2011-11-18","2011-11-19","2011-11-20","2011-11-21","2011-11-22","2011-11-23","2011-11-24","2011-11-25","2011-11-26","2011-11-27","2011-11-28","2011-11-29","2011-11-30","2011-12-01","2011-12-02","2011-12-03","2011-12-04","2011-12-05","2011-12-06","2011-12-07","2011-12-08","2011-12-09","2011-12-10","2011-12-11","2011-12-12","2011-12-13","2011-12-14","2011-12-15","2011-12-16","2011-12-17","2011-12-18","2011-12-19","2011-12-20","2011-12-21","2011-12-22","2011-12-23","2011-12-24","2011-12-25","2011-12-26","2011-12-27","2011-12-28","2011-12-29","2011-12-30","2011-12-31","2012-01-01","2012-01-02","2012-01-03","2012-01-04","2012-01-05","2012-01-06","2012-01-07","2012-01-08","2012-01-09","2012-01-10","2012-01-11","2012-01-12","2012-01-13","2012-01-14","2012-01-15","2012-01-16","2012-01-17","2012-01-18","2012-01-19","2012-01-20","2012-01-21","2012-01-22","2012-01-23","2012-01-24","2012-01-25","2012-01-26","2012-01-27","2012-01-28","2012-01-29","2012-01-30","2012-01-31","2012-02-01","2012-02-02","2012-02-03","2012-02-04","2012-02-05","2012-02-06","2012-02-07","2012-02-08","2012-02-09","2012-02-10","2012-02-11","2012-02-12","2012-02-13","2012-02-14","2012-02-15","2012-02-16","2012-02-17","2012-02-18","2012-02-19","2012-02-20","2012-02-21","2012-02-22","2012-02-23","2012-02-24","2012-02-25","2012-02-26","2012-02-27","2012-02-28","2012-02-29","2012-03-01","2012-03-02","2012-03-03","2012-03-04","2012-03-05","2012-03-06","2012-03-07","2012-03-08","2012-03-09","2012-03-10","2012-03-11","2012-03-12","2012-03-13","2012-03-14","2012-03-15","2012-03-16","2012-03-17","2012-03-18","2012-03-19","2012-03-20","2012-03-21","2012-03-22","2012-03-23","2012-03-24","2012-03-25","2012-03-26","2012-03-27","2012-03-28","2012-03-29","2012-03-30","2012-03-31","2012-04-01","2012-04-02","2012-04-03","2012-04-04","2012-04-05","2012-04-06","2012-04-07","2012-04-08","2012-04-09","2012-04-10","2012-04-11","2012-04-12","2012-04-13","2012-04-14","2012-04-15","2012-04-16","2012-04-17","2012-04-18","2012-04-19","2012-04-20","2012-04-21","2012-04-22","2012-04-23","2012-04-24","2012-04-25","2012-04-26","2012-04-27","2012-04-28","2012-04-29","2012-04-30","2012-05-01","2012-05-02","2012-05-03","2012-05-04","2012-05-05","2012-05-06","2012-05-07","2012-05-08","2012-05-09","2012-05-10","2012-05-11","2012-05-12","2012-05-13","2012-05-14","2012-05-15","2012-05-16","2012-05-17","2012-05-18","2012-05-19","2012-05-20","2012-05-21","2012-05-22","2012-05-23","2012-05-24","2012-05-25","2012-05-26","2012-05-27","2012-05-28","2012-05-29","2012-05-30","2012-05-31","2012-06-01","2012-06-02","2012-06-03","2012-06-04","2012-06-05","2012-06-06","2012-06-07","2012-06-08","2012-06-09","2012-06-10","2012-06-11","2012-06-12","2012-06-13","2012-06-14","2012-06-15","2012-06-16","2012-06-17","2012-06-18","2012-06-19","2012-06-20","2012-06-21","2012-06-22","2012-06-23","2012-06-24","2012-06-25","2012-06-26","2012-06-27","2012-06-28","2012-06-29","2012-06-30","2012-07-01","2012-07-02","2012-07-03","2012-07-04","2012-07-05","2012-07-06","2012-07-07","2012-07-08","2012-07-09","2012-07-10","2012-07-11","2012-07-12","2012-07-13","2012-07-14","2012-07-15","2012-07-16","2012-07-17","2012-07-18","2012-07-19","2012-07-20","2012-07-21","2012-07-22","2012-07-23","2012-07-24","2012-07-25","2012-07-26","2012-07-27","2012-07-28","2012-07-29","2012-07-30","2012-07-31","2012-08-01","2012-08-02","2012-08-03","2012-08-04","2012-08-05","2012-08-06","2012-08-07","2012-08-08","2012-08-09","2012-08-10","2012-08-11","2012-08-12","2012-08-13","2012-08-14","2012-08-15","2012-08-16","2012-08-17","2012-08-18","2012-08-19","2012-08-20","2012-08-21","2012-08-22","2012-08-23","2012-08-24","2012-08-25","2012-08-26","2012-08-27","2012-08-28","2012-08-29","2012-08-30","2012-08-31","2012-09-01","2012-09-02","2012-09-03","2012-09-04","2012-09-05","2012-09-06","2012-09-07","2012-09-08","2012-09-09","2012-09-10","2012-09-11","2012-09-12","2012-09-13","2012-09-14","2012-09-15","2012-09-16","2012-09-17","2012-09-18","2012-09-19","2012-09-20","2012-09-21","2012-09-22","2012-09-23","2012-09-24","2012-09-25","2012-09-26","2012-09-27","2012-09-28","2012-09-29","2012-09-30","2012-10-01","2012-10-02","2012-10-03","2012-10-04","2012-10-05","2012-10-06","2012-10-07","2012-10-08","2012-10-09","2012-10-10","2012-10-11","2012-10-12","2012-10-13","2012-10-14","2012-10-15","2012-10-16","2012-10-17","2012-10-18","2012-10-19","2012-10-20","2012-10-21","2012-10-22","2012-10-23","2012-10-24","2012-10-25","2012-10-26","2012-10-27","2012-10-28","2012-10-29","2012-10-30","2012-10-31","2012-11-01","2012-11-02","2012-11-03","2012-11-04","2012-11-05","2012-11-06","2012-11-07","2012-11-08","2012-11-09","2012-11-10","2012-11-11","2012-11-12","2012-11-13","2012-11-14","2012-11-15","2012-11-16","2012-11-17","2012-11-18","2012-11-19","2012-11-20","2012-11-21","2012-11-22","2012-11-23","2012-11-24","2012-11-25","2012-11-26","2012-11-27","2012-11-28","2012-11-29","2012-11-30","2012-12-01","2012-12-02","2012-12-03","2012-12-04","2012-12-05","2012-12-06","2012-12-07","2012-12-08","2012-12-09","2012-12-10","2012-12-11","2012-12-12","2012-12-13","2012-12-14","2012-12-15","2012-12-16","2012-12-17","2012-12-18","2012-12-19","2012-12-20","2012-12-21","2012-12-22","2012-12-23","2012-12-24","2012-12-25","2012-12-26","2012-12-27","2012-12-28","2012-12-29","2012-12-30","2012-12-31","2013-01-01","2013-01-02","2013-01-03","2013-01-04","2013-01-05","2013-01-06","2013-01-07","2013-01-08","2013-01-09","2013-01-10","2013-01-11","2013-01-12","2013-01-13","2013-01-14","2013-01-15","2013-01-16","2013-01-17","2013-01-18","2013-01-19","2013-01-20","2013-01-21","2013-01-22","2013-01-23","2013-01-24","2013-01-25","2013-01-26","2013-01-27","2013-01-28","2013-01-29","2013-01-30","2013-01-31","2013-02-01","2013-02-02","2013-02-03","2013-02-04","2013-02-05","2013-02-06","2013-02-07","2013-02-08","2013-02-09","2013-02-10","2013-02-11","2013-02-12","2013-02-13","2013-02-14","2013-02-15","2013-02-16","2013-02-17","2013-02-18","2013-02-19","2013-02-20","2013-02-21","2013-02-22","2013-02-23","2013-02-24","2013-02-25","2013-02-26","2013-02-27","2013-02-28","2013-03-01","2013-03-02","2013-03-03","2013-03-04","2013-03-05","2013-03-06","2013-03-07","2013-03-08","2013-03-09","2013-03-10","2013-03-11","2013-03-12","2013-03-13","2013-03-14","2013-03-15","2013-03-16","2013-03-17","2013-03-18","2013-03-19","2013-03-20","2013-03-21","2013-03-22","2013-03-23","2013-03-24","2013-03-25","2013-03-26","2013-03-27","2013-03-28","2013-03-29","2013-03-30","2013-03-31","2013-04-01","2013-04-02","2013-04-03","2013-04-04","2013-04-05","2013-04-06","2013-04-07","2013-04-08","2013-04-09","2013-04-10","2013-04-11","2013-04-12","2013-04-13","2013-04-14","2013-04-15","2013-04-16","2013-04-17","2013-04-18","2013-04-19","2013-04-20","2013-04-21","2013-04-22","2013-04-23","2013-04-24","2013-04-25","2013-04-26","2013-04-27","2013-04-28","2013-04-29","2013-04-30","2013-05-01","2013-05-02","2013-05-03","2013-05-04","2013-05-05","2013-05-06","2013-05-07","2013-05-08","2013-05-09","2013-05-10","2013-05-11","2013-05-12","2013-05-13","2013-05-14","2013-05-15","2013-05-16","2013-05-17","2013-05-18","2013-05-19","2013-05-20","2013-05-21","2013-05-22","2013-05-23","2013-05-24","2013-05-25","2013-05-26","2013-05-27","2013-05-28","2013-05-29","2013-05-30","2013-05-31","2013-06-01","2013-06-02","2013-06-03","2013-06-04","2013-06-05","2013-06-06","2013-06-07","2013-06-08","2013-06-09","2013-06-10","2013-06-11","2013-06-12","2013-06-13","2013-06-14","2013-06-15","2013-06-16","2013-06-17","2013-06-18","2013-06-19","2013-06-20","2013-06-21","2013-06-22","2013-06-23","2013-06-24","2013-06-25","2013-06-26","2013-06-27","2013-06-28","2013-06-29","2013-06-30","2013-07-01","2013-07-02","2013-07-03","2013-07-04","2013-07-05","2013-07-06","2013-07-07","2013-07-08","2013-07-09","2013-07-10","2013-07-11","2013-07-12","2013-07-13","2013-07-14","2013-07-15","2013-07-16","2013-07-17","2013-07-18","2013-07-19","2013-07-20","2013-07-21","2013-07-22","2013-07-23","2013-07-24","2013-07-25","2013-07-26","2013-07-27","2013-07-28","2013-07-29","2013-07-30","2013-07-31","2013-08-01","2013-08-02","2013-08-03","2013-08-04","2013-08-05","2013-08-06","2013-08-07","2013-08-08","2013-08-09","2013-08-10","2013-08-11","2013-08-12","2013-08-13","2013-08-14","2013-08-15","2013-08-16","2013-08-17","2013-08-18","2013-08-19","2013-08-20","2013-08-21","2013-08-22","2013-08-23","2013-08-24","2013-08-25","2013-08-26","2013-08-27","2013-08-28","2013-08-29","2013-08-30","2013-08-31","2013-09-01","2013-09-02","2013-09-03","2013-09-04","2013-09-05","2013-09-06","2013-09-07","2013-09-08","2013-09-09","2013-09-10","2013-09-11","2013-09-12","2013-09-13","2013-09-14","2013-09-15","2013-09-16","2013-09-17","2013-09-18","2013-09-19","2013-09-20","2013-09-21","2013-09-22","2013-09-23","2013-09-24","2013-09-25","2013-09-26","2013-09-27","2013-09-28","2013-09-29","2013-09-30","2013-10-01","2013-10-02","2013-10-03","2013-10-04","2013-10-05","2013-10-06","2013-10-07","2013-10-08","2013-10-09","2013-10-10","2013-10-11","2013-10-12","2013-10-13","2013-10-14","2013-10-15","2013-10-16","2013-10-17","2013-10-18","2013-10-19","2013-10-20","2013-10-21","2013-10-22","2013-10-23","2013-10-24","2013-10-25","2013-10-26","2013-10-27","2013-10-28","2013-10-29","2013-10-30","2013-10-31","2013-11-01","2013-11-02","2013-11-03","2013-11-04","2013-11-05","2013-11-06","2013-11-07","2013-11-08","2013-11-09","2013-11-10","2013-11-11","2013-11-12","2013-11-13","2013-11-14","2013-11-15","2013-11-16","2013-11-17","2013-11-18","2013-11-19","2013-11-20","2013-11-21","2013-11-22","2013-11-23","2013-11-24","2013-11-25","2013-11-26","2013-11-27","2013-11-28","2013-11-29","2013-11-30","2013-12-01","2013-12-02","2013-12-03","2013-12-04","2013-12-05","2013-12-06","2013-12-07","2013-12-08","2013-12-09","2013-12-10","2013-12-11","2013-12-12","2013-12-13","2013-12-14","2013-12-15","2013-12-16","2013-12-17","2013-12-18","2013-12-19","2013-12-20","2013-12-21","2013-12-22","2013-12-23","2013-12-24","2013-12-25","2013-12-26","2013-12-27","2013-12-28","2013-12-29","2013-12-30","2013-12-31","2014-01-01","2014-01-02","2014-01-03","2014-01-04","2014-01-05","2014-01-06","2014-01-07","2014-01-08","2014-01-09","2014-01-10","2014-01-11","2014-01-12","2014-01-13","2014-01-14","2014-01-15","2014-01-16","2014-01-17","2014-01-18","2014-01-19","2014-01-20","2014-01-21","2014-01-22","2014-01-23","2014-01-24","2014-01-25","2014-01-26","2014-01-27","2014-01-28","2014-01-29","2014-01-30","2014-01-31","2014-02-01","2014-02-02","2014-02-03","2014-02-04","2014-02-05","2014-02-06","2014-02-07","2014-02-08","2014-02-09","2014-02-10","2014-02-11","2014-02-12","2014-02-13","2014-02-14","2014-02-15","2014-02-16","2014-02-17","2014-02-18","2014-02-19","2014-02-20","2014-02-21","2014-02-22","2014-02-23","2014-02-24","2014-02-25","2014-02-26","2014-02-27","2014-02-28","2014-03-01","2014-03-02","2014-03-03","2014-03-04","2014-03-05","2014-03-06","2014-03-07","2014-03-08","2014-03-09","2014-03-10","2014-03-11","2014-03-12","2014-03-13","2014-03-14","2014-03-15","2014-03-16","2014-03-17","2014-03-18","2014-03-19","2014-03-20","2014-03-21","2014-03-22","2014-03-23","2014-03-24","2014-03-25","2014-03-26","2014-03-27","2014-03-28","2014-03-29","2014-03-30","2014-03-31","2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-05","2014-04-06","2014-04-07","2014-04-08","2014-04-09","2014-04-10","2014-04-11","2014-04-12","2014-04-13","2014-04-14","2014-04-15","2014-04-16","2014-04-17","2014-04-18","2014-04-19","2014-04-20","2014-04-21","2014-04-22","2014-04-23","2014-04-24","2014-04-25","2014-04-26","2014-04-27","2014-04-28","2014-04-29","2014-04-30","2014-05-01","2014-05-02","2014-05-03","2014-05-04","2014-05-05","2014-05-06","2014-05-07","2014-05-08","2014-05-09","2014-05-10","2014-05-11","2014-05-12","2014-05-13","2014-05-14","2014-05-15","2014-05-16","2014-05-17","2014-05-18","2014-05-19","2014-05-20","2014-05-21","2014-05-22","2014-05-23","2014-05-24","2014-05-25","2014-05-26","2014-05-27","2014-05-28","2014-05-29","2014-05-30","2014-05-31","2014-06-01","2014-06-02","2014-06-03","2014-06-04","2014-06-05","2014-06-06","2014-06-07","2014-06-08","2014-06-09","2014-06-10","2014-06-11","2014-06-12","2014-06-13","2014-06-14","2014-06-15","2014-06-16","2014-06-17","2014-06-18","2014-06-19","2014-06-20","2014-06-21","2014-06-22","2014-06-23","2014-06-24","2014-06-25","2014-06-26","2014-06-27","2014-06-28","2014-06-29","2014-06-30","2014-07-01","2014-07-02","2014-07-03","2014-07-04","2014-07-05","2014-07-06","2014-07-07","2014-07-08","2014-07-09","2014-07-10","2014-07-11","2014-07-12","2014-07-13","2014-07-14","2014-07-15","2014-07-16","2014-07-17","2014-07-18","2014-07-19","2014-07-20","2014-07-21","2014-07-22","2014-07-23","2014-07-24","2014-07-25","2014-07-26","2014-07-27","2014-07-28","2014-07-29","2014-07-30","2014-07-31","2014-08-01","2014-08-02","2014-08-03","2014-08-04","2014-08-05","2014-08-06","2014-08-07","2014-08-08","2014-08-09","2014-08-10","2014-08-11","2014-08-12","2014-08-13","2014-08-14","2014-08-15","2014-08-16","2014-08-17","2014-08-18","2014-08-19","2014-08-20","2014-08-21","2014-08-22","2014-08-23","2014-08-24","2014-08-25","2014-08-26","2014-08-27","2014-08-28","2014-08-29","2014-08-30","2014-08-31","2014-09-01","2014-09-02","2014-09-03","2014-09-04","2014-09-05","2014-09-06","2014-09-07","2014-09-08","2014-09-09","2014-09-10","2014-09-11","2014-09-12","2014-09-13","2014-09-14","2014-09-15","2014-09-16","2014-09-17","2014-09-18","2014-09-19","2014-09-20","2014-09-21","2014-09-22","2014-09-23","2014-09-24","2014-09-25","2014-09-26","2014-09-27","2014-09-28","2014-09-29","2014-09-30","2014-10-01","2014-10-02","2014-10-03","2014-10-04","2014-10-05","2014-10-06","2014-10-07","2014-10-08","2014-10-09","2014-10-10","2014-10-11","2014-10-12","2014-10-13","2014-10-14","2014-10-15","2014-10-16","2014-10-17","2014-10-18","2014-10-19","2014-10-20","2014-10-21","2014-10-22","2014-10-23","2014-10-24","2014-10-25","2014-10-26","2014-10-27","2014-10-28","2014-10-29","2014-10-30","2014-10-31","2014-11-01","2014-11-02","2014-11-03","2014-11-04","2014-11-05","2014-11-06","2014-11-07","2014-11-08","2014-11-09","2014-11-10","2014-11-11","2014-11-12","2014-11-13","2014-11-14","2014-11-15","2014-11-16","2014-11-17","2014-11-18","2014-11-19","2014-11-20","2014-11-21","2014-11-22","2014-11-23","2014-11-24","2014-11-25","2014-11-26","2014-11-27","2014-11-28","2014-11-29","2014-11-30","2014-12-01","2014-12-02","2014-12-03","2014-12-04","2014-12-05","2014-12-06","2014-12-07","2014-12-08","2014-12-09","2014-12-10","2014-12-11","2014-12-12","2014-12-13","2014-12-14","2014-12-15","2014-12-16","2014-12-17","2014-12-18","2014-12-19","2014-12-20","2014-12-21","2014-12-22","2014-12-23","2014-12-24","2014-12-25","2014-12-26","2014-12-27","2014-12-28","2014-12-29","2014-12-30","2014-12-31","2015-01-01","2015-01-02","2015-01-03","2015-01-04","2015-01-05","2015-01-06","2015-01-07","2015-01-08","2015-01-09","2015-01-10","2015-01-11","2015-01-12","2015-01-13","2015-01-14","2015-01-15","2015-01-16","2015-01-17","2015-01-18","2015-01-19","2015-01-20","2015-01-21","2015-01-22","2015-01-23","2015-01-24","2015-01-25","2015-01-26","2015-01-27","2015-01-28","2015-01-29","2015-01-30","2015-01-31","2015-02-01","2015-02-02","2015-02-03","2015-02-04","2015-02-05","2015-02-06","2015-02-07","2015-02-08","2015-02-09","2015-02-10","2015-02-11","2015-02-12","2015-02-13","2015-02-14","2015-02-15","2015-02-16","2015-02-17","2015-02-18","2015-02-19","2015-02-20","2015-02-21","2015-02-22","2015-02-23","2015-02-24","2015-02-25","2015-02-26","2015-02-27","2015-02-28","2015-03-01","2015-03-02","2015-03-03","2015-03-04","2015-03-05","2015-03-06","2015-03-07","2015-03-08","2015-03-09","2015-03-10","2015-03-11","2015-03-12","2015-03-13","2015-03-14","2015-03-15","2015-03-16","2015-03-17","2015-03-18","2015-03-19","2015-03-20","2015-03-21","2015-03-22","2015-03-23","2015-03-24","2015-03-25","2015-03-26","2015-03-27","2015-03-28","2015-03-29","2015-03-30","2015-03-31","2015-04-01","2015-04-02","2015-04-03","2015-04-04","2015-04-05","2015-04-06","2015-04-07","2015-04-08","2015-04-09","2015-04-10","2015-04-11","2015-04-12","2015-04-13","2015-04-14","2015-04-15","2015-04-16","2015-04-17","2015-04-18","2015-04-19","2015-04-20","2015-04-21","2015-04-22","2015-04-23","2015-04-24","2015-04-25","2015-04-26","2015-04-27","2015-04-28","2015-04-29","2015-04-30","2015-05-01","2015-05-02","2015-05-03","2015-05-04","2015-05-05","2015-05-06","2015-05-07","2015-05-08","2015-05-09","2015-05-10","2015-05-11","2015-05-12","2015-05-13","2015-05-14","2015-05-15","2015-05-16","2015-05-17","2015-05-18","2015-05-19","2015-05-20","2015-05-21","2015-05-22","2015-05-23","2015-05-24","2015-05-25","2015-05-26","2015-05-27","2015-05-28","2015-05-29","2015-05-30","2015-05-31","2015-06-01","2015-06-02","2015-06-03","2015-06-04","2015-06-05","2015-06-06","2015-06-07","2015-06-08","2015-06-09","2015-06-10","2015-06-11","2015-06-12","2015-06-13","2015-06-14","2015-06-15","2015-06-16","2015-06-17","2015-06-18","2015-06-19","2015-06-20","2015-06-21","2015-06-22","2015-06-23","2015-06-24","2015-06-25","2015-06-26","2015-06-27","2015-06-28","2015-06-29","2015-06-30","2015-07-01","2015-07-02","2015-07-03","2015-07-04","2015-07-05","2015-07-06","2015-07-07","2015-07-08","2015-07-09","2015-07-10","2015-07-11","2015-07-12","2015-07-13","2015-07-14","2015-07-15","2015-07-16","2015-07-17","2015-07-18","2015-07-19","2015-07-20","2015-07-21","2015-07-22","2015-07-23","2015-07-24","2015-07-25","2015-07-26","2015-07-27","2015-07-28","2015-07-29","2015-07-30","2015-07-31","2015-08-01","2015-08-02","2015-08-03","2015-08-04","2015-08-05","2015-08-06","2015-08-07","2015-08-08","2015-08-09","2015-08-10","2015-08-11","2015-08-12","2015-08-13","2015-08-14","2015-08-15","2015-08-16","2015-08-17","2015-08-18","2015-08-19","2015-08-20","2015-08-21","2015-08-22","2015-08-23","2015-08-24","2015-08-25","2015-08-26","2015-08-27","2015-08-28","2015-08-29","2015-08-30","2015-08-31","2015-09-01","2015-09-02","2015-09-03","2015-09-04","2015-09-05","2015-09-06","2015-09-07","2015-09-08","2015-09-09","2015-09-10","2015-09-11","2015-09-12","2015-09-13","2015-09-14","2015-09-15","2015-09-16","2015-09-17","2015-09-18","2015-09-19","2015-09-20","2015-09-21","2015-09-22","2015-09-23","2015-09-24","2015-09-25","2015-09-26","2015-09-27","2015-09-28","2015-09-29","2015-09-30","2015-10-01","2015-10-02","2015-10-03","2015-10-04","2015-10-05","2015-10-06","2015-10-07","2015-10-08","2015-10-09","2015-10-10","2015-10-11","2015-10-12","2015-10-13","2015-10-14","2015-10-15","2015-10-16","2015-10-17","2015-10-18","2015-10-19","2015-10-20","2015-10-21","2015-10-22","2015-10-23","2015-10-24","2015-10-25","2015-10-26","2015-10-27","2015-10-28","2015-10-29","2015-10-30","2015-10-31","2015-11-01","2015-11-02","2015-11-03","2015-11-04","2015-11-05","2015-11-06","2015-11-07","2015-11-08","2015-11-09","2015-11-10","2015-11-11","2015-11-12","2015-11-13","2015-11-14","2015-11-15","2015-11-16","2015-11-17","2015-11-18","2015-11-19","2015-11-20","2015-11-21","2015-11-22","2015-11-23","2015-11-24","2015-11-25","2015-11-26","2015-11-27","2015-11-28","2015-11-29","2015-11-30","2015-12-01","2015-12-02","2015-12-03","2015-12-04","2015-12-05","2015-12-06","2015-12-07","2015-12-08","2015-12-09","2015-12-10","2015-12-11","2015-12-12","2015-12-13","2015-12-14","2015-12-15","2015-12-16","2015-12-17","2015-12-18","2015-12-19","2015-12-20","2015-12-21","2015-12-22","2015-12-23","2015-12-24","2015-12-25","2015-12-26","2015-12-27","2015-12-28","2015-12-29","2015-12-30","2015-12-31","2016-01-01","2016-01-02","2016-01-03","2016-01-04","2016-01-05","2016-01-06","2016-01-07","2016-01-08","2016-01-09","2016-01-10","2016-01-11","2016-01-12","2016-01-13","2016-01-14","2016-01-15","2016-01-16","2016-01-17","2016-01-18","2016-01-19","2016-01-20","2016-01-21","2016-01-22","2016-01-23","2016-01-24","2016-01-25","2016-01-26","2016-01-27","2016-01-28","2016-01-29","2016-01-30","2016-01-31","2016-02-01","2016-02-02","2016-02-03","2016-02-04","2016-02-05","2016-02-06","2016-02-07","2016-02-08","2016-02-09","2016-02-10","2016-02-11","2016-02-12","2016-02-13","2016-02-14","2016-02-15","2016-02-16","2016-02-17","2016-02-18","2016-02-19","2016-02-20","2016-02-21","2016-02-22","2016-02-23","2016-02-24","2016-02-25","2016-02-26","2016-02-27","2016-02-28","2016-02-29","2016-03-01","2016-03-02","2016-03-03","2016-03-04","2016-03-05","2016-03-06","2016-03-07","2016-03-08","2016-03-09","2016-03-10","2016-03-11","2016-03-12","2016-03-13","2016-03-14","2016-03-15","2016-03-16","2016-03-17","2016-03-18","2016-03-19","2016-03-20","2016-03-21","2016-03-22","2016-03-23","2016-03-24","2016-03-25","2016-03-26","2016-03-27","2016-03-28","2016-03-29","2016-03-30","2016-03-31","2016-04-01","2016-04-02","2016-04-03","2016-04-04","2016-04-05","2016-04-06","2016-04-07","2016-04-08","2016-04-09","2016-04-10","2016-04-11","2016-04-12","2016-04-13","2016-04-14","2016-04-15","2016-04-16","2016-04-17","2016-04-18","2016-04-19","2016-04-20","2016-04-21","2016-04-22","2016-04-23","2016-04-24","2016-04-25","2016-04-26","2016-04-27","2016-04-28","2016-04-29","2016-04-30","2016-05-01","2016-05-02","2016-05-03","2016-05-04","2016-05-05","2016-05-06","2016-05-07","2016-05-08","2016-05-09","2016-05-10","2016-05-11","2016-05-12","2016-05-13","2016-05-14","2016-05-15","2016-05-16","2016-05-17","2016-05-18","2016-05-19","2016-05-20","2016-05-21","2016-05-22","2016-05-23","2016-05-24","2016-05-25","2016-05-26","2016-05-27","2016-05-28","2016-05-29","2016-05-30","2016-05-31","2016-06-01","2016-06-02","2016-06-03","2016-06-04","2016-06-05","2016-06-06","2016-06-07","2016-06-08","2016-06-09","2016-06-10","2016-06-11","2016-06-12","2016-06-13","2016-06-14","2016-06-15","2016-06-16","2016-06-17","2016-06-18","2016-06-19","2016-06-20","2016-06-21","2016-06-22","2016-06-23","2016-06-24","2016-06-25","2016-06-26","2016-06-27","2016-06-28","2016-06-29","2016-06-30","2016-07-01","2016-07-02","2016-07-03","2016-07-04","2016-07-05","2016-07-06","2016-07-07","2016-07-08","2016-07-09","2016-07-10","2016-07-11","2016-07-12","2016-07-13","2016-07-14","2016-07-15","2016-07-16","2016-07-17","2016-07-18","2016-07-19","2016-07-20","2016-07-21","2016-07-22","2016-07-23","2016-07-24","2016-07-25","2016-07-26","2016-07-27","2016-07-28","2016-07-29","2016-07-30","2016-07-31","2016-08-01","2016-08-02","2016-08-03","2016-08-04","2016-08-05","2016-08-06","2016-08-07","2016-08-08","2016-08-09","2016-08-10","2016-08-11","2016-08-12","2016-08-13","2016-08-14","2016-08-15","2016-08-16","2016-08-17","2016-08-18","2016-08-19","2016-08-20","2016-08-21","2016-08-22","2016-08-23","2016-08-24","2016-08-25","2016-08-26","2016-08-27","2016-08-28","2016-08-29","2016-08-30","2016-08-31","2016-09-01","2016-09-02","2016-09-03","2016-09-04","2016-09-05","2016-09-06","2016-09-07","2016-09-08","2016-09-09","2016-09-10","2016-09-11","2016-09-12","2016-09-13","2016-09-14","2016-09-15","2016-09-16","2016-09-17","2016-09-18","2016-09-19","2016-09-20","2016-09-21","2016-09-22","2016-09-23","2016-09-24","2016-09-25","2016-09-26","2016-09-27","2016-09-28","2016-09-29","2016-09-30","2016-10-01","2016-10-02","2016-10-03","2016-10-04","2016-10-05","2016-10-06","2016-10-07","2016-10-08","2016-10-09","2016-10-10","2016-10-11","2016-10-12","2016-10-13","2016-10-14","2016-10-15","2016-10-16","2016-10-17","2016-10-18","2016-10-19","2016-10-20","2016-10-21","2016-10-22","2016-10-23","2016-10-24","2016-10-25","2016-10-26","2016-10-27","2016-10-28","2016-10-29","2016-10-30","2016-10-31","2016-11-01","2016-11-02","2016-11-03","2016-11-04","2016-11-05","2016-11-06","2016-11-07","2016-11-08","2016-11-09","2016-11-10","2016-11-11","2016-11-12","2016-11-13","2016-11-14","2016-11-15","2016-11-16","2016-11-17","2016-11-18","2016-11-19","2016-11-20","2016-11-21","2016-11-22","2016-11-23","2016-11-24","2016-11-25","2016-11-26","2016-11-27","2016-11-28","2016-11-29","2016-11-30","2016-12-01","2016-12-02","2016-12-03","2016-12-04","2016-12-05","2016-12-06","2016-12-07","2016-12-08","2016-12-09","2016-12-10","2016-12-11","2016-12-12","2016-12-13","2016-12-14","2016-12-15","2016-12-16","2016-12-17","2016-12-18","2016-12-19","2016-12-20","2016-12-21","2016-12-22","2016-12-23","2016-12-24","2016-12-25","2016-12-26","2016-12-27","2016-12-28","2016-12-29","2016-12-30","2016-12-31","2017-01-01","2017-01-02","2017-01-03","2017-01-04","2017-01-05","2017-01-06","2017-01-07","2017-01-08","2017-01-09","2017-01-10","2017-01-11","2017-01-12","2017-01-13","2017-01-14","2017-01-15","2017-01-16","2017-01-17","2017-01-18","2017-01-19","2017-01-20","2017-01-21","2017-01-22","2017-01-23","2017-01-24","2017-01-25","2017-01-26","2017-01-27","2017-01-28","2017-01-29","2017-01-30","2017-01-31","2017-02-01","2017-02-02","2017-02-03","2017-02-04","2017-02-05","2017-02-06","2017-02-07","2017-02-08","2017-02-09","2017-02-10","2017-02-11","2017-02-12","2017-02-13","2017-02-14","2017-02-15","2017-02-16","2017-02-17","2017-02-18","2017-02-19","2017-02-20","2017-02-21","2017-02-22","2017-02-23","2017-02-24","2017-02-25","2017-02-26","2017-02-27","2017-02-28","2017-03-01","2017-03-02","2017-03-03","2017-03-04","2017-03-05","2017-03-06","2017-03-07","2017-03-08","2017-03-09","2017-03-10","2017-03-11","2017-03-12","2017-03-13","2017-03-14","2017-03-15","2017-03-16","2017-03-17","2017-03-18","2017-03-19","2017-03-20","2017-03-21","2017-03-22","2017-03-23","2017-03-24","2017-03-25","2017-03-26","2017-03-27","2017-03-28","2017-03-29","2017-03-30","2017-03-31","2017-04-01","2017-04-02","2017-04-03","2017-04-04","2017-04-05","2017-04-06","2017-04-07","2017-04-08","2017-04-09","2017-04-10","2017-04-11","2017-04-12","2017-04-13","2017-04-14","2017-04-15","2017-04-16","2017-04-17","2017-04-18","2017-04-19","2017-04-20","2017-04-21","2017-04-22","2017-04-23","2017-04-24","2017-04-25","2017-04-26","2017-04-27","2017-04-28","2017-04-29","2017-04-30","2017-05-01","2017-05-02","2017-05-03","2017-05-04","2017-05-05","2017-05-06","2017-05-07","2017-05-08","2017-05-09","2017-05-10","2017-05-11","2017-05-12","2017-05-13","2017-05-14","2017-05-15","2017-05-16","2017-05-17","2017-05-18","2017-05-19","2017-05-20","2017-05-21","2017-05-22","2017-05-23","2017-05-24","2017-05-25","2017-05-26","2017-05-27","2017-05-28","2017-05-29","2017-05-30","2017-05-31","2017-06-01","2017-06-02","2017-06-03","2017-06-04","2017-06-05","2017-06-06","2017-06-07","2017-06-08","2017-06-09","2017-06-10","2017-06-11","2017-06-12","2017-06-13","2017-06-14","2017-06-15","2017-06-16","2017-06-17","2017-06-18","2017-06-19","2017-06-20","2017-06-21","2017-06-22","2017-06-23","2017-06-24","2017-06-25","2017-06-26","2017-06-27","2017-06-28","2017-06-29","2017-06-30","2017-07-01","2017-07-02","2017-07-03","2017-07-04","2017-07-05","2017-07-06","2017-07-07","2017-07-08","2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15","2017-07-16","2017-07-17","2017-07-18","2017-07-19","2017-07-20","2017-07-21","2017-07-22","2017-07-23","2017-07-24","2017-07-25","2017-07-26","2017-07-27","2017-07-28","2017-07-29","2017-07-30","2017-07-31","2017-08-01","2017-08-02","2017-08-03","2017-08-04","2017-08-05","2017-08-06","2017-08-07","2017-08-08","2017-08-09","2017-08-10","2017-08-11","2017-08-12","2017-08-13","2017-08-14","2017-08-15","2017-08-16","2017-08-17","2017-08-18","2017-08-19","2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26","2017-08-27","2017-08-28","2017-08-29","2017-08-30","2017-08-31","2017-09-01","2017-09-02","2017-09-03","2017-09-04","2017-09-05","2017-09-06","2017-09-07","2017-09-08","2017-09-09","2017-09-10","2017-09-11","2017-09-12","2017-09-13","2017-09-14","2017-09-15","2017-09-16","2017-09-17","2017-09-18","2017-09-19","2017-09-20","2017-09-21","2017-09-22","2017-09-23","2017-09-24","2017-09-25","2017-09-26","2017-09-27","2017-09-28","2017-09-29","2017-09-30","2017-10-01","2017-10-02","2017-10-03","2017-10-04","2017-10-05","2017-10-06","2017-10-07","2017-10-08","2017-10-09","2017-10-10","2017-10-11","2017-10-12","2017-10-13","2017-10-14","2017-10-15","2017-10-16","2017-10-17","2017-10-18","2017-10-19","2017-10-20","2017-10-21","2017-10-22","2017-10-23","2017-10-24","2017-10-25","2017-10-26","2017-10-27","2017-10-28","2017-10-29","2017-10-30","2017-10-31","2017-11-01","2017-11-02","2017-11-03","2017-11-04","2017-11-05","2017-11-06","2017-11-07","2017-11-08","2017-11-09","2017-11-10","2017-11-11","2017-11-12","2017-11-13","2017-11-14","2017-11-15","2017-11-16","2017-11-17","2017-11-18","2017-11-19","2017-11-20","2017-11-21","2017-11-22","2017-11-23","2017-11-24","2017-11-25","2017-11-26","2017-11-27","2017-11-28","2017-11-29","2017-11-30","2017-12-01","2017-12-02","2017-12-03","2017-12-04","2017-12-05","2017-12-06","2017-12-07","2017-12-08","2017-12-09","2017-12-10","2017-12-11","2017-12-12","2017-12-13","2017-12-14","2017-12-15","2017-12-16","2017-12-17","2017-12-18","2017-12-19","2017-12-20","2017-12-21","2017-12-22","2017-12-23","2017-12-24","2017-12-25","2017-12-26","2017-12-27","2017-12-28","2017-12-29","2017-12-30","2017-12-31","2018-01-01","2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-06","2018-01-07","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-13","2018-01-14","2018-01-15","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-20","2018-01-21","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-27","2018-01-28","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-03","2018-02-04","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-10","2018-02-11","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-17","2018-02-18","2018-02-19","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-24","2018-02-25","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-03","2018-03-04","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-10","2018-03-11","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-17","2018-03-18","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-24","2018-03-25","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-03-30","2018-03-31","2018-04-01","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-07","2018-04-08","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-14","2018-04-15","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-21","2018-04-22","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-28","2018-04-29","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-05","2018-05-06","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-12","2018-05-13","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-19","2018-05-20","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-26","2018-05-27","2018-05-28","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-02","2018-06-03","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-09","2018-06-10","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-16","2018-06-17","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-23","2018-06-24","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-06-30","2018-07-01","2018-07-02","2018-07-03","2018-07-04","2018-07-05","2018-07-06","2018-07-07","2018-07-08","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-14","2018-07-15","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-21","2018-07-22","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-28","2018-07-29","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-04","2018-08-05","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-11","2018-08-12","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-18","2018-08-19","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-25","2018-08-26","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-01","2018-09-02","2018-09-03","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-08","2018-09-09","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-15","2018-09-16","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-22","2018-09-23","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-09-29","2018-09-30","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-06","2018-10-07","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-13","2018-10-14","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-20","2018-10-21","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-27","2018-10-28","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-03","2018-11-04","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-10","2018-11-11","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-17","2018-11-18","2018-11-19","2018-11-20","2018-11-21","2018-11-22","2018-11-23","2018-11-24","2018-11-25","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-01","2018-12-02","2018-12-03","2018-12-04","2018-12-05","2018-12-06","2018-12-07","2018-12-08","2018-12-09","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-15","2018-12-16","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-22","2018-12-23","2018-12-24","2018-12-25","2018-12-26","2018-12-27","2018-12-28","2018-12-29","2018-12-30","2018-12-31","2019-01-01","2019-01-02","2019-01-03","2019-01-04","2019-01-05","2019-01-06","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-12","2019-01-13","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-19","2019-01-20","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-26","2019-01-27","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-02","2019-02-03","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-09","2019-02-10","2019-02-11","2019-02-12","2019-02-13","2019-02-14","2019-02-15","2019-02-16","2019-02-17","2019-02-18","2019-02-19","2019-02-20","2019-02-21","2019-02-22","2019-02-23","2019-02-24","2019-02-25","2019-02-26","2019-02-27","2019-02-28","2019-03-01","2019-03-02","2019-03-03","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-09","2019-03-10","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-16","2019-03-17","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-23","2019-03-24","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-03-30","2019-03-31","2019-04-01","2019-04-02","2019-04-03","2019-04-04","2019-04-05","2019-04-06","2019-04-07","2019-04-08","2019-04-09","2019-04-10","2019-04-11","2019-04-12","2019-04-13","2019-04-14","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-19","2019-04-20","2019-04-21","2019-04-22","2019-04-23","2019-04-24","2019-04-25","2019-04-26","2019-04-27","2019-04-28","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-04","2019-05-05","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07","2019-06-08","2019-06-09","2019-06-10","2019-06-11","2019-06-12","2019-06-13","2019-06-14","2019-06-15","2019-06-16","2019-06-17","2019-06-18","2019-06-19","2019-06-20","2019-06-21","2019-06-22","2019-06-23","2019-06-24","2019-06-25","2019-06-26","2019-06-27","2019-06-28","2019-06-29","2019-06-30","2019-07-01","2019-07-02","2019-07-03","2019-07-04","2019-07-05","2019-07-06","2019-07-07","2019-07-08","2019-07-09","2019-07-10","2019-07-11","2019-07-12","2019-07-13","2019-07-14","2019-07-15","2019-07-16","2019-07-17","2019-07-18","2019-07-19","2019-07-20","2019-07-21","2019-07-22","2019-07-23","2019-07-24","2019-07-25","2019-07-26","2019-07-27","2019-07-28","2019-07-29","2019-07-30","2019-07-31","2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25","2020-09-26","2020-09-27","2020-09-28","2020-09-29","2020-09-30","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08","2020-10-09","2020-10-10","2020-10-11","2020-10-12","2020-10-13","2020-10-14","2020-10-15","2020-10-16","2020-10-17","2020-10-18","2020-10-19","2020-10-20","2020-10-21","2020-10-22","2020-10-23","2020-10-24","2020-10-25","2020-10-26","2020-10-27","2020-10-28","2020-10-29","2020-10-30","2020-10-31","2020-11-01","2020-11-02","2020-11-03","2020-11-04","2020-11-05","2020-11-06","2020-11-07","2020-11-08","2020-11-09","2020-11-10","2020-11-11","2020-11-12","2020-11-13","2020-11-14","2020-11-15","2020-11-16","2020-11-17","2020-11-18","2020-11-19","2020-11-20","2020-11-21","2020-11-22","2020-11-23","2020-11-24","2020-11-25","2020-11-26","2020-11-27","2020-11-28","2020-11-29","2020-11-30","2020-12-01","2020-12-02","2020-12-03","2020-12-04","2020-12-05","2020-12-06","2020-12-07","2020-12-08","2020-12-09","2020-12-10","2020-12-11","2020-12-12","2020-12-13","2020-12-14","2020-12-15","2020-12-16","2020-12-17","2020-12-18","2020-12-19","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06","2021-03-07","2021-03-08","2021-03-09","2021-03-10","2021-03-11","2021-03-12","2021-03-13","2021-03-14","2021-03-15","2021-03-16","2021-03-17","2021-03-18","2021-03-19","2021-03-20","2021-03-21","2021-03-22","2021-03-23","2021-03-24","2021-03-25","2021-03-26","2021-03-27","2021-03-28","2021-03-29","2021-03-30","2021-03-31","2021-04-01","2021-04-02","2021-04-03","2021-04-04","2021-04-05","2021-04-06","2021-04-07","2021-04-08","2021-04-09","2021-04-10","2021-04-11","2021-04-12","2021-04-13","2021-04-14","2021-04-15","2021-04-16","2021-04-17","2021-04-18","2021-04-19","2021-04-20","2021-04-21","2021-04-22","2021-04-23","2021-04-24","2021-04-25","2021-04-26","2021-04-27","2021-04-28","2021-04-29","2021-04-30","2021-05-01","2021-05-02","2021-05-03","2021-05-04","2021-05-05","2021-05-06","2021-05-07","2021-05-08","2021-05-09","2021-05-10","2021-05-11","2021-05-12","2021-05-13","2021-05-14","2021-05-15","2021-05-16","2021-05-17","2021-05-18","2021-05-19","2021-05-20","2021-05-21","2021-05-22","2021-05-23","2021-05-24","2021-05-25","2021-05-26","2021-05-27","2021-05-28","2021-05-29","2021-05-30","2021-05-31","2021-06-01","2021-06-02","2021-06-03","2021-06-04","2021-06-05","2021-06-06","2021-06-07","2021-06-08","2021-06-09","2021-06-10","2021-06-11","2021-06-12","2021-06-13","2021-06-14","2021-06-15","2021-06-16","2021-06-17","2021-06-18","2021-06-19","2021-06-20","2021-06-21","2021-06-22","2021-06-23","2021-06-24","2021-06-25","2021-06-26","2021-06-27","2021-06-28","2021-06-29","2021-06-30","2021-07-01","2021-07-02","2021-07-03","2021-07-04","2021-07-05","2021-07-06","2021-07-07","2021-07-08","2021-07-09","2021-07-10","2021-07-11","2021-07-12","2021-07-13","2021-07-14","2021-07-15","2021-07-16","2021-07-17","2021-07-18","2021-07-19","2021-07-20","2021-07-21","2021-07-22","2021-07-23","2021-07-24","2021-07-25","2021-07-26","2021-07-27","2021-07-28","2021-07-29","2021-07-30","2021-07-31","2021-08-01","2021-08-02","2021-08-03","2021-08-04","2021-08-05","2021-08-06","2021-08-07","2021-08-08","2021-08-09","2021-08-10","2021-08-11","2021-08-12","2021-08-13","2021-08-14","2021-08-15","2021-08-16","2021-08-17","2021-08-18","2021-08-19","2021-08-20","2021-08-21","2021-08-22","2021-08-23","2021-08-24","2021-08-25","2021-08-26","2021-08-27","2021-08-28","2021-08-29","2021-08-30","2021-08-31","2021-09-01","2021-09-02","2021-09-03","2021-09-04","2021-09-05","2021-09-06","2021-09-07","2021-09-08","2021-09-09","2021-09-10","2021-09-11","2021-09-12","2021-09-13","2021-09-14","2021-09-15","2021-09-16","2021-09-17","2021-09-18","2021-09-19","2021-09-20","2021-09-21","2021-09-22","2021-09-23","2021-09-24","2021-09-25","2021-09-26","2021-09-27","2021-09-28","2021-09-29","2021-09-30","2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07","2021-10-08","2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26","2021-11-27","2021-11-28","2021-11-29","2021-11-30","2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07","2021-12-08","2021-12-09","2021-12-10","2021-12-11","2021-12-12","2021-12-13","2021-12-14","2021-12-15","2021-12-16","2021-12-17","2021-12-18","2021-12-19","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-01-21","2022-01-22","2022-01-23","2022-01-24","2022-01-25","2022-01-26","2022-01-27","2022-01-28","2022-01-29","2022-01-30","2022-01-31","2022-02-01","2022-02-02","2022-02-03","2022-02-04","2022-02-05","2022-02-06","2022-02-07","2022-02-08","2022-02-09","2022-02-10","2022-02-11","2022-02-12","2022-02-13","2022-02-14","2022-02-15","2022-02-16","2022-02-17","2022-02-18","2022-02-19","2022-02-20","2022-02-21","2022-02-22","2022-02-23","2022-02-24","2022-02-25","2022-02-26","2022-02-27","2022-02-28","2022-03-01","2022-03-02","2022-03-03","2022-03-04","2022-03-05","2022-03-06","2022-03-07","2022-03-08","2022-03-09","2022-03-10","2022-03-11","2022-03-12","2022-03-13","2022-03-14","2022-03-15","2022-03-16","2022-03-17","2022-03-18","2022-03-19","2022-03-20","2022-03-21","2022-03-22","2022-03-23","2022-03-24","2022-03-25","2022-03-26","2022-03-27","2022-03-28","2022-03-29","2022-03-30","2022-03-31","2022-04-01","2022-04-02","2022-04-03","2022-04-04","2022-04-05","2022-04-06","2022-04-07","2022-04-08","2022-04-09","2022-04-10","2022-04-11","2022-04-12","2022-04-13","2022-04-14","2022-04-15","2022-04-16","2022-04-17","2022-04-18","2022-04-19","2022-04-20","2022-04-21","2022-04-22","2022-04-23","2022-04-24","2022-04-25","2022-04-26","2022-04-27","2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17","2022-05-18","2022-05-19","2022-05-20","2022-05-21","2022-05-22","2022-05-23","2022-05-24","2022-05-25","2022-05-26","2022-05-27","2022-05-28","2022-05-29","2022-05-30","2022-05-31","2022-06-01","2022-06-02","2022-06-03","2022-06-04","2022-06-05","2022-06-06","2022-06-07","2022-06-08","2022-06-09","2022-06-10","2022-06-11","2022-06-12","2022-06-13","2022-06-14","2022-06-15","2022-06-16","2022-06-17","2022-06-18","2022-06-19","2022-06-20","2022-06-21","2022-06-22","2022-06-23","2022-06-24","2022-06-25","2022-06-26","2022-06-27","2022-06-28","2022-06-29","2022-06-30","2022-07-01","2022-07-02","2022-07-03","2022-07-04","2022-07-05","2022-07-06","2022-07-07","2022-07-08","2022-07-09","2022-07-10","2022-07-11","2022-07-12","2022-07-13","2022-07-14","2022-07-15","2022-07-16","2022-07-17","2022-07-18","2022-07-19","2022-07-20","2022-07-21","2022-07-22","2022-07-23","2022-07-24","2022-07-25","2022-07-26","2022-07-27","2022-07-28","2022-07-29","2022-07-30","2022-07-31","2022-08-01","2022-08-02","2022-08-03","2022-08-04","2022-08-05","2022-08-06","2022-08-07","2022-08-08","2022-08-09","2022-08-10","2022-08-11","2022-08-12","2022-08-13","2022-08-14","2022-08-15","2022-08-16","2022-08-17","2022-08-18","2022-08-19","2022-08-20","2022-08-21","2022-08-22","2022-08-23","2022-08-24","2022-08-25","2022-08-26","2022-08-27","2022-08-28","2022-08-29","2022-08-30","2022-08-31","2022-09-01","2022-09-02","2022-09-03","2022-09-04","2022-09-05","2022-09-06","2022-09-07","2022-09-08","2022-09-09","2022-09-10","2022-09-11","2022-09-12","2022-09-13","2022-09-14","2022-09-15","2022-09-16","2022-09-17","2022-09-18","2022-09-19","2022-09-20","2022-09-21","2022-09-22","2022-09-23","2022-09-24","2022-09-25","2022-09-26","2022-09-27","2022-09-28","2022-09-29","2022-09-30","2022-10-01","2022-10-02","2022-10-03","2022-10-04","2022-10-05","2022-10-06","2022-10-07","2022-10-08","2022-10-09","2022-10-10","2022-10-11","2022-10-12","2022-10-13","2022-10-14","2022-10-15","2022-10-16","2022-10-17","2022-10-18","2022-10-19","2022-10-20","2022-10-21","2022-10-22","2022-10-23","2022-10-24","2022-10-25","2022-10-26","2022-10-27","2022-10-28","2022-10-29","2022-10-30","2022-10-31","2022-11-01","2022-11-02","2022-11-03","2022-11-04","2022-11-05","2022-11-06","2022-11-07","2022-11-08","2022-11-09","2022-11-10","2022-11-11","2022-11-12","2022-11-13","2022-11-14","2022-11-15","2022-11-16","2022-11-17","2022-11-18","2022-11-19","2022-11-20","2022-11-21","2022-11-22","2022-11-23","2022-11-24","2022-11-25","2022-11-26","2022-11-27","2022-11-28","2022-11-29","2022-11-30","2022-12-01","2022-12-02","2022-12-03","2022-12-04","2022-12-05","2022-12-06","2022-12-07","2022-12-08","2022-12-09","2022-12-10","2022-12-11","2022-12-12","2022-12-13","2022-12-14","2022-12-15","2022-12-16","2022-12-17","2022-12-18","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09"],"y":[0.3732,0.37314,0.37308,0.37302,0.37297,0.37292,0.37287,0.37282,0.37278,0.37273,0.37269,0.37265,0.37261,0.37258,0.37254,0.37251,0.37248,0.37245,0.37242,0.37239,0.37236,0.37234,0.37231,0.37229,0.37227,0.37225,0.37223,0.37222,0.37222,0.37222,0.37223,0.37224,0.37225,0.37226,0.37228,0.3723,0.37232,0.37235,0.37238,0.37241,0.37244,0.37246,0.37249,0.37251,0.37253,0.37256,0.37258,0.37261,0.37265,0.37269,0.37273,0.37278,0.37283,0.37288,0.37294,0.373,0.37306,0.37312,0.37318,0.37325,0.37332,0.37339,0.37346,0.37353,0.3733,0.3726,0.37163,0.37056,0.36958,0.36889,0.36804,0.36664,0.36497,0.36328,0.36184,0.36091,0.36032,0.35976,0.35925,0.35882,0.35848,0.35827,0.35822,0.35834,0.35866,0.35905,0.35937,0.35968,0.36004,0.36051,0.36113,0.36186,0.36259,0.36331,0.36402,0.36471,0.36539,0.36595,0.36636,0.36668,0.36696,0.36726,0.36765,0.36789,0.36784,0.36765,0.36751,0.36758,0.36803,0.36858,0.36896,0.3693,0.36975,0.37047,0.3716,0.37304,0.37459,0.37627,0.37808,0.38003,0.38212,0.38452,0.3873,0.39039,0.39369,0.39713,0.40063,0.40409,0.40743,0.41058,0.41399,0.41797,0.42222,0.42644,0.43035,0.43365,0.43677,0.44021,0.44374,0.44711,0.4501,0.45247,0.45432,0.45591,0.45727,0.45841,0.45937,0.46016,0.46081,0.46133,0.46175,0.46177,0.46123,0.46035,0.45937,0.45851,0.458,0.45744,0.45642,0.45514,0.45383,0.45268,0.45191,0.45141,0.45095,0.45052,0.45012,0.44973,0.44937,0.44901,0.44867,0.44833,0.4481,0.44804,0.44807,0.44811,0.44807,0.44788,0.44751,0.44701,0.44644,0.44587,0.44535,0.44494,0.44456,0.44411,0.44363,0.44314,0.44269,0.44232,0.44202,0.44176,0.44153,0.44132,0.44111,0.44088,0.44067,0.44051,0.44039,0.44027,0.44015,0.43999,0.43984,0.43974,0.43968,0.4396,0.4395,0.43933,0.43909,0.43879,0.43845,0.43808,0.4377,0.43732,0.43696,0.43662,0.43633,0.43606,0.43577,0.43549,0.43521,0.43497,0.43476,0.43456,0.43434,0.43411,0.43389,0.43371,0.43358,0.43352,0.43351,0.43355,0.43363,0.43373,0.43384,0.43395,0.43405,0.43414,0.4343,0.43458,0.43493,0.43527,0.43553,0.43566,0.43565,0.43557,0.43545,0.43532,0.43523,0.43519,0.43522,0.43527,0.43535,0.43543,0.4355,0.43555,0.43557,0.43554,0.43546,0.43545,0.4356,0.4358,0.43595,0.43594,0.43567,0.43539,0.43533,0.43533,0.43522,0.43486,0.43409,0.43301,0.43185,0.43058,0.4292,0.42768,0.426,0.42416,0.42213,0.4199,0.41722,0.414,0.41046,0.40682,0.40328,0.40007,0.39659,0.39235,0.38776,0.3832,0.37909,0.3758,0.37295,0.36994,0.36686,0.36381,0.3609,0.35822,0.35586,0.35393,0.35252,0.35173,0.3515,0.35162,0.35193,0.35224,0.35237,0.35283,0.35402,0.35563,0.35734,0.35885,0.35983,0.36063,0.36171,0.36298,0.36437,0.36578,0.36712,0.3683,0.36924,0.36984,0.37007,0.37002,0.3698,0.36951,0.36925,0.36914,0.36901,0.36869,0.36826,0.36781,0.36743,0.36721,0.36706,0.36686,0.36664,0.3664,0.36616,0.36595,0.36576,0.36562,0.36554,0.36553,0.36557,0.36563,0.3657,0.36576,0.3658,0.3659,0.36612,0.36639,0.36666,0.36688,0.36698,0.36703,0.3671,0.36717,0.36724,0.36728,0.36728,0.36719,0.367,0.36675,0.3665,0.36628,0.36615,0.36604,0.36588,0.36569,0.36551,0.36536,0.36527,0.36523,0.36519,0.36516,0.36514,0.36514,0.36516,0.36522,0.36532,0.36545,0.36561,0.36578,0.36596,0.36614,0.36631,0.36646,0.36661,0.36679,0.36699,0.36719,0.36736,0.3675,0.36763,0.36777,0.36792,0.36806,0.36818,0.36827,0.36833,0.36838,0.36842,0.36845,0.36848,0.36849,0.3685,0.3685,0.36851,0.36846,0.36835,0.3682,0.36805,0.36793,0.36788,0.36786,0.36781,0.36776,0.36772,0.36769,0.36771,0.36777,0.36787,0.36801,0.36817,0.36833,0.3685,0.36866,0.36879,0.36889,0.369,0.36914,0.3693,0.36945,0.36957,0.36965,0.36969,0.36969,0.36968,0.36966,0.36965,0.36965,0.36964,0.36959,0.36951,0.36941,0.36931,0.36922,0.36916,0.36913,0.36914,0.36919,0.36923,0.36928,0.36935,0.36942,0.36952,0.36961,0.36965,0.36969,0.36976,0.36987,0.37007,0.37024,0.37027,0.37023,0.37017,0.37015,0.37023,0.37047,0.37091,0.37163,0.37238,0.373,0.37363,0.37438,0.37539,0.3768,0.37858,0.38056,0.38272,0.38502,0.38743,0.38992,0.39274,0.39608,0.39981,0.4038,0.40791,0.41201,0.41598,0.41967,0.42296,0.42635,0.43025,0.43436,0.43837,0.442,0.44495,0.44748,0.44998,0.4524,0.45466,0.45669,0.45841,0.45974,0.46068,0.4613,0.46168,0.46187,0.46195,0.46198,0.46205,0.4622,0.4622,0.46182,0.46122,0.46055,0.45995,0.45959,0.45938,0.45915,0.45887,0.45856,0.45819,0.45777,0.45737,0.45703,0.4567,0.45633,0.45586,0.45523,0.4544,0.45339,0.45228,0.45113,0.45002,0.44902,0.44789,0.44648,0.44494,0.44339,0.44201,0.44093,0.43991,0.43869,0.43739,0.43615,0.43509,0.43435,0.43392,0.43369,0.43362,0.43368,0.43382,0.43401,0.43421,0.43438,0.43449,0.43476,0.43536,0.43613,0.43691,0.43754,0.43786,0.43801,0.43818,0.43836,0.43851,0.43861,0.43862,0.43849,0.43824,0.43788,0.43746,0.437,0.43654,0.4361,0.43573,0.43545,0.43518,0.43484,0.43448,0.43412,0.4338,0.43355,0.43342,0.4334,0.43344,0.43348,0.43347,0.43335,0.43315,0.43294,0.43273,0.43251,0.4323,0.43208,0.43186,0.43165,0.43144,0.43121,0.43095,0.43067,0.43039,0.43011,0.42984,0.42955,0.42922,0.42885,0.4285,0.42817,0.4279,0.4277,0.42754,0.42742,0.42732,0.42723,0.42714,0.42704,0.42692,0.42676,0.42663,0.42659,0.42658,0.42655,0.42646,0.42626,0.42607,0.42598,0.42592,0.42581,0.42557,0.42513,0.42469,0.42443,0.42426,0.42411,0.42388,0.42349,0.42285,0.42187,0.42047,0.41859,0.41632,0.41379,0.41112,0.40845,0.40592,0.40295,0.39915,0.39493,0.39071,0.38689,0.38389,0.38124,0.37828,0.37515,0.37196,0.36885,0.36595,0.36337,0.36126,0.35972,0.35883,0.35843,0.35838,0.35849,0.35863,0.35862,0.359,0.3602,0.36186,0.36362,0.36513,0.36603,0.36661,0.36735,0.3682,0.3691,0.37001,0.37086,0.3716,0.37218,0.37254,0.37263,0.37248,0.37219,0.37186,0.37158,0.37146,0.3714,0.37127,0.37109,0.37091,0.37074,0.37062,0.37054,0.37047,0.37041,0.37034,0.37027,0.37018,0.37009,0.37003,0.36998,0.36991,0.36983,0.3697,0.36952,0.36929,0.36903,0.36876,0.36851,0.36829,0.36803,0.36769,0.36732,0.36695,0.36664,0.36644,0.3663,0.36618,0.36608,0.36599,0.36592,0.36587,0.36584,0.36584,0.36589,0.36601,0.36617,0.36633,0.36648,0.36659,0.36673,0.36694,0.3672,0.36746,0.36768,0.36783,0.36791,0.36799,0.36805,0.3681,0.36814,0.36817,0.36819,0.36821,0.36821,0.36819,0.36813,0.36805,0.36797,0.36789,0.36783,0.3678,0.36777,0.36775,0.36773,0.3677,0.36766,0.3676,0.36752,0.36743,0.36732,0.36722,0.36712,0.36703,0.36695,0.3669,0.36683,0.3667,0.36656,0.36643,0.36635,0.36634,0.36638,0.36643,0.3665,0.36658,0.36668,0.36681,0.36698,0.36722,0.36749,0.36778,0.36806,0.36831,0.36861,0.36899,0.36943,0.36987,0.37026,0.37056,0.37081,0.37108,0.37135,0.37161,0.37186,0.37207,0.37222,0.37229,0.37232,0.37235,0.37241,0.37253,0.3727,0.37287,0.37305,0.37323,0.37341,0.37359,0.37377,0.37394,0.37411,0.37423,0.3743,0.37435,0.37441,0.37451,0.37468,0.37472,0.3745,0.37418,0.37392,0.37388,0.37421,0.37465,0.37491,0.37508,0.37527,0.37557,0.37607,0.37687,0.37806,0.37975,0.38197,0.38461,0.38753,0.39059,0.39366,0.39659,0.39991,0.40397,0.40844,0.41298,0.41723,0.42085,0.42439,0.42848,0.43292,0.43754,0.44215,0.44654,0.45054,0.45395,0.45659,0.45863,0.46037,0.46187,0.46314,0.46422,0.46515,0.46557,0.4653,0.4646,0.46372,0.46294,0.46252,0.46208,0.46118,0.46003,0.4588,0.45769,0.45689,0.45623,0.45545,0.4546,0.45374,0.45293,0.45221,0.45156,0.45091,0.45027,0.44965,0.44903,0.44842,0.44787,0.4474,0.44696,0.44654,0.4461,0.4456,0.44501,0.44432,0.44358,0.44281,0.44205,0.44132,0.44067,0.44012,0.43971,0.43942,0.43918,0.43899,0.43883,0.43869,0.43855,0.43855,0.43878,0.43914,0.4395,0.43978,0.43985,0.43982,0.43983,0.43987,0.43992,0.43996,0.43998,0.43994,0.43985,0.43967,0.43936,0.43891,0.43837,0.43782,0.43731,0.43691,0.43648,0.43589,0.43522,0.43455,0.43397,0.43355,0.43325,0.43299,0.43276,0.43256,0.4324,0.43226,0.43215,0.43207,0.43201,0.43209,0.43234,0.43268,0.43302,0.43328,0.43337,0.43338,0.43344,0.43351,0.43357,0.43357,0.43349,0.43332,0.43307,0.43277,0.43244,0.43208,0.43173,0.4314,0.43111,0.43087,0.43064,0.43037,0.43007,0.42977,0.42948,0.42923,0.42896,0.42864,0.4283,0.42796,0.42767,0.42744,0.42732,0.42731,0.42738,0.4275,0.42764,0.42778,0.42789,0.42794,0.4279,0.42797,0.42829,0.42869,0.42904,0.42916,0.42893,0.42858,0.42838,0.42821,0.42792,0.42739,0.42649,0.42524,0.42381,0.4222,0.42044,0.41856,0.41657,0.4145,0.41237,0.4102,0.4076,0.40438,0.40081,0.3972,0.39383,0.391,0.38814,0.38475,0.38111,0.37756,0.3744,0.37194,0.37,0.36817,0.36647,0.36493,0.36354,0.36232,0.3613,0.36047,0.35986,0.35967,0.35997,0.36057,0.36129,0.36195,0.36237,0.36293,0.364,0.36534,0.36673,0.36794,0.36874,0.36943,0.37038,0.37143,0.37247,0.37334,0.37391,0.37421,0.37438,0.37447,0.37449,0.3745,0.37452,0.37442,0.37408,0.37362,0.37313,0.3727,0.37242,0.37218,0.37184,0.37143,0.37103,0.37069,0.37046,0.37031,0.37017,0.37005,0.36994,0.36984,0.36975,0.36969,0.36964,0.36961,0.36964,0.36973,0.36987,0.37001,0.37013,0.3702,0.37028,0.37042,0.37059,0.37075,0.37087,0.37093,0.37094,0.37094,0.37094,0.37093,0.37091,0.37086,0.37079,0.3707,0.37054,0.37032,0.37006,0.36978,0.36953,0.36933,0.36912,0.36884,0.36854,0.36823,0.36797,0.36779,0.36765,0.36751,0.36738,0.36726,0.36715,0.36705,0.36699,0.36695,0.36694,0.36697,0.36704,0.36713,0.36724,0.36736,0.36747,0.36763,0.36786,0.36813,0.3684,0.36866,0.36886,0.36905,0.36928,0.36954,0.36981,0.37008,0.37034,0.37056,0.37075,0.37087,0.37096,0.37104,0.37111,0.37116,0.37119,0.37121,0.37116,0.37105,0.3709,0.37075,0.37061,0.37052,0.37045,0.37033,0.37018,0.37002,0.36985,0.3697,0.36956,0.36947,0.36942,0.36943,0.36948,0.36955,0.36963,0.36971,0.36976,0.36981,0.3699,0.37001,0.37013,0.37023,0.37032,0.37038,0.37044,0.37051,0.37057,0.37063,0.3707,0.37078,0.37086,0.37095,0.37103,0.37111,0.37117,0.37125,0.37133,0.37143,0.37154,0.37165,0.37176,0.37188,0.37202,0.37217,0.37232,0.37244,0.37254,0.37265,0.37276,0.3729,0.37308,0.3733,0.37359,0.37371,0.37356,0.37331,0.37313,0.37318,0.37365,0.37418,0.37445,0.37467,0.37504,0.37576,0.37704,0.37879,0.38074,0.38289,0.3852,0.38767,0.39025,0.39329,0.39695,0.40098,0.40511,0.4091,0.41269,0.41656,0.4213,0.42646,0.43159,0.43624,0.43998,0.44337,0.44712,0.45097,0.45467,0.45795,0.46056,0.46253,0.46409,0.4653,0.46622,0.46692,0.46746,0.46788,0.46827,0.46867,0.4688,0.46845,0.46781,0.46705,0.46635,0.4659,0.46544,0.46469,0.46375,0.46276,0.46184,0.46109,0.46046,0.45978,0.45908,0.45835,0.45761,0.45687,0.45614,0.45543,0.45474,0.45399,0.45311,0.45216,0.45122,0.45034,0.44959,0.44888,0.44811,0.44732,0.44656,0.44588,0.44532,0.44489,0.44453,0.44423,0.44399,0.44378,0.4436,0.44344,0.4433,0.44314,0.44308,0.44315,0.4433,0.44346,0.44357,0.44357,0.44349,0.44343,0.44338,0.44333,0.44327,0.4432,0.44312,0.44304,0.44296,0.44288,0.4428,0.44272,0.44262,0.44253,0.44242,0.44231,0.44219,0.44207,0.44194,0.44178,0.44161,0.44142,0.44123,0.44104,0.44085,0.44065,0.44044,0.4402,0.43994,0.43966,0.43936,0.43907,0.43878,0.4385,0.43825,0.43803,0.43783,0.43763,0.43742,0.43721,0.437,0.43678,0.43656,0.43634,0.43613,0.43592,0.43573,0.43555,0.43539,0.43525,0.43514,0.43503,0.43494,0.43485,0.43476,0.43466,0.43456,0.4345,0.43451,0.43455,0.43457,0.43453,0.43438,0.43423,0.43417,0.43415,0.43409,0.43394,0.43361,0.43321,0.43283,0.43246,0.43206,0.43162,0.43111,0.43051,0.42979,0.42893,0.42792,0.42679,0.42557,0.42427,0.42291,0.42151,0.41998,0.41828,0.41646,0.41458,0.41271,0.4109,0.40903,0.40698,0.40483,0.40266,0.40054,0.39855,0.39645,0.39406,0.39153,0.38904,0.38674,0.3848,0.38291,0.38079,0.3786,0.37649,0.37464,0.3732,0.37211,0.37119,0.37041,0.36974,0.36916,0.36865,0.36836,0.36838,0.36866,0.36911,0.36967,0.37026,0.37081,0.37126,0.37152,0.37184,0.37242,0.37313,0.37385,0.37445,0.3748,0.37497,0.3751,0.3752,0.37527,0.37532,0.37535,0.37532,0.3752,0.37501,0.37477,0.37451,0.37424,0.37398,0.37376,0.37359,0.37343,0.37323,0.37302,0.37281,0.37262,0.37248,0.37237,0.37227,0.37218,0.3721,0.37203,0.37198,0.37195,0.37194,0.37195,0.37197,0.372,0.37203,0.37205,0.37207,0.37206,0.37208,0.37212,0.37218,0.37223,0.37224,0.37223,0.37222,0.3722,0.37219,0.37218,0.37217,0.37214,0.37208,0.37201,0.37194,0.37188,0.37185,0.37183,0.3718,0.37177,0.37174,0.37171,0.3717,0.37172,0.37178,0.37185,0.37193,0.37199,0.372,0.372,0.37201,0.37202,0.37202,0.37202,0.372,0.37195,0.37188,0.3718,0.3717,0.3716,0.37149,0.37139,0.37128,0.37119,0.37105,0.37086,0.37064,0.37042,0.37025,0.37015,0.37007,0.36997,0.36985,0.36976,0.36971,0.36973,0.36981,0.36992,0.37006,0.37023,0.37042,0.37063,0.37085,0.37108,0.37132,0.37162,0.37202,0.37247,0.37293,0.37334,0.37367,0.37399,0.3744,0.37485,0.37529,0.37566,0.37593,0.37609,0.37619,0.37623,0.37624,0.37622,0.3762,0.37618,0.37618,0.37622,0.37619,0.37605,0.37586,0.37567,0.37556,0.37559,0.37567,0.37571,0.37574,0.3758,0.37593,0.37614,0.37639,0.37663,0.37688,0.37717,0.37753,0.37801,0.37839,0.37856,0.37868,0.37889,0.37934,0.3802,0.38115,0.38191,0.38266,0.38356,0.3848,0.38654,0.38875,0.39123,0.39393,0.39679,0.39975,0.40277,0.40623,0.41041,0.41511,0.42015,0.42531,0.43041,0.43524,0.4396,0.44331,0.44706,0.45145,0.45607,0.46053,0.46442,0.46734,0.46949,0.47135,0.47294,0.47429,0.47541,0.47634,0.47678,0.47653,0.47574,0.47456,0.47314,0.47162,0.47017,0.46894,0.46806,0.46713,0.46576,0.46416,0.46253,0.46108,0.46002,0.45922,0.45843,0.45766,0.45692,0.45622,0.45556,0.45497,0.45448,0.45405,0.45368,0.45334,0.45301,0.45268,0.45233,0.45194,0.45149,0.45102,0.45054,0.45008,0.44965,0.44929,0.44894,0.44857,0.44821,0.44787,0.44758,0.44735,0.4472,0.4471,0.44705,0.44703,0.44704,0.44708,0.44712,0.44717,0.44721,0.44733,0.44756,0.44785,0.44815,0.4484,0.44856,0.44868,0.44886,0.44907,0.44926,0.44942,0.4495,0.44955,0.44962,0.4497,0.44977,0.44982,0.44984,0.44982,0.44974,0.44959,0.44937,0.44908,0.44875,0.44838,0.44801,0.44765,0.44719,0.44659,0.44591,0.44523,0.44461,0.44413,0.44374,0.44332,0.4429,0.44248,0.44207,0.44168,0.44132,0.441,0.44074,0.44058,0.44054,0.44055,0.44057,0.44053,0.44038,0.4402,0.44009,0.44001,0.43993,0.43981,0.43962,0.43937,0.43908,0.43877,0.43844,0.4381,0.43775,0.4374,0.43705,0.43672,0.43643,0.43618,0.43594,0.43567,0.43533,0.43489,0.4345,0.43427,0.43408,0.43386,0.43349,0.43287,0.43226,0.43187,0.43155,0.43113,0.43046,0.42938,0.42791,0.42622,0.42436,0.42237,0.42032,0.41825,0.41574,0.41257,0.40905,0.40551,0.40226,0.39963,0.3971,0.39411,0.39094,0.38784,0.3851,0.38296,0.3813,0.37977,0.37837,0.37711,0.37598,0.37498,0.3741,0.37333,0.37269,0.37244,0.37273,0.37333,0.37403,0.3746,0.37484,0.37511,0.3758,0.37671,0.37764,0.37838,0.37874,0.37877,0.37867,0.37848,0.37822,0.37791,0.37759,0.37727,0.37699,0.37677,0.37657,0.37632,0.37606,0.37579,0.37554,0.37532,0.37512,0.37489,0.37467,0.37444,0.37422,0.37403,0.37385,0.37367,0.37349,0.37332,0.37315,0.37299,0.37285,0.37271,0.37259,0.37249,0.37239,0.3723,0.37222,0.37214,0.37207,0.37201,0.37194,0.37188,0.37182,0.37178,0.37175,0.37175,0.37178,0.37182,0.37188,0.37194,0.37201,0.37207,0.37213,0.37216,0.37221,0.37229,0.37239,0.37249,0.37256,0.37259,0.3726,0.37261,0.37261,0.37261,0.37259,0.37256,0.3725,0.3724,0.37228,0.37214,0.372,0.37186,0.37172,0.37161,0.37152,0.37142,0.37126,0.37109,0.37092,0.37078,0.37072,0.3707,0.3707,0.37072,0.37075,0.37079,0.37084,0.37093,0.37109,0.3713,0.37153,0.37177,0.372,0.3722,0.37235,0.37243,0.37246,0.37247,0.37247,0.37247,0.37245,0.37243,0.37237,0.37223,0.37206,0.37189,0.37175,0.37167,0.37162,0.37156,0.37148,0.37139,0.37131,0.37124,0.37117,0.37113,0.37112,0.37115,0.37121,0.37129,0.37139,0.37148,0.37155,0.37163,0.37176,0.37191,0.37207,0.37221,0.37232,0.3724,0.37245,0.3725,0.37255,0.3726,0.37267,0.37274,0.37279,0.37282,0.37287,0.37292,0.373,0.3731,0.37322,0.37334,0.37347,0.3736,0.37374,0.37389,0.37405,0.37423,0.37441,0.37459,0.37476,0.37486,0.37483,0.37473,0.37459,0.37445,0.37436,0.37436,0.37449,0.37479,0.3749,0.37461,0.37418,0.37388,0.37398,0.37474,0.37592,0.37714,0.37846,0.37995,0.38168,0.38371,0.3862,0.38918,0.39255,0.3962,0.40003,0.40392,0.40778,0.4115,0.41497,0.41882,0.42349,0.42855,0.43358,0.43817,0.44189,0.44525,0.4489,0.45261,0.45617,0.45935,0.46195,0.46396,0.4656,0.46692,0.46797,0.46881,0.46948,0.47006,0.47058,0.47111,0.47145,0.47145,0.47121,0.47086,0.4705,0.47025,0.46982,0.46899,0.46792,0.46679,0.46577,0.46503,0.46446,0.46382,0.46313,0.4624,0.46167,0.46093,0.46022,0.45955,0.45894,0.45835,0.45773,0.4571,0.45648,0.45587,0.45529,0.45475,0.45425,0.45377,0.45331,0.45284,0.45236,0.45186,0.45137,0.45087,0.45038,0.4499,0.44943,0.44897,0.44852,0.44809,0.44765,0.44718,0.4467,0.44622,0.44578,0.44538,0.445,0.4446,0.4442,0.44384,0.44352,0.44327,0.4431,0.44301,0.44297,0.44298,0.44301,0.44304,0.44306,0.44305,0.443,0.44295,0.44292,0.44292,0.44291,0.44289,0.44283,0.4427,0.44251,0.44229,0.44209,0.44194,0.44187,0.44189,0.44197,0.44208,0.44222,0.44236,0.4425,0.4426,0.44267,0.44267,0.44266,0.44268,0.44271,0.44272,0.44269,0.4426,0.44254,0.4426,0.44271,0.44279,0.44277,0.44259,0.44226,0.44186,0.44141,0.44092,0.44039,0.43985,0.43916,0.43826,0.43723,0.43618,0.4352,0.43438,0.43365,0.43286,0.43206,0.43125,0.43048,0.42975,0.42919,0.42882,0.42854,0.42824,0.42781,0.42715,0.42641,0.42579,0.42523,0.42468,0.42407,0.42335,0.42246,0.42134,0.41994,0.41818,0.41611,0.41385,0.41152,0.40922,0.40709,0.40471,0.40178,0.39856,0.39535,0.39241,0.39002,0.38787,0.38553,0.38307,0.38059,0.37817,0.37589,0.37384,0.37211,0.37076,0.36986,0.36933,0.36903,0.36888,0.36875,0.36853,0.36857,0.36912,0.36996,0.37087,0.37165,0.37206,0.3723,0.37265,0.3731,0.3736,0.37411,0.3746,0.37503,0.37537,0.37557,0.37569,0.37579,0.37586,0.3759,0.37593,0.37592,0.37584,0.37564,0.37538,0.3751,0.37486,0.37469,0.3745,0.37421,0.37387,0.37354,0.37326,0.37311,0.37304,0.37302,0.37302,0.37303,0.37305,0.37305,0.3731,0.37322,0.37338,0.37353,0.37365,0.3737,0.37372,0.37375,0.37378,0.37382,0.37384,0.37384,0.3738,0.37374,0.37365,0.37356,0.37345,0.37335,0.37325,0.37317,0.37311,0.37303,0.37292,0.37279,0.37268,0.37259,0.37254,0.37252,0.3725,0.3725,0.37249,0.37248,0.37247,0.37248,0.3725,0.37254,0.37258,0.37262,0.37266,0.37269,0.37271,0.37273,0.37275,0.37276,0.37277,0.37277,0.37276,0.37274,0.37272,0.37269,0.37267,0.37263,0.3726,0.37255,0.3725,0.37244,0.37238,0.37232,0.37227,0.37222,0.37218,0.37215,0.37211,0.37203,0.37194,0.37185,0.37178,0.37175,0.37174,0.37174,0.37175,0.37177,0.3718,0.37184,0.37192,0.37205,0.37222,0.37239,0.37254,0.37265,0.37274,0.37285,0.37298,0.3731,0.37319,0.37326,0.37327,0.37326,0.37323,0.3732,0.37317,0.37316,0.37315,0.37312,0.37308,0.37304,0.37301,0.37301,0.37299,0.37295,0.37289,0.37282,0.37275,0.3727,0.37266,0.37266,0.3727,0.37277,0.37287,0.37298,0.37311,0.37324,0.37338,0.37354,0.37376,0.374,0.37425,0.37449,0.37469,0.37488,0.37508,0.37528,0.37549,0.3757,0.37591,0.37611,0.3763,0.37648,0.37652,0.37634,0.37608,0.37585,0.37576,0.37594,0.37598,0.37557,0.37501,0.37456,0.37452,0.37517,0.37626,0.37739,0.37862,0.37999,0.38154,0.38332,0.38539,0.38778,0.39055,0.39408,0.39849,0.4034,0.40844,0.41324,0.41742,0.42185,0.42729,0.43323,0.43913,0.44448,0.44876,0.45244,0.45628,0.46019,0.46404,0.46773,0.47116,0.47422,0.4768,0.4788,0.48006,0.48064,0.48077,0.48064,0.48049,0.48051,0.4802,0.47912,0.47758,0.47591,0.47444,0.47347,0.47271,0.47167,0.47045,0.46911,0.46773,0.46639,0.46517,0.46413,0.46337,0.46276,0.46218,0.46163,0.46111,0.46063,0.4602,0.45991,0.4598,0.45979,0.45982,0.4598,0.45968,0.45953,0.45946,0.45946,0.4595,0.45956,0.4596,0.45962,0.45958,0.45947,0.45923,0.45888,0.45847,0.45806,0.4577,0.45745,0.45727,0.4571,0.45694,0.45678,0.45662,0.45647,0.45634,0.45626,0.45621,0.45618,0.45615,0.45612,0.45608,0.456,0.45588,0.45572,0.45554,0.45534,0.45515,0.45496,0.45479,0.45461,0.45438,0.45414,0.45389,0.45367,0.45347,0.45329,0.45309,0.45288,0.45267,0.45248,0.45232,0.45219,0.45207,0.45197,0.45187,0.45179,0.45172,0.45172,0.4518,0.45192,0.45205,0.45212,0.4521,0.45205,0.45206,0.45209,0.45209,0.45204,0.4519,0.45165,0.4513,0.45089,0.45045,0.44998,0.44954,0.44913,0.44878,0.44853,0.44839,0.44833,0.44831,0.44829,0.4482,0.44801,0.44794,0.44816,0.44848,0.44874,0.44877,0.44839,0.44787,0.44749,0.44717,0.44685,0.44642,0.44582,0.44495,0.44374,0.44211,0.43993,0.43727,0.4343,0.43118,0.42809,0.42519,0.42188,0.41771,0.41308,0.40842,0.40415,0.40067,0.39755,0.39414,0.39057,0.38696,0.38342,0.38009,0.37706,0.37448,0.37244,0.37095,0.36984,0.369,0.36835,0.36779,0.36721,0.36695,0.36724,0.36789,0.36867,0.36937,0.36977,0.37014,0.3708,0.37169,0.37272,0.37381,0.37487,0.37583,0.37661,0.37712,0.37751,0.37794,0.37838,0.37877,0.37908,0.37924,0.37923,0.37905,0.37877,0.37845,0.37816,0.37796,0.37775,0.37741,0.37698,0.37649,0.37598,0.37548,0.37503,0.37466,0.3744,0.3742,0.37399,0.37377,0.37356,0.37338,0.37325,0.37323,0.37334,0.37352,0.37372,0.37387,0.37393,0.37396,0.37403,0.37414,0.37426,0.37438,0.37448,0.37455,0.37457,0.37452,0.37435,0.37405,0.3737,0.37339,0.37317,0.373,0.37275,0.37248,0.37222,0.37199,0.37185,0.37178,0.37175,0.37175,0.37177,0.37181,0.37185,0.37189,0.37192,0.37193,0.37199,0.37212,0.37229,0.37245,0.37257,0.37261,0.37257,0.37252,0.37245,0.37237,0.37229,0.3722,0.37206,0.37183,0.37157,0.3713,0.37107,0.37091,0.37076,0.37056,0.37034,0.37013,0.36995,0.36984,0.36978,0.36973,0.36968,0.36965,0.36965,0.36966,0.36973,0.36985,0.37,0.37017,0.37034,0.37047,0.37061,0.3708,0.37103,0.37127,0.37152,0.37175,0.37197,0.37214,0.37227,0.37235,0.37243,0.3725,0.37257,0.37262,0.37266,0.37268,0.37265,0.37261,0.37257,0.37253,0.37252,0.3725,0.37244,0.37236,0.37226,0.37216,0.37206,0.37198,0.37194,0.37194,0.37196,0.37198,0.372,0.37203,0.37209,0.37219,0.37234,0.37256,0.37281,0.37308,0.37333,0.37354,0.37372,0.3739,0.37409,0.37428,0.37447,0.37467,0.37487,0.37506,0.37526,0.37526,0.37496,0.37455,0.37419,0.37405,0.3743,0.37455,0.37446,0.37427,0.37421,0.37453,0.37546,0.37693,0.37866,0.38063,0.3828,0.38513,0.3876,0.39017,0.39282,0.39549,0.39863,0.40246,0.40667,0.41095,0.41498,0.41845,0.42193,0.42599,0.43032,0.4346,0.43852,0.44177,0.44454,0.44724,0.44984,0.45231,0.45464,0.4568,0.45877,0.46053,0.46206,0.4632,0.46393,0.46439,0.46472,0.46505,0.46554,0.46603,0.46632,0.46648,0.46654,0.46658,0.46665,0.46663,0.46641,0.46604,0.46555,0.46498,0.46438,0.46379,0.46325,0.46279,0.46233,0.46177,0.46115,0.46053,0.45995,0.45945,0.459,0.4585,0.45798,0.45747,0.45698,0.45654,0.45612,0.45569,0.45524,0.4548,0.45438,0.45397,0.45359,0.45325,0.45296,0.45275,0.45261,0.45253,0.45247,0.45238,0.45225,0.45211,0.45201,0.45193,0.45185,0.45176,0.45163,0.45143,0.45118,0.45091,0.45065,0.45043,0.45028,0.45017,0.45006,0.44994,0.44985,0.44978,0.44976,0.44981,0.44991,0.45005,0.45019,0.45031,0.4504,0.45053,0.45079,0.45111,0.45142,0.45165,0.45174,0.45173,0.45168,0.45161,0.45152,0.4514,0.45128,0.45114,0.45099,0.45085,0.45059,0.45019,0.44971,0.44923,0.44883,0.44858,0.44846,0.44837,0.4483,0.44822,0.44814,0.44802,0.44792,0.44787,0.44785,0.44785,0.44786,0.44786,0.44784,0.44779,0.4477,0.44757,0.44745,0.44734,0.44721,0.44709,0.44695,0.44682,0.44671,0.4466,0.44646,0.44627,0.44602,0.44577,0.4456,0.44547,0.44534,0.44519,0.44497,0.44466,0.44421,0.4436,0.44302,0.44261,0.44223,0.44177,0.4411,0.44009,0.43884,0.43751,0.43606,0.43448,0.43276,0.43085,0.42857,0.42585,0.42287,0.41982,0.41689,0.41426,0.41151,0.40828,0.40481,0.40138,0.39824,0.39565,0.3932,0.39044,0.38757,0.38481,0.38236,0.38041,0.37889,0.37752,0.37629,0.3752,0.37423,0.37335,0.37277,0.3726,0.37276,0.37316,0.37369,0.37429,0.37484,0.37526,0.37546,0.37567,0.37612,0.37669,0.37727,0.37773,0.37797,0.37792,0.37768,0.37732,0.37693,0.3766,0.37643,0.37634,0.37624,0.37612,0.376,0.37588,0.37576,0.37567,0.37559,0.37555,0.37554,0.37556,0.37559,0.37563,0.37566,0.37567,0.37568,0.37574,0.37581,0.37588,0.37593,0.37594,0.37593,0.37593,0.37592,0.3759,0.37588,0.37586,0.37582,0.37577,0.3757,0.37562,0.37552,0.37541,0.37529,0.37516,0.375,0.37479,0.37455,0.37431,0.3741,0.37394,0.37378,0.37357,0.37335,0.37315,0.37298,0.37288,0.37284,0.37283,0.37284,0.37286,0.37289,0.3729,0.37296,0.37308,0.37324,0.3734,0.37353,0.37358,0.3736,0.37364,0.37367,0.37371,0.37374,0.37375,0.37375,0.37371,0.37366,0.3736,0.37353,0.37346,0.3734,0.37335,0.37332,0.37328,0.3732,0.37311,0.37302,0.37295,0.37292,0.37293,0.37294,0.37297,0.37301,0.37306,0.37313,0.37322,0.37335,0.37351,0.37369,0.37388,0.37407,0.37424,0.37439,0.37451,0.37461,0.37471,0.37481,0.3749,0.37498,0.37505,0.37513,0.37521,0.3753,0.37538,0.37546,0.37552,0.37556,0.37558,0.37558,0.37557,0.37555,0.37553,0.37552,0.37551,0.37551,0.37547,0.37538,0.37525,0.37514,0.37506,0.37505,0.3751,0.37515,0.37521,0.37528,0.37538,0.37551,0.37567,0.37587,0.3761,0.37636,0.37663,0.3769,0.37716,0.3774,0.37761,0.3778,0.37796,0.37812,0.37829,0.37847,0.37869,0.37876,0.37861,0.37836,0.37816,0.37815,0.37847,0.37886,0.37903,0.3791,0.37915,0.37929,0.37961,0.38021,0.3812,0.38266,0.38447,0.38644,0.38859,0.39094,0.39349,0.39627,0.39968,0.40392,0.40862,0.41344,0.41802,0.422,0.42598,0.43063,0.43574,0.44108,0.44642,0.45156,0.45627,0.46033,0.46352,0.46618,0.46873,0.47112,0.47328,0.47513,0.47661,0.47743,0.4775,0.47709,0.47649,0.47595,0.47575,0.47547,0.47462,0.47334,0.47178,0.47007,0.46837,0.46682,0.46557,0.46476,0.46416,0.46351,0.46285,0.46225,0.46174,0.46139,0.46128,0.46138,0.46161,0.46189,0.46213,0.46224,0.46241,0.4628,0.46329,0.46378,0.46415,0.46431,0.46433,0.46435,0.46436,0.46436,0.46431,0.46422,0.46404,0.46376,0.46343,0.4631,0.46279,0.46257,0.46237,0.46213,0.46188,0.46161,0.46134,0.46109,0.46084,0.46055,0.46025,0.45993,0.45961,0.45929,0.45899,0.45872,0.45848,0.45836,0.45837,0.45845,0.45853,0.45853,0.45839,0.4581,0.45774,0.45734,0.45692,0.45652,0.45616,0.45576,0.45526,0.45469,0.45409,0.45348,0.45291,0.4524,0.45199,0.45171,0.45159,0.45159,0.45165,0.45174,0.45179,0.45175,0.45165,0.45159,0.45153,0.45149,0.45145,0.45141,0.4514,0.45145,0.45154,0.45165,0.45177,0.45189,0.45198,0.45203,0.45202,0.45194,0.45178,0.45158,0.45137,0.4512,0.45108,0.45104,0.45105,0.45109,0.45112,0.45111,0.45101,0.45101,0.45122,0.45157,0.45197,0.45235,0.45262,0.45271,0.45252,0.45199,0.45126,0.45053,0.44973,0.44879,0.44767,0.4463,0.44462,0.44268,0.44054,0.43829,0.436,0.43375,0.43136,0.42862,0.42562,0.42244,0.41914,0.41581,0.41252,0.40934,0.40637,0.40315,0.39942,0.39545,0.39154,0.38798,0.38506,0.38239,0.37953,0.37664,0.37391,0.37151,0.36964,0.36822,0.36708,0.36618,0.36548,0.36495,0.36456,0.36428,0.36407,0.3639,0.36412,0.36492,0.36605,0.36729,0.36838,0.36907,0.36982,0.37105,0.37254,0.37403,0.3753,0.37609,0.37649,0.37675,0.37689,0.37695,0.37693,0.37688,0.37681,0.37676,0.37674,0.37666,0.37645,0.37617,0.37587,0.37562,0.37547,0.3754,0.37533,0.37526,0.37518,0.3751,0.37501,0.37489,0.37475,0.3746,0.37445,0.37431,0.3742,0.37408,0.37394,0.37379,0.37366,0.37354,0.37347,0.37342,0.37338,0.37335,0.37333,0.37331,0.37329,0.37327,0.37327,0.37327,0.37327,0.37328,0.37328,0.37331,0.37337,0.37346,0.37357,0.37369,0.3738,0.37391,0.37399,0.37404,0.37408,0.37412,0.37417,0.37421,0.37422,0.3742,0.37413,0.374,0.37384,0.37367,0.37352,0.37341,0.37332,0.37318,0.37303,0.37286,0.3727,0.37256,0.37245,0.37239,0.37239,0.37243,0.37251,0.3726,0.37271,0.37281,0.37292,0.37307,0.3733,0.37357,0.37385,0.37409,0.37426,0.37441,0.37459,0.37481,0.37503,0.37525,0.37545,0.37562,0.37574,0.3758,0.37575,0.3756,0.3754,0.37519,0.37501,0.3749,0.3748,0.37463,0.37441,0.3742,0.37402,0.37392,0.37388,0.37385,0.37384,0.37384,0.37385,0.37387,0.37389,0.37393,0.37397,0.37402,0.37409,0.37417,0.37426,0.37437,0.37448,0.37462,0.37478,0.37496,0.37515,0.37533,0.3755,0.37563,0.37574,0.37584,0.37592,0.37601,0.37612,0.37625,0.37641,0.37661,0.3768,0.37693,0.37705,0.3772,0.37743,0.37778,0.37814,0.37843,0.37871,0.37904,0.37947,0.38006,0.38059,0.38087,0.38102,0.38113,0.38133,0.38172,0.38242,0.38353,0.38517,0.38715,0.38926,0.39154,0.39403,0.39677,0.39981,0.40353,0.40805,0.41304,0.41815,0.42304,0.42735,0.43176,0.43697,0.44274,0.4488,0.45489,0.46075,0.46613,0.47077,0.4744,0.47756,0.4808,0.48396,0.48683,0.48925,0.49102,0.49184,0.49175,0.49106,0.4901,0.48917,0.48861,0.48773,0.4859,0.48354,0.48103,0.47876,0.47714,0.47568,0.47376,0.47162,0.46947,0.46754,0.46605,0.46482,0.46354,0.46227,0.46106,0.45997,0.45906,0.45839,0.45793,0.4576,0.45733,0.45704,0.45665,0.45626,0.45596,0.45574,0.45558,0.45546,0.45534,0.45522,0.45506,0.45485,0.45468,0.45465,0.45469,0.45474,0.45472,0.45459,0.45434,0.45403,0.45369,0.45333,0.45299,0.45268,0.45237,0.45201,0.45162,0.45122,0.4508,0.4504,0.45002,0.44968,0.44939,0.44917,0.44902,0.4489,0.44879,0.44866,0.44849,0.4483,0.44815,0.44801,0.44787,0.4477,0.44748,0.44723,0.44694,0.44664,0.44633,0.44602,0.44572,0.44542,0.44515,0.44491,0.44468,0.44442,0.44414,0.44388,0.44363,0.44341,0.44318,0.44291,0.44262,0.44234,0.44211,0.44195,0.44185,0.44176,0.44169,0.44164,0.44161,0.44162,0.44174,0.442,0.44234,0.44269,0.44298,0.44314,0.44324,0.44335,0.44347,0.44358,0.44367,0.44371,0.44373,0.44375,0.44375,0.44375,0.44375,0.44373,0.44375,0.44382,0.44393,0.44404,0.44413,0.44417,0.44414,0.444,0.44375,0.44344,0.44316,0.44287,0.44252,0.44207,0.44149,0.44089,0.44038,0.43987,0.43928,0.43854,0.43756,0.43639,0.43513,0.43377,0.4323,0.43072,0.42903,0.42722,0.42528,0.42322,0.42077,0.41783,0.41463,0.41137,0.4083,0.40563,0.4029,0.39969,0.39627,0.3929,0.38986,0.38742,0.38533,0.38322,0.38112,0.37908,0.37714,0.37537,0.37379,0.37246,0.37143,0.37088,0.37085,0.37113,0.37154,0.37188,0.37196,0.37219,0.37298,0.37407,0.3752,0.37613,0.3766,0.3768,0.37706,0.37733,0.37758,0.37778,0.37788,0.3778,0.37757,0.37723,0.37687,0.37655,0.37635,0.37619,0.37598,0.37574,0.37549,0.37526,0.37508,0.37492,0.37474,0.37455,0.37436,0.37421,0.37409,0.37401,0.37396,0.37394,0.37393,0.37395,0.37397,0.374,0.37403,0.37406,0.37409,0.37413,0.37417,0.37421,0.37424,0.37429,0.37436,0.37444,0.37453,0.37461,0.37468,0.37477,0.37489,0.37504,0.3752,0.37536,0.3755,0.37562,0.37571,0.37575,0.37573,0.37567,0.37558,0.37547,0.37537,0.37529,0.37519,0.37503,0.37484,0.37466,0.3745,0.37441,0.37435,0.37427,0.37418,0.37409,0.374,0.37394,0.37389,0.37388,0.37391,0.37401,0.37419,0.37441,0.37463,0.37483,0.37496,0.37512,0.3754,0.37572,0.37602,0.37627,0.37638,0.3764,0.37638,0.37633,0.37625,0.37616,0.37605,0.37593,0.37581,0.3757,0.3755,0.37518,0.37479,0.37441,0.37408,0.37387,0.37372,0.37352,0.37331,0.37311,0.37295,0.37287,0.37288,0.37296,0.3731,0.37329,0.37349,0.3737,0.3739,0.37406,0.37417,0.37427,0.37441,0.37456,0.37472,0.37486,0.37496,0.37501,0.37503,0.37502,0.37501,0.37501,0.37504,0.37507,0.37506,0.37502,0.37497,0.37491,0.37488,0.37487,0.37491,0.37501,0.37509,0.37511,0.37512,0.37515,0.37527,0.37551,0.37567,0.37561,0.37548,0.37543,0.37561,0.37618,0.3769,0.37748,0.37801,0.37857,0.37927,0.38018,0.38139,0.383,0.38508,0.38774,0.39088,0.39437,0.39802,0.40168,0.40519,0.40919,0.41414,0.41957,0.42505,0.43012,0.43433,0.43851,0.44347,0.44875,0.45392,0.45851,0.46208,0.46504,0.46803,0.47092,0.47357,0.47586,0.47764,0.47868,0.47898,0.47881,0.4784,0.47802,0.47792,0.47751,0.47625,0.47451,0.47266,0.47107,0.47008,0.46943,0.46861,0.46768,0.46668,0.46567,0.4647,0.46383,0.46309,0.46255,0.46223,0.46205,0.46197,0.46191,0.46181,0.46162,0.46146,0.46146,0.46155,0.46165,0.46167,0.46156,0.46131,0.46099,0.46063,0.46024,0.45985,0.45946,0.4591,0.45878,0.45852,0.45825,0.45792,0.45756,0.45721,0.4569,0.45669,0.45658,0.45653,0.45652,0.45654,0.45654,0.4565,0.45649,0.45658,0.45672,0.45691,0.45711,0.45729,0.45744,0.45751,0.45748,0.45744,0.45743,0.45744,0.45741,0.45732,0.45712,0.4568,0.45638,0.45589,0.45538,0.45487,0.4544,0.45389,0.45327,0.45257,0.45183,0.45107,0.45033,0.44965,0.44905,0.44856,0.44809,0.44752,0.44692,0.44635,0.44588,0.44556,0.44536,0.44523,0.44515,0.44511,0.4451,0.44511,0.44522,0.44549,0.44588,0.44635,0.44686,0.44736,0.44781,0.44817,0.4484,0.44856,0.44874,0.44891,0.44907,0.4492,0.44929,0.44932,0.4493,0.44926,0.44919,0.44913,0.44908,0.44909,0.44915,0.44924,0.44933,0.4494,0.44942,0.44936,0.44919,0.44889,0.44854,0.44821,0.44787,0.44747,0.44698,0.44637,0.44565,0.44488,0.44406,0.44317,0.44223,0.44121,0.44013,0.43896,0.43771,0.43639,0.435,0.43353,0.432,0.43039,0.42871,0.42698,0.42518,0.42332,0.42139,0.41938,0.41729,0.4152,0.41315,0.41109,0.40895,0.40667,0.4042,0.40125,0.39779,0.39412,0.39057,0.38741,0.38497,0.38277,0.38026,0.37766,0.3752,0.37309,0.37156,0.37067,0.37025,0.37012,0.37014,0.37014,0.36996,0.37025,0.37148,0.37323,0.37507,0.37658,0.37733,0.37755,0.37777,0.37798,0.37818,0.37836,0.37852,0.37865,0.37875,0.37882,0.37883,0.37878,0.37867,0.37855,0.37843,0.37833,0.37825,0.37816,0.37806,0.37797,0.37788,0.37782,0.37778,0.37776,0.37777,0.37778,0.37779,0.37781,0.37781,0.37779,0.37775,0.37769,0.37764,0.37759,0.37753,0.37745,0.37736,0.37726,0.37716,0.37706,0.37695,0.37682,0.37667,0.37648,0.37627,0.37603,0.37579,0.37556,0.37533,0.37514,0.37498,0.3748,0.37458,0.37434,0.37412,0.37395,0.37386,0.37386,0.37393,0.37404,0.37417,0.37429,0.37436,0.37444,0.37457,0.37473,0.37491,0.37511,0.37529,0.37544,0.37556,0.37563,0.37566,0.3757,0.37573,0.37575,0.37577,0.37577,0.37575,0.37569,0.37561,0.37552,0.37543,0.37536,0.37528,0.37515,0.37499,0.37482,0.37464,0.37447,0.37433,0.37424,0.37419,0.3742,0.37424,0.37431,0.37439,0.37446,0.37453,0.3746,0.37469,0.37479,0.37491,0.37501,0.37511,0.37521,0.37533,0.37546,0.37561,0.37576,0.37591,0.37605,0.37618,0.3763,0.3764,0.37648,0.37657,0.37665,0.37674,0.37683,0.3769,0.37692,0.37692,0.37692,0.37695,0.37704,0.37717,0.37732,0.37748,0.37766,0.37785,0.37805,0.37825,0.37845,0.37866,0.37889,0.37913,0.37939,0.37965,0.37992,0.38016,0.38035,0.38045,0.38052,0.38061,0.38077,0.38105,0.38129,0.38136,0.38137,0.38144,0.38167,0.38217,0.38269,0.38298,0.38322,0.38357,0.38419,0.38525,0.38652,0.38772,0.38897,0.39039,0.39209,0.3942,0.39682,0.39992,0.40333,0.40688,0.41042,0.4138,0.41746,0.42184,0.42673,0.4319,0.43716,0.44227,0.44702,0.45121,0.45461,0.45775,0.46113,0.46453,0.46775,0.47057,0.47276,0.47431,0.47544,0.47625,0.47684,0.47733,0.47781,0.47798,0.47751,0.47656,0.47526,0.47376,0.47221,0.47073,0.46947,0.46858,0.46778,0.46676,0.46563,0.4645,0.46346,0.46263,0.46199,0.46144,0.46095,0.46048,0.46,0.45948,0.4589,0.45827,0.4576,0.45692,0.45626,0.45563,0.45505,0.45455,0.45415,0.45385,0.45363,0.45346,0.45331,0.45317,0.45301,0.45294,0.45301,0.45316,0.45332,0.45343,0.45342,0.45336,0.45337,0.45341,0.45344,0.45343,0.45336,0.45322,0.45307,0.45291,0.45273,0.45254,0.45234,0.4521,0.45178,0.45141,0.45104,0.45069,0.45041,0.45014,0.44984,0.44952,0.4492,0.4489,0.44862,0.44837,0.44811,0.44786,0.44761,0.44738,0.44715,0.44693,0.44673,0.44655,0.44634,0.44608,0.44582,0.44557,0.44537,0.44525,0.44524,0.44533,0.44547,0.44562,0.44574,0.44578,0.44582,0.44592,0.44608,0.44625,0.44643,0.44658,0.44668,0.44671,0.44664,0.44648,0.44626,0.44601,0.44574,0.44548,0.44526,0.44501,0.44468,0.44431,0.44393,0.44357,0.44326,0.44305,0.44295,0.44292,0.44292,0.4429,0.44282,0.44264,0.44231,0.4418,0.44146,0.44153,0.44173,0.4418,0.44145,0.44043,0.43888,0.43714,0.43523,0.43315,0.43093,0.42856,0.42548,0.42141,0.41683,0.41218,0.40794,0.40456,0.40115,0.39683,0.39211,0.38749,0.38347,0.38055,0.37837,0.37625,0.37427,0.37246,0.37091,0.36966,0.36902,0.36906,0.36954,0.3702,0.37079,0.37105,0.37137,0.37219,0.3734,0.37485,0.37641,0.37794,0.3793,0.38037,0.38099,0.38128,0.38145,0.38153,0.38155,0.38153,0.38151,0.38138,0.38109,0.38069,0.38025,0.37983,0.37949,0.37915,0.37867,0.37811,0.37749,0.37686,0.37625,0.3757,0.37525,0.37493,0.37464,0.37431,0.37396,0.37363,0.37337,0.37322,0.37321,0.37332,0.37351,0.37372,0.3739,0.37399,0.37407,0.37422,0.37442,0.37466,0.37492,0.37518,0.37543,0.37564,0.3758,0.37593,0.37605,0.37617,0.37627,0.37636,0.37642,0.37641,0.3763,0.37615,0.37602,0.37598,0.37601,0.37607,0.37615,0.37625,0.37636,0.37647,0.37658,0.37667,0.37674,0.37685,0.37702,0.3772,0.37738,0.3775,0.37753,0.37745,0.37729,0.37709,0.37687,0.37667,0.3765,0.37633,0.37612,0.37587,0.3756,0.37533,0.37508,0.37486,0.37469,0.37459,0.37449,0.37437,0.37422,0.3741,0.37401,0.37399,0.37404,0.37414,0.37428,0.37443,0.37459,0.37473,0.37491,0.37517,0.37548,0.37583,0.37621,0.37657,0.37691,0.37721,0.37744,0.37764,0.37785,0.37806,0.37826,0.37843,0.37855,0.37863,0.37866,0.37866,0.37866,0.37865,0.37867,0.37867,0.37863,0.37857,0.37849,0.3784,0.37831,0.37824,0.37819,0.37818,0.37816,0.37809,0.37801,0.37793,0.37789,0.3779,0.37798,0.37808,0.37821,0.37835,0.37848,0.3786,0.37877,0.37901,0.37929,0.37957,0.37982,0.38,0.38015,0.38034,0.38054,0.38072,0.38086,0.38094,0.38097,0.38099,0.381,0.381,0.38101,0.38103,0.38102,0.38095,0.38084,0.38073,0.38065,0.38061,0.38033,0.37959,0.37855,0.37733,0.37611,0.37501,0.37419,0.37379,0.37397,0.37421,0.37408,0.37386,0.37383,0.37426,0.37543,0.37723,0.37932,0.38164,0.38414,0.38676,0.38944,0.3926,0.39656,0.4011,0.40604,0.41118,0.41631,0.42124,0.42576,0.42967,0.43363,0.43819,0.44297,0.44762,0.45177,0.45507,0.45785,0.46063,0.46329,0.46573,0.46782,0.46946,0.47043,0.47068,0.47036,0.46963,0.46865,0.46757,0.46654,0.46572,0.46527,0.46479,0.46391,0.46281,0.46166,0.46066,0.45998,0.4595,0.45898,0.45845,0.45793,0.45744,0.457,0.45663,0.45632,0.45607,0.45586,0.45567,0.45549,0.4553,0.4551,0.45487,0.45463,0.45441,0.45419,0.45398,0.45375,0.45349,0.45316,0.45277,0.45234,0.45192,0.45152,0.4512,0.45093,0.4507,0.45048,0.45027,0.45008,0.4499,0.44972,0.44953,0.44934,0.44913,0.44887,0.4486,0.44834,0.44811,0.44792,0.44776,0.44759,0.44741,0.44725,0.44713,0.44704,0.447,0.447,0.44703,0.44708,0.44716,0.44725,0.44736,0.44748,0.4476,0.44781,0.44813,0.44852,0.44889,0.44921,0.4494,0.44956,0.44979,0.45006,0.4503,0.45048,0.45055,0.45054,0.45049,0.45043,0.45033,0.4502,0.45003,0.44984,0.44961,0.44934,0.4489,0.44825,0.44749,0.44672,0.44604,0.44557,0.44519,0.44475,0.44427,0.44381,0.44342,0.44312,0.443,0.44307,0.44322,0.44338,0.44346,0.44337,0.44333,0.44353,0.44382,0.44408,0.44415,0.4439,0.44371,0.44387,0.44416,0.44432,0.44413,0.44334,0.44214,0.44085,0.43944,0.43785,0.43603,0.43394,0.43128,0.42792,0.42402,0.4198,0.41543,0.4111,0.407,0.40331,0.40024,0.39715,0.39351,0.38967,0.38594,0.38267,0.38017,0.37819,0.37627,0.37449,0.37289,0.37153,0.37046,0.36994,0.37006,0.37069,0.37168,0.37288,0.37415,0.37534,0.37631,0.37691,0.37755,0.37859,0.37984,0.38108,0.38212,0.38275,0.38305,0.38325,0.38337,0.38343,0.38345,0.38345,0.38337,0.38314,0.38279,0.38237,0.38191,0.38144,0.381,0.38063,0.38036,0.38009,0.37973,0.37932,0.37892,0.37858,0.37835,0.37818,0.37802,0.37785,0.37771,0.37759,0.37751,0.37752,0.37761,0.37777,0.37797,0.3782,0.37843,0.37864,0.3788,0.3789,0.37899,0.37913,0.37928,0.37943,0.37954,0.3796,0.37957,0.37949,0.37937,0.37923,0.37911,0.37903,0.37897,0.37891,0.37884,0.37876,0.37868,0.37858,0.37848,0.37837,0.37825,0.37812,0.37798,0.37783,0.37767,0.37751,0.37735,0.37717,0.37695,0.37671,0.37648,0.37626,0.37609,0.37593,0.37576,0.37558,0.37539,0.37521,0.37504,0.37488,0.37476,0.37466,0.37459,0.37454,0.3745,0.37448,0.37446,0.37446,0.3745,0.37459,0.37471,0.37485,0.37497,0.37505,0.37512,0.37518,0.37526,0.37533,0.37541,0.37549,0.37557,0.37565,0.37572,0.37579,0.37585,0.3759,0.37596,0.37602,0.37611,0.37619,0.37627,0.37636,0.37645,0.37655,0.37667,0.37681,0.37697,0.37713,0.37731,0.37748,0.37764,0.37783,0.37805,0.37828,0.37852,0.37874,0.37891,0.37906,0.37922,0.37938,0.37954,0.37969,0.37982,0.37993,0.38002,0.38009,0.38015,0.38022,0.38031,0.3804,0.38046,0.3805,0.38053,0.38056,0.3806,0.38065,0.38071,0.38081,0.38091,0.38098,0.38105,0.38113,0.38124,0.3814,0.38158,0.38175,0.38192,0.38211,0.38234,0.38262,0.38277,0.38266,0.3824,0.38208,0.38179,0.38165,0.38173,0.38215,0.383,0.38395,0.38472,0.3855,0.38647,0.38781,0.38972,0.3923,0.39539,0.39882,0.40242,0.40602,0.40943,0.41318,0.41775,0.4229,0.4284,0.434,0.43948,0.44458,0.44909,0.45275,0.45623,0.46013,0.46414,0.46795,0.47125,0.47373,0.47534,0.47636,0.47696,0.47731,0.47759,0.47796,0.47783,0.47674,0.47509,0.47329,0.47175,0.47086,0.47009,0.4688,0.46723,0.46566,0.46435,0.46354,0.4631,0.46268,0.4623,0.46198,0.46173,0.46156,0.46164,0.46203,0.46259,0.46319,0.46368,0.46391,0.46408,0.4644,0.46483,0.46531,0.46578,0.46619,0.46649,0.46662,0.46652,0.46623,0.46581,0.46531,0.46475,0.46418,0.46362,0.46292,0.46197,0.46088,0.45975,0.45871,0.45786,0.45705,0.4561,0.45505,0.45397,0.45288,0.45185,0.45092,0.45013,0.44955,0.44911,0.44873,0.4484,0.44813,0.44792,0.44775,0.44771,0.44785,0.44809,0.44837,0.44863,0.44881,0.44901,0.44937,0.44984,0.45036,0.45091,0.45142,0.45187,0.45219,0.45235,0.45241,0.45247,0.45251,0.45253,0.4525,0.45243,0.45224,0.4519,0.45148,0.45104,0.45064,0.45034,0.45002,0.44958,0.44907,0.44856,0.44811,0.44779,0.44754,0.44726,0.44698,0.44671,0.44647,0.44629,0.44623,0.44631,0.44648,0.44666,0.44678,0.44678,0.44672,0.4467,0.44668,0.44666,0.44662,0.44654,0.44646,0.4464,0.44637,0.44633,0.44628,0.4462,0.44607,0.44589,0.44563,0.44531,0.44496,0.44458,0.44417,0.44372,0.44323,0.44274,0.44226,0.44176,0.44123,0.44065,0.43999,0.43937,0.43887,0.43842,0.43797,0.43746,0.43683,0.43602,0.43498,0.43364,0.43205,0.43032,0.42846,0.42649,0.42443,0.42229,0.41978,0.41677,0.41347,0.41014,0.407,0.4043,0.40165,0.39858,0.39523,0.39175,0.38829,0.38499,0.38198,0.37942,0.37744,0.37591,0.37455,0.37337,0.37235,0.37148,0.37075,0.3705,0.37092,0.37172,0.37265,0.37345,0.37385,0.37415,0.37475,0.37559,0.37657,0.3776,0.37862,0.37952,0.38023,0.38066,0.38089,0.38103,0.38112,0.38116,0.38117,0.38116,0.3811,0.38094,0.38072,0.38047,0.38022,0.38001,0.37978,0.37948,0.37911,0.37871,0.37829,0.37787,0.37748,0.37713,0.37684,0.37655,0.37619,0.37581,0.37545,0.37513,0.37491,0.37475,0.3746,0.37448,0.37438,0.3743,0.37428,0.37434,0.37446,0.37462,0.37481,0.37499,0.37516,0.3753,0.37538,0.37546,0.37556,0.37568,0.3758,0.37588,0.37593,0.37591,0.37586,0.37578,0.3757,0.37563,0.37559,0.37555,0.37549,0.37542,0.37533,0.37525,0.37517,0.37512,0.37509,0.3751,0.37515,0.37525,0.37536,0.37548,0.37559,0.37566,0.37574,0.37584,0.37596,0.37608,0.37618,0.37625,0.37631,0.37636,0.37642,0.37648,0.37653,0.37657,0.37658,0.37656,0.37651,0.37646,0.37643,0.37643,0.37644,0.37641,0.37636,0.37632,0.3763,0.37633,0.37642,0.37655,0.37671,0.37688,0.37703,0.37714,0.37724,0.37737,0.37751,0.37766,0.37781,0.37795,0.37808,0.37819,0.37827,0.37831,0.37831,0.37828,0.37826,0.37825,0.37828,0.37831,0.37832,0.37831,0.37831,0.37832,0.37836,0.37843,0.3785,0.37858,0.37867,0.37876,0.37885,0.37895,0.37906,0.37916,0.3793,0.37948,0.37968,0.37988,0.38006,0.38021,0.3803,0.38035,0.38038,0.38042,0.38047,0.38058,0.38049,0.38004,0.37935,0.37856,0.3778,0.37721,0.37692,0.37706,0.37776,0.37866,0.37944,0.38026,0.38129,0.38271,0.38468,0.38745,0.39094,0.39487,0.39896,0.40293,0.4065,0.41027,0.4149,0.42012,0.42569,0.43135,0.43684,0.44191,0.44631,0.44978,0.45288,0.4562,0.45952,0.46261,0.46527,0.46728,0.46837,0.46864,0.46839,0.46789,0.46746,0.46737,0.46717,0.46632,0.46498,0.46333,0.46152,0.45973,0.45811,0.45684,0.45608,0.45565,0.45524,0.45488,0.45454,0.45424,0.45397,0.45386,0.45394,0.45414,0.45437,0.45452,0.45452,0.45442,0.45435,0.4543,0.45427,0.45424,0.45421,0.45416,0.4541,0.45402,0.45387,0.45367,0.45343,0.45319,0.45298,0.45282,0.45269,0.45255,0.4524,0.45225,0.45211,0.45197,0.45187,0.45181,0.45177,0.45176,0.45175,0.45175,0.45173,0.4517,0.45163,0.45154,0.45146,0.45138,0.45128,0.45118,0.45107,0.45089,0.45062,0.45031,0.45,0.44973,0.44955,0.44942,0.44931,0.44921,0.44912,0.44904,0.44896,0.44891,0.44889,0.44889,0.4489,0.44891,0.4489,0.44888,0.44887,0.44886,0.44885,0.44885,0.44886,0.44894,0.44911,0.44931,0.44951,0.44965,0.44969,0.44965,0.44958,0.4495,0.4494,0.44928,0.44916,0.44902,0.44888,0.44874,0.44861,0.4485,0.4484,0.44827,0.44812,0.44791,0.44769,0.44747,0.44725,0.447,0.44672,0.44637,0.446,0.44565,0.44531,0.44495,0.44457,0.44414,0.44366,0.44311,0.44247,0.44185,0.4413,0.44076,0.44014,0.43936,0.43835,0.43716,0.43586,0.43447,0.433,0.43146,0.42985,0.42812,0.42623,0.42417,0.42194,0.41955,0.41699,0.41427,0.41139,0.40834,0.40557,0.40334,0.40142,0.39955,0.3975,0.39501,0.39233,0.38984,0.38757,0.38551,0.38367,0.38205,0.38055,0.37905,0.3776,0.37621,0.37492,0.37376,0.37276,0.37195,0.37135,0.3711,0.37119,0.3715,0.37188,0.3722,0.37232,0.37247,0.37286,0.3734,0.37396,0.37443,0.37469,0.37483,0.375,0.37519,0.37538,0.37557,0.37573,0.37586,0.37595,0.37597,0.3759,0.37572,0.37549,0.37525,0.37504,0.3749,0.37478,0.37461,0.37441,0.37421,0.37404,0.37392,0.37384,0.37378,0.37372,0.37368,0.37364,0.3736,0.37357,0.37352,0.37347,0.37342,0.37338,0.37334,0.3733,0.37326,0.37322,0.37319,0.37315,0.37312,0.37309,0.37306,0.37303,0.37299,0.37295,0.37291,0.37287,0.37283,0.37278,0.37274,0.37269,0.37269],"name":"Smoothed GCC","showlegend":true,"type":"scatter","mode":"line","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-04-04","2008-04-07","2008-04-10","2008-04-13","2008-04-16","2008-04-19","2008-04-22","2008-04-25","2008-04-28","2008-05-01","2008-05-04","2008-05-07","2008-05-10","2008-05-13","2008-05-16","2008-05-19","2008-05-22","2008-05-25","2008-05-28","2008-05-31","2008-06-03","2008-06-06","2008-06-09","2008-06-12","2008-06-15","2008-06-18","2008-06-21","2008-06-24","2008-06-27","2008-06-30","2008-07-03","2008-07-06","2008-07-09","2008-07-12","2008-07-15","2008-07-18","2008-07-21","2008-07-24","2008-07-27","2008-07-30","2008-08-02","2008-08-05","2008-08-08","2008-08-11","2008-08-14","2008-08-17","2008-08-20","2008-08-23","2008-08-26","2008-08-29","2008-09-01","2008-09-04","2008-09-07","2008-09-10","2008-09-13","2008-09-16","2008-09-19","2008-09-22","2008-09-25","2008-09-28","2008-10-01","2008-10-04","2008-10-07","2008-10-10","2008-10-13","2008-10-16","2008-10-19","2008-10-22","2008-10-25","2008-10-28","2008-10-31","2008-11-03","2008-11-06","2008-11-09","2008-11-12","2008-11-15","2008-11-18","2008-11-21","2008-11-24","2008-11-27","2008-11-30","2008-12-03","2008-12-06","2008-12-09","2008-12-12","2008-12-15","2008-12-18","2008-12-21","2008-12-24","2008-12-27","2008-12-30","2009-01-02","2009-01-05","2009-01-08","2009-01-11","2009-01-14","2009-01-17","2009-01-20","2009-01-23","2009-01-26","2009-01-29","2009-02-01","2009-02-04","2009-02-07","2009-02-10","2009-02-13","2009-02-16","2009-02-19","2009-02-22","2009-02-25","2009-02-28","2009-03-03","2009-03-06","2009-03-09","2009-03-12","2009-03-15","2009-03-18","2009-03-21","2009-03-24","2009-03-27","2009-03-30","2009-04-02","2009-04-05","2009-04-08","2009-04-11","2009-04-14","2009-04-17","2009-04-20","2009-04-23","2009-04-26","2009-04-29","2009-05-02","2009-05-05","2009-05-08","2009-05-11","2009-05-14","2009-05-17","2009-05-20","2009-05-23","2009-05-26","2009-05-29","2009-06-01","2009-06-04","2009-06-07","2009-06-10","2009-06-13","2009-06-16","2009-06-19","2009-06-22","2009-06-25","2009-06-28","2009-07-01","2009-07-04","2009-07-07","2009-07-10","2009-07-13","2009-07-16","2009-07-19","2009-07-22","2009-07-25","2009-07-28","2009-07-31","2009-08-03","2009-08-06","2009-08-09","2009-08-12","2009-08-15","2009-08-18","2009-08-21","2009-08-24","2009-08-27","2009-08-30","2009-09-02","2009-09-05","2009-09-08","2009-09-11","2009-09-14","2009-09-17","2009-09-20","2009-09-23","2009-09-26","2009-09-29","2009-10-02","2009-10-05","2009-10-08","2009-10-11","2009-10-14","2009-10-17","2009-10-20","2009-10-23","2009-10-26","2009-10-29","2009-11-01","2009-11-04","2009-11-07","2009-11-10","2009-11-13","2009-11-16","2009-11-19","2009-11-22","2009-11-25","2009-11-28","2009-12-01","2009-12-04","2009-12-07","2009-12-10","2009-12-13","2009-12-16","2009-12-19","2009-12-22","2009-12-25","2009-12-28","2009-12-31","2010-01-02","2010-01-05","2010-01-08","2010-01-11","2010-01-14","2010-01-17","2010-01-20","2010-01-23","2010-01-26","2010-01-29","2010-02-01","2010-02-04","2010-02-07","2010-02-10","2010-02-13","2010-02-16","2010-02-19","2010-02-22","2010-02-25","2010-02-28","2010-03-03","2010-03-06","2010-03-09","2010-03-12","2010-03-15","2010-03-18","2010-03-21","2010-03-24","2010-03-27","2010-03-30","2010-04-02","2010-04-05","2010-04-08","2010-04-11","2010-04-14","2010-04-17","2010-04-20","2010-04-23","2010-04-26","2010-04-29","2010-05-02","2010-05-05","2010-05-11","2010-05-14","2010-05-17","2010-05-20","2010-05-23","2010-05-26","2010-05-29","2010-06-01","2010-06-04","2010-06-07","2010-06-10","2010-06-13","2010-06-16","2010-06-19","2010-06-22","2010-06-25","2010-06-28","2010-07-01","2010-07-04","2010-07-07","2010-07-10","2010-07-13","2010-07-16","2010-07-19","2010-07-22","2010-07-25","2010-07-28","2010-07-31","2010-08-03","2010-08-06","2010-08-09","2010-08-12","2010-08-15","2010-08-18","2010-08-21","2010-08-24","2010-08-27","2010-08-30","2010-09-02","2010-09-05","2010-09-08","2010-09-11","2010-09-14","2010-09-17","2010-09-20","2010-09-23","2010-09-26","2010-09-29","2010-10-02","2010-10-05","2010-10-08","2010-10-11","2010-10-14","2010-10-17","2010-10-20","2010-10-23","2010-10-26","2010-10-29","2010-11-01","2010-11-04","2010-11-07","2010-11-10","2010-11-13","2010-11-16","2010-11-19","2010-11-22","2010-11-25","2010-11-28","2010-12-01","2010-12-04","2010-12-07","2010-12-10","2010-12-13","2010-12-16","2010-12-19","2010-12-22","2010-12-25","2010-12-28","2010-12-31","2011-01-02","2011-01-05","2011-01-08","2011-01-11","2011-01-14","2011-01-17","2011-01-20","2011-01-23","2011-01-26","2011-01-29","2011-02-01","2011-02-04","2011-02-07","2011-02-10","2011-02-13","2011-02-16","2011-02-19","2011-02-22","2011-02-25","2011-02-28","2011-03-03","2011-03-06","2011-03-09","2011-03-12","2011-03-15","2011-03-18","2011-03-21","2011-03-24","2011-03-27","2011-03-30","2011-04-02","2011-04-05","2011-04-08","2011-04-11","2011-04-14","2011-04-17","2011-04-20","2011-04-23","2011-04-26","2011-04-29","2011-05-02","2011-05-05","2011-05-08","2011-05-11","2011-05-14","2011-05-17","2011-05-20","2011-05-23","2011-05-26","2011-05-29","2011-06-01","2011-06-04","2011-06-07","2011-06-10","2011-06-13","2011-06-16","2011-06-19","2011-06-22","2011-06-25","2011-06-28","2011-07-01","2011-07-04","2011-07-07","2011-07-10","2011-07-13","2011-07-16","2011-07-19","2011-07-22","2011-07-25","2011-07-28","2011-07-31","2011-08-03","2011-08-06","2011-08-09","2011-08-12","2011-08-15","2011-08-18","2011-08-21","2011-08-24","2011-08-27","2011-08-30","2011-09-02","2011-09-05","2011-09-08","2011-09-11","2011-09-14","2011-09-17","2011-09-20","2011-09-23","2011-09-26","2011-09-29","2011-10-02","2011-10-05","2011-10-08","2011-10-11","2011-10-14","2011-10-17","2011-10-20","2011-10-23","2011-10-26","2011-10-29","2011-11-01","2011-11-04","2011-11-07","2011-11-10","2011-11-13","2011-11-16","2011-11-19","2011-11-22","2011-11-25","2011-11-28","2011-12-01","2011-12-04","2011-12-07","2011-12-10","2011-12-13","2011-12-16","2011-12-19","2011-12-22","2011-12-25","2011-12-28","2011-12-31","2012-01-02","2012-01-05","2012-01-08","2012-01-11","2012-01-14","2012-01-17","2012-01-20","2012-01-23","2012-01-26","2012-01-29","2012-02-01","2012-02-04","2012-02-07","2012-02-10","2012-02-13","2012-02-16","2012-02-19","2012-02-22","2012-02-25","2012-02-28","2012-03-02","2012-03-05","2012-03-08","2012-03-11","2012-03-14","2012-03-17","2012-03-20","2012-03-23","2012-03-26","2012-03-29","2012-04-01","2012-04-04","2012-04-07","2012-04-10","2012-04-13","2012-04-16","2012-04-19","2012-04-22","2012-04-25","2012-04-28","2012-05-01","2012-05-04","2012-05-07","2012-05-10","2012-05-13","2012-05-16","2012-05-19","2012-05-22","2012-05-25","2012-05-28","2012-05-31","2012-06-03","2012-06-06","2012-06-09","2012-06-12","2012-06-15","2012-06-18","2012-06-21","2012-06-24","2012-06-27","2012-06-30","2012-07-03","2012-07-06","2012-07-09","2012-07-12","2012-07-15","2012-07-18","2012-07-21","2012-07-24","2012-07-27","2012-07-30","2012-08-02","2012-08-05","2012-08-08","2012-08-11","2012-08-14","2012-08-17","2012-08-20","2012-08-23","2012-08-26","2012-08-29","2012-09-01","2012-09-04","2012-09-07","2012-09-10","2012-09-13","2012-09-16","2012-09-19","2012-09-22","2012-09-25","2012-09-28","2012-10-01","2012-10-04","2012-10-07","2012-10-10","2012-10-13","2012-10-16","2012-10-19","2012-10-22","2012-10-25","2012-10-28","2012-10-31","2012-11-03","2012-11-06","2012-11-09","2012-11-12","2012-11-15","2012-11-18","2012-11-21","2012-11-24","2012-11-27","2012-11-30","2012-12-03","2012-12-06","2012-12-09","2012-12-12","2012-12-15","2012-12-18","2012-12-21","2012-12-24","2012-12-27","2012-12-30","2013-01-02","2013-01-05","2013-01-08","2013-01-11","2013-01-14","2013-01-17","2013-01-20","2013-01-23","2013-01-26","2013-01-29","2013-02-01","2013-02-04","2013-02-07","2013-02-10","2013-02-13","2013-02-16","2013-02-19","2013-02-22","2013-02-25","2013-02-28","2013-03-03","2013-03-06","2013-03-09","2013-03-12","2013-03-15","2013-03-18","2013-03-21","2013-03-24","2013-03-27","2013-03-30","2013-04-02","2013-04-05","2013-04-08","2013-04-11","2013-04-14","2013-04-17","2013-04-20","2013-04-23","2013-04-26","2013-04-29","2013-05-02","2013-05-05","2013-05-08","2013-05-11","2013-05-14","2013-05-17","2013-05-20","2013-05-23","2013-05-26","2013-05-29","2013-06-01","2013-06-04","2013-06-07","2013-06-10","2013-06-13","2013-06-16","2013-06-19","2013-06-22","2013-06-25","2013-06-28","2013-07-01","2013-07-04","2013-07-07","2013-07-10","2013-07-13","2013-07-16","2013-07-19","2013-07-22","2013-07-25","2013-07-28","2013-07-31","2013-08-03","2013-08-06","2013-08-09","2013-08-12","2013-08-15","2013-08-18","2013-08-21","2013-08-24","2013-08-27","2013-08-30","2013-09-02","2013-09-05","2013-09-08","2013-09-11","2013-09-14","2013-09-17","2013-09-20","2013-09-23","2013-09-26","2013-09-29","2013-10-02","2013-10-05","2013-10-08","2013-10-11","2013-10-14","2013-10-17","2013-10-20","2013-10-23","2013-10-26","2013-10-29","2013-11-01","2013-11-04","2013-11-07","2013-11-10","2013-11-13","2013-11-16","2013-11-19","2013-11-22","2013-11-25","2013-11-28","2013-12-01","2013-12-04","2013-12-07","2013-12-10","2013-12-13","2013-12-16","2013-12-19","2013-12-22","2013-12-25","2013-12-28","2013-12-31","2014-01-02","2014-01-05","2014-01-08","2014-01-11","2014-01-14","2014-01-17","2014-01-20","2014-01-23","2014-01-26","2014-01-29","2014-02-01","2014-02-04","2014-02-07","2014-02-10","2014-02-13","2014-02-16","2014-02-19","2014-02-22","2014-02-25","2014-02-28","2014-03-03","2014-03-06","2014-03-09","2014-03-12","2014-03-15","2014-03-18","2014-03-21","2014-03-24","2014-03-27","2014-03-30","2014-04-02","2014-04-05","2014-04-08","2014-04-11","2014-04-14","2014-04-17","2014-04-20","2014-04-23","2014-04-26","2014-04-29","2014-05-02","2014-05-05","2014-05-08","2014-05-11","2014-05-14","2014-05-17","2014-05-20","2014-05-23","2014-05-26","2014-05-29","2014-06-01","2014-06-04","2014-06-07","2014-06-10","2014-06-13","2014-06-16","2014-06-19","2014-06-22","2014-06-25","2014-06-28","2014-07-01","2014-07-04","2014-07-07","2014-07-10","2014-07-13","2014-07-16","2014-07-19","2014-07-22","2014-07-25","2014-07-28","2014-07-31","2014-08-03","2014-08-06","2014-08-09","2014-08-12","2014-08-15","2014-08-18","2014-08-21","2014-08-24","2014-08-27","2014-08-30","2014-09-02","2014-09-05","2014-09-08","2014-09-11","2014-09-14","2014-09-17","2014-09-20","2014-09-23","2014-09-26","2014-09-29","2014-10-02","2014-10-05","2014-10-08","2014-10-11","2014-10-14","2014-10-17","2014-10-20","2014-10-23","2014-10-26","2014-10-29","2014-11-01","2014-11-04","2014-11-07","2014-11-10","2014-11-13","2014-11-16","2014-11-19","2014-11-22","2014-11-25","2014-12-01","2014-12-04","2014-12-07","2014-12-10","2014-12-13","2014-12-16","2014-12-19","2014-12-22","2014-12-25","2014-12-28","2014-12-31","2015-01-02","2015-01-05","2015-01-08","2015-01-11","2015-01-14","2015-01-17","2015-01-20","2015-01-23","2015-01-26","2015-01-29","2015-02-01","2015-02-04","2015-02-07","2015-02-10","2015-02-13","2015-02-16","2015-02-19","2015-02-22","2015-02-25","2015-02-28","2015-03-03","2015-03-06","2015-03-09","2015-03-12","2015-03-15","2015-03-18","2015-03-21","2015-03-24","2015-03-27","2015-03-30","2015-04-02","2015-04-05","2015-04-08","2015-04-11","2015-04-14","2015-04-17","2015-04-20","2015-04-23","2015-04-26","2015-04-29","2015-05-02","2015-05-05","2015-05-08","2015-05-11","2015-05-14","2015-05-17","2015-05-20","2015-05-23","2015-05-26","2015-05-29","2015-06-01","2015-06-04","2015-06-07","2015-06-10","2015-06-13","2015-06-16","2015-06-19","2015-06-22","2015-06-25","2015-06-28","2015-07-01","2015-07-04","2015-07-07","2015-07-10","2015-07-13","2015-07-16","2015-07-19","2015-07-22","2015-07-25","2015-07-28","2015-07-31","2015-08-03","2015-08-06","2015-08-09","2015-08-12","2015-08-15","2015-08-18","2015-08-21","2015-08-24","2015-08-27","2015-08-30","2015-09-02","2015-09-05","2015-09-08","2015-09-11","2015-09-14","2015-09-17","2015-09-20","2015-09-23","2015-09-26","2015-09-29","2015-10-02","2015-10-05","2015-10-08","2015-10-11","2015-10-14","2015-10-17","2015-10-20","2015-10-23","2015-10-26","2015-10-29","2015-11-01","2015-11-04","2015-11-07","2015-11-10","2015-11-13","2015-11-16","2015-11-19","2015-11-22","2015-11-25","2015-11-28","2015-12-01","2015-12-04","2015-12-07","2015-12-10","2015-12-13","2015-12-16","2015-12-19","2015-12-22","2015-12-25","2015-12-28","2015-12-31","2016-01-02","2016-01-05","2016-01-08","2016-01-11","2016-01-14","2016-01-17","2016-01-20","2016-01-23","2016-01-26","2016-01-29","2016-02-01","2016-02-04","2016-02-07","2016-02-10","2016-02-13","2016-02-16","2016-02-19","2016-02-22","2016-02-25","2016-02-28","2016-03-02","2016-03-05","2016-03-08","2016-03-11","2016-03-14","2016-03-17","2016-03-20","2016-03-23","2016-03-26","2016-03-29","2016-04-01","2016-04-04","2016-04-07","2016-04-10","2016-04-13","2016-04-16","2016-04-19","2016-04-22","2016-04-25","2016-04-28","2016-05-01","2016-05-04","2016-05-07","2016-05-10","2016-05-13","2016-05-16","2016-05-19","2016-05-22","2016-05-25","2016-05-28","2016-05-31","2016-06-03","2016-06-06","2016-06-09","2016-06-12","2016-06-15","2016-06-18","2016-06-21","2016-06-24","2016-06-27","2016-06-30","2016-07-03","2016-07-06","2016-07-09","2016-07-12","2016-07-15","2016-07-18","2016-07-21","2016-07-24","2016-07-27","2016-07-30","2016-08-02","2016-08-05","2016-08-08","2016-08-11","2016-08-14","2016-08-17","2016-08-20","2016-08-23","2016-08-26","2016-08-29","2016-09-01","2016-09-04","2016-09-07","2016-09-10","2016-09-13","2016-09-16","2016-09-19","2016-09-22","2016-09-25","2016-09-28","2016-10-01","2016-10-04","2016-10-07","2016-10-10","2016-10-13","2016-10-16","2016-10-19","2016-10-22","2016-10-25","2016-10-28","2016-10-31","2016-11-03","2016-11-06","2016-11-09","2016-11-12","2016-11-15","2016-11-18","2016-11-21","2016-11-24","2016-11-27","2016-11-30","2016-12-03","2016-12-06","2016-12-09","2016-12-12","2016-12-15","2016-12-18","2016-12-21","2016-12-24","2016-12-27","2016-12-30","2017-01-02","2017-01-05","2017-01-08","2017-01-11","2017-01-14","2017-01-17","2017-01-20","2017-01-23","2017-01-26","2017-01-29","2017-02-01","2017-02-04","2017-02-07","2017-02-10","2017-02-13","2017-02-16","2017-02-19","2017-02-22","2017-02-25","2017-02-28","2017-03-03","2017-03-06","2017-03-09","2017-03-12","2017-03-15","2017-03-18","2017-03-21","2017-03-24","2017-03-27","2017-03-30","2017-04-02","2017-04-05","2017-04-08","2017-04-11","2017-04-14","2017-04-17","2017-04-20","2017-04-23","2017-04-26","2017-04-29","2017-05-02","2017-05-05","2017-05-08","2017-05-11","2017-05-14","2017-05-17","2017-05-20","2017-05-23","2017-05-26","2017-05-29","2017-06-01","2017-06-04","2017-06-07","2017-06-10","2017-06-13","2017-06-16","2017-06-19","2017-06-22","2017-06-25","2017-06-28","2017-07-01","2017-07-04","2017-07-07","2017-07-10","2017-07-13","2017-07-16","2017-07-19","2017-07-22","2017-07-25","2017-07-28","2017-07-31","2017-08-03","2017-08-06","2017-08-09","2017-08-12","2017-08-15","2017-08-18","2017-08-21","2017-08-24","2017-08-27","2017-08-30","2017-09-02","2017-09-05","2017-09-08","2017-09-11","2017-09-14","2017-09-17","2017-09-20","2017-09-23","2017-09-26","2017-09-29","2017-10-02","2017-10-05","2017-10-08","2017-10-11","2017-10-14","2017-10-17","2017-10-20","2017-10-23","2017-10-26","2017-10-29","2017-11-01","2017-11-04","2017-11-07","2017-11-10","2017-11-13","2017-11-16","2017-11-19","2017-11-22","2017-11-25","2017-11-28","2017-12-01","2017-12-04","2017-12-07","2017-12-10","2017-12-13","2017-12-16","2017-12-19","2017-12-22","2017-12-25","2017-12-28","2017-12-31","2018-01-02","2018-01-05","2018-01-08","2018-01-11","2018-01-14","2018-01-17","2018-01-20","2018-01-23","2018-01-26","2018-01-29","2018-02-01","2018-02-04","2018-02-07","2018-02-10","2018-02-13","2018-02-16","2018-02-19","2018-02-22","2018-02-25","2018-02-28","2018-03-03","2018-03-06","2018-03-09","2018-03-12","2018-03-15","2018-03-18","2018-03-21","2018-03-24","2018-03-27","2018-03-30","2018-04-02","2018-04-05","2018-04-08","2018-04-11","2018-04-14","2018-04-17","2018-04-20","2018-04-23","2018-04-26","2018-04-29","2018-05-02","2018-05-05","2018-05-08","2018-05-11","2018-05-14","2018-05-17","2018-05-20","2018-05-23","2018-05-26","2018-05-29","2018-06-01","2018-06-04","2018-06-07","2018-06-10","2018-06-13","2018-06-16","2018-06-19","2018-06-22","2018-06-25","2018-06-28","2018-07-01","2018-07-04","2018-07-07","2018-07-10","2018-07-13","2018-07-16","2018-07-19","2018-07-22","2018-07-25","2018-07-28","2018-07-31","2018-08-03","2018-08-06","2018-08-09","2018-08-12","2018-08-15","2018-08-18","2018-08-21","2018-08-24","2018-08-27","2018-08-30","2018-09-02","2018-09-05","2018-09-08","2018-09-11","2018-09-14","2018-09-17","2018-09-20","2018-09-23","2018-09-26","2018-09-29","2018-10-02","2018-10-05","2018-10-08","2018-10-11","2018-10-14","2018-10-17","2018-10-20","2018-10-23","2018-10-26","2018-10-29","2018-11-01","2018-11-04","2018-11-07","2018-11-10","2018-11-13","2018-11-28","2018-12-01","2018-12-04","2018-12-07","2018-12-10","2018-12-13","2018-12-16","2018-12-19","2018-12-22","2018-12-25","2018-12-28","2018-12-31","2019-01-02","2019-01-05","2019-01-08","2019-01-11","2019-01-14","2019-01-17","2019-01-20","2019-01-23","2019-01-29","2019-02-01","2019-02-04","2019-02-07","2019-02-10","2019-02-13","2019-02-16","2019-02-19","2019-02-22","2019-02-25","2019-02-28","2019-03-03","2019-03-06","2019-03-09","2019-03-12","2019-03-15","2019-03-18","2019-03-21","2019-03-24","2019-03-27","2019-03-30","2019-04-02","2019-04-05","2019-04-08","2019-04-11","2019-04-14","2019-04-17","2019-04-20","2019-04-23","2019-04-26","2019-04-29","2019-05-02","2019-05-05","2019-05-08","2019-05-11","2019-05-14","2019-05-17","2019-05-20","2019-05-23","2019-05-26","2019-05-29","2019-06-01","2019-06-04","2019-06-07","2019-06-10","2019-06-13","2019-06-16","2019-06-19","2019-06-22","2019-06-25","2019-06-28","2019-07-01","2019-07-04","2019-07-07","2019-07-10","2019-07-13","2019-07-16","2019-07-19","2019-07-22","2019-07-25","2019-07-28","2019-07-31","2019-08-03","2019-08-06","2019-08-09","2019-08-12","2019-08-15","2019-08-18","2019-08-21","2019-08-24","2019-08-27","2019-08-30","2019-09-02","2019-09-05","2019-09-08","2019-09-11","2019-09-14","2019-09-17","2019-09-20","2019-09-23","2019-09-26","2019-09-29","2019-10-02","2019-10-05","2019-10-08","2019-10-11","2019-10-14","2019-10-17","2019-10-23","2019-10-26","2019-10-29","2019-11-01","2019-11-04","2019-11-07","2019-11-10","2019-11-13","2019-11-16","2019-11-19","2019-11-22","2019-11-25","2019-11-28","2019-12-01","2019-12-04","2019-12-07","2019-12-10","2019-12-13","2019-12-16","2019-12-19","2019-12-22","2019-12-25","2019-12-28","2019-12-31","2020-01-02","2020-01-05","2020-01-08","2020-01-11","2020-01-14","2020-01-17","2020-01-20","2020-01-23","2020-01-26","2020-01-29","2020-02-01","2020-02-04","2020-02-07","2020-02-10","2020-02-13","2020-02-16","2020-02-19","2020-02-22","2020-02-25","2020-02-28","2020-03-02","2020-03-05","2020-03-08","2020-03-11","2020-03-14","2020-03-17","2020-03-20","2020-03-23","2020-03-26","2020-03-29","2020-04-01","2020-04-04","2020-04-07","2020-04-10","2020-04-13","2020-04-16","2020-04-19","2020-05-04","2020-05-07","2020-05-10","2020-05-13","2020-05-16","2020-05-19","2020-05-22","2020-05-25","2020-05-28","2020-05-31","2020-06-03","2020-06-06","2020-06-09","2020-06-12","2020-06-15","2020-06-18","2020-06-21","2020-06-24","2020-06-27","2020-06-30","2020-07-03","2020-07-06","2020-07-09","2020-07-12","2020-07-15","2020-07-18","2020-07-21","2020-07-24","2020-07-27","2020-07-30","2020-08-02","2020-08-05","2020-08-08","2020-08-11","2020-08-14","2020-08-17","2020-08-20","2020-08-23","2020-08-26","2020-08-29","2020-09-01","2020-09-04","2020-09-07","2020-09-10","2020-09-13","2020-09-16","2020-09-19","2020-09-22","2020-09-25","2020-09-28","2020-10-01","2020-10-04","2020-10-07","2020-10-10","2020-10-13","2020-10-16","2020-10-19","2020-10-22","2020-10-25","2020-10-28","2020-10-31","2020-11-03","2020-11-06","2020-11-09","2020-11-12","2020-11-15","2020-11-18","2020-11-21","2020-11-24","2020-11-27","2020-11-30","2020-12-03","2020-12-06","2020-12-09","2020-12-12","2020-12-15","2020-12-18","2020-12-21","2020-12-24","2020-12-27","2020-12-30","2021-01-02","2021-01-05","2021-01-08","2021-01-11","2021-01-14","2021-01-17","2021-01-20","2021-01-23","2021-01-26","2021-01-29","2021-02-01","2021-02-04","2021-02-07","2021-02-10","2021-02-13","2021-02-16","2021-02-19","2021-02-22","2021-02-25","2021-02-28","2021-03-03","2021-03-06","2021-03-09","2021-03-12","2021-03-15","2021-03-18","2021-03-21","2021-03-24","2021-03-27","2021-03-30","2021-04-02","2021-04-05","2021-04-08","2021-04-11","2021-04-14","2021-04-17","2021-04-20","2021-04-23","2021-04-26","2021-04-29","2021-05-02","2021-05-05","2021-05-08","2021-05-11","2021-05-14","2021-05-17","2021-05-20","2021-05-23","2021-05-26","2021-05-29","2021-06-01","2021-06-04","2021-06-07","2021-06-10","2021-06-13","2021-06-16","2021-06-19","2021-06-22","2021-06-25","2021-06-28","2021-07-01","2021-07-04","2021-07-07","2021-07-10","2021-07-13","2021-07-16","2021-07-19","2021-07-22","2021-07-25","2021-07-28","2021-07-31","2021-08-03","2021-08-06","2021-08-09","2021-08-12","2021-08-15","2021-08-18","2021-08-21","2021-08-24","2021-08-27","2021-08-30","2021-09-02","2021-09-05","2021-09-08","2021-09-11","2021-09-14","2021-09-17","2021-09-20","2021-09-23","2021-09-26","2021-09-29","2021-10-02","2021-10-05","2021-10-08","2021-10-11","2021-10-14","2021-10-17","2021-10-20","2021-10-23","2021-10-26","2021-10-29","2021-11-01","2021-11-04","2021-11-07","2021-11-10","2021-11-13","2021-11-16","2021-11-19","2021-11-22","2021-11-25","2021-11-28","2021-12-01","2021-12-04","2021-12-07","2021-12-10","2021-12-13","2021-12-16","2021-12-19","2021-12-22","2021-12-25","2021-12-28","2021-12-31","2022-01-02","2022-01-05","2022-01-08","2022-01-11","2022-01-14","2022-01-17","2022-01-20","2022-01-23","2022-01-26","2022-01-29","2022-02-01","2022-02-04","2022-02-07","2022-02-10","2022-02-13","2022-02-16","2022-02-19","2022-02-22","2022-02-25","2022-02-28","2022-03-03","2022-03-06","2022-03-09","2022-03-12","2022-03-15","2022-03-18","2022-03-21","2022-03-24","2022-03-27","2022-03-30","2022-04-02","2022-04-05","2022-04-08","2022-04-11","2022-04-14","2022-04-17","2022-04-20","2022-04-23","2022-04-26","2022-04-29","2022-05-02","2022-05-05","2022-05-08","2022-05-11","2022-05-14","2022-05-17","2022-05-20","2022-05-23","2022-05-26","2022-05-29","2022-06-01","2022-06-04","2022-06-07","2022-06-10","2022-06-13","2022-06-16","2022-06-19","2022-06-22","2022-06-25","2022-06-28","2022-07-01","2022-07-04","2022-07-07","2022-07-10","2022-07-13","2022-07-16","2022-07-19","2022-07-22","2022-07-25","2022-07-28","2022-07-31","2022-08-03","2022-08-06","2022-08-09","2022-08-12","2022-08-15","2022-08-18","2022-08-21","2022-08-24","2022-08-27","2022-08-30","2022-09-02","2022-09-05","2022-09-08","2022-09-11","2022-09-14","2022-09-17","2022-09-20","2022-09-23","2022-09-26","2022-09-29","2022-10-02","2022-10-05","2022-10-08","2022-10-11"],"y":[0.35984,0.36496,0.36583,0.36443,0.36946,0.37083,0.37055,0.37201,0.37095,0.3701,0.37184,0.39177,0.40051,0.41292,0.42653,0.43531,0.43907,0.44746,0.4593,0.47018,0.46655,0.47009,0.45292,0.44304,0.4517,0.44444,0.44606,0.45674,0.45301,0.44471,0.44664,0.44765,0.44063,0.43926,0.44165,0.43806,0.4434,0.44777,0.43538,0.43613,0.43782,0.43793,0.43836,0.43771,0.43415,0.43418,0.43041,0.43195,0.43379,0.43708,0.43347,0.43324,0.43644,0.43702,0.44338,0.43296,0.42434,0.42988,0.44157,0.44024,0.43354,0.4331,0.42395,0.42555,0.41176,0.40018,0.38459,0.38144,0.37459,0.34999,0.33895,0.3392,0.35227,0.36352,0.36669,0.36869,0.36908,0.36799,0.36649,0.36892,0.37039,0.36809,0.36821,0.36571,0.35906,0.36686,0.36578,0.36567,0.36893,0.36858,0.36768,0.36771,0.36714,0.362,0.36456,0.36536,0.36629,0.36371,0.36855,0.36777,0.36301,0.36877,0.3666,0.36869,0.37146,0.36782,0.36821,0.36845,0.36729,0.3679,0.36763,0.36586,0.36986,0.36855,0.36918,0.37089,0.36993,0.36966,0.36962,0.36965,0.36805,0.36904,0.36828,0.37033,0.37152,0.37195,0.37249,0.37191,0.37191,0.3762,0.37971,0.38658,0.39545,0.41293,0.42065,0.43609,0.45176,0.4512,0.46211,0.46585,0.46323,0.45872,0.45856,0.45421,0.46744,0.45158,0.45321,0.45647,0.4589,0.45214,0.44671,0.43976,0.43277,0.43061,0.43307,0.4307,0.43589,0.43433,0.43987,0.4447,0.43649,0.44193,0.4355,0.43215,0.43057,0.43671,0.43153,0.43122,0.4399,0.42992,0.42997,0.43826,0.42446,0.42287,0.42608,0.43694,0.42699,0.4273,0.41743,0.42819,0.42987,0.42401,0.42051,0.42298,0.42215,0.4194,0.40533,0.40433,0.39109,0.37846,0.34389,0.34683,0.35528,0.35939,0.36857,0.37403,0.37087,0.37256,0.37241,0.3717,0.36773,0.37135,0.371,0.37105,0.36956,0.37116,0.36954,0.36925,0.36627,0.36841,0.36892,0.36631,0.36592,0.3599,0.36673,0.36731,0.36811,0.37006,0.36915,0.36601,0.36866,0.36845,0.36618,0.36831,0.36808,0.36712,0.36833,0.36872,0.36278,0.36874,0.36869,0.3615,0.36682,0.36931,0.37099,0.3715,0.37031,0.37161,0.37365,0.37377,0.37361,0.37082,0.371,0.37593,0.37692,0.37737,0.37663,0.37703,0.37295,0.37806,0.382,0.38959,0.39105,0.44201,0.4398,0.46092,0.4598,0.46429,0.46924,0.46477,0.45821,0.45666,0.4517,0.44668,0.44756,0.45051,0.45843,0.44218,0.44073,0.43978,0.44358,0.43969,0.43143,0.4353,0.43999,0.44876,0.44319,0.43615,0.43861,0.43933,0.43414,0.42999,0.42961,0.4363,0.43143,0.43365,0.43134,0.43132,0.43158,0.43989,0.43955,0.4247,0.42353,0.43219,0.42458,0.42805,0.43173,0.42957,0.42711,0.42286,0.42308,0.4279,0.43106,0.43016,0.42278,0.4122,0.39697,0.3875,0.38075,0.37057,0.37071,0.35612,0.35501,0.35766,0.35982,0.36798,0.37304,0.37559,0.37443,0.37371,0.37478,0.37423,0.37106,0.37088,0.37004,0.3703,0.37118,0.36564,0.36973,0.37212,0.37225,0.36884,0.37026,0.37367,0.37012,0.36992,0.36966,0.36787,0.36852,0.3674,0.36519,0.36637,0.368,0.36729,0.36809,0.37038,0.36856,0.36806,0.37188,0.37342,0.37117,0.37018,0.3726,0.36836,0.37126,0.36537,0.37048,0.36953,0.36937,0.37311,0.37139,0.37,0.3701,0.37055,0.3713,0.37097,0.37332,0.37392,0.37383,0.37331,0.37359,0.37493,0.37649,0.37969,0.37982,0.38368,0.39105,0.40214,0.44258,0.44496,0.44671,0.46646,0.46472,0.4827,0.46651,0.45777,0.45705,0.47214,0.46109,0.4609,0.45007,0.46279,0.45154,0.44611,0.44298,0.45125,0.44317,0.44294,0.44233,0.44014,0.44405,0.44175,0.45193,0.44304,0.44002,0.4406,0.44085,0.44108,0.43619,0.45201,0.43777,0.43925,0.4362,0.43764,0.42932,0.4375,0.43859,0.44246,0.43196,0.43569,0.42544,0.43493,0.43814,0.4307,0.43215,0.43761,0.43564,0.41707,0.41429,0.42347,0.40856,0.41259,0.39792,0.38847,0.38546,0.37853,0.37551,0.36756,0.35838,0.37037,0.37063,0.37615,0.37396,0.37471,0.37744,0.37619,0.37432,0.37131,0.37377,0.37282,0.37374,0.3725,0.37298,0.37047,0.37061,0.37126,0.37317,0.37253,0.37372,0.3735,0.37027,0.37194,0.37102,0.36991,0.37315,0.37233,0.37387,0.37076,0.37167,0.37269,0.37054,0.36914,0.37073,0.37127,0.37017,0.37218,0.36395,0.37109,0.37371,0.37546,0.37494,0.3746,0.37781,0.37849,0.3767,0.37494,0.37396,0.37665,0.37546,0.37576,0.37835,0.38116,0.3809,0.38927,0.38589,0.38475,0.39768,0.40383,0.43325,0.44167,0.46189,0.47861,0.47115,0.48553,0.47944,0.46675,0.46123,0.46243,0.45853,0.45314,0.46501,0.44951,0.45343,0.45295,0.45264,0.448,0.44757,0.44532,0.45013,0.44479,0.44681,0.44838,0.44552,0.45413,0.44549,0.45491,0.44808,0.44591,0.45423,0.44172,0.45126,0.44509,0.44414,0.43719,0.43937,0.43954,0.43488,0.44082,0.44908,0.44529,0.4339,0.43012,0.43021,0.44154,0.4293,0.43251,0.43357,0.43813,0.42319,0.41219,0.41164,0.407,0.40099,0.38019,0.35536,0.3662,0.37609,0.38186,0.37898,0.37725,0.37819,0.37971,0.37675,0.37588,0.37707,0.37511,0.3733,0.37435,0.37497,0.37247,0.37077,0.37428,0.37242,0.36901,0.37327,0.37249,0.37354,0.36852,0.37277,0.37357,0.37309,0.37243,0.37356,0.37003,0.37485,0.36904,0.37017,0.36897,0.37255,0.37097,0.37143,0.37122,0.37393,0.37404,0.37401,0.3726,0.36625,0.37176,0.37084,0.37016,0.3734,0.3731,0.37259,0.37304,0.37049,0.37261,0.3727,0.37523,0.37282,0.37461,0.37498,0.37427,0.37579,0.37688,0.37747,0.37676,0.37804,0.37997,0.38203,0.38664,0.4186,0.44951,0.44288,0.4461,0.45813,0.48114,0.46893,0.47134,0.46781,0.46445,0.47403,0.46116,0.47118,0.45488,0.45765,0.4528,0.45739,0.45345,0.45877,0.44896,0.44637,0.45161,0.44384,0.44418,0.44463,0.44394,0.44665,0.44131,0.44078,0.4399,0.43889,0.45508,0.44219,0.43827,0.44234,0.43863,0.43792,0.44335,0.45118,0.4486,0.43497,0.43481,0.44163,0.4364,0.43068,0.42874,0.4259,0.42593,0.42436,0.41919,0.429,0.41641,0.41099,0.40639,0.38608,0.37441,0.36911,0.3694,0.36815,0.3725,0.36963,0.372,0.37391,0.37488,0.37853,0.37697,0.37599,0.37373,0.37407,0.37361,0.3754,0.37287,0.37127,0.37053,0.37311,0.37637,0.37714,0.3727,0.37465,0.37266,0.36824,0.374,0.37258,0.37246,0.37465,0.37327,0.37266,0.36995,0.37174,0.37237,0.3769,0.37208,0.37198,0.37256,0.37086,0.36948,0.37157,0.37388,0.37314,0.37306,0.37072,0.37265,0.37419,0.37436,0.37343,0.37328,0.37235,0.3717,0.37244,0.37345,0.37329,0.37328,0.37467,0.37611,0.37752,0.37407,0.37821,0.37787,0.37858,0.37701,0.37799,0.37848,0.38104,0.39414,0.40945,0.44137,0.44819,0.47904,0.47562,0.48108,0.47214,0.48751,0.46831,0.47754,0.47796,0.46096,0.45807,0.45635,0.46064,0.45861,0.46106,0.47003,0.45791,0.4543,0.45949,0.45855,0.45611,0.45554,0.45369,0.4604,0.45316,0.46192,0.45218,0.4495,0.45881,0.44963,0.44883,0.45922,0.44914,0.45062,0.45215,0.45217,0.45117,0.44679,0.45928,0.45303,0.44135,0.44527,0.44007,0.44583,0.45155,0.45331,0.4474,0.43588,0.42572,0.4196,0.40041,0.37829,0.37955,0.36965,0.36551,0.36391,0.36999,0.37128,0.3756,0.3776,0.37562,0.37743,0.37885,0.38109,0.37837,0.37809,0.37364,0.36654,0.37334,0.3756,0.37377,0.37537,0.37505,0.37562,0.37329,0.37521,0.37057,0.37047,0.3721,0.36953,0.37232,0.37327,0.37389,0.37146,0.37414,0.37245,0.36922,0.36953,0.37061,0.3686,0.36857,0.37166,0.37003,0.37184,0.37082,0.37132,0.3731,0.37418,0.37411,0.37194,0.37099,0.37077,0.374,0.37121,0.37135,0.37434,0.37301,0.3724,0.37477,0.37676,0.37783,0.3768,0.37712,0.37501,0.37629,0.37916,0.38376,0.40108,0.43205,0.43528,0.44797,0.45235,0.45064,0.4613,0.46137,0.47958,0.45992,0.46758,0.46178,0.46099,0.47103,0.45519,0.46705,0.45416,0.45473,0.45369,0.451,0.46023,0.4513,0.44978,0.44843,0.45817,0.44996,0.44821,0.45188,0.45068,0.44935,0.44637,0.44649,0.45987,0.44992,0.45156,0.45815,0.44856,0.44477,0.44547,0.44855,0.44303,0.44624,0.45686,0.45536,0.44361,0.44169,0.4407,0.43896,0.45021,0.45107,0.43995,0.44399,0.43043,0.43322,0.41968,0.41976,0.40907,0.39857,0.38529,0.33899,0.35047,0.37832,0.37855,0.37804,0.37803,0.377,0.376,0.37725,0.37785,0.37517,0.37566,0.37432,0.37556,0.37539,0.37745,0.37409,0.37657,0.37854,0.37366,0.37503,0.37493,0.37413,0.37547,0.37444,0.37356,0.36991,0.37198,0.37226,0.37451,0.37401,0.37677,0.37454,0.37372,0.3705,0.37019,0.37427,0.37454,0.37437,0.37292,0.37519,0.37157,0.3733,0.37697,0.37621,0.3767,0.37636,0.37376,0.37543,0.37395,0.37555,0.37906,0.3716,0.37747,0.3754,0.3764,0.37882,0.38088,0.38137,0.38018,0.37887,0.38064,0.38192,0.38129,0.3892,0.41292,0.41712,0.42994,0.45271,0.47167,0.48388,0.48015,0.47787,0.47992,0.46051,0.46814,0.4609,0.46133,0.46234,0.46052,0.46887,0.46152,0.45646,0.46066,0.48011,0.45833,0.46868,0.45852,0.45544,0.45843,0.45621,0.46304,0.46612,0.45571,0.44909,0.46145,0.45548,0.45559,0.45157,0.44539,0.45176,0.44805,0.45679,0.44998,0.45832,0.45529,0.44429,0.43976,0.46775,0.44953,0.43842,0.45621,0.45376,0.45437,0.43996,0.45234,0.43193,0.43167,0.40646,0.40545,0.38957,0.39766,0.37913,0.37621,0.34972,0.35148,0.36061,0.37262,0.37751,0.37591,0.37613,0.37614,0.37703,0.37742,0.37634,0.37411,0.37554,0.37432,0.37227,0.37572,0.37595,0.37615,0.37089,0.37038,0.37386,0.37067,0.37704,0.37474,0.37415,0.37469,0.37034,0.37536,0.37422,0.37349,0.37369,0.37328,0.36992,0.37112,0.37177,0.37542,0.37643,0.37761,0.37699,0.37374,0.37545,0.37552,0.37189,0.3714,0.37391,0.3753,0.37659,0.37433,0.37397,0.37601,0.37262,0.37621,0.37979,0.37843,0.3791,0.3772,0.37933,0.37929,0.38417,0.38923,0.39759,0.39379,0.39856,0.41316,0.44274,0.46638,0.49165,0.48661,0.50248,0.48392,0.49244,0.486,0.46645,0.46264,0.47005,0.47097,0.45595,0.45464,0.45211,0.45718,0.45144,0.46423,0.45224,0.46027,0.45032,0.44952,0.4472,0.45727,0.45091,0.44554,0.44646,0.45305,0.44402,0.44362,0.44915,0.44893,0.44371,0.441,0.43963,0.44274,0.44133,0.4467,0.43994,0.43946,0.44293,0.44444,0.44895,0.44302,0.44301,0.44636,0.43472,0.43827,0.45532,0.43881,0.4374,0.43069,0.42827,0.42445,0.41819,0.4092,0.40462,0.38529,0.37268,0.36394,0.36929,0.36975,0.3768,0.37708,0.37947,0.3784,0.37695,0.37831,0.37832,0.37321,0.37105,0.37456,0.37801,0.37462,0.37391,0.37326,0.37116,0.37464,0.37281,0.37849,0.37693,0.37414,0.37258,0.37844,0.37349,0.37719,0.37433,0.37403,0.37472,0.37149,0.37298,0.3753,0.37555,0.37635,0.37825,0.37772,0.37823,0.37301,0.37408,0.36922,0.37357,0.37243,0.37415,0.37422,0.37557,0.37589,0.37575,0.37496,0.37392,0.3735,0.37528,0.37775,0.37537,0.37544,0.37885,0.37865,0.3806,0.38406,0.38708,0.39504,0.42201,0.4269,0.44885,0.47607,0.48265,0.48004,0.47306,0.47851,0.47906,0.46484,0.46132,0.46618,0.45858,0.46147,0.46261,0.4586,0.46925,0.46116,0.45964,0.45812,0.45425,0.45755,0.45706,0.45044,0.45806,0.46481,0.45582,0.45459,0.45801,0.45736,0.45176,0.4549,0.45292,0.45076,0.44234,0.44203,0.44572,0.44615,0.44529,0.44566,0.44956,0.45188,0.44829,0.45118,0.45169,0.44154,0.4514,0.44391,0.45046,0.44852,0.44796,0.44621,0.43285,0.42661,0.42723,0.42628,0.41905,0.41587,0.40175,0.35075,0.35196,0.36978,0.37225,0.37894,0.37995,0.37874,0.37766,0.37715,0.37846,0.37997,0.37801,0.37631,0.37609,0.37814,0.37806,0.37706,0.37878,0.37625,0.37445,0.37485,0.37485,0.37272,0.37523,0.37203,0.37435,0.37903,0.37751,0.3758,0.37319,0.37701,0.37232,0.37627,0.37381,0.37523,0.37471,0.37209,0.37519,0.37595,0.37812,0.37538,0.37695,0.37604,0.37678,0.37833,0.37716,0.37682,0.37857,0.37817,0.38237,0.37897,0.38509,0.38167,0.38283,0.38309,0.3854,0.38559,0.39057,0.41048,0.40504,0.41805,0.43917,0.4581,0.46836,0.486,0.49061,0.47334,0.46674,0.46804,0.46734,0.46191,0.46837,0.45933,0.46443,0.45454,0.4543,0.45335,0.45365,0.45404,0.45073,0.45148,0.45294,0.46364,0.4484,0.45231,0.45026,0.44919,0.45043,0.44984,0.44614,0.44637,0.44923,0.44805,0.44275,0.44533,0.44114,0.44735,0.44882,0.44162,0.45405,0.45098,0.44037,0.43782,0.44112,0.44074,0.43702,0.44788,0.44078,0.43766,0.43471,0.42093,0.41274,0.36921,0.36304,0.35647,0.37066,0.38151,0.38079,0.38026,0.38001,0.38095,0.37961,0.38022,0.38022,0.38029,0.3761,0.37767,0.37521,0.36531,0.37201,0.37365,0.37489,0.37945,0.38004,0.37889,0.36713,0.37638,0.37408,0.37766,0.38083,0.37763,0.37326,0.37546,0.37886,0.37799,0.37605,0.3771,0.37549,0.37136,0.3692,0.37617,0.37575,0.37589,0.37716,0.37871,0.37657,0.37839,0.37748,0.38008,0.38029,0.37821,0.37804,0.37707,0.37661,0.37779,0.38028,0.3779,0.37997,0.38025,0.38309,0.38219,0.37975,0.37963,0.38,0.38181,0.38019,0.38164,0.38782,0.40785,0.43116,0.44974,0.46663,0.47043,0.46842,0.46971,0.46471,0.47327,0.45449,0.45643,0.45628,0.45489,0.45689,0.4642,0.45444,0.44895,0.4542,0.45168,0.4486,0.45637,0.44966,0.44724,0.44758,0.44777,0.45081,0.44527,0.44558,0.44612,0.45046,0.44871,0.44407,0.45083,0.45046,0.45659,0.45236,0.44582,0.44382,0.44935,0.44737,0.44044,0.43967,0.43922,0.43973,0.45042,0.45002,0.43793,0.43949,0.43084,0.43754,0.4169,0.4083,0.38759,0.36387,0.35711,0.37166,0.37641,0.37721,0.37902,0.38354,0.38294,0.38168,0.384,0.38161,0.38296,0.3825,0.38389,0.3703,0.37449,0.3798,0.37845,0.37792,0.38,0.38025,0.37935,0.37989,0.37886,0.3776,0.37861,0.37794,0.37805,0.37742,0.37862,0.37584,0.37616,0.37305,0.37355,0.37353,0.37686,0.37479,0.3748,0.37557,0.37533,0.37437,0.37751,0.37647,0.37684,0.37426,0.37819,0.37853,0.37717,0.37733,0.38054,0.38078,0.38121,0.382,0.37695,0.38,0.38184,0.38196,0.38152,0.37965,0.38652,0.38275,0.38194,0.38647,0.38819,0.39068,0.39024,0.39394,0.41637,0.43995,0.46342,0.47587,0.47491,0.48934,0.47013,0.47731,0.46569,0.46325,0.46486,0.45852,0.45894,0.46821,0.45881,0.46033,0.47349,0.47081,0.46421,0.46469,0.46492,0.45171,0.45768,0.44503,0.4513,0.45311,0.44406,0.44314,0.45204,0.45215,0.45207,0.44527,0.45352,0.46309,0.45225,0.44621,0.4482,0.44561,0.44497,0.44977,0.4446,0.44487,0.45178,0.44142,0.45497,0.44135,0.44386,0.43796,0.45295,0.44016,0.4423,0.43725,0.43284,0.42931,0.42395,0.43705,0.42264,0.40571,0.39144,0.38268,0.36926,0.36578,0.3656,0.37431,0.3803,0.38124,0.37851,0.37961,0.38157,0.38111,0.37806,0.3819,0.38238,0.37546,0.38073,0.36944,0.37792,0.37386,0.37115,0.3777,0.37348,0.37655,0.37568,0.3761,0.37623,0.37545,0.37574,0.37445,0.37663,0.37213,0.37474,0.37808,0.37612,0.37732,0.37667,0.37908,0.37306,0.37537,0.37677,0.37836,0.37579,0.37702,0.37748,0.38046,0.37926,0.37798,0.37805,0.37687,0.37832,0.37868,0.37964,0.3789,0.38195,0.38034,0.38061,0.38093,0.38258,0.37987,0.38167,0.38391,0.38101,0.38736,0.41854,0.44078,0.47099,0.46827,0.46802,0.47151,0.4643,0.45922,0.45692,0.45462,0.45343,0.45215,0.45056,0.45945,0.45393,0.45968,0.45318,0.45409,0.45059,0.44855,0.45225,0.45045,0.45677,0.45223,0.45292,0.44816,0.44861,0.44952,0.45018,0.45114,0.44707,0.44859,0.44678,0.45159,0.45165,0.44687,0.44671,0.4446,0.4634,0.44601,0.44493,0.44429,0.44303,0.44466,0.4523,0.4424,0.43756,0.43513,0.43848,0.43255,0.4221],"type":"scatter","mode":"markers","name":"GCC","opacity":0.5,"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>What patterns do you notice? How would we go about determining say the start of spring? (SOS)</p>
</div>
<div id="threshold-values" class="section level3 hasAnchor" number="4.12.4">
<h3 class="hasAnchor"><span class="header-section-number">4.12.4</span> Threshold values<a href="#threshold-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s subset the transition date (td) for each year when 25% of the greenness amplitude (of the 90^th) percentile is reached (threshold_25).</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the rising (spring dates) for 25% threshold of Gcc 90</span></span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a>spring <span class="ot">&lt;-</span> td[td<span class="sc">$</span>direction <span class="sc">==</span> <span class="st">&quot;rising&quot;</span> <span class="sc">&amp;</span> td<span class="sc">$</span>gcc_value <span class="sc">==</span> <span class="st">&quot;gcc_90&quot;</span>,]</span></code></pre></div>
<p>Let’s create a simple plot_ly line graph of the smooth Green Chromatic Coordinate (Gcc) and add points for transition dates:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(</span>
<span id="cb338-3"><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> df,</span>
<span id="cb338-4"><a href="#cb338-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb338-5"><a href="#cb338-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> smooth_gcc_90,</span>
<span id="cb338-6"><a href="#cb338-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&#39;PhenoCam GCC&#39;</span>,</span>
<span id="cb338-7"><a href="#cb338-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb338-8"><a href="#cb338-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb338-9"><a href="#cb338-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">&#39;line&#39;</span></span>
<span id="cb338-10"><a href="#cb338-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">add_markers</span>(</span>
<span id="cb338-11"><a href="#cb338-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">data=</span> spring,</span>
<span id="cb338-12"><a href="#cb338-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(spring<span class="sc">$</span>transition_25, <span class="at">origin =</span> <span class="st">&quot;1970-01-01&quot;</span>),</span>
<span id="cb338-13"><a href="#cb338-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> spring<span class="sc">$</span>threshold_25,</span>
<span id="cb338-14"><a href="#cb338-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb338-15"><a href="#cb338-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">&#39;marker&#39;</span>,</span>
<span id="cb338-16"><a href="#cb338-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&#39;Spring Dates&#39;</span>)</span>
<span id="cb338-17"><a href="#cb338-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-18"><a href="#cb338-18" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<div id="htmlwidget-028841f3112caf6aae6b" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-028841f3112caf6aae6b">{"x":{"visdat":{"583067f86d8":["function () ","plotlyVisDat"],"5830744d791e":["function () ","data"],"5830774b524e":["function () ","data"]},"cur_data":"5830774b524e","attrs":{"5830744d791e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"PhenoCam GCC","showlegend":true,"type":"scatter","mode":"line","inherit":true},"5830774b524e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","name":"Spring Dates","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"as.Date(date)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"smooth_gcc_90"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2008-01-05","2008-01-06","2008-01-07","2008-01-08","2008-01-09","2008-01-10","2008-01-11","2008-01-12","2008-01-13","2008-01-14","2008-01-15","2008-01-16","2008-01-17","2008-01-18","2008-01-19","2008-01-20","2008-01-21","2008-01-22","2008-01-23","2008-01-24","2008-01-25","2008-01-26","2008-01-27","2008-01-28","2008-01-29","2008-01-30","2008-01-31","2008-02-01","2008-02-02","2008-02-03","2008-02-04","2008-02-05","2008-02-06","2008-02-07","2008-02-08","2008-02-09","2008-02-10","2008-02-11","2008-02-12","2008-02-13","2008-02-14","2008-02-15","2008-02-16","2008-02-17","2008-02-18","2008-02-19","2008-02-20","2008-02-21","2008-02-22","2008-02-23","2008-02-24","2008-02-25","2008-02-26","2008-02-27","2008-02-28","2008-02-29","2008-03-01","2008-03-02","2008-03-03","2008-03-04","2008-03-05","2008-03-06","2008-03-07","2008-03-08","2008-03-09","2008-03-10","2008-03-11","2008-03-12","2008-03-13","2008-03-14","2008-03-15","2008-03-16","2008-03-17","2008-03-18","2008-03-19","2008-03-20","2008-03-21","2008-03-22","2008-03-23","2008-03-24","2008-03-25","2008-03-26","2008-03-27","2008-03-28","2008-03-29","2008-03-30","2008-03-31","2008-04-01","2008-04-02","2008-04-03","2008-04-04","2008-04-05","2008-04-06","2008-04-07","2008-04-08","2008-04-09","2008-04-10","2008-04-11","2008-04-12","2008-04-13","2008-04-14","2008-04-15","2008-04-16","2008-04-17","2008-04-18","2008-04-19","2008-04-20","2008-04-21","2008-04-22","2008-04-23","2008-04-24","2008-04-25","2008-04-26","2008-04-27","2008-04-28","2008-04-29","2008-04-30","2008-05-01","2008-05-02","2008-05-03","2008-05-04","2008-05-05","2008-05-06","2008-05-07","2008-05-08","2008-05-09","2008-05-10","2008-05-11","2008-05-12","2008-05-13","2008-05-14","2008-05-15","2008-05-16","2008-05-17","2008-05-18","2008-05-19","2008-05-20","2008-05-21","2008-05-22","2008-05-23","2008-05-24","2008-05-25","2008-05-26","2008-05-27","2008-05-28","2008-05-29","2008-05-30","2008-05-31","2008-06-01","2008-06-02","2008-06-03","2008-06-04","2008-06-05","2008-06-06","2008-06-07","2008-06-08","2008-06-09","2008-06-10","2008-06-11","2008-06-12","2008-06-13","2008-06-14","2008-06-15","2008-06-16","2008-06-17","2008-06-18","2008-06-19","2008-06-20","2008-06-21","2008-06-22","2008-06-23","2008-06-24","2008-06-25","2008-06-26","2008-06-27","2008-06-28","2008-06-29","2008-06-30","2008-07-01","2008-07-02","2008-07-03","2008-07-04","2008-07-05","2008-07-06","2008-07-07","2008-07-08","2008-07-09","2008-07-10","2008-07-11","2008-07-12","2008-07-13","2008-07-14","2008-07-15","2008-07-16","2008-07-17","2008-07-18","2008-07-19","2008-07-20","2008-07-21","2008-07-22","2008-07-23","2008-07-24","2008-07-25","2008-07-26","2008-07-27","2008-07-28","2008-07-29","2008-07-30","2008-07-31","2008-08-01","2008-08-02","2008-08-03","2008-08-04","2008-08-05","2008-08-06","2008-08-07","2008-08-08","2008-08-09","2008-08-10","2008-08-11","2008-08-12","2008-08-13","2008-08-14","2008-08-15","2008-08-16","2008-08-17","2008-08-18","2008-08-19","2008-08-20","2008-08-21","2008-08-22","2008-08-23","2008-08-24","2008-08-25","2008-08-26","2008-08-27","2008-08-28","2008-08-29","2008-08-30","2008-08-31","2008-09-01","2008-09-02","2008-09-03","2008-09-04","2008-09-05","2008-09-06","2008-09-07","2008-09-08","2008-09-09","2008-09-10","2008-09-11","2008-09-12","2008-09-13","2008-09-14","2008-09-15","2008-09-16","2008-09-17","2008-09-18","2008-09-19","2008-09-20","2008-09-21","2008-09-22","2008-09-23","2008-09-24","2008-09-25","2008-09-26","2008-09-27","2008-09-28","2008-09-29","2008-09-30","2008-10-01","2008-10-02","2008-10-03","2008-10-04","2008-10-05","2008-10-06","2008-10-07","2008-10-08","2008-10-09","2008-10-10","2008-10-11","2008-10-12","2008-10-13","2008-10-14","2008-10-15","2008-10-16","2008-10-17","2008-10-18","2008-10-19","2008-10-20","2008-10-21","2008-10-22","2008-10-23","2008-10-24","2008-10-25","2008-10-26","2008-10-27","2008-10-28","2008-10-29","2008-10-30","2008-10-31","2008-11-01","2008-11-02","2008-11-03","2008-11-04","2008-11-05","2008-11-06","2008-11-07","2008-11-08","2008-11-09","2008-11-10","2008-11-11","2008-11-12","2008-11-13","2008-11-14","2008-11-15","2008-11-16","2008-11-17","2008-11-18","2008-11-19","2008-11-20","2008-11-21","2008-11-22","2008-11-23","2008-11-24","2008-11-25","2008-11-26","2008-11-27","2008-11-28","2008-11-29","2008-11-30","2008-12-01","2008-12-02","2008-12-03","2008-12-04","2008-12-05","2008-12-06","2008-12-07","2008-12-08","2008-12-09","2008-12-10","2008-12-11","2008-12-12","2008-12-13","2008-12-14","2008-12-15","2008-12-16","2008-12-17","2008-12-18","2008-12-19","2008-12-20","2008-12-21","2008-12-22","2008-12-23","2008-12-24","2008-12-25","2008-12-26","2008-12-27","2008-12-28","2008-12-29","2008-12-30","2008-12-31","2009-01-01","2009-01-02","2009-01-03","2009-01-04","2009-01-05","2009-01-06","2009-01-07","2009-01-08","2009-01-09","2009-01-10","2009-01-11","2009-01-12","2009-01-13","2009-01-14","2009-01-15","2009-01-16","2009-01-17","2009-01-18","2009-01-19","2009-01-20","2009-01-21","2009-01-22","2009-01-23","2009-01-24","2009-01-25","2009-01-26","2009-01-27","2009-01-28","2009-01-29","2009-01-30","2009-01-31","2009-02-01","2009-02-02","2009-02-03","2009-02-04","2009-02-05","2009-02-06","2009-02-07","2009-02-08","2009-02-09","2009-02-10","2009-02-11","2009-02-12","2009-02-13","2009-02-14","2009-02-15","2009-02-16","2009-02-17","2009-02-18","2009-02-19","2009-02-20","2009-02-21","2009-02-22","2009-02-23","2009-02-24","2009-02-25","2009-02-26","2009-02-27","2009-02-28","2009-03-01","2009-03-02","2009-03-03","2009-03-04","2009-03-05","2009-03-06","2009-03-07","2009-03-08","2009-03-09","2009-03-10","2009-03-11","2009-03-12","2009-03-13","2009-03-14","2009-03-15","2009-03-16","2009-03-17","2009-03-18","2009-03-19","2009-03-20","2009-03-21","2009-03-22","2009-03-23","2009-03-24","2009-03-25","2009-03-26","2009-03-27","2009-03-28","2009-03-29","2009-03-30","2009-03-31","2009-04-01","2009-04-02","2009-04-03","2009-04-04","2009-04-05","2009-04-06","2009-04-07","2009-04-08","2009-04-09","2009-04-10","2009-04-11","2009-04-12","2009-04-13","2009-04-14","2009-04-15","2009-04-16","2009-04-17","2009-04-18","2009-04-19","2009-04-20","2009-04-21","2009-04-22","2009-04-23","2009-04-24","2009-04-25","2009-04-26","2009-04-27","2009-04-28","2009-04-29","2009-04-30","2009-05-01","2009-05-02","2009-05-03","2009-05-04","2009-05-05","2009-05-06","2009-05-07","2009-05-08","2009-05-09","2009-05-10","2009-05-11","2009-05-12","2009-05-13","2009-05-14","2009-05-15","2009-05-16","2009-05-17","2009-05-18","2009-05-19","2009-05-20","2009-05-21","2009-05-22","2009-05-23","2009-05-24","2009-05-25","2009-05-26","2009-05-27","2009-05-28","2009-05-29","2009-05-30","2009-05-31","2009-06-01","2009-06-02","2009-06-03","2009-06-04","2009-06-05","2009-06-06","2009-06-07","2009-06-08","2009-06-09","2009-06-10","2009-06-11","2009-06-12","2009-06-13","2009-06-14","2009-06-15","2009-06-16","2009-06-17","2009-06-18","2009-06-19","2009-06-20","2009-06-21","2009-06-22","2009-06-23","2009-06-24","2009-06-25","2009-06-26","2009-06-27","2009-06-28","2009-06-29","2009-06-30","2009-07-01","2009-07-02","2009-07-03","2009-07-04","2009-07-05","2009-07-06","2009-07-07","2009-07-08","2009-07-09","2009-07-10","2009-07-11","2009-07-12","2009-07-13","2009-07-14","2009-07-15","2009-07-16","2009-07-17","2009-07-18","2009-07-19","2009-07-20","2009-07-21","2009-07-22","2009-07-23","2009-07-24","2009-07-25","2009-07-26","2009-07-27","2009-07-28","2009-07-29","2009-07-30","2009-07-31","2009-08-01","2009-08-02","2009-08-03","2009-08-04","2009-08-05","2009-08-06","2009-08-07","2009-08-08","2009-08-09","2009-08-10","2009-08-11","2009-08-12","2009-08-13","2009-08-14","2009-08-15","2009-08-16","2009-08-17","2009-08-18","2009-08-19","2009-08-20","2009-08-21","2009-08-22","2009-08-23","2009-08-24","2009-08-25","2009-08-26","2009-08-27","2009-08-28","2009-08-29","2009-08-30","2009-08-31","2009-09-01","2009-09-02","2009-09-03","2009-09-04","2009-09-05","2009-09-06","2009-09-07","2009-09-08","2009-09-09","2009-09-10","2009-09-11","2009-09-12","2009-09-13","2009-09-14","2009-09-15","2009-09-16","2009-09-17","2009-09-18","2009-09-19","2009-09-20","2009-09-21","2009-09-22","2009-09-23","2009-09-24","2009-09-25","2009-09-26","2009-09-27","2009-09-28","2009-09-29","2009-09-30","2009-10-01","2009-10-02","2009-10-03","2009-10-04","2009-10-05","2009-10-06","2009-10-07","2009-10-08","2009-10-09","2009-10-10","2009-10-11","2009-10-12","2009-10-13","2009-10-14","2009-10-15","2009-10-16","2009-10-17","2009-10-18","2009-10-19","2009-10-20","2009-10-21","2009-10-22","2009-10-23","2009-10-24","2009-10-25","2009-10-26","2009-10-27","2009-10-28","2009-10-29","2009-10-30","2009-10-31","2009-11-01","2009-11-02","2009-11-03","2009-11-04","2009-11-05","2009-11-06","2009-11-07","2009-11-08","2009-11-09","2009-11-10","2009-11-11","2009-11-12","2009-11-13","2009-11-14","2009-11-15","2009-11-16","2009-11-17","2009-11-18","2009-11-19","2009-11-20","2009-11-21","2009-11-22","2009-11-23","2009-11-24","2009-11-25","2009-11-26","2009-11-27","2009-11-28","2009-11-29","2009-11-30","2009-12-01","2009-12-02","2009-12-03","2009-12-04","2009-12-05","2009-12-06","2009-12-07","2009-12-08","2009-12-09","2009-12-10","2009-12-11","2009-12-12","2009-12-13","2009-12-14","2009-12-15","2009-12-16","2009-12-17","2009-12-18","2009-12-19","2009-12-20","2009-12-21","2009-12-22","2009-12-23","2009-12-24","2009-12-25","2009-12-26","2009-12-27","2009-12-28","2009-12-29","2009-12-30","2009-12-31","2010-01-01","2010-01-02","2010-01-03","2010-01-04","2010-01-05","2010-01-06","2010-01-07","2010-01-08","2010-01-09","2010-01-10","2010-01-11","2010-01-12","2010-01-13","2010-01-14","2010-01-15","2010-01-16","2010-01-17","2010-01-18","2010-01-19","2010-01-20","2010-01-21","2010-01-22","2010-01-23","2010-01-24","2010-01-25","2010-01-26","2010-01-27","2010-01-28","2010-01-29","2010-01-30","2010-01-31","2010-02-01","2010-02-02","2010-02-03","2010-02-04","2010-02-05","2010-02-06","2010-02-07","2010-02-08","2010-02-09","2010-02-10","2010-02-11","2010-02-12","2010-02-13","2010-02-14","2010-02-15","2010-02-16","2010-02-17","2010-02-18","2010-02-19","2010-02-20","2010-02-21","2010-02-22","2010-02-23","2010-02-24","2010-02-25","2010-02-26","2010-02-27","2010-02-28","2010-03-01","2010-03-02","2010-03-03","2010-03-04","2010-03-05","2010-03-06","2010-03-07","2010-03-08","2010-03-09","2010-03-10","2010-03-11","2010-03-12","2010-03-13","2010-03-14","2010-03-15","2010-03-16","2010-03-17","2010-03-18","2010-03-19","2010-03-20","2010-03-21","2010-03-22","2010-03-23","2010-03-24","2010-03-25","2010-03-26","2010-03-27","2010-03-28","2010-03-29","2010-03-30","2010-03-31","2010-04-01","2010-04-02","2010-04-03","2010-04-04","2010-04-05","2010-04-06","2010-04-07","2010-04-08","2010-04-09","2010-04-10","2010-04-11","2010-04-12","2010-04-13","2010-04-14","2010-04-15","2010-04-16","2010-04-17","2010-04-18","2010-04-19","2010-04-20","2010-04-21","2010-04-22","2010-04-23","2010-04-24","2010-04-25","2010-04-26","2010-04-27","2010-04-28","2010-04-29","2010-04-30","2010-05-01","2010-05-02","2010-05-03","2010-05-04","2010-05-05","2010-05-06","2010-05-07","2010-05-08","2010-05-09","2010-05-10","2010-05-11","2010-05-12","2010-05-13","2010-05-14","2010-05-15","2010-05-16","2010-05-17","2010-05-18","2010-05-19","2010-05-20","2010-05-21","2010-05-22","2010-05-23","2010-05-24","2010-05-25","2010-05-26","2010-05-27","2010-05-28","2010-05-29","2010-05-30","2010-05-31","2010-06-01","2010-06-02","2010-06-03","2010-06-04","2010-06-05","2010-06-06","2010-06-07","2010-06-08","2010-06-09","2010-06-10","2010-06-11","2010-06-12","2010-06-13","2010-06-14","2010-06-15","2010-06-16","2010-06-17","2010-06-18","2010-06-19","2010-06-20","2010-06-21","2010-06-22","2010-06-23","2010-06-24","2010-06-25","2010-06-26","2010-06-27","2010-06-28","2010-06-29","2010-06-30","2010-07-01","2010-07-02","2010-07-03","2010-07-04","2010-07-05","2010-07-06","2010-07-07","2010-07-08","2010-07-09","2010-07-10","2010-07-11","2010-07-12","2010-07-13","2010-07-14","2010-07-15","2010-07-16","2010-07-17","2010-07-18","2010-07-19","2010-07-20","2010-07-21","2010-07-22","2010-07-23","2010-07-24","2010-07-25","2010-07-26","2010-07-27","2010-07-28","2010-07-29","2010-07-30","2010-07-31","2010-08-01","2010-08-02","2010-08-03","2010-08-04","2010-08-05","2010-08-06","2010-08-07","2010-08-08","2010-08-09","2010-08-10","2010-08-11","2010-08-12","2010-08-13","2010-08-14","2010-08-15","2010-08-16","2010-08-17","2010-08-18","2010-08-19","2010-08-20","2010-08-21","2010-08-22","2010-08-23","2010-08-24","2010-08-25","2010-08-26","2010-08-27","2010-08-28","2010-08-29","2010-08-30","2010-08-31","2010-09-01","2010-09-02","2010-09-03","2010-09-04","2010-09-05","2010-09-06","2010-09-07","2010-09-08","2010-09-09","2010-09-10","2010-09-11","2010-09-12","2010-09-13","2010-09-14","2010-09-15","2010-09-16","2010-09-17","2010-09-18","2010-09-19","2010-09-20","2010-09-21","2010-09-22","2010-09-23","2010-09-24","2010-09-25","2010-09-26","2010-09-27","2010-09-28","2010-09-29","2010-09-30","2010-10-01","2010-10-02","2010-10-03","2010-10-04","2010-10-05","2010-10-06","2010-10-07","2010-10-08","2010-10-09","2010-10-10","2010-10-11","2010-10-12","2010-10-13","2010-10-14","2010-10-15","2010-10-16","2010-10-17","2010-10-18","2010-10-19","2010-10-20","2010-10-21","2010-10-22","2010-10-23","2010-10-24","2010-10-25","2010-10-26","2010-10-27","2010-10-28","2010-10-29","2010-10-30","2010-10-31","2010-11-01","2010-11-02","2010-11-03","2010-11-04","2010-11-05","2010-11-06","2010-11-07","2010-11-08","2010-11-09","2010-11-10","2010-11-11","2010-11-12","2010-11-13","2010-11-14","2010-11-15","2010-11-16","2010-11-17","2010-11-18","2010-11-19","2010-11-20","2010-11-21","2010-11-22","2010-11-23","2010-11-24","2010-11-25","2010-11-26","2010-11-27","2010-11-28","2010-11-29","2010-11-30","2010-12-01","2010-12-02","2010-12-03","2010-12-04","2010-12-05","2010-12-06","2010-12-07","2010-12-08","2010-12-09","2010-12-10","2010-12-11","2010-12-12","2010-12-13","2010-12-14","2010-12-15","2010-12-16","2010-12-17","2010-12-18","2010-12-19","2010-12-20","2010-12-21","2010-12-22","2010-12-23","2010-12-24","2010-12-25","2010-12-26","2010-12-27","2010-12-28","2010-12-29","2010-12-30","2010-12-31","2011-01-01","2011-01-02","2011-01-03","2011-01-04","2011-01-05","2011-01-06","2011-01-07","2011-01-08","2011-01-09","2011-01-10","2011-01-11","2011-01-12","2011-01-13","2011-01-14","2011-01-15","2011-01-16","2011-01-17","2011-01-18","2011-01-19","2011-01-20","2011-01-21","2011-01-22","2011-01-23","2011-01-24","2011-01-25","2011-01-26","2011-01-27","2011-01-28","2011-01-29","2011-01-30","2011-01-31","2011-02-01","2011-02-02","2011-02-03","2011-02-04","2011-02-05","2011-02-06","2011-02-07","2011-02-08","2011-02-09","2011-02-10","2011-02-11","2011-02-12","2011-02-13","2011-02-14","2011-02-15","2011-02-16","2011-02-17","2011-02-18","2011-02-19","2011-02-20","2011-02-21","2011-02-22","2011-02-23","2011-02-24","2011-02-25","2011-02-26","2011-02-27","2011-02-28","2011-03-01","2011-03-02","2011-03-03","2011-03-04","2011-03-05","2011-03-06","2011-03-07","2011-03-08","2011-03-09","2011-03-10","2011-03-11","2011-03-12","2011-03-13","2011-03-14","2011-03-15","2011-03-16","2011-03-17","2011-03-18","2011-03-19","2011-03-20","2011-03-21","2011-03-22","2011-03-23","2011-03-24","2011-03-25","2011-03-26","2011-03-27","2011-03-28","2011-03-29","2011-03-30","2011-03-31","2011-04-01","2011-04-02","2011-04-03","2011-04-04","2011-04-05","2011-04-06","2011-04-07","2011-04-08","2011-04-09","2011-04-10","2011-04-11","2011-04-12","2011-04-13","2011-04-14","2011-04-15","2011-04-16","2011-04-17","2011-04-18","2011-04-19","2011-04-20","2011-04-21","2011-04-22","2011-04-23","2011-04-24","2011-04-25","2011-04-26","2011-04-27","2011-04-28","2011-04-29","2011-04-30","2011-05-01","2011-05-02","2011-05-03","2011-05-04","2011-05-05","2011-05-06","2011-05-07","2011-05-08","2011-05-09","2011-05-10","2011-05-11","2011-05-12","2011-05-13","2011-05-14","2011-05-15","2011-05-16","2011-05-17","2011-05-18","2011-05-19","2011-05-20","2011-05-21","2011-05-22","2011-05-23","2011-05-24","2011-05-25","2011-05-26","2011-05-27","2011-05-28","2011-05-29","2011-05-30","2011-05-31","2011-06-01","2011-06-02","2011-06-03","2011-06-04","2011-06-05","2011-06-06","2011-06-07","2011-06-08","2011-06-09","2011-06-10","2011-06-11","2011-06-12","2011-06-13","2011-06-14","2011-06-15","2011-06-16","2011-06-17","2011-06-18","2011-06-19","2011-06-20","2011-06-21","2011-06-22","2011-06-23","2011-06-24","2011-06-25","2011-06-26","2011-06-27","2011-06-28","2011-06-29","2011-06-30","2011-07-01","2011-07-02","2011-07-03","2011-07-04","2011-07-05","2011-07-06","2011-07-07","2011-07-08","2011-07-09","2011-07-10","2011-07-11","2011-07-12","2011-07-13","2011-07-14","2011-07-15","2011-07-16","2011-07-17","2011-07-18","2011-07-19","2011-07-20","2011-07-21","2011-07-22","2011-07-23","2011-07-24","2011-07-25","2011-07-26","2011-07-27","2011-07-28","2011-07-29","2011-07-30","2011-07-31","2011-08-01","2011-08-02","2011-08-03","2011-08-04","2011-08-05","2011-08-06","2011-08-07","2011-08-08","2011-08-09","2011-08-10","2011-08-11","2011-08-12","2011-08-13","2011-08-14","2011-08-15","2011-08-16","2011-08-17","2011-08-18","2011-08-19","2011-08-20","2011-08-21","2011-08-22","2011-08-23","2011-08-24","2011-08-25","2011-08-26","2011-08-27","2011-08-28","2011-08-29","2011-08-30","2011-08-31","2011-09-01","2011-09-02","2011-09-03","2011-09-04","2011-09-05","2011-09-06","2011-09-07","2011-09-08","2011-09-09","2011-09-10","2011-09-11","2011-09-12","2011-09-13","2011-09-14","2011-09-15","2011-09-16","2011-09-17","2011-09-18","2011-09-19","2011-09-20","2011-09-21","2011-09-22","2011-09-23","2011-09-24","2011-09-25","2011-09-26","2011-09-27","2011-09-28","2011-09-29","2011-09-30","2011-10-01","2011-10-02","2011-10-03","2011-10-04","2011-10-05","2011-10-06","2011-10-07","2011-10-08","2011-10-09","2011-10-10","2011-10-11","2011-10-12","2011-10-13","2011-10-14","2011-10-15","2011-10-16","2011-10-17","2011-10-18","2011-10-19","2011-10-20","2011-10-21","2011-10-22","2011-10-23","2011-10-24","2011-10-25","2011-10-26","2011-10-27","2011-10-28","2011-10-29","2011-10-30","2011-10-31","2011-11-01","2011-11-02","2011-11-03","2011-11-04","2011-11-05","2011-11-06","2011-11-07","2011-11-08","2011-11-09","2011-11-10","2011-11-11","2011-11-12","2011-11-13","2011-11-14","2011-11-15","2011-11-16","2011-11-17","2011-11-18","2011-11-19","2011-11-20","2011-11-21","2011-11-22","2011-11-23","2011-11-24","2011-11-25","2011-11-26","2011-11-27","2011-11-28","2011-11-29","2011-11-30","2011-12-01","2011-12-02","2011-12-03","2011-12-04","2011-12-05","2011-12-06","2011-12-07","2011-12-08","2011-12-09","2011-12-10","2011-12-11","2011-12-12","2011-12-13","2011-12-14","2011-12-15","2011-12-16","2011-12-17","2011-12-18","2011-12-19","2011-12-20","2011-12-21","2011-12-22","2011-12-23","2011-12-24","2011-12-25","2011-12-26","2011-12-27","2011-12-28","2011-12-29","2011-12-30","2011-12-31","2012-01-01","2012-01-02","2012-01-03","2012-01-04","2012-01-05","2012-01-06","2012-01-07","2012-01-08","2012-01-09","2012-01-10","2012-01-11","2012-01-12","2012-01-13","2012-01-14","2012-01-15","2012-01-16","2012-01-17","2012-01-18","2012-01-19","2012-01-20","2012-01-21","2012-01-22","2012-01-23","2012-01-24","2012-01-25","2012-01-26","2012-01-27","2012-01-28","2012-01-29","2012-01-30","2012-01-31","2012-02-01","2012-02-02","2012-02-03","2012-02-04","2012-02-05","2012-02-06","2012-02-07","2012-02-08","2012-02-09","2012-02-10","2012-02-11","2012-02-12","2012-02-13","2012-02-14","2012-02-15","2012-02-16","2012-02-17","2012-02-18","2012-02-19","2012-02-20","2012-02-21","2012-02-22","2012-02-23","2012-02-24","2012-02-25","2012-02-26","2012-02-27","2012-02-28","2012-02-29","2012-03-01","2012-03-02","2012-03-03","2012-03-04","2012-03-05","2012-03-06","2012-03-07","2012-03-08","2012-03-09","2012-03-10","2012-03-11","2012-03-12","2012-03-13","2012-03-14","2012-03-15","2012-03-16","2012-03-17","2012-03-18","2012-03-19","2012-03-20","2012-03-21","2012-03-22","2012-03-23","2012-03-24","2012-03-25","2012-03-26","2012-03-27","2012-03-28","2012-03-29","2012-03-30","2012-03-31","2012-04-01","2012-04-02","2012-04-03","2012-04-04","2012-04-05","2012-04-06","2012-04-07","2012-04-08","2012-04-09","2012-04-10","2012-04-11","2012-04-12","2012-04-13","2012-04-14","2012-04-15","2012-04-16","2012-04-17","2012-04-18","2012-04-19","2012-04-20","2012-04-21","2012-04-22","2012-04-23","2012-04-24","2012-04-25","2012-04-26","2012-04-27","2012-04-28","2012-04-29","2012-04-30","2012-05-01","2012-05-02","2012-05-03","2012-05-04","2012-05-05","2012-05-06","2012-05-07","2012-05-08","2012-05-09","2012-05-10","2012-05-11","2012-05-12","2012-05-13","2012-05-14","2012-05-15","2012-05-16","2012-05-17","2012-05-18","2012-05-19","2012-05-20","2012-05-21","2012-05-22","2012-05-23","2012-05-24","2012-05-25","2012-05-26","2012-05-27","2012-05-28","2012-05-29","2012-05-30","2012-05-31","2012-06-01","2012-06-02","2012-06-03","2012-06-04","2012-06-05","2012-06-06","2012-06-07","2012-06-08","2012-06-09","2012-06-10","2012-06-11","2012-06-12","2012-06-13","2012-06-14","2012-06-15","2012-06-16","2012-06-17","2012-06-18","2012-06-19","2012-06-20","2012-06-21","2012-06-22","2012-06-23","2012-06-24","2012-06-25","2012-06-26","2012-06-27","2012-06-28","2012-06-29","2012-06-30","2012-07-01","2012-07-02","2012-07-03","2012-07-04","2012-07-05","2012-07-06","2012-07-07","2012-07-08","2012-07-09","2012-07-10","2012-07-11","2012-07-12","2012-07-13","2012-07-14","2012-07-15","2012-07-16","2012-07-17","2012-07-18","2012-07-19","2012-07-20","2012-07-21","2012-07-22","2012-07-23","2012-07-24","2012-07-25","2012-07-26","2012-07-27","2012-07-28","2012-07-29","2012-07-30","2012-07-31","2012-08-01","2012-08-02","2012-08-03","2012-08-04","2012-08-05","2012-08-06","2012-08-07","2012-08-08","2012-08-09","2012-08-10","2012-08-11","2012-08-12","2012-08-13","2012-08-14","2012-08-15","2012-08-16","2012-08-17","2012-08-18","2012-08-19","2012-08-20","2012-08-21","2012-08-22","2012-08-23","2012-08-24","2012-08-25","2012-08-26","2012-08-27","2012-08-28","2012-08-29","2012-08-30","2012-08-31","2012-09-01","2012-09-02","2012-09-03","2012-09-04","2012-09-05","2012-09-06","2012-09-07","2012-09-08","2012-09-09","2012-09-10","2012-09-11","2012-09-12","2012-09-13","2012-09-14","2012-09-15","2012-09-16","2012-09-17","2012-09-18","2012-09-19","2012-09-20","2012-09-21","2012-09-22","2012-09-23","2012-09-24","2012-09-25","2012-09-26","2012-09-27","2012-09-28","2012-09-29","2012-09-30","2012-10-01","2012-10-02","2012-10-03","2012-10-04","2012-10-05","2012-10-06","2012-10-07","2012-10-08","2012-10-09","2012-10-10","2012-10-11","2012-10-12","2012-10-13","2012-10-14","2012-10-15","2012-10-16","2012-10-17","2012-10-18","2012-10-19","2012-10-20","2012-10-21","2012-10-22","2012-10-23","2012-10-24","2012-10-25","2012-10-26","2012-10-27","2012-10-28","2012-10-29","2012-10-30","2012-10-31","2012-11-01","2012-11-02","2012-11-03","2012-11-04","2012-11-05","2012-11-06","2012-11-07","2012-11-08","2012-11-09","2012-11-10","2012-11-11","2012-11-12","2012-11-13","2012-11-14","2012-11-15","2012-11-16","2012-11-17","2012-11-18","2012-11-19","2012-11-20","2012-11-21","2012-11-22","2012-11-23","2012-11-24","2012-11-25","2012-11-26","2012-11-27","2012-11-28","2012-11-29","2012-11-30","2012-12-01","2012-12-02","2012-12-03","2012-12-04","2012-12-05","2012-12-06","2012-12-07","2012-12-08","2012-12-09","2012-12-10","2012-12-11","2012-12-12","2012-12-13","2012-12-14","2012-12-15","2012-12-16","2012-12-17","2012-12-18","2012-12-19","2012-12-20","2012-12-21","2012-12-22","2012-12-23","2012-12-24","2012-12-25","2012-12-26","2012-12-27","2012-12-28","2012-12-29","2012-12-30","2012-12-31","2013-01-01","2013-01-02","2013-01-03","2013-01-04","2013-01-05","2013-01-06","2013-01-07","2013-01-08","2013-01-09","2013-01-10","2013-01-11","2013-01-12","2013-01-13","2013-01-14","2013-01-15","2013-01-16","2013-01-17","2013-01-18","2013-01-19","2013-01-20","2013-01-21","2013-01-22","2013-01-23","2013-01-24","2013-01-25","2013-01-26","2013-01-27","2013-01-28","2013-01-29","2013-01-30","2013-01-31","2013-02-01","2013-02-02","2013-02-03","2013-02-04","2013-02-05","2013-02-06","2013-02-07","2013-02-08","2013-02-09","2013-02-10","2013-02-11","2013-02-12","2013-02-13","2013-02-14","2013-02-15","2013-02-16","2013-02-17","2013-02-18","2013-02-19","2013-02-20","2013-02-21","2013-02-22","2013-02-23","2013-02-24","2013-02-25","2013-02-26","2013-02-27","2013-02-28","2013-03-01","2013-03-02","2013-03-03","2013-03-04","2013-03-05","2013-03-06","2013-03-07","2013-03-08","2013-03-09","2013-03-10","2013-03-11","2013-03-12","2013-03-13","2013-03-14","2013-03-15","2013-03-16","2013-03-17","2013-03-18","2013-03-19","2013-03-20","2013-03-21","2013-03-22","2013-03-23","2013-03-24","2013-03-25","2013-03-26","2013-03-27","2013-03-28","2013-03-29","2013-03-30","2013-03-31","2013-04-01","2013-04-02","2013-04-03","2013-04-04","2013-04-05","2013-04-06","2013-04-07","2013-04-08","2013-04-09","2013-04-10","2013-04-11","2013-04-12","2013-04-13","2013-04-14","2013-04-15","2013-04-16","2013-04-17","2013-04-18","2013-04-19","2013-04-20","2013-04-21","2013-04-22","2013-04-23","2013-04-24","2013-04-25","2013-04-26","2013-04-27","2013-04-28","2013-04-29","2013-04-30","2013-05-01","2013-05-02","2013-05-03","2013-05-04","2013-05-05","2013-05-06","2013-05-07","2013-05-08","2013-05-09","2013-05-10","2013-05-11","2013-05-12","2013-05-13","2013-05-14","2013-05-15","2013-05-16","2013-05-17","2013-05-18","2013-05-19","2013-05-20","2013-05-21","2013-05-22","2013-05-23","2013-05-24","2013-05-25","2013-05-26","2013-05-27","2013-05-28","2013-05-29","2013-05-30","2013-05-31","2013-06-01","2013-06-02","2013-06-03","2013-06-04","2013-06-05","2013-06-06","2013-06-07","2013-06-08","2013-06-09","2013-06-10","2013-06-11","2013-06-12","2013-06-13","2013-06-14","2013-06-15","2013-06-16","2013-06-17","2013-06-18","2013-06-19","2013-06-20","2013-06-21","2013-06-22","2013-06-23","2013-06-24","2013-06-25","2013-06-26","2013-06-27","2013-06-28","2013-06-29","2013-06-30","2013-07-01","2013-07-02","2013-07-03","2013-07-04","2013-07-05","2013-07-06","2013-07-07","2013-07-08","2013-07-09","2013-07-10","2013-07-11","2013-07-12","2013-07-13","2013-07-14","2013-07-15","2013-07-16","2013-07-17","2013-07-18","2013-07-19","2013-07-20","2013-07-21","2013-07-22","2013-07-23","2013-07-24","2013-07-25","2013-07-26","2013-07-27","2013-07-28","2013-07-29","2013-07-30","2013-07-31","2013-08-01","2013-08-02","2013-08-03","2013-08-04","2013-08-05","2013-08-06","2013-08-07","2013-08-08","2013-08-09","2013-08-10","2013-08-11","2013-08-12","2013-08-13","2013-08-14","2013-08-15","2013-08-16","2013-08-17","2013-08-18","2013-08-19","2013-08-20","2013-08-21","2013-08-22","2013-08-23","2013-08-24","2013-08-25","2013-08-26","2013-08-27","2013-08-28","2013-08-29","2013-08-30","2013-08-31","2013-09-01","2013-09-02","2013-09-03","2013-09-04","2013-09-05","2013-09-06","2013-09-07","2013-09-08","2013-09-09","2013-09-10","2013-09-11","2013-09-12","2013-09-13","2013-09-14","2013-09-15","2013-09-16","2013-09-17","2013-09-18","2013-09-19","2013-09-20","2013-09-21","2013-09-22","2013-09-23","2013-09-24","2013-09-25","2013-09-26","2013-09-27","2013-09-28","2013-09-29","2013-09-30","2013-10-01","2013-10-02","2013-10-03","2013-10-04","2013-10-05","2013-10-06","2013-10-07","2013-10-08","2013-10-09","2013-10-10","2013-10-11","2013-10-12","2013-10-13","2013-10-14","2013-10-15","2013-10-16","2013-10-17","2013-10-18","2013-10-19","2013-10-20","2013-10-21","2013-10-22","2013-10-23","2013-10-24","2013-10-25","2013-10-26","2013-10-27","2013-10-28","2013-10-29","2013-10-30","2013-10-31","2013-11-01","2013-11-02","2013-11-03","2013-11-04","2013-11-05","2013-11-06","2013-11-07","2013-11-08","2013-11-09","2013-11-10","2013-11-11","2013-11-12","2013-11-13","2013-11-14","2013-11-15","2013-11-16","2013-11-17","2013-11-18","2013-11-19","2013-11-20","2013-11-21","2013-11-22","2013-11-23","2013-11-24","2013-11-25","2013-11-26","2013-11-27","2013-11-28","2013-11-29","2013-11-30","2013-12-01","2013-12-02","2013-12-03","2013-12-04","2013-12-05","2013-12-06","2013-12-07","2013-12-08","2013-12-09","2013-12-10","2013-12-11","2013-12-12","2013-12-13","2013-12-14","2013-12-15","2013-12-16","2013-12-17","2013-12-18","2013-12-19","2013-12-20","2013-12-21","2013-12-22","2013-12-23","2013-12-24","2013-12-25","2013-12-26","2013-12-27","2013-12-28","2013-12-29","2013-12-30","2013-12-31","2014-01-01","2014-01-02","2014-01-03","2014-01-04","2014-01-05","2014-01-06","2014-01-07","2014-01-08","2014-01-09","2014-01-10","2014-01-11","2014-01-12","2014-01-13","2014-01-14","2014-01-15","2014-01-16","2014-01-17","2014-01-18","2014-01-19","2014-01-20","2014-01-21","2014-01-22","2014-01-23","2014-01-24","2014-01-25","2014-01-26","2014-01-27","2014-01-28","2014-01-29","2014-01-30","2014-01-31","2014-02-01","2014-02-02","2014-02-03","2014-02-04","2014-02-05","2014-02-06","2014-02-07","2014-02-08","2014-02-09","2014-02-10","2014-02-11","2014-02-12","2014-02-13","2014-02-14","2014-02-15","2014-02-16","2014-02-17","2014-02-18","2014-02-19","2014-02-20","2014-02-21","2014-02-22","2014-02-23","2014-02-24","2014-02-25","2014-02-26","2014-02-27","2014-02-28","2014-03-01","2014-03-02","2014-03-03","2014-03-04","2014-03-05","2014-03-06","2014-03-07","2014-03-08","2014-03-09","2014-03-10","2014-03-11","2014-03-12","2014-03-13","2014-03-14","2014-03-15","2014-03-16","2014-03-17","2014-03-18","2014-03-19","2014-03-20","2014-03-21","2014-03-22","2014-03-23","2014-03-24","2014-03-25","2014-03-26","2014-03-27","2014-03-28","2014-03-29","2014-03-30","2014-03-31","2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-05","2014-04-06","2014-04-07","2014-04-08","2014-04-09","2014-04-10","2014-04-11","2014-04-12","2014-04-13","2014-04-14","2014-04-15","2014-04-16","2014-04-17","2014-04-18","2014-04-19","2014-04-20","2014-04-21","2014-04-22","2014-04-23","2014-04-24","2014-04-25","2014-04-26","2014-04-27","2014-04-28","2014-04-29","2014-04-30","2014-05-01","2014-05-02","2014-05-03","2014-05-04","2014-05-05","2014-05-06","2014-05-07","2014-05-08","2014-05-09","2014-05-10","2014-05-11","2014-05-12","2014-05-13","2014-05-14","2014-05-15","2014-05-16","2014-05-17","2014-05-18","2014-05-19","2014-05-20","2014-05-21","2014-05-22","2014-05-23","2014-05-24","2014-05-25","2014-05-26","2014-05-27","2014-05-28","2014-05-29","2014-05-30","2014-05-31","2014-06-01","2014-06-02","2014-06-03","2014-06-04","2014-06-05","2014-06-06","2014-06-07","2014-06-08","2014-06-09","2014-06-10","2014-06-11","2014-06-12","2014-06-13","2014-06-14","2014-06-15","2014-06-16","2014-06-17","2014-06-18","2014-06-19","2014-06-20","2014-06-21","2014-06-22","2014-06-23","2014-06-24","2014-06-25","2014-06-26","2014-06-27","2014-06-28","2014-06-29","2014-06-30","2014-07-01","2014-07-02","2014-07-03","2014-07-04","2014-07-05","2014-07-06","2014-07-07","2014-07-08","2014-07-09","2014-07-10","2014-07-11","2014-07-12","2014-07-13","2014-07-14","2014-07-15","2014-07-16","2014-07-17","2014-07-18","2014-07-19","2014-07-20","2014-07-21","2014-07-22","2014-07-23","2014-07-24","2014-07-25","2014-07-26","2014-07-27","2014-07-28","2014-07-29","2014-07-30","2014-07-31","2014-08-01","2014-08-02","2014-08-03","2014-08-04","2014-08-05","2014-08-06","2014-08-07","2014-08-08","2014-08-09","2014-08-10","2014-08-11","2014-08-12","2014-08-13","2014-08-14","2014-08-15","2014-08-16","2014-08-17","2014-08-18","2014-08-19","2014-08-20","2014-08-21","2014-08-22","2014-08-23","2014-08-24","2014-08-25","2014-08-26","2014-08-27","2014-08-28","2014-08-29","2014-08-30","2014-08-31","2014-09-01","2014-09-02","2014-09-03","2014-09-04","2014-09-05","2014-09-06","2014-09-07","2014-09-08","2014-09-09","2014-09-10","2014-09-11","2014-09-12","2014-09-13","2014-09-14","2014-09-15","2014-09-16","2014-09-17","2014-09-18","2014-09-19","2014-09-20","2014-09-21","2014-09-22","2014-09-23","2014-09-24","2014-09-25","2014-09-26","2014-09-27","2014-09-28","2014-09-29","2014-09-30","2014-10-01","2014-10-02","2014-10-03","2014-10-04","2014-10-05","2014-10-06","2014-10-07","2014-10-08","2014-10-09","2014-10-10","2014-10-11","2014-10-12","2014-10-13","2014-10-14","2014-10-15","2014-10-16","2014-10-17","2014-10-18","2014-10-19","2014-10-20","2014-10-21","2014-10-22","2014-10-23","2014-10-24","2014-10-25","2014-10-26","2014-10-27","2014-10-28","2014-10-29","2014-10-30","2014-10-31","2014-11-01","2014-11-02","2014-11-03","2014-11-04","2014-11-05","2014-11-06","2014-11-07","2014-11-08","2014-11-09","2014-11-10","2014-11-11","2014-11-12","2014-11-13","2014-11-14","2014-11-15","2014-11-16","2014-11-17","2014-11-18","2014-11-19","2014-11-20","2014-11-21","2014-11-22","2014-11-23","2014-11-24","2014-11-25","2014-11-26","2014-11-27","2014-11-28","2014-11-29","2014-11-30","2014-12-01","2014-12-02","2014-12-03","2014-12-04","2014-12-05","2014-12-06","2014-12-07","2014-12-08","2014-12-09","2014-12-10","2014-12-11","2014-12-12","2014-12-13","2014-12-14","2014-12-15","2014-12-16","2014-12-17","2014-12-18","2014-12-19","2014-12-20","2014-12-21","2014-12-22","2014-12-23","2014-12-24","2014-12-25","2014-12-26","2014-12-27","2014-12-28","2014-12-29","2014-12-30","2014-12-31","2015-01-01","2015-01-02","2015-01-03","2015-01-04","2015-01-05","2015-01-06","2015-01-07","2015-01-08","2015-01-09","2015-01-10","2015-01-11","2015-01-12","2015-01-13","2015-01-14","2015-01-15","2015-01-16","2015-01-17","2015-01-18","2015-01-19","2015-01-20","2015-01-21","2015-01-22","2015-01-23","2015-01-24","2015-01-25","2015-01-26","2015-01-27","2015-01-28","2015-01-29","2015-01-30","2015-01-31","2015-02-01","2015-02-02","2015-02-03","2015-02-04","2015-02-05","2015-02-06","2015-02-07","2015-02-08","2015-02-09","2015-02-10","2015-02-11","2015-02-12","2015-02-13","2015-02-14","2015-02-15","2015-02-16","2015-02-17","2015-02-18","2015-02-19","2015-02-20","2015-02-21","2015-02-22","2015-02-23","2015-02-24","2015-02-25","2015-02-26","2015-02-27","2015-02-28","2015-03-01","2015-03-02","2015-03-03","2015-03-04","2015-03-05","2015-03-06","2015-03-07","2015-03-08","2015-03-09","2015-03-10","2015-03-11","2015-03-12","2015-03-13","2015-03-14","2015-03-15","2015-03-16","2015-03-17","2015-03-18","2015-03-19","2015-03-20","2015-03-21","2015-03-22","2015-03-23","2015-03-24","2015-03-25","2015-03-26","2015-03-27","2015-03-28","2015-03-29","2015-03-30","2015-03-31","2015-04-01","2015-04-02","2015-04-03","2015-04-04","2015-04-05","2015-04-06","2015-04-07","2015-04-08","2015-04-09","2015-04-10","2015-04-11","2015-04-12","2015-04-13","2015-04-14","2015-04-15","2015-04-16","2015-04-17","2015-04-18","2015-04-19","2015-04-20","2015-04-21","2015-04-22","2015-04-23","2015-04-24","2015-04-25","2015-04-26","2015-04-27","2015-04-28","2015-04-29","2015-04-30","2015-05-01","2015-05-02","2015-05-03","2015-05-04","2015-05-05","2015-05-06","2015-05-07","2015-05-08","2015-05-09","2015-05-10","2015-05-11","2015-05-12","2015-05-13","2015-05-14","2015-05-15","2015-05-16","2015-05-17","2015-05-18","2015-05-19","2015-05-20","2015-05-21","2015-05-22","2015-05-23","2015-05-24","2015-05-25","2015-05-26","2015-05-27","2015-05-28","2015-05-29","2015-05-30","2015-05-31","2015-06-01","2015-06-02","2015-06-03","2015-06-04","2015-06-05","2015-06-06","2015-06-07","2015-06-08","2015-06-09","2015-06-10","2015-06-11","2015-06-12","2015-06-13","2015-06-14","2015-06-15","2015-06-16","2015-06-17","2015-06-18","2015-06-19","2015-06-20","2015-06-21","2015-06-22","2015-06-23","2015-06-24","2015-06-25","2015-06-26","2015-06-27","2015-06-28","2015-06-29","2015-06-30","2015-07-01","2015-07-02","2015-07-03","2015-07-04","2015-07-05","2015-07-06","2015-07-07","2015-07-08","2015-07-09","2015-07-10","2015-07-11","2015-07-12","2015-07-13","2015-07-14","2015-07-15","2015-07-16","2015-07-17","2015-07-18","2015-07-19","2015-07-20","2015-07-21","2015-07-22","2015-07-23","2015-07-24","2015-07-25","2015-07-26","2015-07-27","2015-07-28","2015-07-29","2015-07-30","2015-07-31","2015-08-01","2015-08-02","2015-08-03","2015-08-04","2015-08-05","2015-08-06","2015-08-07","2015-08-08","2015-08-09","2015-08-10","2015-08-11","2015-08-12","2015-08-13","2015-08-14","2015-08-15","2015-08-16","2015-08-17","2015-08-18","2015-08-19","2015-08-20","2015-08-21","2015-08-22","2015-08-23","2015-08-24","2015-08-25","2015-08-26","2015-08-27","2015-08-28","2015-08-29","2015-08-30","2015-08-31","2015-09-01","2015-09-02","2015-09-03","2015-09-04","2015-09-05","2015-09-06","2015-09-07","2015-09-08","2015-09-09","2015-09-10","2015-09-11","2015-09-12","2015-09-13","2015-09-14","2015-09-15","2015-09-16","2015-09-17","2015-09-18","2015-09-19","2015-09-20","2015-09-21","2015-09-22","2015-09-23","2015-09-24","2015-09-25","2015-09-26","2015-09-27","2015-09-28","2015-09-29","2015-09-30","2015-10-01","2015-10-02","2015-10-03","2015-10-04","2015-10-05","2015-10-06","2015-10-07","2015-10-08","2015-10-09","2015-10-10","2015-10-11","2015-10-12","2015-10-13","2015-10-14","2015-10-15","2015-10-16","2015-10-17","2015-10-18","2015-10-19","2015-10-20","2015-10-21","2015-10-22","2015-10-23","2015-10-24","2015-10-25","2015-10-26","2015-10-27","2015-10-28","2015-10-29","2015-10-30","2015-10-31","2015-11-01","2015-11-02","2015-11-03","2015-11-04","2015-11-05","2015-11-06","2015-11-07","2015-11-08","2015-11-09","2015-11-10","2015-11-11","2015-11-12","2015-11-13","2015-11-14","2015-11-15","2015-11-16","2015-11-17","2015-11-18","2015-11-19","2015-11-20","2015-11-21","2015-11-22","2015-11-23","2015-11-24","2015-11-25","2015-11-26","2015-11-27","2015-11-28","2015-11-29","2015-11-30","2015-12-01","2015-12-02","2015-12-03","2015-12-04","2015-12-05","2015-12-06","2015-12-07","2015-12-08","2015-12-09","2015-12-10","2015-12-11","2015-12-12","2015-12-13","2015-12-14","2015-12-15","2015-12-16","2015-12-17","2015-12-18","2015-12-19","2015-12-20","2015-12-21","2015-12-22","2015-12-23","2015-12-24","2015-12-25","2015-12-26","2015-12-27","2015-12-28","2015-12-29","2015-12-30","2015-12-31","2016-01-01","2016-01-02","2016-01-03","2016-01-04","2016-01-05","2016-01-06","2016-01-07","2016-01-08","2016-01-09","2016-01-10","2016-01-11","2016-01-12","2016-01-13","2016-01-14","2016-01-15","2016-01-16","2016-01-17","2016-01-18","2016-01-19","2016-01-20","2016-01-21","2016-01-22","2016-01-23","2016-01-24","2016-01-25","2016-01-26","2016-01-27","2016-01-28","2016-01-29","2016-01-30","2016-01-31","2016-02-01","2016-02-02","2016-02-03","2016-02-04","2016-02-05","2016-02-06","2016-02-07","2016-02-08","2016-02-09","2016-02-10","2016-02-11","2016-02-12","2016-02-13","2016-02-14","2016-02-15","2016-02-16","2016-02-17","2016-02-18","2016-02-19","2016-02-20","2016-02-21","2016-02-22","2016-02-23","2016-02-24","2016-02-25","2016-02-26","2016-02-27","2016-02-28","2016-02-29","2016-03-01","2016-03-02","2016-03-03","2016-03-04","2016-03-05","2016-03-06","2016-03-07","2016-03-08","2016-03-09","2016-03-10","2016-03-11","2016-03-12","2016-03-13","2016-03-14","2016-03-15","2016-03-16","2016-03-17","2016-03-18","2016-03-19","2016-03-20","2016-03-21","2016-03-22","2016-03-23","2016-03-24","2016-03-25","2016-03-26","2016-03-27","2016-03-28","2016-03-29","2016-03-30","2016-03-31","2016-04-01","2016-04-02","2016-04-03","2016-04-04","2016-04-05","2016-04-06","2016-04-07","2016-04-08","2016-04-09","2016-04-10","2016-04-11","2016-04-12","2016-04-13","2016-04-14","2016-04-15","2016-04-16","2016-04-17","2016-04-18","2016-04-19","2016-04-20","2016-04-21","2016-04-22","2016-04-23","2016-04-24","2016-04-25","2016-04-26","2016-04-27","2016-04-28","2016-04-29","2016-04-30","2016-05-01","2016-05-02","2016-05-03","2016-05-04","2016-05-05","2016-05-06","2016-05-07","2016-05-08","2016-05-09","2016-05-10","2016-05-11","2016-05-12","2016-05-13","2016-05-14","2016-05-15","2016-05-16","2016-05-17","2016-05-18","2016-05-19","2016-05-20","2016-05-21","2016-05-22","2016-05-23","2016-05-24","2016-05-25","2016-05-26","2016-05-27","2016-05-28","2016-05-29","2016-05-30","2016-05-31","2016-06-01","2016-06-02","2016-06-03","2016-06-04","2016-06-05","2016-06-06","2016-06-07","2016-06-08","2016-06-09","2016-06-10","2016-06-11","2016-06-12","2016-06-13","2016-06-14","2016-06-15","2016-06-16","2016-06-17","2016-06-18","2016-06-19","2016-06-20","2016-06-21","2016-06-22","2016-06-23","2016-06-24","2016-06-25","2016-06-26","2016-06-27","2016-06-28","2016-06-29","2016-06-30","2016-07-01","2016-07-02","2016-07-03","2016-07-04","2016-07-05","2016-07-06","2016-07-07","2016-07-08","2016-07-09","2016-07-10","2016-07-11","2016-07-12","2016-07-13","2016-07-14","2016-07-15","2016-07-16","2016-07-17","2016-07-18","2016-07-19","2016-07-20","2016-07-21","2016-07-22","2016-07-23","2016-07-24","2016-07-25","2016-07-26","2016-07-27","2016-07-28","2016-07-29","2016-07-30","2016-07-31","2016-08-01","2016-08-02","2016-08-03","2016-08-04","2016-08-05","2016-08-06","2016-08-07","2016-08-08","2016-08-09","2016-08-10","2016-08-11","2016-08-12","2016-08-13","2016-08-14","2016-08-15","2016-08-16","2016-08-17","2016-08-18","2016-08-19","2016-08-20","2016-08-21","2016-08-22","2016-08-23","2016-08-24","2016-08-25","2016-08-26","2016-08-27","2016-08-28","2016-08-29","2016-08-30","2016-08-31","2016-09-01","2016-09-02","2016-09-03","2016-09-04","2016-09-05","2016-09-06","2016-09-07","2016-09-08","2016-09-09","2016-09-10","2016-09-11","2016-09-12","2016-09-13","2016-09-14","2016-09-15","2016-09-16","2016-09-17","2016-09-18","2016-09-19","2016-09-20","2016-09-21","2016-09-22","2016-09-23","2016-09-24","2016-09-25","2016-09-26","2016-09-27","2016-09-28","2016-09-29","2016-09-30","2016-10-01","2016-10-02","2016-10-03","2016-10-04","2016-10-05","2016-10-06","2016-10-07","2016-10-08","2016-10-09","2016-10-10","2016-10-11","2016-10-12","2016-10-13","2016-10-14","2016-10-15","2016-10-16","2016-10-17","2016-10-18","2016-10-19","2016-10-20","2016-10-21","2016-10-22","2016-10-23","2016-10-24","2016-10-25","2016-10-26","2016-10-27","2016-10-28","2016-10-29","2016-10-30","2016-10-31","2016-11-01","2016-11-02","2016-11-03","2016-11-04","2016-11-05","2016-11-06","2016-11-07","2016-11-08","2016-11-09","2016-11-10","2016-11-11","2016-11-12","2016-11-13","2016-11-14","2016-11-15","2016-11-16","2016-11-17","2016-11-18","2016-11-19","2016-11-20","2016-11-21","2016-11-22","2016-11-23","2016-11-24","2016-11-25","2016-11-26","2016-11-27","2016-11-28","2016-11-29","2016-11-30","2016-12-01","2016-12-02","2016-12-03","2016-12-04","2016-12-05","2016-12-06","2016-12-07","2016-12-08","2016-12-09","2016-12-10","2016-12-11","2016-12-12","2016-12-13","2016-12-14","2016-12-15","2016-12-16","2016-12-17","2016-12-18","2016-12-19","2016-12-20","2016-12-21","2016-12-22","2016-12-23","2016-12-24","2016-12-25","2016-12-26","2016-12-27","2016-12-28","2016-12-29","2016-12-30","2016-12-31","2017-01-01","2017-01-02","2017-01-03","2017-01-04","2017-01-05","2017-01-06","2017-01-07","2017-01-08","2017-01-09","2017-01-10","2017-01-11","2017-01-12","2017-01-13","2017-01-14","2017-01-15","2017-01-16","2017-01-17","2017-01-18","2017-01-19","2017-01-20","2017-01-21","2017-01-22","2017-01-23","2017-01-24","2017-01-25","2017-01-26","2017-01-27","2017-01-28","2017-01-29","2017-01-30","2017-01-31","2017-02-01","2017-02-02","2017-02-03","2017-02-04","2017-02-05","2017-02-06","2017-02-07","2017-02-08","2017-02-09","2017-02-10","2017-02-11","2017-02-12","2017-02-13","2017-02-14","2017-02-15","2017-02-16","2017-02-17","2017-02-18","2017-02-19","2017-02-20","2017-02-21","2017-02-22","2017-02-23","2017-02-24","2017-02-25","2017-02-26","2017-02-27","2017-02-28","2017-03-01","2017-03-02","2017-03-03","2017-03-04","2017-03-05","2017-03-06","2017-03-07","2017-03-08","2017-03-09","2017-03-10","2017-03-11","2017-03-12","2017-03-13","2017-03-14","2017-03-15","2017-03-16","2017-03-17","2017-03-18","2017-03-19","2017-03-20","2017-03-21","2017-03-22","2017-03-23","2017-03-24","2017-03-25","2017-03-26","2017-03-27","2017-03-28","2017-03-29","2017-03-30","2017-03-31","2017-04-01","2017-04-02","2017-04-03","2017-04-04","2017-04-05","2017-04-06","2017-04-07","2017-04-08","2017-04-09","2017-04-10","2017-04-11","2017-04-12","2017-04-13","2017-04-14","2017-04-15","2017-04-16","2017-04-17","2017-04-18","2017-04-19","2017-04-20","2017-04-21","2017-04-22","2017-04-23","2017-04-24","2017-04-25","2017-04-26","2017-04-27","2017-04-28","2017-04-29","2017-04-30","2017-05-01","2017-05-02","2017-05-03","2017-05-04","2017-05-05","2017-05-06","2017-05-07","2017-05-08","2017-05-09","2017-05-10","2017-05-11","2017-05-12","2017-05-13","2017-05-14","2017-05-15","2017-05-16","2017-05-17","2017-05-18","2017-05-19","2017-05-20","2017-05-21","2017-05-22","2017-05-23","2017-05-24","2017-05-25","2017-05-26","2017-05-27","2017-05-28","2017-05-29","2017-05-30","2017-05-31","2017-06-01","2017-06-02","2017-06-03","2017-06-04","2017-06-05","2017-06-06","2017-06-07","2017-06-08","2017-06-09","2017-06-10","2017-06-11","2017-06-12","2017-06-13","2017-06-14","2017-06-15","2017-06-16","2017-06-17","2017-06-18","2017-06-19","2017-06-20","2017-06-21","2017-06-22","2017-06-23","2017-06-24","2017-06-25","2017-06-26","2017-06-27","2017-06-28","2017-06-29","2017-06-30","2017-07-01","2017-07-02","2017-07-03","2017-07-04","2017-07-05","2017-07-06","2017-07-07","2017-07-08","2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15","2017-07-16","2017-07-17","2017-07-18","2017-07-19","2017-07-20","2017-07-21","2017-07-22","2017-07-23","2017-07-24","2017-07-25","2017-07-26","2017-07-27","2017-07-28","2017-07-29","2017-07-30","2017-07-31","2017-08-01","2017-08-02","2017-08-03","2017-08-04","2017-08-05","2017-08-06","2017-08-07","2017-08-08","2017-08-09","2017-08-10","2017-08-11","2017-08-12","2017-08-13","2017-08-14","2017-08-15","2017-08-16","2017-08-17","2017-08-18","2017-08-19","2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26","2017-08-27","2017-08-28","2017-08-29","2017-08-30","2017-08-31","2017-09-01","2017-09-02","2017-09-03","2017-09-04","2017-09-05","2017-09-06","2017-09-07","2017-09-08","2017-09-09","2017-09-10","2017-09-11","2017-09-12","2017-09-13","2017-09-14","2017-09-15","2017-09-16","2017-09-17","2017-09-18","2017-09-19","2017-09-20","2017-09-21","2017-09-22","2017-09-23","2017-09-24","2017-09-25","2017-09-26","2017-09-27","2017-09-28","2017-09-29","2017-09-30","2017-10-01","2017-10-02","2017-10-03","2017-10-04","2017-10-05","2017-10-06","2017-10-07","2017-10-08","2017-10-09","2017-10-10","2017-10-11","2017-10-12","2017-10-13","2017-10-14","2017-10-15","2017-10-16","2017-10-17","2017-10-18","2017-10-19","2017-10-20","2017-10-21","2017-10-22","2017-10-23","2017-10-24","2017-10-25","2017-10-26","2017-10-27","2017-10-28","2017-10-29","2017-10-30","2017-10-31","2017-11-01","2017-11-02","2017-11-03","2017-11-04","2017-11-05","2017-11-06","2017-11-07","2017-11-08","2017-11-09","2017-11-10","2017-11-11","2017-11-12","2017-11-13","2017-11-14","2017-11-15","2017-11-16","2017-11-17","2017-11-18","2017-11-19","2017-11-20","2017-11-21","2017-11-22","2017-11-23","2017-11-24","2017-11-25","2017-11-26","2017-11-27","2017-11-28","2017-11-29","2017-11-30","2017-12-01","2017-12-02","2017-12-03","2017-12-04","2017-12-05","2017-12-06","2017-12-07","2017-12-08","2017-12-09","2017-12-10","2017-12-11","2017-12-12","2017-12-13","2017-12-14","2017-12-15","2017-12-16","2017-12-17","2017-12-18","2017-12-19","2017-12-20","2017-12-21","2017-12-22","2017-12-23","2017-12-24","2017-12-25","2017-12-26","2017-12-27","2017-12-28","2017-12-29","2017-12-30","2017-12-31","2018-01-01","2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-06","2018-01-07","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-13","2018-01-14","2018-01-15","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-20","2018-01-21","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-27","2018-01-28","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-03","2018-02-04","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-10","2018-02-11","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-17","2018-02-18","2018-02-19","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-24","2018-02-25","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-03","2018-03-04","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-10","2018-03-11","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-17","2018-03-18","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-24","2018-03-25","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-03-30","2018-03-31","2018-04-01","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-07","2018-04-08","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-14","2018-04-15","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-21","2018-04-22","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-28","2018-04-29","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-05","2018-05-06","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-12","2018-05-13","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-19","2018-05-20","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-26","2018-05-27","2018-05-28","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-02","2018-06-03","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-09","2018-06-10","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-16","2018-06-17","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-23","2018-06-24","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-06-30","2018-07-01","2018-07-02","2018-07-03","2018-07-04","2018-07-05","2018-07-06","2018-07-07","2018-07-08","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-14","2018-07-15","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-21","2018-07-22","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-28","2018-07-29","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-04","2018-08-05","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-11","2018-08-12","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-18","2018-08-19","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-25","2018-08-26","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-01","2018-09-02","2018-09-03","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-08","2018-09-09","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-15","2018-09-16","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-22","2018-09-23","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-09-29","2018-09-30","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-06","2018-10-07","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-13","2018-10-14","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-20","2018-10-21","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-27","2018-10-28","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-03","2018-11-04","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-10","2018-11-11","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-17","2018-11-18","2018-11-19","2018-11-20","2018-11-21","2018-11-22","2018-11-23","2018-11-24","2018-11-25","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-01","2018-12-02","2018-12-03","2018-12-04","2018-12-05","2018-12-06","2018-12-07","2018-12-08","2018-12-09","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-15","2018-12-16","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-22","2018-12-23","2018-12-24","2018-12-25","2018-12-26","2018-12-27","2018-12-28","2018-12-29","2018-12-30","2018-12-31","2019-01-01","2019-01-02","2019-01-03","2019-01-04","2019-01-05","2019-01-06","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-12","2019-01-13","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-19","2019-01-20","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-26","2019-01-27","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-02","2019-02-03","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-09","2019-02-10","2019-02-11","2019-02-12","2019-02-13","2019-02-14","2019-02-15","2019-02-16","2019-02-17","2019-02-18","2019-02-19","2019-02-20","2019-02-21","2019-02-22","2019-02-23","2019-02-24","2019-02-25","2019-02-26","2019-02-27","2019-02-28","2019-03-01","2019-03-02","2019-03-03","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-09","2019-03-10","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-16","2019-03-17","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-23","2019-03-24","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-03-30","2019-03-31","2019-04-01","2019-04-02","2019-04-03","2019-04-04","2019-04-05","2019-04-06","2019-04-07","2019-04-08","2019-04-09","2019-04-10","2019-04-11","2019-04-12","2019-04-13","2019-04-14","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-19","2019-04-20","2019-04-21","2019-04-22","2019-04-23","2019-04-24","2019-04-25","2019-04-26","2019-04-27","2019-04-28","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-04","2019-05-05","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07","2019-06-08","2019-06-09","2019-06-10","2019-06-11","2019-06-12","2019-06-13","2019-06-14","2019-06-15","2019-06-16","2019-06-17","2019-06-18","2019-06-19","2019-06-20","2019-06-21","2019-06-22","2019-06-23","2019-06-24","2019-06-25","2019-06-26","2019-06-27","2019-06-28","2019-06-29","2019-06-30","2019-07-01","2019-07-02","2019-07-03","2019-07-04","2019-07-05","2019-07-06","2019-07-07","2019-07-08","2019-07-09","2019-07-10","2019-07-11","2019-07-12","2019-07-13","2019-07-14","2019-07-15","2019-07-16","2019-07-17","2019-07-18","2019-07-19","2019-07-20","2019-07-21","2019-07-22","2019-07-23","2019-07-24","2019-07-25","2019-07-26","2019-07-27","2019-07-28","2019-07-29","2019-07-30","2019-07-31","2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25","2020-09-26","2020-09-27","2020-09-28","2020-09-29","2020-09-30","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08","2020-10-09","2020-10-10","2020-10-11","2020-10-12","2020-10-13","2020-10-14","2020-10-15","2020-10-16","2020-10-17","2020-10-18","2020-10-19","2020-10-20","2020-10-21","2020-10-22","2020-10-23","2020-10-24","2020-10-25","2020-10-26","2020-10-27","2020-10-28","2020-10-29","2020-10-30","2020-10-31","2020-11-01","2020-11-02","2020-11-03","2020-11-04","2020-11-05","2020-11-06","2020-11-07","2020-11-08","2020-11-09","2020-11-10","2020-11-11","2020-11-12","2020-11-13","2020-11-14","2020-11-15","2020-11-16","2020-11-17","2020-11-18","2020-11-19","2020-11-20","2020-11-21","2020-11-22","2020-11-23","2020-11-24","2020-11-25","2020-11-26","2020-11-27","2020-11-28","2020-11-29","2020-11-30","2020-12-01","2020-12-02","2020-12-03","2020-12-04","2020-12-05","2020-12-06","2020-12-07","2020-12-08","2020-12-09","2020-12-10","2020-12-11","2020-12-12","2020-12-13","2020-12-14","2020-12-15","2020-12-16","2020-12-17","2020-12-18","2020-12-19","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06","2021-03-07","2021-03-08","2021-03-09","2021-03-10","2021-03-11","2021-03-12","2021-03-13","2021-03-14","2021-03-15","2021-03-16","2021-03-17","2021-03-18","2021-03-19","2021-03-20","2021-03-21","2021-03-22","2021-03-23","2021-03-24","2021-03-25","2021-03-26","2021-03-27","2021-03-28","2021-03-29","2021-03-30","2021-03-31","2021-04-01","2021-04-02","2021-04-03","2021-04-04","2021-04-05","2021-04-06","2021-04-07","2021-04-08","2021-04-09","2021-04-10","2021-04-11","2021-04-12","2021-04-13","2021-04-14","2021-04-15","2021-04-16","2021-04-17","2021-04-18","2021-04-19","2021-04-20","2021-04-21","2021-04-22","2021-04-23","2021-04-24","2021-04-25","2021-04-26","2021-04-27","2021-04-28","2021-04-29","2021-04-30","2021-05-01","2021-05-02","2021-05-03","2021-05-04","2021-05-05","2021-05-06","2021-05-07","2021-05-08","2021-05-09","2021-05-10","2021-05-11","2021-05-12","2021-05-13","2021-05-14","2021-05-15","2021-05-16","2021-05-17","2021-05-18","2021-05-19","2021-05-20","2021-05-21","2021-05-22","2021-05-23","2021-05-24","2021-05-25","2021-05-26","2021-05-27","2021-05-28","2021-05-29","2021-05-30","2021-05-31","2021-06-01","2021-06-02","2021-06-03","2021-06-04","2021-06-05","2021-06-06","2021-06-07","2021-06-08","2021-06-09","2021-06-10","2021-06-11","2021-06-12","2021-06-13","2021-06-14","2021-06-15","2021-06-16","2021-06-17","2021-06-18","2021-06-19","2021-06-20","2021-06-21","2021-06-22","2021-06-23","2021-06-24","2021-06-25","2021-06-26","2021-06-27","2021-06-28","2021-06-29","2021-06-30","2021-07-01","2021-07-02","2021-07-03","2021-07-04","2021-07-05","2021-07-06","2021-07-07","2021-07-08","2021-07-09","2021-07-10","2021-07-11","2021-07-12","2021-07-13","2021-07-14","2021-07-15","2021-07-16","2021-07-17","2021-07-18","2021-07-19","2021-07-20","2021-07-21","2021-07-22","2021-07-23","2021-07-24","2021-07-25","2021-07-26","2021-07-27","2021-07-28","2021-07-29","2021-07-30","2021-07-31","2021-08-01","2021-08-02","2021-08-03","2021-08-04","2021-08-05","2021-08-06","2021-08-07","2021-08-08","2021-08-09","2021-08-10","2021-08-11","2021-08-12","2021-08-13","2021-08-14","2021-08-15","2021-08-16","2021-08-17","2021-08-18","2021-08-19","2021-08-20","2021-08-21","2021-08-22","2021-08-23","2021-08-24","2021-08-25","2021-08-26","2021-08-27","2021-08-28","2021-08-29","2021-08-30","2021-08-31","2021-09-01","2021-09-02","2021-09-03","2021-09-04","2021-09-05","2021-09-06","2021-09-07","2021-09-08","2021-09-09","2021-09-10","2021-09-11","2021-09-12","2021-09-13","2021-09-14","2021-09-15","2021-09-16","2021-09-17","2021-09-18","2021-09-19","2021-09-20","2021-09-21","2021-09-22","2021-09-23","2021-09-24","2021-09-25","2021-09-26","2021-09-27","2021-09-28","2021-09-29","2021-09-30","2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07","2021-10-08","2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26","2021-11-27","2021-11-28","2021-11-29","2021-11-30","2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07","2021-12-08","2021-12-09","2021-12-10","2021-12-11","2021-12-12","2021-12-13","2021-12-14","2021-12-15","2021-12-16","2021-12-17","2021-12-18","2021-12-19","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-01-21","2022-01-22","2022-01-23","2022-01-24","2022-01-25","2022-01-26","2022-01-27","2022-01-28","2022-01-29","2022-01-30","2022-01-31","2022-02-01","2022-02-02","2022-02-03","2022-02-04","2022-02-05","2022-02-06","2022-02-07","2022-02-08","2022-02-09","2022-02-10","2022-02-11","2022-02-12","2022-02-13","2022-02-14","2022-02-15","2022-02-16","2022-02-17","2022-02-18","2022-02-19","2022-02-20","2022-02-21","2022-02-22","2022-02-23","2022-02-24","2022-02-25","2022-02-26","2022-02-27","2022-02-28","2022-03-01","2022-03-02","2022-03-03","2022-03-04","2022-03-05","2022-03-06","2022-03-07","2022-03-08","2022-03-09","2022-03-10","2022-03-11","2022-03-12","2022-03-13","2022-03-14","2022-03-15","2022-03-16","2022-03-17","2022-03-18","2022-03-19","2022-03-20","2022-03-21","2022-03-22","2022-03-23","2022-03-24","2022-03-25","2022-03-26","2022-03-27","2022-03-28","2022-03-29","2022-03-30","2022-03-31","2022-04-01","2022-04-02","2022-04-03","2022-04-04","2022-04-05","2022-04-06","2022-04-07","2022-04-08","2022-04-09","2022-04-10","2022-04-11","2022-04-12","2022-04-13","2022-04-14","2022-04-15","2022-04-16","2022-04-17","2022-04-18","2022-04-19","2022-04-20","2022-04-21","2022-04-22","2022-04-23","2022-04-24","2022-04-25","2022-04-26","2022-04-27","2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17","2022-05-18","2022-05-19","2022-05-20","2022-05-21","2022-05-22","2022-05-23","2022-05-24","2022-05-25","2022-05-26","2022-05-27","2022-05-28","2022-05-29","2022-05-30","2022-05-31","2022-06-01","2022-06-02","2022-06-03","2022-06-04","2022-06-05","2022-06-06","2022-06-07","2022-06-08","2022-06-09","2022-06-10","2022-06-11","2022-06-12","2022-06-13","2022-06-14","2022-06-15","2022-06-16","2022-06-17","2022-06-18","2022-06-19","2022-06-20","2022-06-21","2022-06-22","2022-06-23","2022-06-24","2022-06-25","2022-06-26","2022-06-27","2022-06-28","2022-06-29","2022-06-30","2022-07-01","2022-07-02","2022-07-03","2022-07-04","2022-07-05","2022-07-06","2022-07-07","2022-07-08","2022-07-09","2022-07-10","2022-07-11","2022-07-12","2022-07-13","2022-07-14","2022-07-15","2022-07-16","2022-07-17","2022-07-18","2022-07-19","2022-07-20","2022-07-21","2022-07-22","2022-07-23","2022-07-24","2022-07-25","2022-07-26","2022-07-27","2022-07-28","2022-07-29","2022-07-30","2022-07-31","2022-08-01","2022-08-02","2022-08-03","2022-08-04","2022-08-05","2022-08-06","2022-08-07","2022-08-08","2022-08-09","2022-08-10","2022-08-11","2022-08-12","2022-08-13","2022-08-14","2022-08-15","2022-08-16","2022-08-17","2022-08-18","2022-08-19","2022-08-20","2022-08-21","2022-08-22","2022-08-23","2022-08-24","2022-08-25","2022-08-26","2022-08-27","2022-08-28","2022-08-29","2022-08-30","2022-08-31","2022-09-01","2022-09-02","2022-09-03","2022-09-04","2022-09-05","2022-09-06","2022-09-07","2022-09-08","2022-09-09","2022-09-10","2022-09-11","2022-09-12","2022-09-13","2022-09-14","2022-09-15","2022-09-16","2022-09-17","2022-09-18","2022-09-19","2022-09-20","2022-09-21","2022-09-22","2022-09-23","2022-09-24","2022-09-25","2022-09-26","2022-09-27","2022-09-28","2022-09-29","2022-09-30","2022-10-01","2022-10-02","2022-10-03","2022-10-04","2022-10-05","2022-10-06","2022-10-07","2022-10-08","2022-10-09","2022-10-10","2022-10-11","2022-10-12","2022-10-13","2022-10-14","2022-10-15","2022-10-16","2022-10-17","2022-10-18","2022-10-19","2022-10-20","2022-10-21","2022-10-22","2022-10-23","2022-10-24","2022-10-25","2022-10-26","2022-10-27","2022-10-28","2022-10-29","2022-10-30","2022-10-31","2022-11-01","2022-11-02","2022-11-03","2022-11-04","2022-11-05","2022-11-06","2022-11-07","2022-11-08","2022-11-09","2022-11-10","2022-11-11","2022-11-12","2022-11-13","2022-11-14","2022-11-15","2022-11-16","2022-11-17","2022-11-18","2022-11-19","2022-11-20","2022-11-21","2022-11-22","2022-11-23","2022-11-24","2022-11-25","2022-11-26","2022-11-27","2022-11-28","2022-11-29","2022-11-30","2022-12-01","2022-12-02","2022-12-03","2022-12-04","2022-12-05","2022-12-06","2022-12-07","2022-12-08","2022-12-09","2022-12-10","2022-12-11","2022-12-12","2022-12-13","2022-12-14","2022-12-15","2022-12-16","2022-12-17","2022-12-18","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09"],"y":[0.3732,0.37314,0.37308,0.37302,0.37297,0.37292,0.37287,0.37282,0.37278,0.37273,0.37269,0.37265,0.37261,0.37258,0.37254,0.37251,0.37248,0.37245,0.37242,0.37239,0.37236,0.37234,0.37231,0.37229,0.37227,0.37225,0.37223,0.37222,0.37222,0.37222,0.37223,0.37224,0.37225,0.37226,0.37228,0.3723,0.37232,0.37235,0.37238,0.37241,0.37244,0.37246,0.37249,0.37251,0.37253,0.37256,0.37258,0.37261,0.37265,0.37269,0.37273,0.37278,0.37283,0.37288,0.37294,0.373,0.37306,0.37312,0.37318,0.37325,0.37332,0.37339,0.37346,0.37353,0.3733,0.3726,0.37163,0.37056,0.36958,0.36889,0.36804,0.36664,0.36497,0.36328,0.36184,0.36091,0.36032,0.35976,0.35925,0.35882,0.35848,0.35827,0.35822,0.35834,0.35866,0.35905,0.35937,0.35968,0.36004,0.36051,0.36113,0.36186,0.36259,0.36331,0.36402,0.36471,0.36539,0.36595,0.36636,0.36668,0.36696,0.36726,0.36765,0.36789,0.36784,0.36765,0.36751,0.36758,0.36803,0.36858,0.36896,0.3693,0.36975,0.37047,0.3716,0.37304,0.37459,0.37627,0.37808,0.38003,0.38212,0.38452,0.3873,0.39039,0.39369,0.39713,0.40063,0.40409,0.40743,0.41058,0.41399,0.41797,0.42222,0.42644,0.43035,0.43365,0.43677,0.44021,0.44374,0.44711,0.4501,0.45247,0.45432,0.45591,0.45727,0.45841,0.45937,0.46016,0.46081,0.46133,0.46175,0.46177,0.46123,0.46035,0.45937,0.45851,0.458,0.45744,0.45642,0.45514,0.45383,0.45268,0.45191,0.45141,0.45095,0.45052,0.45012,0.44973,0.44937,0.44901,0.44867,0.44833,0.4481,0.44804,0.44807,0.44811,0.44807,0.44788,0.44751,0.44701,0.44644,0.44587,0.44535,0.44494,0.44456,0.44411,0.44363,0.44314,0.44269,0.44232,0.44202,0.44176,0.44153,0.44132,0.44111,0.44088,0.44067,0.44051,0.44039,0.44027,0.44015,0.43999,0.43984,0.43974,0.43968,0.4396,0.4395,0.43933,0.43909,0.43879,0.43845,0.43808,0.4377,0.43732,0.43696,0.43662,0.43633,0.43606,0.43577,0.43549,0.43521,0.43497,0.43476,0.43456,0.43434,0.43411,0.43389,0.43371,0.43358,0.43352,0.43351,0.43355,0.43363,0.43373,0.43384,0.43395,0.43405,0.43414,0.4343,0.43458,0.43493,0.43527,0.43553,0.43566,0.43565,0.43557,0.43545,0.43532,0.43523,0.43519,0.43522,0.43527,0.43535,0.43543,0.4355,0.43555,0.43557,0.43554,0.43546,0.43545,0.4356,0.4358,0.43595,0.43594,0.43567,0.43539,0.43533,0.43533,0.43522,0.43486,0.43409,0.43301,0.43185,0.43058,0.4292,0.42768,0.426,0.42416,0.42213,0.4199,0.41722,0.414,0.41046,0.40682,0.40328,0.40007,0.39659,0.39235,0.38776,0.3832,0.37909,0.3758,0.37295,0.36994,0.36686,0.36381,0.3609,0.35822,0.35586,0.35393,0.35252,0.35173,0.3515,0.35162,0.35193,0.35224,0.35237,0.35283,0.35402,0.35563,0.35734,0.35885,0.35983,0.36063,0.36171,0.36298,0.36437,0.36578,0.36712,0.3683,0.36924,0.36984,0.37007,0.37002,0.3698,0.36951,0.36925,0.36914,0.36901,0.36869,0.36826,0.36781,0.36743,0.36721,0.36706,0.36686,0.36664,0.3664,0.36616,0.36595,0.36576,0.36562,0.36554,0.36553,0.36557,0.36563,0.3657,0.36576,0.3658,0.3659,0.36612,0.36639,0.36666,0.36688,0.36698,0.36703,0.3671,0.36717,0.36724,0.36728,0.36728,0.36719,0.367,0.36675,0.3665,0.36628,0.36615,0.36604,0.36588,0.36569,0.36551,0.36536,0.36527,0.36523,0.36519,0.36516,0.36514,0.36514,0.36516,0.36522,0.36532,0.36545,0.36561,0.36578,0.36596,0.36614,0.36631,0.36646,0.36661,0.36679,0.36699,0.36719,0.36736,0.3675,0.36763,0.36777,0.36792,0.36806,0.36818,0.36827,0.36833,0.36838,0.36842,0.36845,0.36848,0.36849,0.3685,0.3685,0.36851,0.36846,0.36835,0.3682,0.36805,0.36793,0.36788,0.36786,0.36781,0.36776,0.36772,0.36769,0.36771,0.36777,0.36787,0.36801,0.36817,0.36833,0.3685,0.36866,0.36879,0.36889,0.369,0.36914,0.3693,0.36945,0.36957,0.36965,0.36969,0.36969,0.36968,0.36966,0.36965,0.36965,0.36964,0.36959,0.36951,0.36941,0.36931,0.36922,0.36916,0.36913,0.36914,0.36919,0.36923,0.36928,0.36935,0.36942,0.36952,0.36961,0.36965,0.36969,0.36976,0.36987,0.37007,0.37024,0.37027,0.37023,0.37017,0.37015,0.37023,0.37047,0.37091,0.37163,0.37238,0.373,0.37363,0.37438,0.37539,0.3768,0.37858,0.38056,0.38272,0.38502,0.38743,0.38992,0.39274,0.39608,0.39981,0.4038,0.40791,0.41201,0.41598,0.41967,0.42296,0.42635,0.43025,0.43436,0.43837,0.442,0.44495,0.44748,0.44998,0.4524,0.45466,0.45669,0.45841,0.45974,0.46068,0.4613,0.46168,0.46187,0.46195,0.46198,0.46205,0.4622,0.4622,0.46182,0.46122,0.46055,0.45995,0.45959,0.45938,0.45915,0.45887,0.45856,0.45819,0.45777,0.45737,0.45703,0.4567,0.45633,0.45586,0.45523,0.4544,0.45339,0.45228,0.45113,0.45002,0.44902,0.44789,0.44648,0.44494,0.44339,0.44201,0.44093,0.43991,0.43869,0.43739,0.43615,0.43509,0.43435,0.43392,0.43369,0.43362,0.43368,0.43382,0.43401,0.43421,0.43438,0.43449,0.43476,0.43536,0.43613,0.43691,0.43754,0.43786,0.43801,0.43818,0.43836,0.43851,0.43861,0.43862,0.43849,0.43824,0.43788,0.43746,0.437,0.43654,0.4361,0.43573,0.43545,0.43518,0.43484,0.43448,0.43412,0.4338,0.43355,0.43342,0.4334,0.43344,0.43348,0.43347,0.43335,0.43315,0.43294,0.43273,0.43251,0.4323,0.43208,0.43186,0.43165,0.43144,0.43121,0.43095,0.43067,0.43039,0.43011,0.42984,0.42955,0.42922,0.42885,0.4285,0.42817,0.4279,0.4277,0.42754,0.42742,0.42732,0.42723,0.42714,0.42704,0.42692,0.42676,0.42663,0.42659,0.42658,0.42655,0.42646,0.42626,0.42607,0.42598,0.42592,0.42581,0.42557,0.42513,0.42469,0.42443,0.42426,0.42411,0.42388,0.42349,0.42285,0.42187,0.42047,0.41859,0.41632,0.41379,0.41112,0.40845,0.40592,0.40295,0.39915,0.39493,0.39071,0.38689,0.38389,0.38124,0.37828,0.37515,0.37196,0.36885,0.36595,0.36337,0.36126,0.35972,0.35883,0.35843,0.35838,0.35849,0.35863,0.35862,0.359,0.3602,0.36186,0.36362,0.36513,0.36603,0.36661,0.36735,0.3682,0.3691,0.37001,0.37086,0.3716,0.37218,0.37254,0.37263,0.37248,0.37219,0.37186,0.37158,0.37146,0.3714,0.37127,0.37109,0.37091,0.37074,0.37062,0.37054,0.37047,0.37041,0.37034,0.37027,0.37018,0.37009,0.37003,0.36998,0.36991,0.36983,0.3697,0.36952,0.36929,0.36903,0.36876,0.36851,0.36829,0.36803,0.36769,0.36732,0.36695,0.36664,0.36644,0.3663,0.36618,0.36608,0.36599,0.36592,0.36587,0.36584,0.36584,0.36589,0.36601,0.36617,0.36633,0.36648,0.36659,0.36673,0.36694,0.3672,0.36746,0.36768,0.36783,0.36791,0.36799,0.36805,0.3681,0.36814,0.36817,0.36819,0.36821,0.36821,0.36819,0.36813,0.36805,0.36797,0.36789,0.36783,0.3678,0.36777,0.36775,0.36773,0.3677,0.36766,0.3676,0.36752,0.36743,0.36732,0.36722,0.36712,0.36703,0.36695,0.3669,0.36683,0.3667,0.36656,0.36643,0.36635,0.36634,0.36638,0.36643,0.3665,0.36658,0.36668,0.36681,0.36698,0.36722,0.36749,0.36778,0.36806,0.36831,0.36861,0.36899,0.36943,0.36987,0.37026,0.37056,0.37081,0.37108,0.37135,0.37161,0.37186,0.37207,0.37222,0.37229,0.37232,0.37235,0.37241,0.37253,0.3727,0.37287,0.37305,0.37323,0.37341,0.37359,0.37377,0.37394,0.37411,0.37423,0.3743,0.37435,0.37441,0.37451,0.37468,0.37472,0.3745,0.37418,0.37392,0.37388,0.37421,0.37465,0.37491,0.37508,0.37527,0.37557,0.37607,0.37687,0.37806,0.37975,0.38197,0.38461,0.38753,0.39059,0.39366,0.39659,0.39991,0.40397,0.40844,0.41298,0.41723,0.42085,0.42439,0.42848,0.43292,0.43754,0.44215,0.44654,0.45054,0.45395,0.45659,0.45863,0.46037,0.46187,0.46314,0.46422,0.46515,0.46557,0.4653,0.4646,0.46372,0.46294,0.46252,0.46208,0.46118,0.46003,0.4588,0.45769,0.45689,0.45623,0.45545,0.4546,0.45374,0.45293,0.45221,0.45156,0.45091,0.45027,0.44965,0.44903,0.44842,0.44787,0.4474,0.44696,0.44654,0.4461,0.4456,0.44501,0.44432,0.44358,0.44281,0.44205,0.44132,0.44067,0.44012,0.43971,0.43942,0.43918,0.43899,0.43883,0.43869,0.43855,0.43855,0.43878,0.43914,0.4395,0.43978,0.43985,0.43982,0.43983,0.43987,0.43992,0.43996,0.43998,0.43994,0.43985,0.43967,0.43936,0.43891,0.43837,0.43782,0.43731,0.43691,0.43648,0.43589,0.43522,0.43455,0.43397,0.43355,0.43325,0.43299,0.43276,0.43256,0.4324,0.43226,0.43215,0.43207,0.43201,0.43209,0.43234,0.43268,0.43302,0.43328,0.43337,0.43338,0.43344,0.43351,0.43357,0.43357,0.43349,0.43332,0.43307,0.43277,0.43244,0.43208,0.43173,0.4314,0.43111,0.43087,0.43064,0.43037,0.43007,0.42977,0.42948,0.42923,0.42896,0.42864,0.4283,0.42796,0.42767,0.42744,0.42732,0.42731,0.42738,0.4275,0.42764,0.42778,0.42789,0.42794,0.4279,0.42797,0.42829,0.42869,0.42904,0.42916,0.42893,0.42858,0.42838,0.42821,0.42792,0.42739,0.42649,0.42524,0.42381,0.4222,0.42044,0.41856,0.41657,0.4145,0.41237,0.4102,0.4076,0.40438,0.40081,0.3972,0.39383,0.391,0.38814,0.38475,0.38111,0.37756,0.3744,0.37194,0.37,0.36817,0.36647,0.36493,0.36354,0.36232,0.3613,0.36047,0.35986,0.35967,0.35997,0.36057,0.36129,0.36195,0.36237,0.36293,0.364,0.36534,0.36673,0.36794,0.36874,0.36943,0.37038,0.37143,0.37247,0.37334,0.37391,0.37421,0.37438,0.37447,0.37449,0.3745,0.37452,0.37442,0.37408,0.37362,0.37313,0.3727,0.37242,0.37218,0.37184,0.37143,0.37103,0.37069,0.37046,0.37031,0.37017,0.37005,0.36994,0.36984,0.36975,0.36969,0.36964,0.36961,0.36964,0.36973,0.36987,0.37001,0.37013,0.3702,0.37028,0.37042,0.37059,0.37075,0.37087,0.37093,0.37094,0.37094,0.37094,0.37093,0.37091,0.37086,0.37079,0.3707,0.37054,0.37032,0.37006,0.36978,0.36953,0.36933,0.36912,0.36884,0.36854,0.36823,0.36797,0.36779,0.36765,0.36751,0.36738,0.36726,0.36715,0.36705,0.36699,0.36695,0.36694,0.36697,0.36704,0.36713,0.36724,0.36736,0.36747,0.36763,0.36786,0.36813,0.3684,0.36866,0.36886,0.36905,0.36928,0.36954,0.36981,0.37008,0.37034,0.37056,0.37075,0.37087,0.37096,0.37104,0.37111,0.37116,0.37119,0.37121,0.37116,0.37105,0.3709,0.37075,0.37061,0.37052,0.37045,0.37033,0.37018,0.37002,0.36985,0.3697,0.36956,0.36947,0.36942,0.36943,0.36948,0.36955,0.36963,0.36971,0.36976,0.36981,0.3699,0.37001,0.37013,0.37023,0.37032,0.37038,0.37044,0.37051,0.37057,0.37063,0.3707,0.37078,0.37086,0.37095,0.37103,0.37111,0.37117,0.37125,0.37133,0.37143,0.37154,0.37165,0.37176,0.37188,0.37202,0.37217,0.37232,0.37244,0.37254,0.37265,0.37276,0.3729,0.37308,0.3733,0.37359,0.37371,0.37356,0.37331,0.37313,0.37318,0.37365,0.37418,0.37445,0.37467,0.37504,0.37576,0.37704,0.37879,0.38074,0.38289,0.3852,0.38767,0.39025,0.39329,0.39695,0.40098,0.40511,0.4091,0.41269,0.41656,0.4213,0.42646,0.43159,0.43624,0.43998,0.44337,0.44712,0.45097,0.45467,0.45795,0.46056,0.46253,0.46409,0.4653,0.46622,0.46692,0.46746,0.46788,0.46827,0.46867,0.4688,0.46845,0.46781,0.46705,0.46635,0.4659,0.46544,0.46469,0.46375,0.46276,0.46184,0.46109,0.46046,0.45978,0.45908,0.45835,0.45761,0.45687,0.45614,0.45543,0.45474,0.45399,0.45311,0.45216,0.45122,0.45034,0.44959,0.44888,0.44811,0.44732,0.44656,0.44588,0.44532,0.44489,0.44453,0.44423,0.44399,0.44378,0.4436,0.44344,0.4433,0.44314,0.44308,0.44315,0.4433,0.44346,0.44357,0.44357,0.44349,0.44343,0.44338,0.44333,0.44327,0.4432,0.44312,0.44304,0.44296,0.44288,0.4428,0.44272,0.44262,0.44253,0.44242,0.44231,0.44219,0.44207,0.44194,0.44178,0.44161,0.44142,0.44123,0.44104,0.44085,0.44065,0.44044,0.4402,0.43994,0.43966,0.43936,0.43907,0.43878,0.4385,0.43825,0.43803,0.43783,0.43763,0.43742,0.43721,0.437,0.43678,0.43656,0.43634,0.43613,0.43592,0.43573,0.43555,0.43539,0.43525,0.43514,0.43503,0.43494,0.43485,0.43476,0.43466,0.43456,0.4345,0.43451,0.43455,0.43457,0.43453,0.43438,0.43423,0.43417,0.43415,0.43409,0.43394,0.43361,0.43321,0.43283,0.43246,0.43206,0.43162,0.43111,0.43051,0.42979,0.42893,0.42792,0.42679,0.42557,0.42427,0.42291,0.42151,0.41998,0.41828,0.41646,0.41458,0.41271,0.4109,0.40903,0.40698,0.40483,0.40266,0.40054,0.39855,0.39645,0.39406,0.39153,0.38904,0.38674,0.3848,0.38291,0.38079,0.3786,0.37649,0.37464,0.3732,0.37211,0.37119,0.37041,0.36974,0.36916,0.36865,0.36836,0.36838,0.36866,0.36911,0.36967,0.37026,0.37081,0.37126,0.37152,0.37184,0.37242,0.37313,0.37385,0.37445,0.3748,0.37497,0.3751,0.3752,0.37527,0.37532,0.37535,0.37532,0.3752,0.37501,0.37477,0.37451,0.37424,0.37398,0.37376,0.37359,0.37343,0.37323,0.37302,0.37281,0.37262,0.37248,0.37237,0.37227,0.37218,0.3721,0.37203,0.37198,0.37195,0.37194,0.37195,0.37197,0.372,0.37203,0.37205,0.37207,0.37206,0.37208,0.37212,0.37218,0.37223,0.37224,0.37223,0.37222,0.3722,0.37219,0.37218,0.37217,0.37214,0.37208,0.37201,0.37194,0.37188,0.37185,0.37183,0.3718,0.37177,0.37174,0.37171,0.3717,0.37172,0.37178,0.37185,0.37193,0.37199,0.372,0.372,0.37201,0.37202,0.37202,0.37202,0.372,0.37195,0.37188,0.3718,0.3717,0.3716,0.37149,0.37139,0.37128,0.37119,0.37105,0.37086,0.37064,0.37042,0.37025,0.37015,0.37007,0.36997,0.36985,0.36976,0.36971,0.36973,0.36981,0.36992,0.37006,0.37023,0.37042,0.37063,0.37085,0.37108,0.37132,0.37162,0.37202,0.37247,0.37293,0.37334,0.37367,0.37399,0.3744,0.37485,0.37529,0.37566,0.37593,0.37609,0.37619,0.37623,0.37624,0.37622,0.3762,0.37618,0.37618,0.37622,0.37619,0.37605,0.37586,0.37567,0.37556,0.37559,0.37567,0.37571,0.37574,0.3758,0.37593,0.37614,0.37639,0.37663,0.37688,0.37717,0.37753,0.37801,0.37839,0.37856,0.37868,0.37889,0.37934,0.3802,0.38115,0.38191,0.38266,0.38356,0.3848,0.38654,0.38875,0.39123,0.39393,0.39679,0.39975,0.40277,0.40623,0.41041,0.41511,0.42015,0.42531,0.43041,0.43524,0.4396,0.44331,0.44706,0.45145,0.45607,0.46053,0.46442,0.46734,0.46949,0.47135,0.47294,0.47429,0.47541,0.47634,0.47678,0.47653,0.47574,0.47456,0.47314,0.47162,0.47017,0.46894,0.46806,0.46713,0.46576,0.46416,0.46253,0.46108,0.46002,0.45922,0.45843,0.45766,0.45692,0.45622,0.45556,0.45497,0.45448,0.45405,0.45368,0.45334,0.45301,0.45268,0.45233,0.45194,0.45149,0.45102,0.45054,0.45008,0.44965,0.44929,0.44894,0.44857,0.44821,0.44787,0.44758,0.44735,0.4472,0.4471,0.44705,0.44703,0.44704,0.44708,0.44712,0.44717,0.44721,0.44733,0.44756,0.44785,0.44815,0.4484,0.44856,0.44868,0.44886,0.44907,0.44926,0.44942,0.4495,0.44955,0.44962,0.4497,0.44977,0.44982,0.44984,0.44982,0.44974,0.44959,0.44937,0.44908,0.44875,0.44838,0.44801,0.44765,0.44719,0.44659,0.44591,0.44523,0.44461,0.44413,0.44374,0.44332,0.4429,0.44248,0.44207,0.44168,0.44132,0.441,0.44074,0.44058,0.44054,0.44055,0.44057,0.44053,0.44038,0.4402,0.44009,0.44001,0.43993,0.43981,0.43962,0.43937,0.43908,0.43877,0.43844,0.4381,0.43775,0.4374,0.43705,0.43672,0.43643,0.43618,0.43594,0.43567,0.43533,0.43489,0.4345,0.43427,0.43408,0.43386,0.43349,0.43287,0.43226,0.43187,0.43155,0.43113,0.43046,0.42938,0.42791,0.42622,0.42436,0.42237,0.42032,0.41825,0.41574,0.41257,0.40905,0.40551,0.40226,0.39963,0.3971,0.39411,0.39094,0.38784,0.3851,0.38296,0.3813,0.37977,0.37837,0.37711,0.37598,0.37498,0.3741,0.37333,0.37269,0.37244,0.37273,0.37333,0.37403,0.3746,0.37484,0.37511,0.3758,0.37671,0.37764,0.37838,0.37874,0.37877,0.37867,0.37848,0.37822,0.37791,0.37759,0.37727,0.37699,0.37677,0.37657,0.37632,0.37606,0.37579,0.37554,0.37532,0.37512,0.37489,0.37467,0.37444,0.37422,0.37403,0.37385,0.37367,0.37349,0.37332,0.37315,0.37299,0.37285,0.37271,0.37259,0.37249,0.37239,0.3723,0.37222,0.37214,0.37207,0.37201,0.37194,0.37188,0.37182,0.37178,0.37175,0.37175,0.37178,0.37182,0.37188,0.37194,0.37201,0.37207,0.37213,0.37216,0.37221,0.37229,0.37239,0.37249,0.37256,0.37259,0.3726,0.37261,0.37261,0.37261,0.37259,0.37256,0.3725,0.3724,0.37228,0.37214,0.372,0.37186,0.37172,0.37161,0.37152,0.37142,0.37126,0.37109,0.37092,0.37078,0.37072,0.3707,0.3707,0.37072,0.37075,0.37079,0.37084,0.37093,0.37109,0.3713,0.37153,0.37177,0.372,0.3722,0.37235,0.37243,0.37246,0.37247,0.37247,0.37247,0.37245,0.37243,0.37237,0.37223,0.37206,0.37189,0.37175,0.37167,0.37162,0.37156,0.37148,0.37139,0.37131,0.37124,0.37117,0.37113,0.37112,0.37115,0.37121,0.37129,0.37139,0.37148,0.37155,0.37163,0.37176,0.37191,0.37207,0.37221,0.37232,0.3724,0.37245,0.3725,0.37255,0.3726,0.37267,0.37274,0.37279,0.37282,0.37287,0.37292,0.373,0.3731,0.37322,0.37334,0.37347,0.3736,0.37374,0.37389,0.37405,0.37423,0.37441,0.37459,0.37476,0.37486,0.37483,0.37473,0.37459,0.37445,0.37436,0.37436,0.37449,0.37479,0.3749,0.37461,0.37418,0.37388,0.37398,0.37474,0.37592,0.37714,0.37846,0.37995,0.38168,0.38371,0.3862,0.38918,0.39255,0.3962,0.40003,0.40392,0.40778,0.4115,0.41497,0.41882,0.42349,0.42855,0.43358,0.43817,0.44189,0.44525,0.4489,0.45261,0.45617,0.45935,0.46195,0.46396,0.4656,0.46692,0.46797,0.46881,0.46948,0.47006,0.47058,0.47111,0.47145,0.47145,0.47121,0.47086,0.4705,0.47025,0.46982,0.46899,0.46792,0.46679,0.46577,0.46503,0.46446,0.46382,0.46313,0.4624,0.46167,0.46093,0.46022,0.45955,0.45894,0.45835,0.45773,0.4571,0.45648,0.45587,0.45529,0.45475,0.45425,0.45377,0.45331,0.45284,0.45236,0.45186,0.45137,0.45087,0.45038,0.4499,0.44943,0.44897,0.44852,0.44809,0.44765,0.44718,0.4467,0.44622,0.44578,0.44538,0.445,0.4446,0.4442,0.44384,0.44352,0.44327,0.4431,0.44301,0.44297,0.44298,0.44301,0.44304,0.44306,0.44305,0.443,0.44295,0.44292,0.44292,0.44291,0.44289,0.44283,0.4427,0.44251,0.44229,0.44209,0.44194,0.44187,0.44189,0.44197,0.44208,0.44222,0.44236,0.4425,0.4426,0.44267,0.44267,0.44266,0.44268,0.44271,0.44272,0.44269,0.4426,0.44254,0.4426,0.44271,0.44279,0.44277,0.44259,0.44226,0.44186,0.44141,0.44092,0.44039,0.43985,0.43916,0.43826,0.43723,0.43618,0.4352,0.43438,0.43365,0.43286,0.43206,0.43125,0.43048,0.42975,0.42919,0.42882,0.42854,0.42824,0.42781,0.42715,0.42641,0.42579,0.42523,0.42468,0.42407,0.42335,0.42246,0.42134,0.41994,0.41818,0.41611,0.41385,0.41152,0.40922,0.40709,0.40471,0.40178,0.39856,0.39535,0.39241,0.39002,0.38787,0.38553,0.38307,0.38059,0.37817,0.37589,0.37384,0.37211,0.37076,0.36986,0.36933,0.36903,0.36888,0.36875,0.36853,0.36857,0.36912,0.36996,0.37087,0.37165,0.37206,0.3723,0.37265,0.3731,0.3736,0.37411,0.3746,0.37503,0.37537,0.37557,0.37569,0.37579,0.37586,0.3759,0.37593,0.37592,0.37584,0.37564,0.37538,0.3751,0.37486,0.37469,0.3745,0.37421,0.37387,0.37354,0.37326,0.37311,0.37304,0.37302,0.37302,0.37303,0.37305,0.37305,0.3731,0.37322,0.37338,0.37353,0.37365,0.3737,0.37372,0.37375,0.37378,0.37382,0.37384,0.37384,0.3738,0.37374,0.37365,0.37356,0.37345,0.37335,0.37325,0.37317,0.37311,0.37303,0.37292,0.37279,0.37268,0.37259,0.37254,0.37252,0.3725,0.3725,0.37249,0.37248,0.37247,0.37248,0.3725,0.37254,0.37258,0.37262,0.37266,0.37269,0.37271,0.37273,0.37275,0.37276,0.37277,0.37277,0.37276,0.37274,0.37272,0.37269,0.37267,0.37263,0.3726,0.37255,0.3725,0.37244,0.37238,0.37232,0.37227,0.37222,0.37218,0.37215,0.37211,0.37203,0.37194,0.37185,0.37178,0.37175,0.37174,0.37174,0.37175,0.37177,0.3718,0.37184,0.37192,0.37205,0.37222,0.37239,0.37254,0.37265,0.37274,0.37285,0.37298,0.3731,0.37319,0.37326,0.37327,0.37326,0.37323,0.3732,0.37317,0.37316,0.37315,0.37312,0.37308,0.37304,0.37301,0.37301,0.37299,0.37295,0.37289,0.37282,0.37275,0.3727,0.37266,0.37266,0.3727,0.37277,0.37287,0.37298,0.37311,0.37324,0.37338,0.37354,0.37376,0.374,0.37425,0.37449,0.37469,0.37488,0.37508,0.37528,0.37549,0.3757,0.37591,0.37611,0.3763,0.37648,0.37652,0.37634,0.37608,0.37585,0.37576,0.37594,0.37598,0.37557,0.37501,0.37456,0.37452,0.37517,0.37626,0.37739,0.37862,0.37999,0.38154,0.38332,0.38539,0.38778,0.39055,0.39408,0.39849,0.4034,0.40844,0.41324,0.41742,0.42185,0.42729,0.43323,0.43913,0.44448,0.44876,0.45244,0.45628,0.46019,0.46404,0.46773,0.47116,0.47422,0.4768,0.4788,0.48006,0.48064,0.48077,0.48064,0.48049,0.48051,0.4802,0.47912,0.47758,0.47591,0.47444,0.47347,0.47271,0.47167,0.47045,0.46911,0.46773,0.46639,0.46517,0.46413,0.46337,0.46276,0.46218,0.46163,0.46111,0.46063,0.4602,0.45991,0.4598,0.45979,0.45982,0.4598,0.45968,0.45953,0.45946,0.45946,0.4595,0.45956,0.4596,0.45962,0.45958,0.45947,0.45923,0.45888,0.45847,0.45806,0.4577,0.45745,0.45727,0.4571,0.45694,0.45678,0.45662,0.45647,0.45634,0.45626,0.45621,0.45618,0.45615,0.45612,0.45608,0.456,0.45588,0.45572,0.45554,0.45534,0.45515,0.45496,0.45479,0.45461,0.45438,0.45414,0.45389,0.45367,0.45347,0.45329,0.45309,0.45288,0.45267,0.45248,0.45232,0.45219,0.45207,0.45197,0.45187,0.45179,0.45172,0.45172,0.4518,0.45192,0.45205,0.45212,0.4521,0.45205,0.45206,0.45209,0.45209,0.45204,0.4519,0.45165,0.4513,0.45089,0.45045,0.44998,0.44954,0.44913,0.44878,0.44853,0.44839,0.44833,0.44831,0.44829,0.4482,0.44801,0.44794,0.44816,0.44848,0.44874,0.44877,0.44839,0.44787,0.44749,0.44717,0.44685,0.44642,0.44582,0.44495,0.44374,0.44211,0.43993,0.43727,0.4343,0.43118,0.42809,0.42519,0.42188,0.41771,0.41308,0.40842,0.40415,0.40067,0.39755,0.39414,0.39057,0.38696,0.38342,0.38009,0.37706,0.37448,0.37244,0.37095,0.36984,0.369,0.36835,0.36779,0.36721,0.36695,0.36724,0.36789,0.36867,0.36937,0.36977,0.37014,0.3708,0.37169,0.37272,0.37381,0.37487,0.37583,0.37661,0.37712,0.37751,0.37794,0.37838,0.37877,0.37908,0.37924,0.37923,0.37905,0.37877,0.37845,0.37816,0.37796,0.37775,0.37741,0.37698,0.37649,0.37598,0.37548,0.37503,0.37466,0.3744,0.3742,0.37399,0.37377,0.37356,0.37338,0.37325,0.37323,0.37334,0.37352,0.37372,0.37387,0.37393,0.37396,0.37403,0.37414,0.37426,0.37438,0.37448,0.37455,0.37457,0.37452,0.37435,0.37405,0.3737,0.37339,0.37317,0.373,0.37275,0.37248,0.37222,0.37199,0.37185,0.37178,0.37175,0.37175,0.37177,0.37181,0.37185,0.37189,0.37192,0.37193,0.37199,0.37212,0.37229,0.37245,0.37257,0.37261,0.37257,0.37252,0.37245,0.37237,0.37229,0.3722,0.37206,0.37183,0.37157,0.3713,0.37107,0.37091,0.37076,0.37056,0.37034,0.37013,0.36995,0.36984,0.36978,0.36973,0.36968,0.36965,0.36965,0.36966,0.36973,0.36985,0.37,0.37017,0.37034,0.37047,0.37061,0.3708,0.37103,0.37127,0.37152,0.37175,0.37197,0.37214,0.37227,0.37235,0.37243,0.3725,0.37257,0.37262,0.37266,0.37268,0.37265,0.37261,0.37257,0.37253,0.37252,0.3725,0.37244,0.37236,0.37226,0.37216,0.37206,0.37198,0.37194,0.37194,0.37196,0.37198,0.372,0.37203,0.37209,0.37219,0.37234,0.37256,0.37281,0.37308,0.37333,0.37354,0.37372,0.3739,0.37409,0.37428,0.37447,0.37467,0.37487,0.37506,0.37526,0.37526,0.37496,0.37455,0.37419,0.37405,0.3743,0.37455,0.37446,0.37427,0.37421,0.37453,0.37546,0.37693,0.37866,0.38063,0.3828,0.38513,0.3876,0.39017,0.39282,0.39549,0.39863,0.40246,0.40667,0.41095,0.41498,0.41845,0.42193,0.42599,0.43032,0.4346,0.43852,0.44177,0.44454,0.44724,0.44984,0.45231,0.45464,0.4568,0.45877,0.46053,0.46206,0.4632,0.46393,0.46439,0.46472,0.46505,0.46554,0.46603,0.46632,0.46648,0.46654,0.46658,0.46665,0.46663,0.46641,0.46604,0.46555,0.46498,0.46438,0.46379,0.46325,0.46279,0.46233,0.46177,0.46115,0.46053,0.45995,0.45945,0.459,0.4585,0.45798,0.45747,0.45698,0.45654,0.45612,0.45569,0.45524,0.4548,0.45438,0.45397,0.45359,0.45325,0.45296,0.45275,0.45261,0.45253,0.45247,0.45238,0.45225,0.45211,0.45201,0.45193,0.45185,0.45176,0.45163,0.45143,0.45118,0.45091,0.45065,0.45043,0.45028,0.45017,0.45006,0.44994,0.44985,0.44978,0.44976,0.44981,0.44991,0.45005,0.45019,0.45031,0.4504,0.45053,0.45079,0.45111,0.45142,0.45165,0.45174,0.45173,0.45168,0.45161,0.45152,0.4514,0.45128,0.45114,0.45099,0.45085,0.45059,0.45019,0.44971,0.44923,0.44883,0.44858,0.44846,0.44837,0.4483,0.44822,0.44814,0.44802,0.44792,0.44787,0.44785,0.44785,0.44786,0.44786,0.44784,0.44779,0.4477,0.44757,0.44745,0.44734,0.44721,0.44709,0.44695,0.44682,0.44671,0.4466,0.44646,0.44627,0.44602,0.44577,0.4456,0.44547,0.44534,0.44519,0.44497,0.44466,0.44421,0.4436,0.44302,0.44261,0.44223,0.44177,0.4411,0.44009,0.43884,0.43751,0.43606,0.43448,0.43276,0.43085,0.42857,0.42585,0.42287,0.41982,0.41689,0.41426,0.41151,0.40828,0.40481,0.40138,0.39824,0.39565,0.3932,0.39044,0.38757,0.38481,0.38236,0.38041,0.37889,0.37752,0.37629,0.3752,0.37423,0.37335,0.37277,0.3726,0.37276,0.37316,0.37369,0.37429,0.37484,0.37526,0.37546,0.37567,0.37612,0.37669,0.37727,0.37773,0.37797,0.37792,0.37768,0.37732,0.37693,0.3766,0.37643,0.37634,0.37624,0.37612,0.376,0.37588,0.37576,0.37567,0.37559,0.37555,0.37554,0.37556,0.37559,0.37563,0.37566,0.37567,0.37568,0.37574,0.37581,0.37588,0.37593,0.37594,0.37593,0.37593,0.37592,0.3759,0.37588,0.37586,0.37582,0.37577,0.3757,0.37562,0.37552,0.37541,0.37529,0.37516,0.375,0.37479,0.37455,0.37431,0.3741,0.37394,0.37378,0.37357,0.37335,0.37315,0.37298,0.37288,0.37284,0.37283,0.37284,0.37286,0.37289,0.3729,0.37296,0.37308,0.37324,0.3734,0.37353,0.37358,0.3736,0.37364,0.37367,0.37371,0.37374,0.37375,0.37375,0.37371,0.37366,0.3736,0.37353,0.37346,0.3734,0.37335,0.37332,0.37328,0.3732,0.37311,0.37302,0.37295,0.37292,0.37293,0.37294,0.37297,0.37301,0.37306,0.37313,0.37322,0.37335,0.37351,0.37369,0.37388,0.37407,0.37424,0.37439,0.37451,0.37461,0.37471,0.37481,0.3749,0.37498,0.37505,0.37513,0.37521,0.3753,0.37538,0.37546,0.37552,0.37556,0.37558,0.37558,0.37557,0.37555,0.37553,0.37552,0.37551,0.37551,0.37547,0.37538,0.37525,0.37514,0.37506,0.37505,0.3751,0.37515,0.37521,0.37528,0.37538,0.37551,0.37567,0.37587,0.3761,0.37636,0.37663,0.3769,0.37716,0.3774,0.37761,0.3778,0.37796,0.37812,0.37829,0.37847,0.37869,0.37876,0.37861,0.37836,0.37816,0.37815,0.37847,0.37886,0.37903,0.3791,0.37915,0.37929,0.37961,0.38021,0.3812,0.38266,0.38447,0.38644,0.38859,0.39094,0.39349,0.39627,0.39968,0.40392,0.40862,0.41344,0.41802,0.422,0.42598,0.43063,0.43574,0.44108,0.44642,0.45156,0.45627,0.46033,0.46352,0.46618,0.46873,0.47112,0.47328,0.47513,0.47661,0.47743,0.4775,0.47709,0.47649,0.47595,0.47575,0.47547,0.47462,0.47334,0.47178,0.47007,0.46837,0.46682,0.46557,0.46476,0.46416,0.46351,0.46285,0.46225,0.46174,0.46139,0.46128,0.46138,0.46161,0.46189,0.46213,0.46224,0.46241,0.4628,0.46329,0.46378,0.46415,0.46431,0.46433,0.46435,0.46436,0.46436,0.46431,0.46422,0.46404,0.46376,0.46343,0.4631,0.46279,0.46257,0.46237,0.46213,0.46188,0.46161,0.46134,0.46109,0.46084,0.46055,0.46025,0.45993,0.45961,0.45929,0.45899,0.45872,0.45848,0.45836,0.45837,0.45845,0.45853,0.45853,0.45839,0.4581,0.45774,0.45734,0.45692,0.45652,0.45616,0.45576,0.45526,0.45469,0.45409,0.45348,0.45291,0.4524,0.45199,0.45171,0.45159,0.45159,0.45165,0.45174,0.45179,0.45175,0.45165,0.45159,0.45153,0.45149,0.45145,0.45141,0.4514,0.45145,0.45154,0.45165,0.45177,0.45189,0.45198,0.45203,0.45202,0.45194,0.45178,0.45158,0.45137,0.4512,0.45108,0.45104,0.45105,0.45109,0.45112,0.45111,0.45101,0.45101,0.45122,0.45157,0.45197,0.45235,0.45262,0.45271,0.45252,0.45199,0.45126,0.45053,0.44973,0.44879,0.44767,0.4463,0.44462,0.44268,0.44054,0.43829,0.436,0.43375,0.43136,0.42862,0.42562,0.42244,0.41914,0.41581,0.41252,0.40934,0.40637,0.40315,0.39942,0.39545,0.39154,0.38798,0.38506,0.38239,0.37953,0.37664,0.37391,0.37151,0.36964,0.36822,0.36708,0.36618,0.36548,0.36495,0.36456,0.36428,0.36407,0.3639,0.36412,0.36492,0.36605,0.36729,0.36838,0.36907,0.36982,0.37105,0.37254,0.37403,0.3753,0.37609,0.37649,0.37675,0.37689,0.37695,0.37693,0.37688,0.37681,0.37676,0.37674,0.37666,0.37645,0.37617,0.37587,0.37562,0.37547,0.3754,0.37533,0.37526,0.37518,0.3751,0.37501,0.37489,0.37475,0.3746,0.37445,0.37431,0.3742,0.37408,0.37394,0.37379,0.37366,0.37354,0.37347,0.37342,0.37338,0.37335,0.37333,0.37331,0.37329,0.37327,0.37327,0.37327,0.37327,0.37328,0.37328,0.37331,0.37337,0.37346,0.37357,0.37369,0.3738,0.37391,0.37399,0.37404,0.37408,0.37412,0.37417,0.37421,0.37422,0.3742,0.37413,0.374,0.37384,0.37367,0.37352,0.37341,0.37332,0.37318,0.37303,0.37286,0.3727,0.37256,0.37245,0.37239,0.37239,0.37243,0.37251,0.3726,0.37271,0.37281,0.37292,0.37307,0.3733,0.37357,0.37385,0.37409,0.37426,0.37441,0.37459,0.37481,0.37503,0.37525,0.37545,0.37562,0.37574,0.3758,0.37575,0.3756,0.3754,0.37519,0.37501,0.3749,0.3748,0.37463,0.37441,0.3742,0.37402,0.37392,0.37388,0.37385,0.37384,0.37384,0.37385,0.37387,0.37389,0.37393,0.37397,0.37402,0.37409,0.37417,0.37426,0.37437,0.37448,0.37462,0.37478,0.37496,0.37515,0.37533,0.3755,0.37563,0.37574,0.37584,0.37592,0.37601,0.37612,0.37625,0.37641,0.37661,0.3768,0.37693,0.37705,0.3772,0.37743,0.37778,0.37814,0.37843,0.37871,0.37904,0.37947,0.38006,0.38059,0.38087,0.38102,0.38113,0.38133,0.38172,0.38242,0.38353,0.38517,0.38715,0.38926,0.39154,0.39403,0.39677,0.39981,0.40353,0.40805,0.41304,0.41815,0.42304,0.42735,0.43176,0.43697,0.44274,0.4488,0.45489,0.46075,0.46613,0.47077,0.4744,0.47756,0.4808,0.48396,0.48683,0.48925,0.49102,0.49184,0.49175,0.49106,0.4901,0.48917,0.48861,0.48773,0.4859,0.48354,0.48103,0.47876,0.47714,0.47568,0.47376,0.47162,0.46947,0.46754,0.46605,0.46482,0.46354,0.46227,0.46106,0.45997,0.45906,0.45839,0.45793,0.4576,0.45733,0.45704,0.45665,0.45626,0.45596,0.45574,0.45558,0.45546,0.45534,0.45522,0.45506,0.45485,0.45468,0.45465,0.45469,0.45474,0.45472,0.45459,0.45434,0.45403,0.45369,0.45333,0.45299,0.45268,0.45237,0.45201,0.45162,0.45122,0.4508,0.4504,0.45002,0.44968,0.44939,0.44917,0.44902,0.4489,0.44879,0.44866,0.44849,0.4483,0.44815,0.44801,0.44787,0.4477,0.44748,0.44723,0.44694,0.44664,0.44633,0.44602,0.44572,0.44542,0.44515,0.44491,0.44468,0.44442,0.44414,0.44388,0.44363,0.44341,0.44318,0.44291,0.44262,0.44234,0.44211,0.44195,0.44185,0.44176,0.44169,0.44164,0.44161,0.44162,0.44174,0.442,0.44234,0.44269,0.44298,0.44314,0.44324,0.44335,0.44347,0.44358,0.44367,0.44371,0.44373,0.44375,0.44375,0.44375,0.44375,0.44373,0.44375,0.44382,0.44393,0.44404,0.44413,0.44417,0.44414,0.444,0.44375,0.44344,0.44316,0.44287,0.44252,0.44207,0.44149,0.44089,0.44038,0.43987,0.43928,0.43854,0.43756,0.43639,0.43513,0.43377,0.4323,0.43072,0.42903,0.42722,0.42528,0.42322,0.42077,0.41783,0.41463,0.41137,0.4083,0.40563,0.4029,0.39969,0.39627,0.3929,0.38986,0.38742,0.38533,0.38322,0.38112,0.37908,0.37714,0.37537,0.37379,0.37246,0.37143,0.37088,0.37085,0.37113,0.37154,0.37188,0.37196,0.37219,0.37298,0.37407,0.3752,0.37613,0.3766,0.3768,0.37706,0.37733,0.37758,0.37778,0.37788,0.3778,0.37757,0.37723,0.37687,0.37655,0.37635,0.37619,0.37598,0.37574,0.37549,0.37526,0.37508,0.37492,0.37474,0.37455,0.37436,0.37421,0.37409,0.37401,0.37396,0.37394,0.37393,0.37395,0.37397,0.374,0.37403,0.37406,0.37409,0.37413,0.37417,0.37421,0.37424,0.37429,0.37436,0.37444,0.37453,0.37461,0.37468,0.37477,0.37489,0.37504,0.3752,0.37536,0.3755,0.37562,0.37571,0.37575,0.37573,0.37567,0.37558,0.37547,0.37537,0.37529,0.37519,0.37503,0.37484,0.37466,0.3745,0.37441,0.37435,0.37427,0.37418,0.37409,0.374,0.37394,0.37389,0.37388,0.37391,0.37401,0.37419,0.37441,0.37463,0.37483,0.37496,0.37512,0.3754,0.37572,0.37602,0.37627,0.37638,0.3764,0.37638,0.37633,0.37625,0.37616,0.37605,0.37593,0.37581,0.3757,0.3755,0.37518,0.37479,0.37441,0.37408,0.37387,0.37372,0.37352,0.37331,0.37311,0.37295,0.37287,0.37288,0.37296,0.3731,0.37329,0.37349,0.3737,0.3739,0.37406,0.37417,0.37427,0.37441,0.37456,0.37472,0.37486,0.37496,0.37501,0.37503,0.37502,0.37501,0.37501,0.37504,0.37507,0.37506,0.37502,0.37497,0.37491,0.37488,0.37487,0.37491,0.37501,0.37509,0.37511,0.37512,0.37515,0.37527,0.37551,0.37567,0.37561,0.37548,0.37543,0.37561,0.37618,0.3769,0.37748,0.37801,0.37857,0.37927,0.38018,0.38139,0.383,0.38508,0.38774,0.39088,0.39437,0.39802,0.40168,0.40519,0.40919,0.41414,0.41957,0.42505,0.43012,0.43433,0.43851,0.44347,0.44875,0.45392,0.45851,0.46208,0.46504,0.46803,0.47092,0.47357,0.47586,0.47764,0.47868,0.47898,0.47881,0.4784,0.47802,0.47792,0.47751,0.47625,0.47451,0.47266,0.47107,0.47008,0.46943,0.46861,0.46768,0.46668,0.46567,0.4647,0.46383,0.46309,0.46255,0.46223,0.46205,0.46197,0.46191,0.46181,0.46162,0.46146,0.46146,0.46155,0.46165,0.46167,0.46156,0.46131,0.46099,0.46063,0.46024,0.45985,0.45946,0.4591,0.45878,0.45852,0.45825,0.45792,0.45756,0.45721,0.4569,0.45669,0.45658,0.45653,0.45652,0.45654,0.45654,0.4565,0.45649,0.45658,0.45672,0.45691,0.45711,0.45729,0.45744,0.45751,0.45748,0.45744,0.45743,0.45744,0.45741,0.45732,0.45712,0.4568,0.45638,0.45589,0.45538,0.45487,0.4544,0.45389,0.45327,0.45257,0.45183,0.45107,0.45033,0.44965,0.44905,0.44856,0.44809,0.44752,0.44692,0.44635,0.44588,0.44556,0.44536,0.44523,0.44515,0.44511,0.4451,0.44511,0.44522,0.44549,0.44588,0.44635,0.44686,0.44736,0.44781,0.44817,0.4484,0.44856,0.44874,0.44891,0.44907,0.4492,0.44929,0.44932,0.4493,0.44926,0.44919,0.44913,0.44908,0.44909,0.44915,0.44924,0.44933,0.4494,0.44942,0.44936,0.44919,0.44889,0.44854,0.44821,0.44787,0.44747,0.44698,0.44637,0.44565,0.44488,0.44406,0.44317,0.44223,0.44121,0.44013,0.43896,0.43771,0.43639,0.435,0.43353,0.432,0.43039,0.42871,0.42698,0.42518,0.42332,0.42139,0.41938,0.41729,0.4152,0.41315,0.41109,0.40895,0.40667,0.4042,0.40125,0.39779,0.39412,0.39057,0.38741,0.38497,0.38277,0.38026,0.37766,0.3752,0.37309,0.37156,0.37067,0.37025,0.37012,0.37014,0.37014,0.36996,0.37025,0.37148,0.37323,0.37507,0.37658,0.37733,0.37755,0.37777,0.37798,0.37818,0.37836,0.37852,0.37865,0.37875,0.37882,0.37883,0.37878,0.37867,0.37855,0.37843,0.37833,0.37825,0.37816,0.37806,0.37797,0.37788,0.37782,0.37778,0.37776,0.37777,0.37778,0.37779,0.37781,0.37781,0.37779,0.37775,0.37769,0.37764,0.37759,0.37753,0.37745,0.37736,0.37726,0.37716,0.37706,0.37695,0.37682,0.37667,0.37648,0.37627,0.37603,0.37579,0.37556,0.37533,0.37514,0.37498,0.3748,0.37458,0.37434,0.37412,0.37395,0.37386,0.37386,0.37393,0.37404,0.37417,0.37429,0.37436,0.37444,0.37457,0.37473,0.37491,0.37511,0.37529,0.37544,0.37556,0.37563,0.37566,0.3757,0.37573,0.37575,0.37577,0.37577,0.37575,0.37569,0.37561,0.37552,0.37543,0.37536,0.37528,0.37515,0.37499,0.37482,0.37464,0.37447,0.37433,0.37424,0.37419,0.3742,0.37424,0.37431,0.37439,0.37446,0.37453,0.3746,0.37469,0.37479,0.37491,0.37501,0.37511,0.37521,0.37533,0.37546,0.37561,0.37576,0.37591,0.37605,0.37618,0.3763,0.3764,0.37648,0.37657,0.37665,0.37674,0.37683,0.3769,0.37692,0.37692,0.37692,0.37695,0.37704,0.37717,0.37732,0.37748,0.37766,0.37785,0.37805,0.37825,0.37845,0.37866,0.37889,0.37913,0.37939,0.37965,0.37992,0.38016,0.38035,0.38045,0.38052,0.38061,0.38077,0.38105,0.38129,0.38136,0.38137,0.38144,0.38167,0.38217,0.38269,0.38298,0.38322,0.38357,0.38419,0.38525,0.38652,0.38772,0.38897,0.39039,0.39209,0.3942,0.39682,0.39992,0.40333,0.40688,0.41042,0.4138,0.41746,0.42184,0.42673,0.4319,0.43716,0.44227,0.44702,0.45121,0.45461,0.45775,0.46113,0.46453,0.46775,0.47057,0.47276,0.47431,0.47544,0.47625,0.47684,0.47733,0.47781,0.47798,0.47751,0.47656,0.47526,0.47376,0.47221,0.47073,0.46947,0.46858,0.46778,0.46676,0.46563,0.4645,0.46346,0.46263,0.46199,0.46144,0.46095,0.46048,0.46,0.45948,0.4589,0.45827,0.4576,0.45692,0.45626,0.45563,0.45505,0.45455,0.45415,0.45385,0.45363,0.45346,0.45331,0.45317,0.45301,0.45294,0.45301,0.45316,0.45332,0.45343,0.45342,0.45336,0.45337,0.45341,0.45344,0.45343,0.45336,0.45322,0.45307,0.45291,0.45273,0.45254,0.45234,0.4521,0.45178,0.45141,0.45104,0.45069,0.45041,0.45014,0.44984,0.44952,0.4492,0.4489,0.44862,0.44837,0.44811,0.44786,0.44761,0.44738,0.44715,0.44693,0.44673,0.44655,0.44634,0.44608,0.44582,0.44557,0.44537,0.44525,0.44524,0.44533,0.44547,0.44562,0.44574,0.44578,0.44582,0.44592,0.44608,0.44625,0.44643,0.44658,0.44668,0.44671,0.44664,0.44648,0.44626,0.44601,0.44574,0.44548,0.44526,0.44501,0.44468,0.44431,0.44393,0.44357,0.44326,0.44305,0.44295,0.44292,0.44292,0.4429,0.44282,0.44264,0.44231,0.4418,0.44146,0.44153,0.44173,0.4418,0.44145,0.44043,0.43888,0.43714,0.43523,0.43315,0.43093,0.42856,0.42548,0.42141,0.41683,0.41218,0.40794,0.40456,0.40115,0.39683,0.39211,0.38749,0.38347,0.38055,0.37837,0.37625,0.37427,0.37246,0.37091,0.36966,0.36902,0.36906,0.36954,0.3702,0.37079,0.37105,0.37137,0.37219,0.3734,0.37485,0.37641,0.37794,0.3793,0.38037,0.38099,0.38128,0.38145,0.38153,0.38155,0.38153,0.38151,0.38138,0.38109,0.38069,0.38025,0.37983,0.37949,0.37915,0.37867,0.37811,0.37749,0.37686,0.37625,0.3757,0.37525,0.37493,0.37464,0.37431,0.37396,0.37363,0.37337,0.37322,0.37321,0.37332,0.37351,0.37372,0.3739,0.37399,0.37407,0.37422,0.37442,0.37466,0.37492,0.37518,0.37543,0.37564,0.3758,0.37593,0.37605,0.37617,0.37627,0.37636,0.37642,0.37641,0.3763,0.37615,0.37602,0.37598,0.37601,0.37607,0.37615,0.37625,0.37636,0.37647,0.37658,0.37667,0.37674,0.37685,0.37702,0.3772,0.37738,0.3775,0.37753,0.37745,0.37729,0.37709,0.37687,0.37667,0.3765,0.37633,0.37612,0.37587,0.3756,0.37533,0.37508,0.37486,0.37469,0.37459,0.37449,0.37437,0.37422,0.3741,0.37401,0.37399,0.37404,0.37414,0.37428,0.37443,0.37459,0.37473,0.37491,0.37517,0.37548,0.37583,0.37621,0.37657,0.37691,0.37721,0.37744,0.37764,0.37785,0.37806,0.37826,0.37843,0.37855,0.37863,0.37866,0.37866,0.37866,0.37865,0.37867,0.37867,0.37863,0.37857,0.37849,0.3784,0.37831,0.37824,0.37819,0.37818,0.37816,0.37809,0.37801,0.37793,0.37789,0.3779,0.37798,0.37808,0.37821,0.37835,0.37848,0.3786,0.37877,0.37901,0.37929,0.37957,0.37982,0.38,0.38015,0.38034,0.38054,0.38072,0.38086,0.38094,0.38097,0.38099,0.381,0.381,0.38101,0.38103,0.38102,0.38095,0.38084,0.38073,0.38065,0.38061,0.38033,0.37959,0.37855,0.37733,0.37611,0.37501,0.37419,0.37379,0.37397,0.37421,0.37408,0.37386,0.37383,0.37426,0.37543,0.37723,0.37932,0.38164,0.38414,0.38676,0.38944,0.3926,0.39656,0.4011,0.40604,0.41118,0.41631,0.42124,0.42576,0.42967,0.43363,0.43819,0.44297,0.44762,0.45177,0.45507,0.45785,0.46063,0.46329,0.46573,0.46782,0.46946,0.47043,0.47068,0.47036,0.46963,0.46865,0.46757,0.46654,0.46572,0.46527,0.46479,0.46391,0.46281,0.46166,0.46066,0.45998,0.4595,0.45898,0.45845,0.45793,0.45744,0.457,0.45663,0.45632,0.45607,0.45586,0.45567,0.45549,0.4553,0.4551,0.45487,0.45463,0.45441,0.45419,0.45398,0.45375,0.45349,0.45316,0.45277,0.45234,0.45192,0.45152,0.4512,0.45093,0.4507,0.45048,0.45027,0.45008,0.4499,0.44972,0.44953,0.44934,0.44913,0.44887,0.4486,0.44834,0.44811,0.44792,0.44776,0.44759,0.44741,0.44725,0.44713,0.44704,0.447,0.447,0.44703,0.44708,0.44716,0.44725,0.44736,0.44748,0.4476,0.44781,0.44813,0.44852,0.44889,0.44921,0.4494,0.44956,0.44979,0.45006,0.4503,0.45048,0.45055,0.45054,0.45049,0.45043,0.45033,0.4502,0.45003,0.44984,0.44961,0.44934,0.4489,0.44825,0.44749,0.44672,0.44604,0.44557,0.44519,0.44475,0.44427,0.44381,0.44342,0.44312,0.443,0.44307,0.44322,0.44338,0.44346,0.44337,0.44333,0.44353,0.44382,0.44408,0.44415,0.4439,0.44371,0.44387,0.44416,0.44432,0.44413,0.44334,0.44214,0.44085,0.43944,0.43785,0.43603,0.43394,0.43128,0.42792,0.42402,0.4198,0.41543,0.4111,0.407,0.40331,0.40024,0.39715,0.39351,0.38967,0.38594,0.38267,0.38017,0.37819,0.37627,0.37449,0.37289,0.37153,0.37046,0.36994,0.37006,0.37069,0.37168,0.37288,0.37415,0.37534,0.37631,0.37691,0.37755,0.37859,0.37984,0.38108,0.38212,0.38275,0.38305,0.38325,0.38337,0.38343,0.38345,0.38345,0.38337,0.38314,0.38279,0.38237,0.38191,0.38144,0.381,0.38063,0.38036,0.38009,0.37973,0.37932,0.37892,0.37858,0.37835,0.37818,0.37802,0.37785,0.37771,0.37759,0.37751,0.37752,0.37761,0.37777,0.37797,0.3782,0.37843,0.37864,0.3788,0.3789,0.37899,0.37913,0.37928,0.37943,0.37954,0.3796,0.37957,0.37949,0.37937,0.37923,0.37911,0.37903,0.37897,0.37891,0.37884,0.37876,0.37868,0.37858,0.37848,0.37837,0.37825,0.37812,0.37798,0.37783,0.37767,0.37751,0.37735,0.37717,0.37695,0.37671,0.37648,0.37626,0.37609,0.37593,0.37576,0.37558,0.37539,0.37521,0.37504,0.37488,0.37476,0.37466,0.37459,0.37454,0.3745,0.37448,0.37446,0.37446,0.3745,0.37459,0.37471,0.37485,0.37497,0.37505,0.37512,0.37518,0.37526,0.37533,0.37541,0.37549,0.37557,0.37565,0.37572,0.37579,0.37585,0.3759,0.37596,0.37602,0.37611,0.37619,0.37627,0.37636,0.37645,0.37655,0.37667,0.37681,0.37697,0.37713,0.37731,0.37748,0.37764,0.37783,0.37805,0.37828,0.37852,0.37874,0.37891,0.37906,0.37922,0.37938,0.37954,0.37969,0.37982,0.37993,0.38002,0.38009,0.38015,0.38022,0.38031,0.3804,0.38046,0.3805,0.38053,0.38056,0.3806,0.38065,0.38071,0.38081,0.38091,0.38098,0.38105,0.38113,0.38124,0.3814,0.38158,0.38175,0.38192,0.38211,0.38234,0.38262,0.38277,0.38266,0.3824,0.38208,0.38179,0.38165,0.38173,0.38215,0.383,0.38395,0.38472,0.3855,0.38647,0.38781,0.38972,0.3923,0.39539,0.39882,0.40242,0.40602,0.40943,0.41318,0.41775,0.4229,0.4284,0.434,0.43948,0.44458,0.44909,0.45275,0.45623,0.46013,0.46414,0.46795,0.47125,0.47373,0.47534,0.47636,0.47696,0.47731,0.47759,0.47796,0.47783,0.47674,0.47509,0.47329,0.47175,0.47086,0.47009,0.4688,0.46723,0.46566,0.46435,0.46354,0.4631,0.46268,0.4623,0.46198,0.46173,0.46156,0.46164,0.46203,0.46259,0.46319,0.46368,0.46391,0.46408,0.4644,0.46483,0.46531,0.46578,0.46619,0.46649,0.46662,0.46652,0.46623,0.46581,0.46531,0.46475,0.46418,0.46362,0.46292,0.46197,0.46088,0.45975,0.45871,0.45786,0.45705,0.4561,0.45505,0.45397,0.45288,0.45185,0.45092,0.45013,0.44955,0.44911,0.44873,0.4484,0.44813,0.44792,0.44775,0.44771,0.44785,0.44809,0.44837,0.44863,0.44881,0.44901,0.44937,0.44984,0.45036,0.45091,0.45142,0.45187,0.45219,0.45235,0.45241,0.45247,0.45251,0.45253,0.4525,0.45243,0.45224,0.4519,0.45148,0.45104,0.45064,0.45034,0.45002,0.44958,0.44907,0.44856,0.44811,0.44779,0.44754,0.44726,0.44698,0.44671,0.44647,0.44629,0.44623,0.44631,0.44648,0.44666,0.44678,0.44678,0.44672,0.4467,0.44668,0.44666,0.44662,0.44654,0.44646,0.4464,0.44637,0.44633,0.44628,0.4462,0.44607,0.44589,0.44563,0.44531,0.44496,0.44458,0.44417,0.44372,0.44323,0.44274,0.44226,0.44176,0.44123,0.44065,0.43999,0.43937,0.43887,0.43842,0.43797,0.43746,0.43683,0.43602,0.43498,0.43364,0.43205,0.43032,0.42846,0.42649,0.42443,0.42229,0.41978,0.41677,0.41347,0.41014,0.407,0.4043,0.40165,0.39858,0.39523,0.39175,0.38829,0.38499,0.38198,0.37942,0.37744,0.37591,0.37455,0.37337,0.37235,0.37148,0.37075,0.3705,0.37092,0.37172,0.37265,0.37345,0.37385,0.37415,0.37475,0.37559,0.37657,0.3776,0.37862,0.37952,0.38023,0.38066,0.38089,0.38103,0.38112,0.38116,0.38117,0.38116,0.3811,0.38094,0.38072,0.38047,0.38022,0.38001,0.37978,0.37948,0.37911,0.37871,0.37829,0.37787,0.37748,0.37713,0.37684,0.37655,0.37619,0.37581,0.37545,0.37513,0.37491,0.37475,0.3746,0.37448,0.37438,0.3743,0.37428,0.37434,0.37446,0.37462,0.37481,0.37499,0.37516,0.3753,0.37538,0.37546,0.37556,0.37568,0.3758,0.37588,0.37593,0.37591,0.37586,0.37578,0.3757,0.37563,0.37559,0.37555,0.37549,0.37542,0.37533,0.37525,0.37517,0.37512,0.37509,0.3751,0.37515,0.37525,0.37536,0.37548,0.37559,0.37566,0.37574,0.37584,0.37596,0.37608,0.37618,0.37625,0.37631,0.37636,0.37642,0.37648,0.37653,0.37657,0.37658,0.37656,0.37651,0.37646,0.37643,0.37643,0.37644,0.37641,0.37636,0.37632,0.3763,0.37633,0.37642,0.37655,0.37671,0.37688,0.37703,0.37714,0.37724,0.37737,0.37751,0.37766,0.37781,0.37795,0.37808,0.37819,0.37827,0.37831,0.37831,0.37828,0.37826,0.37825,0.37828,0.37831,0.37832,0.37831,0.37831,0.37832,0.37836,0.37843,0.3785,0.37858,0.37867,0.37876,0.37885,0.37895,0.37906,0.37916,0.3793,0.37948,0.37968,0.37988,0.38006,0.38021,0.3803,0.38035,0.38038,0.38042,0.38047,0.38058,0.38049,0.38004,0.37935,0.37856,0.3778,0.37721,0.37692,0.37706,0.37776,0.37866,0.37944,0.38026,0.38129,0.38271,0.38468,0.38745,0.39094,0.39487,0.39896,0.40293,0.4065,0.41027,0.4149,0.42012,0.42569,0.43135,0.43684,0.44191,0.44631,0.44978,0.45288,0.4562,0.45952,0.46261,0.46527,0.46728,0.46837,0.46864,0.46839,0.46789,0.46746,0.46737,0.46717,0.46632,0.46498,0.46333,0.46152,0.45973,0.45811,0.45684,0.45608,0.45565,0.45524,0.45488,0.45454,0.45424,0.45397,0.45386,0.45394,0.45414,0.45437,0.45452,0.45452,0.45442,0.45435,0.4543,0.45427,0.45424,0.45421,0.45416,0.4541,0.45402,0.45387,0.45367,0.45343,0.45319,0.45298,0.45282,0.45269,0.45255,0.4524,0.45225,0.45211,0.45197,0.45187,0.45181,0.45177,0.45176,0.45175,0.45175,0.45173,0.4517,0.45163,0.45154,0.45146,0.45138,0.45128,0.45118,0.45107,0.45089,0.45062,0.45031,0.45,0.44973,0.44955,0.44942,0.44931,0.44921,0.44912,0.44904,0.44896,0.44891,0.44889,0.44889,0.4489,0.44891,0.4489,0.44888,0.44887,0.44886,0.44885,0.44885,0.44886,0.44894,0.44911,0.44931,0.44951,0.44965,0.44969,0.44965,0.44958,0.4495,0.4494,0.44928,0.44916,0.44902,0.44888,0.44874,0.44861,0.4485,0.4484,0.44827,0.44812,0.44791,0.44769,0.44747,0.44725,0.447,0.44672,0.44637,0.446,0.44565,0.44531,0.44495,0.44457,0.44414,0.44366,0.44311,0.44247,0.44185,0.4413,0.44076,0.44014,0.43936,0.43835,0.43716,0.43586,0.43447,0.433,0.43146,0.42985,0.42812,0.42623,0.42417,0.42194,0.41955,0.41699,0.41427,0.41139,0.40834,0.40557,0.40334,0.40142,0.39955,0.3975,0.39501,0.39233,0.38984,0.38757,0.38551,0.38367,0.38205,0.38055,0.37905,0.3776,0.37621,0.37492,0.37376,0.37276,0.37195,0.37135,0.3711,0.37119,0.3715,0.37188,0.3722,0.37232,0.37247,0.37286,0.3734,0.37396,0.37443,0.37469,0.37483,0.375,0.37519,0.37538,0.37557,0.37573,0.37586,0.37595,0.37597,0.3759,0.37572,0.37549,0.37525,0.37504,0.3749,0.37478,0.37461,0.37441,0.37421,0.37404,0.37392,0.37384,0.37378,0.37372,0.37368,0.37364,0.3736,0.37357,0.37352,0.37347,0.37342,0.37338,0.37334,0.3733,0.37326,0.37322,0.37319,0.37315,0.37312,0.37309,0.37306,0.37303,0.37299,0.37295,0.37291,0.37287,0.37283,0.37278,0.37274,0.37269,0.37269],"name":"PhenoCam GCC","showlegend":true,"type":"scatter","mode":"line","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-05-07","2009-05-02","2010-04-24","2011-05-06","2012-04-29","2013-05-03","2014-05-10","2015-05-05","2016-05-11","2017-05-08","2018-05-06","2019-05-10","2020-05-15","2021-05-09","2022-05-09"],"y":[0.39039,0.38992,0.39059,0.39329,0.39679,0.3962,0.39849,0.39549,0.39968,0.39981,0.39802,0.39992,0.39656,0.40242,0.39896],"type":"scatter","mode":"markers","name":"Spring Dates","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Now we can see the transition date for each year of interest and the annual patterns of Gcc.</p>
<p>However, if you want more control over the parameters used during processing, you can run through the three default processing steps as implemented in download_phenocam() and set parameters manually.</p>
<p>Of particular interest is the option to specify your own threshold used in determining transition dates.</p>
<p>What would be a reasonable threshold for peak greenness? Or autumn onset? Look at the ts dataset and phenocamr package and come up with a threshold. Use the same code to plot it here:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="co"># #some hint code</span></span>
<span id="cb339-2"><a href="#cb339-2" aria-hidden="true" tabindex="-1"></a><span class="co"># #what does &#39;rising&#39; versus &#39;falling&#39; denote?</span></span>
<span id="cb339-3"><a href="#cb339-3" aria-hidden="true" tabindex="-1"></a><span class="co"># #what threshold should you choose?</span></span>
<span id="cb339-4"><a href="#cb339-4" aria-hidden="true" tabindex="-1"></a><span class="co"># #td &lt;- phenophases(&quot;butte_GR_1000_3day.csv&quot;,</span></span>
<span id="cb339-5"><a href="#cb339-5" aria-hidden="true" tabindex="-1"></a><span class="co"># #            internal = TRUE,</span></span>
<span id="cb339-6"><a href="#cb339-6" aria-hidden="true" tabindex="-1"></a><span class="co"># #            upper_thresh = 0.8)</span></span>
<span id="cb339-7"><a href="#cb339-7" aria-hidden="true" tabindex="-1"></a>fall <span class="ot">&lt;-</span> td[td<span class="sc">$</span>direction <span class="sc">==</span> <span class="st">&quot;falling&quot;</span> <span class="sc">&amp;</span> td<span class="sc">$</span>gcc_value <span class="sc">==</span> <span class="st">&quot;gcc_90&quot;</span>,]</span>
<span id="cb339-8"><a href="#cb339-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Now generate a fall dataframe, what metrics should you use?</span></span></code></pre></div>
</div>
<div id="comparing-phenology-across-vegetation-types" class="section level3 hasAnchor" number="4.12.5">
<h3 class="hasAnchor"><span class="header-section-number">4.12.5</span> Comparing phenology across vegetation types<a href="#comparing-phenology-across-vegetation-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s load in a function to make plotting smoother. I’ve dropped it here in the markdown so that you can edit it and re-run it as you see fit:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a>gcc_plot <span class="ot">=</span> <span class="cf">function</span>(gcc, spring, fall){</span>
<span id="cb340-2"><a href="#cb340-2" aria-hidden="true" tabindex="-1"></a>  unix <span class="ot">=</span> <span class="st">&quot;1970-01-01&quot;</span></span>
<span id="cb340-3"><a href="#cb340-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-4"><a href="#cb340-4" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">=</span> <span class="fu">plot_ly</span>(</span>
<span id="cb340-5"><a href="#cb340-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> gcc,</span>
<span id="cb340-6"><a href="#cb340-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span> date,</span>
<span id="cb340-7"><a href="#cb340-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> gcc_90,</span>
<span id="cb340-8"><a href="#cb340-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb340-9"><a href="#cb340-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb340-10"><a href="#cb340-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">&#39;line&#39;</span></span>
<span id="cb340-11"><a href="#cb340-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb340-12"><a href="#cb340-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-13"><a href="#cb340-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> smooth_gcc_90,</span>
<span id="cb340-14"><a href="#cb340-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;lines&quot;</span>,</span>
<span id="cb340-15"><a href="#cb340-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">width =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">&quot;rgb(120,120,120)&quot;</span>),</span>
<span id="cb340-16"><a href="#cb340-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;Gcc loess fit&quot;</span>,</span>
<span id="cb340-17"><a href="#cb340-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span></span>
<span id="cb340-18"><a href="#cb340-18" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-19"><a href="#cb340-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SOS spring</span></span>
<span id="cb340-20"><a href="#cb340-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 10%</span></span>
<span id="cb340-21"><a href="#cb340-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-22"><a href="#cb340-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> spring,</span>
<span id="cb340-23"><a href="#cb340-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_10),</span>
<span id="cb340-24"><a href="#cb340-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> threshold_10,</span>
<span id="cb340-25"><a href="#cb340-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>,</span>
<span id="cb340-26"><a href="#cb340-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>,</span>
<span id="cb340-27"><a href="#cb340-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#7FFF00&quot;</span>, <span class="at">symbol =</span> <span class="st">&quot;circle&quot;</span>),</span>
<span id="cb340-28"><a href="#cb340-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;SOS (10%)&quot;</span>,</span>
<span id="cb340-29"><a href="#cb340-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span></span>
<span id="cb340-30"><a href="#cb340-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-31"><a href="#cb340-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_10_lower_ci),</span>
<span id="cb340-32"><a href="#cb340-32" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_10_upper_ci),</span>
<span id="cb340-33"><a href="#cb340-33" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># y = ~ 0,</span></span>
<span id="cb340-34"><a href="#cb340-34" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># yend = ~ 1,</span></span>
<span id="cb340-35"><a href="#cb340-35" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="sc">~</span> threshold_10,</span>
<span id="cb340-36"><a href="#cb340-36" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> <span class="sc">~</span> threshold_10,</span>
<span id="cb340-37"><a href="#cb340-37" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#7FFF00&quot;</span>),</span>
<span id="cb340-38"><a href="#cb340-38" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">&quot;SOS (10%) - CI&quot;</span></span>
<span id="cb340-39"><a href="#cb340-39" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-40"><a href="#cb340-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 25 %</span></span>
<span id="cb340-41"><a href="#cb340-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-42"><a href="#cb340-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_25),</span>
<span id="cb340-43"><a href="#cb340-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> threshold_25,</span>
<span id="cb340-44"><a href="#cb340-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>,</span>
<span id="cb340-45"><a href="#cb340-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>,</span>
<span id="cb340-46"><a href="#cb340-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#66CD00&quot;</span>, <span class="at">symbol =</span> <span class="st">&quot;square&quot;</span>),</span>
<span id="cb340-47"><a href="#cb340-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb340-48"><a href="#cb340-48" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;SOS (25%)&quot;</span></span>
<span id="cb340-49"><a href="#cb340-49" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-50"><a href="#cb340-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_25_lower_ci),</span>
<span id="cb340-51"><a href="#cb340-51" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_25_upper_ci),</span>
<span id="cb340-52"><a href="#cb340-52" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="sc">~</span> threshold_25,</span>
<span id="cb340-53"><a href="#cb340-53" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> <span class="sc">~</span> threshold_25,</span>
<span id="cb340-54"><a href="#cb340-54" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#66CD00&quot;</span>),</span>
<span id="cb340-55"><a href="#cb340-55" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">&quot;SOS (25%) - CI&quot;</span></span>
<span id="cb340-56"><a href="#cb340-56" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-57"><a href="#cb340-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 50 %</span></span>
<span id="cb340-58"><a href="#cb340-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-59"><a href="#cb340-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_50),</span>
<span id="cb340-60"><a href="#cb340-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> threshold_50,</span>
<span id="cb340-61"><a href="#cb340-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>,</span>
<span id="cb340-62"><a href="#cb340-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>,</span>
<span id="cb340-63"><a href="#cb340-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#458B00&quot;</span>, <span class="at">symbol =</span> <span class="st">&quot;diamond&quot;</span>),</span>
<span id="cb340-64"><a href="#cb340-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb340-65"><a href="#cb340-65" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;SOS (50%)&quot;</span></span>
<span id="cb340-66"><a href="#cb340-66" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-67"><a href="#cb340-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_50_lower_ci),</span>
<span id="cb340-68"><a href="#cb340-68" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_50_upper_ci),</span>
<span id="cb340-69"><a href="#cb340-69" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="sc">~</span> threshold_50,</span>
<span id="cb340-70"><a href="#cb340-70" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> <span class="sc">~</span> threshold_50,</span>
<span id="cb340-71"><a href="#cb340-71" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#458B00&quot;</span>),</span>
<span id="cb340-72"><a href="#cb340-72" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">&quot;SOS (50%) - CI&quot;</span></span>
<span id="cb340-73"><a href="#cb340-73" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-74"><a href="#cb340-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-75"><a href="#cb340-75" aria-hidden="true" tabindex="-1"></a>    <span class="co"># EOS fall</span></span>
<span id="cb340-76"><a href="#cb340-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 50%</span></span>
<span id="cb340-77"><a href="#cb340-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-78"><a href="#cb340-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> fall,</span>
<span id="cb340-79"><a href="#cb340-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_50),</span>
<span id="cb340-80"><a href="#cb340-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> threshold_50,</span>
<span id="cb340-81"><a href="#cb340-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>,</span>
<span id="cb340-82"><a href="#cb340-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>,</span>
<span id="cb340-83"><a href="#cb340-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#FFB90F&quot;</span>, <span class="at">symbol =</span> <span class="st">&quot;diamond&quot;</span>),</span>
<span id="cb340-84"><a href="#cb340-84" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb340-85"><a href="#cb340-85" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;EOS (50%)&quot;</span></span>
<span id="cb340-86"><a href="#cb340-86" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-87"><a href="#cb340-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_50_lower_ci),</span>
<span id="cb340-88"><a href="#cb340-88" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_50_upper_ci),</span>
<span id="cb340-89"><a href="#cb340-89" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="sc">~</span> threshold_50,</span>
<span id="cb340-90"><a href="#cb340-90" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> <span class="sc">~</span> threshold_50,</span>
<span id="cb340-91"><a href="#cb340-91" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#FFB90F&quot;</span>),</span>
<span id="cb340-92"><a href="#cb340-92" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">&quot;EOS (50%) - CI&quot;</span></span>
<span id="cb340-93"><a href="#cb340-93" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-94"><a href="#cb340-94" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 25 %</span></span>
<span id="cb340-95"><a href="#cb340-95" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-96"><a href="#cb340-96" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_25),</span>
<span id="cb340-97"><a href="#cb340-97" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> threshold_25,</span>
<span id="cb340-98"><a href="#cb340-98" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>,</span>
<span id="cb340-99"><a href="#cb340-99" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>,</span>
<span id="cb340-100"><a href="#cb340-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#CD950C&quot;</span>, <span class="at">symbol =</span> <span class="st">&quot;square&quot;</span>),</span>
<span id="cb340-101"><a href="#cb340-101" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb340-102"><a href="#cb340-102" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;EOS (25%)&quot;</span></span>
<span id="cb340-103"><a href="#cb340-103" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-104"><a href="#cb340-104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_25_lower_ci),</span>
<span id="cb340-105"><a href="#cb340-105" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_25_upper_ci),</span>
<span id="cb340-106"><a href="#cb340-106" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="sc">~</span> threshold_25,</span>
<span id="cb340-107"><a href="#cb340-107" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> <span class="sc">~</span> threshold_25,</span>
<span id="cb340-108"><a href="#cb340-108" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#CD950C&quot;</span>),</span>
<span id="cb340-109"><a href="#cb340-109" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">&quot;EOS (25%) - CI&quot;</span></span>
<span id="cb340-110"><a href="#cb340-110" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-111"><a href="#cb340-111" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 10 %</span></span>
<span id="cb340-112"><a href="#cb340-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(</span>
<span id="cb340-113"><a href="#cb340-113" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_10),</span>
<span id="cb340-114"><a href="#cb340-114" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="sc">~</span> threshold_10,</span>
<span id="cb340-115"><a href="#cb340-115" aria-hidden="true" tabindex="-1"></a>      <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>,</span>
<span id="cb340-116"><a href="#cb340-116" aria-hidden="true" tabindex="-1"></a>      <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#8B6508&quot;</span>, <span class="at">symbol =</span> <span class="st">&quot;circle&quot;</span>),</span>
<span id="cb340-117"><a href="#cb340-117" aria-hidden="true" tabindex="-1"></a>      <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb340-118"><a href="#cb340-118" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">&quot;EOS (10%)&quot;</span></span>
<span id="cb340-119"><a href="#cb340-119" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb340-120"><a href="#cb340-120" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_10_lower_ci),</span>
<span id="cb340-121"><a href="#cb340-121" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> <span class="sc">~</span> <span class="fu">as.Date</span>(transition_10_upper_ci),</span>
<span id="cb340-122"><a href="#cb340-122" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="sc">~</span> threshold_10,</span>
<span id="cb340-123"><a href="#cb340-123" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> <span class="sc">~</span> threshold_10,</span>
<span id="cb340-124"><a href="#cb340-124" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;#8B6508&quot;</span>),</span>
<span id="cb340-125"><a href="#cb340-125" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">&quot;EOS (10%) - CI&quot;</span></span>
<span id="cb340-126"><a href="#cb340-126" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb340-127"><a href="#cb340-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (p)</span>
<span id="cb340-128"><a href="#cb340-128" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a>gcc_p <span class="ot">=</span> <span class="fu">gcc_plot</span>(df, spring, fall)</span>
<span id="cb341-2"><a href="#cb341-2" aria-hidden="true" tabindex="-1"></a>gcc_p <span class="ot">&lt;-</span> gcc_p <span class="sc">%&gt;%</span></span>
<span id="cb341-3"><a href="#cb341-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb341-4"><a href="#cb341-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="fl">0.9</span>, <span class="at">y =</span> <span class="fl">0.9</span>),</span>
<span id="cb341-5"><a href="#cb341-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb341-6"><a href="#cb341-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&#39;date&#39;</span>,</span>
<span id="cb341-7"><a href="#cb341-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickformat =</span> <span class="st">&quot; %B&lt;br&gt;%Y&quot;</span>,</span>
<span id="cb341-8"><a href="#cb341-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">title=</span><span class="st">&#39;Year&#39;</span>),</span>
<span id="cb341-9"><a href="#cb341-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-10"><a href="#cb341-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb341-11"><a href="#cb341-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&#39;PhenoCam GCC&#39;</span></span>
<span id="cb341-12"><a href="#cb341-12" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb341-13"><a href="#cb341-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-14"><a href="#cb341-14" aria-hidden="true" tabindex="-1"></a>gcc_p</span></code></pre></div>
<pre><code>## Warning: Ignoring 3724 observations</code></pre>
<pre><code>## Warning: Can&#39;t display both discrete &amp; non-discrete data on same axis</code></pre>
<div id="htmlwidget-37083850bfdf67162c89" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-37083850bfdf67162c89">{"x":{"visdat":{"583074841f74":["function () ","plotlyVisDat"],"583011523115":["function () ","data"],"583038351341":["function () ","data"]},"cur_data":"583038351341","attrs":{"583074841f74":{"x":{},"y":{},"showlegend":false,"mode":"line","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"583074841f74.1":{"x":{},"y":{},"showlegend":true,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","line":{"width":2,"color":"rgb(120,120,120)"},"name":"Gcc loess fit","inherit":true},"583011523115":{"x":{},"y":{},"showlegend":true,"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"#7FFF00","symbol":"circle"},"name":"SOS (10%)","inherit":true},"583011523115.1":{"x":{},"y":{},"showlegend":false,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":{},"yend":{},"line":{"color":"#7FFF00"},"name":"SOS (10%) - CI","inherit":true},"583011523115.2":{"x":{},"y":{},"showlegend":true,"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"#66CD00","symbol":"square"},"name":"SOS (25%)","inherit":true},"583011523115.3":{"x":{},"y":{},"showlegend":false,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":{},"yend":{},"line":{"color":"#66CD00"},"name":"SOS (25%) - CI","inherit":true},"583011523115.4":{"x":{},"y":{},"showlegend":true,"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"#458B00","symbol":"diamond"},"name":"SOS (50%)","inherit":true},"583011523115.5":{"x":{},"y":{},"showlegend":false,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":{},"yend":{},"line":{"color":"#458B00"},"name":"SOS (50%) - CI","inherit":true},"583038351341":{"x":{},"y":{},"showlegend":true,"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"#FFB90F","symbol":"diamond"},"name":"EOS (50%)","inherit":true},"583038351341.1":{"x":{},"y":{},"showlegend":false,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":{},"yend":{},"line":{"color":"#FFB90F"},"name":"EOS (50%) - CI","inherit":true},"583038351341.2":{"x":{},"y":{},"showlegend":true,"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"#CD950C","symbol":"square"},"name":"EOS (25%)","inherit":true},"583038351341.3":{"x":{},"y":{},"showlegend":false,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":{},"yend":{},"line":{"color":"#CD950C"},"name":"EOS (25%) - CI","inherit":true},"583038351341.4":{"x":{},"y":{},"showlegend":true,"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"#8B6508","symbol":"circle"},"name":"EOS (10%)","inherit":true},"583038351341.5":{"x":{},"y":{},"showlegend":false,"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":{},"yend":{},"line":{"color":"#8B6508"},"name":"EOS (10%) - CI","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"x":0.9,"y":0.9},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","tickformat":" %B<br>%Y","title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"title":"PhenoCam GCC"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2008-04-04","2008-04-07","2008-04-10","2008-04-13","2008-04-16","2008-04-19","2008-04-22","2008-04-25","2008-04-28","2008-05-01","2008-05-04","2008-05-07","2008-05-10","2008-05-13","2008-05-16","2008-05-19","2008-05-22","2008-05-25","2008-05-28","2008-05-31","2008-06-03","2008-06-06","2008-06-09","2008-06-12","2008-06-15","2008-06-18","2008-06-21","2008-06-24","2008-06-27","2008-06-30","2008-07-03","2008-07-06","2008-07-09","2008-07-12","2008-07-15","2008-07-18","2008-07-21","2008-07-24","2008-07-27","2008-07-30","2008-08-02","2008-08-05","2008-08-08","2008-08-11","2008-08-14","2008-08-17","2008-08-20","2008-08-23","2008-08-26","2008-08-29","2008-09-01","2008-09-04","2008-09-07","2008-09-10","2008-09-13","2008-09-16","2008-09-19","2008-09-22","2008-09-25","2008-09-28","2008-10-01","2008-10-04","2008-10-07","2008-10-10","2008-10-13","2008-10-16","2008-10-19","2008-10-22","2008-10-25","2008-10-28","2008-10-31","2008-11-03","2008-11-06","2008-11-09","2008-11-12","2008-11-15","2008-11-18","2008-11-21","2008-11-24","2008-11-27","2008-11-30","2008-12-03","2008-12-06","2008-12-09","2008-12-12","2008-12-15","2008-12-18","2008-12-21","2008-12-24","2008-12-27","2008-12-30","2009-01-02","2009-01-05","2009-01-08","2009-01-11","2009-01-14","2009-01-17","2009-01-20","2009-01-23","2009-01-26","2009-01-29","2009-02-01","2009-02-04","2009-02-07","2009-02-10","2009-02-13","2009-02-16","2009-02-19","2009-02-22","2009-02-25","2009-02-28","2009-03-03","2009-03-06","2009-03-09","2009-03-12","2009-03-15","2009-03-18","2009-03-21","2009-03-24","2009-03-27","2009-03-30","2009-04-02","2009-04-05","2009-04-08","2009-04-11","2009-04-14","2009-04-17","2009-04-20","2009-04-23","2009-04-26","2009-04-29","2009-05-02","2009-05-05","2009-05-08","2009-05-11","2009-05-14","2009-05-17","2009-05-20","2009-05-23","2009-05-26","2009-05-29","2009-06-01","2009-06-04","2009-06-07","2009-06-10","2009-06-13","2009-06-16","2009-06-19","2009-06-22","2009-06-25","2009-06-28","2009-07-01","2009-07-04","2009-07-07","2009-07-10","2009-07-13","2009-07-16","2009-07-19","2009-07-22","2009-07-25","2009-07-28","2009-07-31","2009-08-03","2009-08-06","2009-08-09","2009-08-12","2009-08-15","2009-08-18","2009-08-21","2009-08-24","2009-08-27","2009-08-30","2009-09-02","2009-09-05","2009-09-08","2009-09-11","2009-09-14","2009-09-17","2009-09-20","2009-09-23","2009-09-26","2009-09-29","2009-10-02","2009-10-05","2009-10-08","2009-10-11","2009-10-14","2009-10-17","2009-10-20","2009-10-23","2009-10-26","2009-10-29","2009-11-01","2009-11-04","2009-11-07","2009-11-10","2009-11-13","2009-11-16","2009-11-19","2009-11-22","2009-11-25","2009-11-28","2009-12-01","2009-12-04","2009-12-07","2009-12-10","2009-12-13","2009-12-16","2009-12-19","2009-12-22","2009-12-25","2009-12-28","2009-12-31","2010-01-02","2010-01-05","2010-01-08","2010-01-11","2010-01-14","2010-01-17","2010-01-20","2010-01-23","2010-01-26","2010-01-29","2010-02-01","2010-02-04","2010-02-07","2010-02-10","2010-02-13","2010-02-16","2010-02-19","2010-02-22","2010-02-25","2010-02-28","2010-03-03","2010-03-06","2010-03-09","2010-03-12","2010-03-15","2010-03-18","2010-03-21","2010-03-24","2010-03-27","2010-03-30","2010-04-02","2010-04-05","2010-04-08","2010-04-11","2010-04-14","2010-04-17","2010-04-20","2010-04-23","2010-04-26","2010-04-29","2010-05-02","2010-05-05","2010-05-11","2010-05-14","2010-05-17","2010-05-20","2010-05-23","2010-05-26","2010-05-29","2010-06-01","2010-06-04","2010-06-07","2010-06-10","2010-06-13","2010-06-16","2010-06-19","2010-06-22","2010-06-25","2010-06-28","2010-07-01","2010-07-04","2010-07-07","2010-07-10","2010-07-13","2010-07-16","2010-07-19","2010-07-22","2010-07-25","2010-07-28","2010-07-31","2010-08-03","2010-08-06","2010-08-09","2010-08-12","2010-08-15","2010-08-18","2010-08-21","2010-08-24","2010-08-27","2010-08-30","2010-09-02","2010-09-05","2010-09-08","2010-09-11","2010-09-14","2010-09-17","2010-09-20","2010-09-23","2010-09-26","2010-09-29","2010-10-02","2010-10-05","2010-10-08","2010-10-11","2010-10-14","2010-10-17","2010-10-20","2010-10-23","2010-10-26","2010-10-29","2010-11-01","2010-11-04","2010-11-07","2010-11-10","2010-11-13","2010-11-16","2010-11-19","2010-11-22","2010-11-25","2010-11-28","2010-12-01","2010-12-04","2010-12-07","2010-12-10","2010-12-13","2010-12-16","2010-12-19","2010-12-22","2010-12-25","2010-12-28","2010-12-31","2011-01-02","2011-01-05","2011-01-08","2011-01-11","2011-01-14","2011-01-17","2011-01-20","2011-01-23","2011-01-26","2011-01-29","2011-02-01","2011-02-04","2011-02-07","2011-02-10","2011-02-13","2011-02-16","2011-02-19","2011-02-22","2011-02-25","2011-02-28","2011-03-03","2011-03-06","2011-03-09","2011-03-12","2011-03-15","2011-03-18","2011-03-21","2011-03-24","2011-03-27","2011-03-30","2011-04-02","2011-04-05","2011-04-08","2011-04-11","2011-04-14","2011-04-17","2011-04-20","2011-04-23","2011-04-26","2011-04-29","2011-05-02","2011-05-05","2011-05-08","2011-05-11","2011-05-14","2011-05-17","2011-05-20","2011-05-23","2011-05-26","2011-05-29","2011-06-01","2011-06-04","2011-06-07","2011-06-10","2011-06-13","2011-06-16","2011-06-19","2011-06-22","2011-06-25","2011-06-28","2011-07-01","2011-07-04","2011-07-07","2011-07-10","2011-07-13","2011-07-16","2011-07-19","2011-07-22","2011-07-25","2011-07-28","2011-07-31","2011-08-03","2011-08-06","2011-08-09","2011-08-12","2011-08-15","2011-08-18","2011-08-21","2011-08-24","2011-08-27","2011-08-30","2011-09-02","2011-09-05","2011-09-08","2011-09-11","2011-09-14","2011-09-17","2011-09-20","2011-09-23","2011-09-26","2011-09-29","2011-10-02","2011-10-05","2011-10-08","2011-10-11","2011-10-14","2011-10-17","2011-10-20","2011-10-23","2011-10-26","2011-10-29","2011-11-01","2011-11-04","2011-11-07","2011-11-10","2011-11-13","2011-11-16","2011-11-19","2011-11-22","2011-11-25","2011-11-28","2011-12-01","2011-12-04","2011-12-07","2011-12-10","2011-12-13","2011-12-16","2011-12-19","2011-12-22","2011-12-25","2011-12-28","2011-12-31","2012-01-02","2012-01-05","2012-01-08","2012-01-11","2012-01-14","2012-01-17","2012-01-20","2012-01-23","2012-01-26","2012-01-29","2012-02-01","2012-02-04","2012-02-07","2012-02-10","2012-02-13","2012-02-16","2012-02-19","2012-02-22","2012-02-25","2012-02-28","2012-03-02","2012-03-05","2012-03-08","2012-03-11","2012-03-14","2012-03-17","2012-03-20","2012-03-23","2012-03-26","2012-03-29","2012-04-01","2012-04-04","2012-04-07","2012-04-10","2012-04-13","2012-04-16","2012-04-19","2012-04-22","2012-04-25","2012-04-28","2012-05-01","2012-05-04","2012-05-07","2012-05-10","2012-05-13","2012-05-16","2012-05-19","2012-05-22","2012-05-25","2012-05-28","2012-05-31","2012-06-03","2012-06-06","2012-06-09","2012-06-12","2012-06-15","2012-06-18","2012-06-21","2012-06-24","2012-06-27","2012-06-30","2012-07-03","2012-07-06","2012-07-09","2012-07-12","2012-07-15","2012-07-18","2012-07-21","2012-07-24","2012-07-27","2012-07-30","2012-08-02","2012-08-05","2012-08-08","2012-08-11","2012-08-14","2012-08-17","2012-08-20","2012-08-23","2012-08-26","2012-08-29","2012-09-01","2012-09-04","2012-09-07","2012-09-10","2012-09-13","2012-09-16","2012-09-19","2012-09-22","2012-09-25","2012-09-28","2012-10-01","2012-10-04","2012-10-07","2012-10-10","2012-10-13","2012-10-16","2012-10-19","2012-10-22","2012-10-25","2012-10-28","2012-10-31","2012-11-03","2012-11-06","2012-11-09","2012-11-12","2012-11-15","2012-11-18","2012-11-21","2012-11-24","2012-11-27","2012-11-30","2012-12-03","2012-12-06","2012-12-09","2012-12-12","2012-12-15","2012-12-18","2012-12-21","2012-12-24","2012-12-27","2012-12-30","2013-01-02","2013-01-05","2013-01-08","2013-01-11","2013-01-14","2013-01-17","2013-01-20","2013-01-23","2013-01-26","2013-01-29","2013-02-01","2013-02-04","2013-02-07","2013-02-10","2013-02-13","2013-02-16","2013-02-19","2013-02-22","2013-02-25","2013-02-28","2013-03-03","2013-03-06","2013-03-09","2013-03-12","2013-03-15","2013-03-18","2013-03-21","2013-03-24","2013-03-27","2013-03-30","2013-04-02","2013-04-05","2013-04-08","2013-04-11","2013-04-14","2013-04-17","2013-04-20","2013-04-23","2013-04-26","2013-04-29","2013-05-02","2013-05-05","2013-05-08","2013-05-11","2013-05-14","2013-05-17","2013-05-20","2013-05-23","2013-05-26","2013-05-29","2013-06-01","2013-06-04","2013-06-07","2013-06-10","2013-06-13","2013-06-16","2013-06-19","2013-06-22","2013-06-25","2013-06-28","2013-07-01","2013-07-04","2013-07-07","2013-07-10","2013-07-13","2013-07-16","2013-07-19","2013-07-22","2013-07-25","2013-07-28","2013-07-31","2013-08-03","2013-08-06","2013-08-09","2013-08-12","2013-08-15","2013-08-18","2013-08-21","2013-08-24","2013-08-27","2013-08-30","2013-09-02","2013-09-05","2013-09-08","2013-09-11","2013-09-14","2013-09-17","2013-09-20","2013-09-23","2013-09-26","2013-09-29","2013-10-02","2013-10-05","2013-10-08","2013-10-11","2013-10-14","2013-10-17","2013-10-20","2013-10-23","2013-10-26","2013-10-29","2013-11-01","2013-11-04","2013-11-07","2013-11-10","2013-11-13","2013-11-16","2013-11-19","2013-11-22","2013-11-25","2013-11-28","2013-12-01","2013-12-04","2013-12-07","2013-12-10","2013-12-13","2013-12-16","2013-12-19","2013-12-22","2013-12-25","2013-12-28","2013-12-31","2014-01-02","2014-01-05","2014-01-08","2014-01-11","2014-01-14","2014-01-17","2014-01-20","2014-01-23","2014-01-26","2014-01-29","2014-02-01","2014-02-04","2014-02-07","2014-02-10","2014-02-13","2014-02-16","2014-02-19","2014-02-22","2014-02-25","2014-02-28","2014-03-03","2014-03-06","2014-03-09","2014-03-12","2014-03-15","2014-03-18","2014-03-21","2014-03-24","2014-03-27","2014-03-30","2014-04-02","2014-04-05","2014-04-08","2014-04-11","2014-04-14","2014-04-17","2014-04-20","2014-04-23","2014-04-26","2014-04-29","2014-05-02","2014-05-05","2014-05-08","2014-05-11","2014-05-14","2014-05-17","2014-05-20","2014-05-23","2014-05-26","2014-05-29","2014-06-01","2014-06-04","2014-06-07","2014-06-10","2014-06-13","2014-06-16","2014-06-19","2014-06-22","2014-06-25","2014-06-28","2014-07-01","2014-07-04","2014-07-07","2014-07-10","2014-07-13","2014-07-16","2014-07-19","2014-07-22","2014-07-25","2014-07-28","2014-07-31","2014-08-03","2014-08-06","2014-08-09","2014-08-12","2014-08-15","2014-08-18","2014-08-21","2014-08-24","2014-08-27","2014-08-30","2014-09-02","2014-09-05","2014-09-08","2014-09-11","2014-09-14","2014-09-17","2014-09-20","2014-09-23","2014-09-26","2014-09-29","2014-10-02","2014-10-05","2014-10-08","2014-10-11","2014-10-14","2014-10-17","2014-10-20","2014-10-23","2014-10-26","2014-10-29","2014-11-01","2014-11-04","2014-11-07","2014-11-10","2014-11-13","2014-11-16","2014-11-19","2014-11-22","2014-11-25","2014-12-01","2014-12-04","2014-12-07","2014-12-10","2014-12-13","2014-12-16","2014-12-19","2014-12-22","2014-12-25","2014-12-28","2014-12-31","2015-01-02","2015-01-05","2015-01-08","2015-01-11","2015-01-14","2015-01-17","2015-01-20","2015-01-23","2015-01-26","2015-01-29","2015-02-01","2015-02-04","2015-02-07","2015-02-10","2015-02-13","2015-02-16","2015-02-19","2015-02-22","2015-02-25","2015-02-28","2015-03-03","2015-03-06","2015-03-09","2015-03-12","2015-03-15","2015-03-18","2015-03-21","2015-03-24","2015-03-27","2015-03-30","2015-04-02","2015-04-05","2015-04-08","2015-04-11","2015-04-14","2015-04-17","2015-04-20","2015-04-23","2015-04-26","2015-04-29","2015-05-02","2015-05-05","2015-05-08","2015-05-11","2015-05-14","2015-05-17","2015-05-20","2015-05-23","2015-05-26","2015-05-29","2015-06-01","2015-06-04","2015-06-07","2015-06-10","2015-06-13","2015-06-16","2015-06-19","2015-06-22","2015-06-25","2015-06-28","2015-07-01","2015-07-04","2015-07-07","2015-07-10","2015-07-13","2015-07-16","2015-07-19","2015-07-22","2015-07-25","2015-07-28","2015-07-31","2015-08-03","2015-08-06","2015-08-09","2015-08-12","2015-08-15","2015-08-18","2015-08-21","2015-08-24","2015-08-27","2015-08-30","2015-09-02","2015-09-05","2015-09-08","2015-09-11","2015-09-14","2015-09-17","2015-09-20","2015-09-23","2015-09-26","2015-09-29","2015-10-02","2015-10-05","2015-10-08","2015-10-11","2015-10-14","2015-10-17","2015-10-20","2015-10-23","2015-10-26","2015-10-29","2015-11-01","2015-11-04","2015-11-07","2015-11-10","2015-11-13","2015-11-16","2015-11-19","2015-11-22","2015-11-25","2015-11-28","2015-12-01","2015-12-04","2015-12-07","2015-12-10","2015-12-13","2015-12-16","2015-12-19","2015-12-22","2015-12-25","2015-12-28","2015-12-31","2016-01-02","2016-01-05","2016-01-08","2016-01-11","2016-01-14","2016-01-17","2016-01-20","2016-01-23","2016-01-26","2016-01-29","2016-02-01","2016-02-04","2016-02-07","2016-02-10","2016-02-13","2016-02-16","2016-02-19","2016-02-22","2016-02-25","2016-02-28","2016-03-02","2016-03-05","2016-03-08","2016-03-11","2016-03-14","2016-03-17","2016-03-20","2016-03-23","2016-03-26","2016-03-29","2016-04-01","2016-04-04","2016-04-07","2016-04-10","2016-04-13","2016-04-16","2016-04-19","2016-04-22","2016-04-25","2016-04-28","2016-05-01","2016-05-04","2016-05-07","2016-05-10","2016-05-13","2016-05-16","2016-05-19","2016-05-22","2016-05-25","2016-05-28","2016-05-31","2016-06-03","2016-06-06","2016-06-09","2016-06-12","2016-06-15","2016-06-18","2016-06-21","2016-06-24","2016-06-27","2016-06-30","2016-07-03","2016-07-06","2016-07-09","2016-07-12","2016-07-15","2016-07-18","2016-07-21","2016-07-24","2016-07-27","2016-07-30","2016-08-02","2016-08-05","2016-08-08","2016-08-11","2016-08-14","2016-08-17","2016-08-20","2016-08-23","2016-08-26","2016-08-29","2016-09-01","2016-09-04","2016-09-07","2016-09-10","2016-09-13","2016-09-16","2016-09-19","2016-09-22","2016-09-25","2016-09-28","2016-10-01","2016-10-04","2016-10-07","2016-10-10","2016-10-13","2016-10-16","2016-10-19","2016-10-22","2016-10-25","2016-10-28","2016-10-31","2016-11-03","2016-11-06","2016-11-09","2016-11-12","2016-11-15","2016-11-18","2016-11-21","2016-11-24","2016-11-27","2016-11-30","2016-12-03","2016-12-06","2016-12-09","2016-12-12","2016-12-15","2016-12-18","2016-12-21","2016-12-24","2016-12-27","2016-12-30","2017-01-02","2017-01-05","2017-01-08","2017-01-11","2017-01-14","2017-01-17","2017-01-20","2017-01-23","2017-01-26","2017-01-29","2017-02-01","2017-02-04","2017-02-07","2017-02-10","2017-02-13","2017-02-16","2017-02-19","2017-02-22","2017-02-25","2017-02-28","2017-03-03","2017-03-06","2017-03-09","2017-03-12","2017-03-15","2017-03-18","2017-03-21","2017-03-24","2017-03-27","2017-03-30","2017-04-02","2017-04-05","2017-04-08","2017-04-11","2017-04-14","2017-04-17","2017-04-20","2017-04-23","2017-04-26","2017-04-29","2017-05-02","2017-05-05","2017-05-08","2017-05-11","2017-05-14","2017-05-17","2017-05-20","2017-05-23","2017-05-26","2017-05-29","2017-06-01","2017-06-04","2017-06-07","2017-06-10","2017-06-13","2017-06-16","2017-06-19","2017-06-22","2017-06-25","2017-06-28","2017-07-01","2017-07-04","2017-07-07","2017-07-10","2017-07-13","2017-07-16","2017-07-19","2017-07-22","2017-07-25","2017-07-28","2017-07-31","2017-08-03","2017-08-06","2017-08-09","2017-08-12","2017-08-15","2017-08-18","2017-08-21","2017-08-24","2017-08-27","2017-08-30","2017-09-02","2017-09-05","2017-09-08","2017-09-11","2017-09-14","2017-09-17","2017-09-20","2017-09-23","2017-09-26","2017-09-29","2017-10-02","2017-10-05","2017-10-08","2017-10-11","2017-10-14","2017-10-17","2017-10-20","2017-10-23","2017-10-26","2017-10-29","2017-11-01","2017-11-04","2017-11-07","2017-11-10","2017-11-13","2017-11-16","2017-11-19","2017-11-22","2017-11-25","2017-11-28","2017-12-01","2017-12-04","2017-12-07","2017-12-10","2017-12-13","2017-12-16","2017-12-19","2017-12-22","2017-12-25","2017-12-28","2017-12-31","2018-01-02","2018-01-05","2018-01-08","2018-01-11","2018-01-14","2018-01-17","2018-01-20","2018-01-23","2018-01-26","2018-01-29","2018-02-01","2018-02-04","2018-02-07","2018-02-10","2018-02-13","2018-02-16","2018-02-19","2018-02-22","2018-02-25","2018-02-28","2018-03-03","2018-03-06","2018-03-09","2018-03-12","2018-03-15","2018-03-18","2018-03-21","2018-03-24","2018-03-27","2018-03-30","2018-04-02","2018-04-05","2018-04-08","2018-04-11","2018-04-14","2018-04-17","2018-04-20","2018-04-23","2018-04-26","2018-04-29","2018-05-02","2018-05-05","2018-05-08","2018-05-11","2018-05-14","2018-05-17","2018-05-20","2018-05-23","2018-05-26","2018-05-29","2018-06-01","2018-06-04","2018-06-07","2018-06-10","2018-06-13","2018-06-16","2018-06-19","2018-06-22","2018-06-25","2018-06-28","2018-07-01","2018-07-04","2018-07-07","2018-07-10","2018-07-13","2018-07-16","2018-07-19","2018-07-22","2018-07-25","2018-07-28","2018-07-31","2018-08-03","2018-08-06","2018-08-09","2018-08-12","2018-08-15","2018-08-18","2018-08-21","2018-08-24","2018-08-27","2018-08-30","2018-09-02","2018-09-05","2018-09-08","2018-09-11","2018-09-14","2018-09-17","2018-09-20","2018-09-23","2018-09-26","2018-09-29","2018-10-02","2018-10-05","2018-10-08","2018-10-11","2018-10-14","2018-10-17","2018-10-20","2018-10-23","2018-10-26","2018-10-29","2018-11-01","2018-11-04","2018-11-07","2018-11-10","2018-11-13","2018-11-28","2018-12-01","2018-12-04","2018-12-07","2018-12-10","2018-12-13","2018-12-16","2018-12-19","2018-12-22","2018-12-25","2018-12-28","2018-12-31","2019-01-02","2019-01-05","2019-01-08","2019-01-11","2019-01-14","2019-01-17","2019-01-20","2019-01-23","2019-01-29","2019-02-01","2019-02-04","2019-02-07","2019-02-10","2019-02-13","2019-02-16","2019-02-19","2019-02-22","2019-02-25","2019-02-28","2019-03-03","2019-03-06","2019-03-09","2019-03-12","2019-03-15","2019-03-18","2019-03-21","2019-03-24","2019-03-27","2019-03-30","2019-04-02","2019-04-05","2019-04-08","2019-04-11","2019-04-14","2019-04-17","2019-04-20","2019-04-23","2019-04-26","2019-04-29","2019-05-02","2019-05-05","2019-05-08","2019-05-11","2019-05-14","2019-05-17","2019-05-20","2019-05-23","2019-05-26","2019-05-29","2019-06-01","2019-06-04","2019-06-07","2019-06-10","2019-06-13","2019-06-16","2019-06-19","2019-06-22","2019-06-25","2019-06-28","2019-07-01","2019-07-04","2019-07-07","2019-07-10","2019-07-13","2019-07-16","2019-07-19","2019-07-22","2019-07-25","2019-07-28","2019-07-31","2019-08-03","2019-08-06","2019-08-09","2019-08-12","2019-08-15","2019-08-18","2019-08-21","2019-08-24","2019-08-27","2019-08-30","2019-09-02","2019-09-05","2019-09-08","2019-09-11","2019-09-14","2019-09-17","2019-09-20","2019-09-23","2019-09-26","2019-09-29","2019-10-02","2019-10-05","2019-10-08","2019-10-11","2019-10-14","2019-10-17","2019-10-23","2019-10-26","2019-10-29","2019-11-01","2019-11-04","2019-11-07","2019-11-10","2019-11-13","2019-11-16","2019-11-19","2019-11-22","2019-11-25","2019-11-28","2019-12-01","2019-12-04","2019-12-07","2019-12-10","2019-12-13","2019-12-16","2019-12-19","2019-12-22","2019-12-25","2019-12-28","2019-12-31","2020-01-02","2020-01-05","2020-01-08","2020-01-11","2020-01-14","2020-01-17","2020-01-20","2020-01-23","2020-01-26","2020-01-29","2020-02-01","2020-02-04","2020-02-07","2020-02-10","2020-02-13","2020-02-16","2020-02-19","2020-02-22","2020-02-25","2020-02-28","2020-03-02","2020-03-05","2020-03-08","2020-03-11","2020-03-14","2020-03-17","2020-03-20","2020-03-23","2020-03-26","2020-03-29","2020-04-01","2020-04-04","2020-04-07","2020-04-10","2020-04-13","2020-04-16","2020-04-19","2020-05-04","2020-05-07","2020-05-10","2020-05-13","2020-05-16","2020-05-19","2020-05-22","2020-05-25","2020-05-28","2020-05-31","2020-06-03","2020-06-06","2020-06-09","2020-06-12","2020-06-15","2020-06-18","2020-06-21","2020-06-24","2020-06-27","2020-06-30","2020-07-03","2020-07-06","2020-07-09","2020-07-12","2020-07-15","2020-07-18","2020-07-21","2020-07-24","2020-07-27","2020-07-30","2020-08-02","2020-08-05","2020-08-08","2020-08-11","2020-08-14","2020-08-17","2020-08-20","2020-08-23","2020-08-26","2020-08-29","2020-09-01","2020-09-04","2020-09-07","2020-09-10","2020-09-13","2020-09-16","2020-09-19","2020-09-22","2020-09-25","2020-09-28","2020-10-01","2020-10-04","2020-10-07","2020-10-10","2020-10-13","2020-10-16","2020-10-19","2020-10-22","2020-10-25","2020-10-28","2020-10-31","2020-11-03","2020-11-06","2020-11-09","2020-11-12","2020-11-15","2020-11-18","2020-11-21","2020-11-24","2020-11-27","2020-11-30","2020-12-03","2020-12-06","2020-12-09","2020-12-12","2020-12-15","2020-12-18","2020-12-21","2020-12-24","2020-12-27","2020-12-30","2021-01-02","2021-01-05","2021-01-08","2021-01-11","2021-01-14","2021-01-17","2021-01-20","2021-01-23","2021-01-26","2021-01-29","2021-02-01","2021-02-04","2021-02-07","2021-02-10","2021-02-13","2021-02-16","2021-02-19","2021-02-22","2021-02-25","2021-02-28","2021-03-03","2021-03-06","2021-03-09","2021-03-12","2021-03-15","2021-03-18","2021-03-21","2021-03-24","2021-03-27","2021-03-30","2021-04-02","2021-04-05","2021-04-08","2021-04-11","2021-04-14","2021-04-17","2021-04-20","2021-04-23","2021-04-26","2021-04-29","2021-05-02","2021-05-05","2021-05-08","2021-05-11","2021-05-14","2021-05-17","2021-05-20","2021-05-23","2021-05-26","2021-05-29","2021-06-01","2021-06-04","2021-06-07","2021-06-10","2021-06-13","2021-06-16","2021-06-19","2021-06-22","2021-06-25","2021-06-28","2021-07-01","2021-07-04","2021-07-07","2021-07-10","2021-07-13","2021-07-16","2021-07-19","2021-07-22","2021-07-25","2021-07-28","2021-07-31","2021-08-03","2021-08-06","2021-08-09","2021-08-12","2021-08-15","2021-08-18","2021-08-21","2021-08-24","2021-08-27","2021-08-30","2021-09-02","2021-09-05","2021-09-08","2021-09-11","2021-09-14","2021-09-17","2021-09-20","2021-09-23","2021-09-26","2021-09-29","2021-10-02","2021-10-05","2021-10-08","2021-10-11","2021-10-14","2021-10-17","2021-10-20","2021-10-23","2021-10-26","2021-10-29","2021-11-01","2021-11-04","2021-11-07","2021-11-10","2021-11-13","2021-11-16","2021-11-19","2021-11-22","2021-11-25","2021-11-28","2021-12-01","2021-12-04","2021-12-07","2021-12-10","2021-12-13","2021-12-16","2021-12-19","2021-12-22","2021-12-25","2021-12-28","2021-12-31","2022-01-02","2022-01-05","2022-01-08","2022-01-11","2022-01-14","2022-01-17","2022-01-20","2022-01-23","2022-01-26","2022-01-29","2022-02-01","2022-02-04","2022-02-07","2022-02-10","2022-02-13","2022-02-16","2022-02-19","2022-02-22","2022-02-25","2022-02-28","2022-03-03","2022-03-06","2022-03-09","2022-03-12","2022-03-15","2022-03-18","2022-03-21","2022-03-24","2022-03-27","2022-03-30","2022-04-02","2022-04-05","2022-04-08","2022-04-11","2022-04-14","2022-04-17","2022-04-20","2022-04-23","2022-04-26","2022-04-29","2022-05-02","2022-05-05","2022-05-08","2022-05-11","2022-05-14","2022-05-17","2022-05-20","2022-05-23","2022-05-26","2022-05-29","2022-06-01","2022-06-04","2022-06-07","2022-06-10","2022-06-13","2022-06-16","2022-06-19","2022-06-22","2022-06-25","2022-06-28","2022-07-01","2022-07-04","2022-07-07","2022-07-10","2022-07-13","2022-07-16","2022-07-19","2022-07-22","2022-07-25","2022-07-28","2022-07-31","2022-08-03","2022-08-06","2022-08-09","2022-08-12","2022-08-15","2022-08-18","2022-08-21","2022-08-24","2022-08-27","2022-08-30","2022-09-02","2022-09-05","2022-09-08","2022-09-11","2022-09-14","2022-09-17","2022-09-20","2022-09-23","2022-09-26","2022-09-29","2022-10-02","2022-10-05","2022-10-08","2022-10-11"],"y":[0.35984,0.36496,0.36583,0.36443,0.36946,0.37083,0.37055,0.37201,0.37095,0.3701,0.37184,0.39177,0.40051,0.41292,0.42653,0.43531,0.43907,0.44746,0.4593,0.47018,0.46655,0.47009,0.45292,0.44304,0.4517,0.44444,0.44606,0.45674,0.45301,0.44471,0.44664,0.44765,0.44063,0.43926,0.44165,0.43806,0.4434,0.44777,0.43538,0.43613,0.43782,0.43793,0.43836,0.43771,0.43415,0.43418,0.43041,0.43195,0.43379,0.43708,0.43347,0.43324,0.43644,0.43702,0.44338,0.43296,0.42434,0.42988,0.44157,0.44024,0.43354,0.4331,0.42395,0.42555,0.41176,0.40018,0.38459,0.38144,0.37459,0.34999,0.33895,0.3392,0.35227,0.36352,0.36669,0.36869,0.36908,0.36799,0.36649,0.36892,0.37039,0.36809,0.36821,0.36571,0.35906,0.36686,0.36578,0.36567,0.36893,0.36858,0.36768,0.36771,0.36714,0.362,0.36456,0.36536,0.36629,0.36371,0.36855,0.36777,0.36301,0.36877,0.3666,0.36869,0.37146,0.36782,0.36821,0.36845,0.36729,0.3679,0.36763,0.36586,0.36986,0.36855,0.36918,0.37089,0.36993,0.36966,0.36962,0.36965,0.36805,0.36904,0.36828,0.37033,0.37152,0.37195,0.37249,0.37191,0.37191,0.3762,0.37971,0.38658,0.39545,0.41293,0.42065,0.43609,0.45176,0.4512,0.46211,0.46585,0.46323,0.45872,0.45856,0.45421,0.46744,0.45158,0.45321,0.45647,0.4589,0.45214,0.44671,0.43976,0.43277,0.43061,0.43307,0.4307,0.43589,0.43433,0.43987,0.4447,0.43649,0.44193,0.4355,0.43215,0.43057,0.43671,0.43153,0.43122,0.4399,0.42992,0.42997,0.43826,0.42446,0.42287,0.42608,0.43694,0.42699,0.4273,0.41743,0.42819,0.42987,0.42401,0.42051,0.42298,0.42215,0.4194,0.40533,0.40433,0.39109,0.37846,0.34389,0.34683,0.35528,0.35939,0.36857,0.37403,0.37087,0.37256,0.37241,0.3717,0.36773,0.37135,0.371,0.37105,0.36956,0.37116,0.36954,0.36925,0.36627,0.36841,0.36892,0.36631,0.36592,0.3599,0.36673,0.36731,0.36811,0.37006,0.36915,0.36601,0.36866,0.36845,0.36618,0.36831,0.36808,0.36712,0.36833,0.36872,0.36278,0.36874,0.36869,0.3615,0.36682,0.36931,0.37099,0.3715,0.37031,0.37161,0.37365,0.37377,0.37361,0.37082,0.371,0.37593,0.37692,0.37737,0.37663,0.37703,0.37295,0.37806,0.382,0.38959,0.39105,0.44201,0.4398,0.46092,0.4598,0.46429,0.46924,0.46477,0.45821,0.45666,0.4517,0.44668,0.44756,0.45051,0.45843,0.44218,0.44073,0.43978,0.44358,0.43969,0.43143,0.4353,0.43999,0.44876,0.44319,0.43615,0.43861,0.43933,0.43414,0.42999,0.42961,0.4363,0.43143,0.43365,0.43134,0.43132,0.43158,0.43989,0.43955,0.4247,0.42353,0.43219,0.42458,0.42805,0.43173,0.42957,0.42711,0.42286,0.42308,0.4279,0.43106,0.43016,0.42278,0.4122,0.39697,0.3875,0.38075,0.37057,0.37071,0.35612,0.35501,0.35766,0.35982,0.36798,0.37304,0.37559,0.37443,0.37371,0.37478,0.37423,0.37106,0.37088,0.37004,0.3703,0.37118,0.36564,0.36973,0.37212,0.37225,0.36884,0.37026,0.37367,0.37012,0.36992,0.36966,0.36787,0.36852,0.3674,0.36519,0.36637,0.368,0.36729,0.36809,0.37038,0.36856,0.36806,0.37188,0.37342,0.37117,0.37018,0.3726,0.36836,0.37126,0.36537,0.37048,0.36953,0.36937,0.37311,0.37139,0.37,0.3701,0.37055,0.3713,0.37097,0.37332,0.37392,0.37383,0.37331,0.37359,0.37493,0.37649,0.37969,0.37982,0.38368,0.39105,0.40214,0.44258,0.44496,0.44671,0.46646,0.46472,0.4827,0.46651,0.45777,0.45705,0.47214,0.46109,0.4609,0.45007,0.46279,0.45154,0.44611,0.44298,0.45125,0.44317,0.44294,0.44233,0.44014,0.44405,0.44175,0.45193,0.44304,0.44002,0.4406,0.44085,0.44108,0.43619,0.45201,0.43777,0.43925,0.4362,0.43764,0.42932,0.4375,0.43859,0.44246,0.43196,0.43569,0.42544,0.43493,0.43814,0.4307,0.43215,0.43761,0.43564,0.41707,0.41429,0.42347,0.40856,0.41259,0.39792,0.38847,0.38546,0.37853,0.37551,0.36756,0.35838,0.37037,0.37063,0.37615,0.37396,0.37471,0.37744,0.37619,0.37432,0.37131,0.37377,0.37282,0.37374,0.3725,0.37298,0.37047,0.37061,0.37126,0.37317,0.37253,0.37372,0.3735,0.37027,0.37194,0.37102,0.36991,0.37315,0.37233,0.37387,0.37076,0.37167,0.37269,0.37054,0.36914,0.37073,0.37127,0.37017,0.37218,0.36395,0.37109,0.37371,0.37546,0.37494,0.3746,0.37781,0.37849,0.3767,0.37494,0.37396,0.37665,0.37546,0.37576,0.37835,0.38116,0.3809,0.38927,0.38589,0.38475,0.39768,0.40383,0.43325,0.44167,0.46189,0.47861,0.47115,0.48553,0.47944,0.46675,0.46123,0.46243,0.45853,0.45314,0.46501,0.44951,0.45343,0.45295,0.45264,0.448,0.44757,0.44532,0.45013,0.44479,0.44681,0.44838,0.44552,0.45413,0.44549,0.45491,0.44808,0.44591,0.45423,0.44172,0.45126,0.44509,0.44414,0.43719,0.43937,0.43954,0.43488,0.44082,0.44908,0.44529,0.4339,0.43012,0.43021,0.44154,0.4293,0.43251,0.43357,0.43813,0.42319,0.41219,0.41164,0.407,0.40099,0.38019,0.35536,0.3662,0.37609,0.38186,0.37898,0.37725,0.37819,0.37971,0.37675,0.37588,0.37707,0.37511,0.3733,0.37435,0.37497,0.37247,0.37077,0.37428,0.37242,0.36901,0.37327,0.37249,0.37354,0.36852,0.37277,0.37357,0.37309,0.37243,0.37356,0.37003,0.37485,0.36904,0.37017,0.36897,0.37255,0.37097,0.37143,0.37122,0.37393,0.37404,0.37401,0.3726,0.36625,0.37176,0.37084,0.37016,0.3734,0.3731,0.37259,0.37304,0.37049,0.37261,0.3727,0.37523,0.37282,0.37461,0.37498,0.37427,0.37579,0.37688,0.37747,0.37676,0.37804,0.37997,0.38203,0.38664,0.4186,0.44951,0.44288,0.4461,0.45813,0.48114,0.46893,0.47134,0.46781,0.46445,0.47403,0.46116,0.47118,0.45488,0.45765,0.4528,0.45739,0.45345,0.45877,0.44896,0.44637,0.45161,0.44384,0.44418,0.44463,0.44394,0.44665,0.44131,0.44078,0.4399,0.43889,0.45508,0.44219,0.43827,0.44234,0.43863,0.43792,0.44335,0.45118,0.4486,0.43497,0.43481,0.44163,0.4364,0.43068,0.42874,0.4259,0.42593,0.42436,0.41919,0.429,0.41641,0.41099,0.40639,0.38608,0.37441,0.36911,0.3694,0.36815,0.3725,0.36963,0.372,0.37391,0.37488,0.37853,0.37697,0.37599,0.37373,0.37407,0.37361,0.3754,0.37287,0.37127,0.37053,0.37311,0.37637,0.37714,0.3727,0.37465,0.37266,0.36824,0.374,0.37258,0.37246,0.37465,0.37327,0.37266,0.36995,0.37174,0.37237,0.3769,0.37208,0.37198,0.37256,0.37086,0.36948,0.37157,0.37388,0.37314,0.37306,0.37072,0.37265,0.37419,0.37436,0.37343,0.37328,0.37235,0.3717,0.37244,0.37345,0.37329,0.37328,0.37467,0.37611,0.37752,0.37407,0.37821,0.37787,0.37858,0.37701,0.37799,0.37848,0.38104,0.39414,0.40945,0.44137,0.44819,0.47904,0.47562,0.48108,0.47214,0.48751,0.46831,0.47754,0.47796,0.46096,0.45807,0.45635,0.46064,0.45861,0.46106,0.47003,0.45791,0.4543,0.45949,0.45855,0.45611,0.45554,0.45369,0.4604,0.45316,0.46192,0.45218,0.4495,0.45881,0.44963,0.44883,0.45922,0.44914,0.45062,0.45215,0.45217,0.45117,0.44679,0.45928,0.45303,0.44135,0.44527,0.44007,0.44583,0.45155,0.45331,0.4474,0.43588,0.42572,0.4196,0.40041,0.37829,0.37955,0.36965,0.36551,0.36391,0.36999,0.37128,0.3756,0.3776,0.37562,0.37743,0.37885,0.38109,0.37837,0.37809,0.37364,0.36654,0.37334,0.3756,0.37377,0.37537,0.37505,0.37562,0.37329,0.37521,0.37057,0.37047,0.3721,0.36953,0.37232,0.37327,0.37389,0.37146,0.37414,0.37245,0.36922,0.36953,0.37061,0.3686,0.36857,0.37166,0.37003,0.37184,0.37082,0.37132,0.3731,0.37418,0.37411,0.37194,0.37099,0.37077,0.374,0.37121,0.37135,0.37434,0.37301,0.3724,0.37477,0.37676,0.37783,0.3768,0.37712,0.37501,0.37629,0.37916,0.38376,0.40108,0.43205,0.43528,0.44797,0.45235,0.45064,0.4613,0.46137,0.47958,0.45992,0.46758,0.46178,0.46099,0.47103,0.45519,0.46705,0.45416,0.45473,0.45369,0.451,0.46023,0.4513,0.44978,0.44843,0.45817,0.44996,0.44821,0.45188,0.45068,0.44935,0.44637,0.44649,0.45987,0.44992,0.45156,0.45815,0.44856,0.44477,0.44547,0.44855,0.44303,0.44624,0.45686,0.45536,0.44361,0.44169,0.4407,0.43896,0.45021,0.45107,0.43995,0.44399,0.43043,0.43322,0.41968,0.41976,0.40907,0.39857,0.38529,0.33899,0.35047,0.37832,0.37855,0.37804,0.37803,0.377,0.376,0.37725,0.37785,0.37517,0.37566,0.37432,0.37556,0.37539,0.37745,0.37409,0.37657,0.37854,0.37366,0.37503,0.37493,0.37413,0.37547,0.37444,0.37356,0.36991,0.37198,0.37226,0.37451,0.37401,0.37677,0.37454,0.37372,0.3705,0.37019,0.37427,0.37454,0.37437,0.37292,0.37519,0.37157,0.3733,0.37697,0.37621,0.3767,0.37636,0.37376,0.37543,0.37395,0.37555,0.37906,0.3716,0.37747,0.3754,0.3764,0.37882,0.38088,0.38137,0.38018,0.37887,0.38064,0.38192,0.38129,0.3892,0.41292,0.41712,0.42994,0.45271,0.47167,0.48388,0.48015,0.47787,0.47992,0.46051,0.46814,0.4609,0.46133,0.46234,0.46052,0.46887,0.46152,0.45646,0.46066,0.48011,0.45833,0.46868,0.45852,0.45544,0.45843,0.45621,0.46304,0.46612,0.45571,0.44909,0.46145,0.45548,0.45559,0.45157,0.44539,0.45176,0.44805,0.45679,0.44998,0.45832,0.45529,0.44429,0.43976,0.46775,0.44953,0.43842,0.45621,0.45376,0.45437,0.43996,0.45234,0.43193,0.43167,0.40646,0.40545,0.38957,0.39766,0.37913,0.37621,0.34972,0.35148,0.36061,0.37262,0.37751,0.37591,0.37613,0.37614,0.37703,0.37742,0.37634,0.37411,0.37554,0.37432,0.37227,0.37572,0.37595,0.37615,0.37089,0.37038,0.37386,0.37067,0.37704,0.37474,0.37415,0.37469,0.37034,0.37536,0.37422,0.37349,0.37369,0.37328,0.36992,0.37112,0.37177,0.37542,0.37643,0.37761,0.37699,0.37374,0.37545,0.37552,0.37189,0.3714,0.37391,0.3753,0.37659,0.37433,0.37397,0.37601,0.37262,0.37621,0.37979,0.37843,0.3791,0.3772,0.37933,0.37929,0.38417,0.38923,0.39759,0.39379,0.39856,0.41316,0.44274,0.46638,0.49165,0.48661,0.50248,0.48392,0.49244,0.486,0.46645,0.46264,0.47005,0.47097,0.45595,0.45464,0.45211,0.45718,0.45144,0.46423,0.45224,0.46027,0.45032,0.44952,0.4472,0.45727,0.45091,0.44554,0.44646,0.45305,0.44402,0.44362,0.44915,0.44893,0.44371,0.441,0.43963,0.44274,0.44133,0.4467,0.43994,0.43946,0.44293,0.44444,0.44895,0.44302,0.44301,0.44636,0.43472,0.43827,0.45532,0.43881,0.4374,0.43069,0.42827,0.42445,0.41819,0.4092,0.40462,0.38529,0.37268,0.36394,0.36929,0.36975,0.3768,0.37708,0.37947,0.3784,0.37695,0.37831,0.37832,0.37321,0.37105,0.37456,0.37801,0.37462,0.37391,0.37326,0.37116,0.37464,0.37281,0.37849,0.37693,0.37414,0.37258,0.37844,0.37349,0.37719,0.37433,0.37403,0.37472,0.37149,0.37298,0.3753,0.37555,0.37635,0.37825,0.37772,0.37823,0.37301,0.37408,0.36922,0.37357,0.37243,0.37415,0.37422,0.37557,0.37589,0.37575,0.37496,0.37392,0.3735,0.37528,0.37775,0.37537,0.37544,0.37885,0.37865,0.3806,0.38406,0.38708,0.39504,0.42201,0.4269,0.44885,0.47607,0.48265,0.48004,0.47306,0.47851,0.47906,0.46484,0.46132,0.46618,0.45858,0.46147,0.46261,0.4586,0.46925,0.46116,0.45964,0.45812,0.45425,0.45755,0.45706,0.45044,0.45806,0.46481,0.45582,0.45459,0.45801,0.45736,0.45176,0.4549,0.45292,0.45076,0.44234,0.44203,0.44572,0.44615,0.44529,0.44566,0.44956,0.45188,0.44829,0.45118,0.45169,0.44154,0.4514,0.44391,0.45046,0.44852,0.44796,0.44621,0.43285,0.42661,0.42723,0.42628,0.41905,0.41587,0.40175,0.35075,0.35196,0.36978,0.37225,0.37894,0.37995,0.37874,0.37766,0.37715,0.37846,0.37997,0.37801,0.37631,0.37609,0.37814,0.37806,0.37706,0.37878,0.37625,0.37445,0.37485,0.37485,0.37272,0.37523,0.37203,0.37435,0.37903,0.37751,0.3758,0.37319,0.37701,0.37232,0.37627,0.37381,0.37523,0.37471,0.37209,0.37519,0.37595,0.37812,0.37538,0.37695,0.37604,0.37678,0.37833,0.37716,0.37682,0.37857,0.37817,0.38237,0.37897,0.38509,0.38167,0.38283,0.38309,0.3854,0.38559,0.39057,0.41048,0.40504,0.41805,0.43917,0.4581,0.46836,0.486,0.49061,0.47334,0.46674,0.46804,0.46734,0.46191,0.46837,0.45933,0.46443,0.45454,0.4543,0.45335,0.45365,0.45404,0.45073,0.45148,0.45294,0.46364,0.4484,0.45231,0.45026,0.44919,0.45043,0.44984,0.44614,0.44637,0.44923,0.44805,0.44275,0.44533,0.44114,0.44735,0.44882,0.44162,0.45405,0.45098,0.44037,0.43782,0.44112,0.44074,0.43702,0.44788,0.44078,0.43766,0.43471,0.42093,0.41274,0.36921,0.36304,0.35647,0.37066,0.38151,0.38079,0.38026,0.38001,0.38095,0.37961,0.38022,0.38022,0.38029,0.3761,0.37767,0.37521,0.36531,0.37201,0.37365,0.37489,0.37945,0.38004,0.37889,0.36713,0.37638,0.37408,0.37766,0.38083,0.37763,0.37326,0.37546,0.37886,0.37799,0.37605,0.3771,0.37549,0.37136,0.3692,0.37617,0.37575,0.37589,0.37716,0.37871,0.37657,0.37839,0.37748,0.38008,0.38029,0.37821,0.37804,0.37707,0.37661,0.37779,0.38028,0.3779,0.37997,0.38025,0.38309,0.38219,0.37975,0.37963,0.38,0.38181,0.38019,0.38164,0.38782,0.40785,0.43116,0.44974,0.46663,0.47043,0.46842,0.46971,0.46471,0.47327,0.45449,0.45643,0.45628,0.45489,0.45689,0.4642,0.45444,0.44895,0.4542,0.45168,0.4486,0.45637,0.44966,0.44724,0.44758,0.44777,0.45081,0.44527,0.44558,0.44612,0.45046,0.44871,0.44407,0.45083,0.45046,0.45659,0.45236,0.44582,0.44382,0.44935,0.44737,0.44044,0.43967,0.43922,0.43973,0.45042,0.45002,0.43793,0.43949,0.43084,0.43754,0.4169,0.4083,0.38759,0.36387,0.35711,0.37166,0.37641,0.37721,0.37902,0.38354,0.38294,0.38168,0.384,0.38161,0.38296,0.3825,0.38389,0.3703,0.37449,0.3798,0.37845,0.37792,0.38,0.38025,0.37935,0.37989,0.37886,0.3776,0.37861,0.37794,0.37805,0.37742,0.37862,0.37584,0.37616,0.37305,0.37355,0.37353,0.37686,0.37479,0.3748,0.37557,0.37533,0.37437,0.37751,0.37647,0.37684,0.37426,0.37819,0.37853,0.37717,0.37733,0.38054,0.38078,0.38121,0.382,0.37695,0.38,0.38184,0.38196,0.38152,0.37965,0.38652,0.38275,0.38194,0.38647,0.38819,0.39068,0.39024,0.39394,0.41637,0.43995,0.46342,0.47587,0.47491,0.48934,0.47013,0.47731,0.46569,0.46325,0.46486,0.45852,0.45894,0.46821,0.45881,0.46033,0.47349,0.47081,0.46421,0.46469,0.46492,0.45171,0.45768,0.44503,0.4513,0.45311,0.44406,0.44314,0.45204,0.45215,0.45207,0.44527,0.45352,0.46309,0.45225,0.44621,0.4482,0.44561,0.44497,0.44977,0.4446,0.44487,0.45178,0.44142,0.45497,0.44135,0.44386,0.43796,0.45295,0.44016,0.4423,0.43725,0.43284,0.42931,0.42395,0.43705,0.42264,0.40571,0.39144,0.38268,0.36926,0.36578,0.3656,0.37431,0.3803,0.38124,0.37851,0.37961,0.38157,0.38111,0.37806,0.3819,0.38238,0.37546,0.38073,0.36944,0.37792,0.37386,0.37115,0.3777,0.37348,0.37655,0.37568,0.3761,0.37623,0.37545,0.37574,0.37445,0.37663,0.37213,0.37474,0.37808,0.37612,0.37732,0.37667,0.37908,0.37306,0.37537,0.37677,0.37836,0.37579,0.37702,0.37748,0.38046,0.37926,0.37798,0.37805,0.37687,0.37832,0.37868,0.37964,0.3789,0.38195,0.38034,0.38061,0.38093,0.38258,0.37987,0.38167,0.38391,0.38101,0.38736,0.41854,0.44078,0.47099,0.46827,0.46802,0.47151,0.4643,0.45922,0.45692,0.45462,0.45343,0.45215,0.45056,0.45945,0.45393,0.45968,0.45318,0.45409,0.45059,0.44855,0.45225,0.45045,0.45677,0.45223,0.45292,0.44816,0.44861,0.44952,0.45018,0.45114,0.44707,0.44859,0.44678,0.45159,0.45165,0.44687,0.44671,0.4446,0.4634,0.44601,0.44493,0.44429,0.44303,0.44466,0.4523,0.4424,0.43756,0.43513,0.43848,0.43255,0.4221],"showlegend":false,"mode":"line","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-01-05","2008-01-06","2008-01-07","2008-01-08","2008-01-09","2008-01-10","2008-01-11","2008-01-12","2008-01-13","2008-01-14","2008-01-15","2008-01-16","2008-01-17","2008-01-18","2008-01-19","2008-01-20","2008-01-21","2008-01-22","2008-01-23","2008-01-24","2008-01-25","2008-01-26","2008-01-27","2008-01-28","2008-01-29","2008-01-30","2008-01-31","2008-02-01","2008-02-02","2008-02-03","2008-02-04","2008-02-05","2008-02-06","2008-02-07","2008-02-08","2008-02-09","2008-02-10","2008-02-11","2008-02-12","2008-02-13","2008-02-14","2008-02-15","2008-02-16","2008-02-17","2008-02-18","2008-02-19","2008-02-20","2008-02-21","2008-02-22","2008-02-23","2008-02-24","2008-02-25","2008-02-26","2008-02-27","2008-02-28","2008-02-29","2008-03-01","2008-03-02","2008-03-03","2008-03-04","2008-03-05","2008-03-06","2008-03-07","2008-03-08","2008-03-09","2008-03-10","2008-03-11","2008-03-12","2008-03-13","2008-03-14","2008-03-15","2008-03-16","2008-03-17","2008-03-18","2008-03-19","2008-03-20","2008-03-21","2008-03-22","2008-03-23","2008-03-24","2008-03-25","2008-03-26","2008-03-27","2008-03-28","2008-03-29","2008-03-30","2008-03-31","2008-04-01","2008-04-02","2008-04-03","2008-04-04","2008-04-05","2008-04-06","2008-04-07","2008-04-08","2008-04-09","2008-04-10","2008-04-11","2008-04-12","2008-04-13","2008-04-14","2008-04-15","2008-04-16","2008-04-17","2008-04-18","2008-04-19","2008-04-20","2008-04-21","2008-04-22","2008-04-23","2008-04-24","2008-04-25","2008-04-26","2008-04-27","2008-04-28","2008-04-29","2008-04-30","2008-05-01","2008-05-02","2008-05-03","2008-05-04","2008-05-05","2008-05-06","2008-05-07","2008-05-08","2008-05-09","2008-05-10","2008-05-11","2008-05-12","2008-05-13","2008-05-14","2008-05-15","2008-05-16","2008-05-17","2008-05-18","2008-05-19","2008-05-20","2008-05-21","2008-05-22","2008-05-23","2008-05-24","2008-05-25","2008-05-26","2008-05-27","2008-05-28","2008-05-29","2008-05-30","2008-05-31","2008-06-01","2008-06-02","2008-06-03","2008-06-04","2008-06-05","2008-06-06","2008-06-07","2008-06-08","2008-06-09","2008-06-10","2008-06-11","2008-06-12","2008-06-13","2008-06-14","2008-06-15","2008-06-16","2008-06-17","2008-06-18","2008-06-19","2008-06-20","2008-06-21","2008-06-22","2008-06-23","2008-06-24","2008-06-25","2008-06-26","2008-06-27","2008-06-28","2008-06-29","2008-06-30","2008-07-01","2008-07-02","2008-07-03","2008-07-04","2008-07-05","2008-07-06","2008-07-07","2008-07-08","2008-07-09","2008-07-10","2008-07-11","2008-07-12","2008-07-13","2008-07-14","2008-07-15","2008-07-16","2008-07-17","2008-07-18","2008-07-19","2008-07-20","2008-07-21","2008-07-22","2008-07-23","2008-07-24","2008-07-25","2008-07-26","2008-07-27","2008-07-28","2008-07-29","2008-07-30","2008-07-31","2008-08-01","2008-08-02","2008-08-03","2008-08-04","2008-08-05","2008-08-06","2008-08-07","2008-08-08","2008-08-09","2008-08-10","2008-08-11","2008-08-12","2008-08-13","2008-08-14","2008-08-15","2008-08-16","2008-08-17","2008-08-18","2008-08-19","2008-08-20","2008-08-21","2008-08-22","2008-08-23","2008-08-24","2008-08-25","2008-08-26","2008-08-27","2008-08-28","2008-08-29","2008-08-30","2008-08-31","2008-09-01","2008-09-02","2008-09-03","2008-09-04","2008-09-05","2008-09-06","2008-09-07","2008-09-08","2008-09-09","2008-09-10","2008-09-11","2008-09-12","2008-09-13","2008-09-14","2008-09-15","2008-09-16","2008-09-17","2008-09-18","2008-09-19","2008-09-20","2008-09-21","2008-09-22","2008-09-23","2008-09-24","2008-09-25","2008-09-26","2008-09-27","2008-09-28","2008-09-29","2008-09-30","2008-10-01","2008-10-02","2008-10-03","2008-10-04","2008-10-05","2008-10-06","2008-10-07","2008-10-08","2008-10-09","2008-10-10","2008-10-11","2008-10-12","2008-10-13","2008-10-14","2008-10-15","2008-10-16","2008-10-17","2008-10-18","2008-10-19","2008-10-20","2008-10-21","2008-10-22","2008-10-23","2008-10-24","2008-10-25","2008-10-26","2008-10-27","2008-10-28","2008-10-29","2008-10-30","2008-10-31","2008-11-01","2008-11-02","2008-11-03","2008-11-04","2008-11-05","2008-11-06","2008-11-07","2008-11-08","2008-11-09","2008-11-10","2008-11-11","2008-11-12","2008-11-13","2008-11-14","2008-11-15","2008-11-16","2008-11-17","2008-11-18","2008-11-19","2008-11-20","2008-11-21","2008-11-22","2008-11-23","2008-11-24","2008-11-25","2008-11-26","2008-11-27","2008-11-28","2008-11-29","2008-11-30","2008-12-01","2008-12-02","2008-12-03","2008-12-04","2008-12-05","2008-12-06","2008-12-07","2008-12-08","2008-12-09","2008-12-10","2008-12-11","2008-12-12","2008-12-13","2008-12-14","2008-12-15","2008-12-16","2008-12-17","2008-12-18","2008-12-19","2008-12-20","2008-12-21","2008-12-22","2008-12-23","2008-12-24","2008-12-25","2008-12-26","2008-12-27","2008-12-28","2008-12-29","2008-12-30","2008-12-31","2009-01-01","2009-01-02","2009-01-03","2009-01-04","2009-01-05","2009-01-06","2009-01-07","2009-01-08","2009-01-09","2009-01-10","2009-01-11","2009-01-12","2009-01-13","2009-01-14","2009-01-15","2009-01-16","2009-01-17","2009-01-18","2009-01-19","2009-01-20","2009-01-21","2009-01-22","2009-01-23","2009-01-24","2009-01-25","2009-01-26","2009-01-27","2009-01-28","2009-01-29","2009-01-30","2009-01-31","2009-02-01","2009-02-02","2009-02-03","2009-02-04","2009-02-05","2009-02-06","2009-02-07","2009-02-08","2009-02-09","2009-02-10","2009-02-11","2009-02-12","2009-02-13","2009-02-14","2009-02-15","2009-02-16","2009-02-17","2009-02-18","2009-02-19","2009-02-20","2009-02-21","2009-02-22","2009-02-23","2009-02-24","2009-02-25","2009-02-26","2009-02-27","2009-02-28","2009-03-01","2009-03-02","2009-03-03","2009-03-04","2009-03-05","2009-03-06","2009-03-07","2009-03-08","2009-03-09","2009-03-10","2009-03-11","2009-03-12","2009-03-13","2009-03-14","2009-03-15","2009-03-16","2009-03-17","2009-03-18","2009-03-19","2009-03-20","2009-03-21","2009-03-22","2009-03-23","2009-03-24","2009-03-25","2009-03-26","2009-03-27","2009-03-28","2009-03-29","2009-03-30","2009-03-31","2009-04-01","2009-04-02","2009-04-03","2009-04-04","2009-04-05","2009-04-06","2009-04-07","2009-04-08","2009-04-09","2009-04-10","2009-04-11","2009-04-12","2009-04-13","2009-04-14","2009-04-15","2009-04-16","2009-04-17","2009-04-18","2009-04-19","2009-04-20","2009-04-21","2009-04-22","2009-04-23","2009-04-24","2009-04-25","2009-04-26","2009-04-27","2009-04-28","2009-04-29","2009-04-30","2009-05-01","2009-05-02","2009-05-03","2009-05-04","2009-05-05","2009-05-06","2009-05-07","2009-05-08","2009-05-09","2009-05-10","2009-05-11","2009-05-12","2009-05-13","2009-05-14","2009-05-15","2009-05-16","2009-05-17","2009-05-18","2009-05-19","2009-05-20","2009-05-21","2009-05-22","2009-05-23","2009-05-24","2009-05-25","2009-05-26","2009-05-27","2009-05-28","2009-05-29","2009-05-30","2009-05-31","2009-06-01","2009-06-02","2009-06-03","2009-06-04","2009-06-05","2009-06-06","2009-06-07","2009-06-08","2009-06-09","2009-06-10","2009-06-11","2009-06-12","2009-06-13","2009-06-14","2009-06-15","2009-06-16","2009-06-17","2009-06-18","2009-06-19","2009-06-20","2009-06-21","2009-06-22","2009-06-23","2009-06-24","2009-06-25","2009-06-26","2009-06-27","2009-06-28","2009-06-29","2009-06-30","2009-07-01","2009-07-02","2009-07-03","2009-07-04","2009-07-05","2009-07-06","2009-07-07","2009-07-08","2009-07-09","2009-07-10","2009-07-11","2009-07-12","2009-07-13","2009-07-14","2009-07-15","2009-07-16","2009-07-17","2009-07-18","2009-07-19","2009-07-20","2009-07-21","2009-07-22","2009-07-23","2009-07-24","2009-07-25","2009-07-26","2009-07-27","2009-07-28","2009-07-29","2009-07-30","2009-07-31","2009-08-01","2009-08-02","2009-08-03","2009-08-04","2009-08-05","2009-08-06","2009-08-07","2009-08-08","2009-08-09","2009-08-10","2009-08-11","2009-08-12","2009-08-13","2009-08-14","2009-08-15","2009-08-16","2009-08-17","2009-08-18","2009-08-19","2009-08-20","2009-08-21","2009-08-22","2009-08-23","2009-08-24","2009-08-25","2009-08-26","2009-08-27","2009-08-28","2009-08-29","2009-08-30","2009-08-31","2009-09-01","2009-09-02","2009-09-03","2009-09-04","2009-09-05","2009-09-06","2009-09-07","2009-09-08","2009-09-09","2009-09-10","2009-09-11","2009-09-12","2009-09-13","2009-09-14","2009-09-15","2009-09-16","2009-09-17","2009-09-18","2009-09-19","2009-09-20","2009-09-21","2009-09-22","2009-09-23","2009-09-24","2009-09-25","2009-09-26","2009-09-27","2009-09-28","2009-09-29","2009-09-30","2009-10-01","2009-10-02","2009-10-03","2009-10-04","2009-10-05","2009-10-06","2009-10-07","2009-10-08","2009-10-09","2009-10-10","2009-10-11","2009-10-12","2009-10-13","2009-10-14","2009-10-15","2009-10-16","2009-10-17","2009-10-18","2009-10-19","2009-10-20","2009-10-21","2009-10-22","2009-10-23","2009-10-24","2009-10-25","2009-10-26","2009-10-27","2009-10-28","2009-10-29","2009-10-30","2009-10-31","2009-11-01","2009-11-02","2009-11-03","2009-11-04","2009-11-05","2009-11-06","2009-11-07","2009-11-08","2009-11-09","2009-11-10","2009-11-11","2009-11-12","2009-11-13","2009-11-14","2009-11-15","2009-11-16","2009-11-17","2009-11-18","2009-11-19","2009-11-20","2009-11-21","2009-11-22","2009-11-23","2009-11-24","2009-11-25","2009-11-26","2009-11-27","2009-11-28","2009-11-29","2009-11-30","2009-12-01","2009-12-02","2009-12-03","2009-12-04","2009-12-05","2009-12-06","2009-12-07","2009-12-08","2009-12-09","2009-12-10","2009-12-11","2009-12-12","2009-12-13","2009-12-14","2009-12-15","2009-12-16","2009-12-17","2009-12-18","2009-12-19","2009-12-20","2009-12-21","2009-12-22","2009-12-23","2009-12-24","2009-12-25","2009-12-26","2009-12-27","2009-12-28","2009-12-29","2009-12-30","2009-12-31","2010-01-01","2010-01-02","2010-01-03","2010-01-04","2010-01-05","2010-01-06","2010-01-07","2010-01-08","2010-01-09","2010-01-10","2010-01-11","2010-01-12","2010-01-13","2010-01-14","2010-01-15","2010-01-16","2010-01-17","2010-01-18","2010-01-19","2010-01-20","2010-01-21","2010-01-22","2010-01-23","2010-01-24","2010-01-25","2010-01-26","2010-01-27","2010-01-28","2010-01-29","2010-01-30","2010-01-31","2010-02-01","2010-02-02","2010-02-03","2010-02-04","2010-02-05","2010-02-06","2010-02-07","2010-02-08","2010-02-09","2010-02-10","2010-02-11","2010-02-12","2010-02-13","2010-02-14","2010-02-15","2010-02-16","2010-02-17","2010-02-18","2010-02-19","2010-02-20","2010-02-21","2010-02-22","2010-02-23","2010-02-24","2010-02-25","2010-02-26","2010-02-27","2010-02-28","2010-03-01","2010-03-02","2010-03-03","2010-03-04","2010-03-05","2010-03-06","2010-03-07","2010-03-08","2010-03-09","2010-03-10","2010-03-11","2010-03-12","2010-03-13","2010-03-14","2010-03-15","2010-03-16","2010-03-17","2010-03-18","2010-03-19","2010-03-20","2010-03-21","2010-03-22","2010-03-23","2010-03-24","2010-03-25","2010-03-26","2010-03-27","2010-03-28","2010-03-29","2010-03-30","2010-03-31","2010-04-01","2010-04-02","2010-04-03","2010-04-04","2010-04-05","2010-04-06","2010-04-07","2010-04-08","2010-04-09","2010-04-10","2010-04-11","2010-04-12","2010-04-13","2010-04-14","2010-04-15","2010-04-16","2010-04-17","2010-04-18","2010-04-19","2010-04-20","2010-04-21","2010-04-22","2010-04-23","2010-04-24","2010-04-25","2010-04-26","2010-04-27","2010-04-28","2010-04-29","2010-04-30","2010-05-01","2010-05-02","2010-05-03","2010-05-04","2010-05-05","2010-05-06","2010-05-07","2010-05-08","2010-05-09","2010-05-10","2010-05-11","2010-05-12","2010-05-13","2010-05-14","2010-05-15","2010-05-16","2010-05-17","2010-05-18","2010-05-19","2010-05-20","2010-05-21","2010-05-22","2010-05-23","2010-05-24","2010-05-25","2010-05-26","2010-05-27","2010-05-28","2010-05-29","2010-05-30","2010-05-31","2010-06-01","2010-06-02","2010-06-03","2010-06-04","2010-06-05","2010-06-06","2010-06-07","2010-06-08","2010-06-09","2010-06-10","2010-06-11","2010-06-12","2010-06-13","2010-06-14","2010-06-15","2010-06-16","2010-06-17","2010-06-18","2010-06-19","2010-06-20","2010-06-21","2010-06-22","2010-06-23","2010-06-24","2010-06-25","2010-06-26","2010-06-27","2010-06-28","2010-06-29","2010-06-30","2010-07-01","2010-07-02","2010-07-03","2010-07-04","2010-07-05","2010-07-06","2010-07-07","2010-07-08","2010-07-09","2010-07-10","2010-07-11","2010-07-12","2010-07-13","2010-07-14","2010-07-15","2010-07-16","2010-07-17","2010-07-18","2010-07-19","2010-07-20","2010-07-21","2010-07-22","2010-07-23","2010-07-24","2010-07-25","2010-07-26","2010-07-27","2010-07-28","2010-07-29","2010-07-30","2010-07-31","2010-08-01","2010-08-02","2010-08-03","2010-08-04","2010-08-05","2010-08-06","2010-08-07","2010-08-08","2010-08-09","2010-08-10","2010-08-11","2010-08-12","2010-08-13","2010-08-14","2010-08-15","2010-08-16","2010-08-17","2010-08-18","2010-08-19","2010-08-20","2010-08-21","2010-08-22","2010-08-23","2010-08-24","2010-08-25","2010-08-26","2010-08-27","2010-08-28","2010-08-29","2010-08-30","2010-08-31","2010-09-01","2010-09-02","2010-09-03","2010-09-04","2010-09-05","2010-09-06","2010-09-07","2010-09-08","2010-09-09","2010-09-10","2010-09-11","2010-09-12","2010-09-13","2010-09-14","2010-09-15","2010-09-16","2010-09-17","2010-09-18","2010-09-19","2010-09-20","2010-09-21","2010-09-22","2010-09-23","2010-09-24","2010-09-25","2010-09-26","2010-09-27","2010-09-28","2010-09-29","2010-09-30","2010-10-01","2010-10-02","2010-10-03","2010-10-04","2010-10-05","2010-10-06","2010-10-07","2010-10-08","2010-10-09","2010-10-10","2010-10-11","2010-10-12","2010-10-13","2010-10-14","2010-10-15","2010-10-16","2010-10-17","2010-10-18","2010-10-19","2010-10-20","2010-10-21","2010-10-22","2010-10-23","2010-10-24","2010-10-25","2010-10-26","2010-10-27","2010-10-28","2010-10-29","2010-10-30","2010-10-31","2010-11-01","2010-11-02","2010-11-03","2010-11-04","2010-11-05","2010-11-06","2010-11-07","2010-11-08","2010-11-09","2010-11-10","2010-11-11","2010-11-12","2010-11-13","2010-11-14","2010-11-15","2010-11-16","2010-11-17","2010-11-18","2010-11-19","2010-11-20","2010-11-21","2010-11-22","2010-11-23","2010-11-24","2010-11-25","2010-11-26","2010-11-27","2010-11-28","2010-11-29","2010-11-30","2010-12-01","2010-12-02","2010-12-03","2010-12-04","2010-12-05","2010-12-06","2010-12-07","2010-12-08","2010-12-09","2010-12-10","2010-12-11","2010-12-12","2010-12-13","2010-12-14","2010-12-15","2010-12-16","2010-12-17","2010-12-18","2010-12-19","2010-12-20","2010-12-21","2010-12-22","2010-12-23","2010-12-24","2010-12-25","2010-12-26","2010-12-27","2010-12-28","2010-12-29","2010-12-30","2010-12-31","2011-01-01","2011-01-02","2011-01-03","2011-01-04","2011-01-05","2011-01-06","2011-01-07","2011-01-08","2011-01-09","2011-01-10","2011-01-11","2011-01-12","2011-01-13","2011-01-14","2011-01-15","2011-01-16","2011-01-17","2011-01-18","2011-01-19","2011-01-20","2011-01-21","2011-01-22","2011-01-23","2011-01-24","2011-01-25","2011-01-26","2011-01-27","2011-01-28","2011-01-29","2011-01-30","2011-01-31","2011-02-01","2011-02-02","2011-02-03","2011-02-04","2011-02-05","2011-02-06","2011-02-07","2011-02-08","2011-02-09","2011-02-10","2011-02-11","2011-02-12","2011-02-13","2011-02-14","2011-02-15","2011-02-16","2011-02-17","2011-02-18","2011-02-19","2011-02-20","2011-02-21","2011-02-22","2011-02-23","2011-02-24","2011-02-25","2011-02-26","2011-02-27","2011-02-28","2011-03-01","2011-03-02","2011-03-03","2011-03-04","2011-03-05","2011-03-06","2011-03-07","2011-03-08","2011-03-09","2011-03-10","2011-03-11","2011-03-12","2011-03-13","2011-03-14","2011-03-15","2011-03-16","2011-03-17","2011-03-18","2011-03-19","2011-03-20","2011-03-21","2011-03-22","2011-03-23","2011-03-24","2011-03-25","2011-03-26","2011-03-27","2011-03-28","2011-03-29","2011-03-30","2011-03-31","2011-04-01","2011-04-02","2011-04-03","2011-04-04","2011-04-05","2011-04-06","2011-04-07","2011-04-08","2011-04-09","2011-04-10","2011-04-11","2011-04-12","2011-04-13","2011-04-14","2011-04-15","2011-04-16","2011-04-17","2011-04-18","2011-04-19","2011-04-20","2011-04-21","2011-04-22","2011-04-23","2011-04-24","2011-04-25","2011-04-26","2011-04-27","2011-04-28","2011-04-29","2011-04-30","2011-05-01","2011-05-02","2011-05-03","2011-05-04","2011-05-05","2011-05-06","2011-05-07","2011-05-08","2011-05-09","2011-05-10","2011-05-11","2011-05-12","2011-05-13","2011-05-14","2011-05-15","2011-05-16","2011-05-17","2011-05-18","2011-05-19","2011-05-20","2011-05-21","2011-05-22","2011-05-23","2011-05-24","2011-05-25","2011-05-26","2011-05-27","2011-05-28","2011-05-29","2011-05-30","2011-05-31","2011-06-01","2011-06-02","2011-06-03","2011-06-04","2011-06-05","2011-06-06","2011-06-07","2011-06-08","2011-06-09","2011-06-10","2011-06-11","2011-06-12","2011-06-13","2011-06-14","2011-06-15","2011-06-16","2011-06-17","2011-06-18","2011-06-19","2011-06-20","2011-06-21","2011-06-22","2011-06-23","2011-06-24","2011-06-25","2011-06-26","2011-06-27","2011-06-28","2011-06-29","2011-06-30","2011-07-01","2011-07-02","2011-07-03","2011-07-04","2011-07-05","2011-07-06","2011-07-07","2011-07-08","2011-07-09","2011-07-10","2011-07-11","2011-07-12","2011-07-13","2011-07-14","2011-07-15","2011-07-16","2011-07-17","2011-07-18","2011-07-19","2011-07-20","2011-07-21","2011-07-22","2011-07-23","2011-07-24","2011-07-25","2011-07-26","2011-07-27","2011-07-28","2011-07-29","2011-07-30","2011-07-31","2011-08-01","2011-08-02","2011-08-03","2011-08-04","2011-08-05","2011-08-06","2011-08-07","2011-08-08","2011-08-09","2011-08-10","2011-08-11","2011-08-12","2011-08-13","2011-08-14","2011-08-15","2011-08-16","2011-08-17","2011-08-18","2011-08-19","2011-08-20","2011-08-21","2011-08-22","2011-08-23","2011-08-24","2011-08-25","2011-08-26","2011-08-27","2011-08-28","2011-08-29","2011-08-30","2011-08-31","2011-09-01","2011-09-02","2011-09-03","2011-09-04","2011-09-05","2011-09-06","2011-09-07","2011-09-08","2011-09-09","2011-09-10","2011-09-11","2011-09-12","2011-09-13","2011-09-14","2011-09-15","2011-09-16","2011-09-17","2011-09-18","2011-09-19","2011-09-20","2011-09-21","2011-09-22","2011-09-23","2011-09-24","2011-09-25","2011-09-26","2011-09-27","2011-09-28","2011-09-29","2011-09-30","2011-10-01","2011-10-02","2011-10-03","2011-10-04","2011-10-05","2011-10-06","2011-10-07","2011-10-08","2011-10-09","2011-10-10","2011-10-11","2011-10-12","2011-10-13","2011-10-14","2011-10-15","2011-10-16","2011-10-17","2011-10-18","2011-10-19","2011-10-20","2011-10-21","2011-10-22","2011-10-23","2011-10-24","2011-10-25","2011-10-26","2011-10-27","2011-10-28","2011-10-29","2011-10-30","2011-10-31","2011-11-01","2011-11-02","2011-11-03","2011-11-04","2011-11-05","2011-11-06","2011-11-07","2011-11-08","2011-11-09","2011-11-10","2011-11-11","2011-11-12","2011-11-13","2011-11-14","2011-11-15","2011-11-16","2011-11-17","2011-11-18","2011-11-19","2011-11-20","2011-11-21","2011-11-22","2011-11-23","2011-11-24","2011-11-25","2011-11-26","2011-11-27","2011-11-28","2011-11-29","2011-11-30","2011-12-01","2011-12-02","2011-12-03","2011-12-04","2011-12-05","2011-12-06","2011-12-07","2011-12-08","2011-12-09","2011-12-10","2011-12-11","2011-12-12","2011-12-13","2011-12-14","2011-12-15","2011-12-16","2011-12-17","2011-12-18","2011-12-19","2011-12-20","2011-12-21","2011-12-22","2011-12-23","2011-12-24","2011-12-25","2011-12-26","2011-12-27","2011-12-28","2011-12-29","2011-12-30","2011-12-31","2012-01-01","2012-01-02","2012-01-03","2012-01-04","2012-01-05","2012-01-06","2012-01-07","2012-01-08","2012-01-09","2012-01-10","2012-01-11","2012-01-12","2012-01-13","2012-01-14","2012-01-15","2012-01-16","2012-01-17","2012-01-18","2012-01-19","2012-01-20","2012-01-21","2012-01-22","2012-01-23","2012-01-24","2012-01-25","2012-01-26","2012-01-27","2012-01-28","2012-01-29","2012-01-30","2012-01-31","2012-02-01","2012-02-02","2012-02-03","2012-02-04","2012-02-05","2012-02-06","2012-02-07","2012-02-08","2012-02-09","2012-02-10","2012-02-11","2012-02-12","2012-02-13","2012-02-14","2012-02-15","2012-02-16","2012-02-17","2012-02-18","2012-02-19","2012-02-20","2012-02-21","2012-02-22","2012-02-23","2012-02-24","2012-02-25","2012-02-26","2012-02-27","2012-02-28","2012-02-29","2012-03-01","2012-03-02","2012-03-03","2012-03-04","2012-03-05","2012-03-06","2012-03-07","2012-03-08","2012-03-09","2012-03-10","2012-03-11","2012-03-12","2012-03-13","2012-03-14","2012-03-15","2012-03-16","2012-03-17","2012-03-18","2012-03-19","2012-03-20","2012-03-21","2012-03-22","2012-03-23","2012-03-24","2012-03-25","2012-03-26","2012-03-27","2012-03-28","2012-03-29","2012-03-30","2012-03-31","2012-04-01","2012-04-02","2012-04-03","2012-04-04","2012-04-05","2012-04-06","2012-04-07","2012-04-08","2012-04-09","2012-04-10","2012-04-11","2012-04-12","2012-04-13","2012-04-14","2012-04-15","2012-04-16","2012-04-17","2012-04-18","2012-04-19","2012-04-20","2012-04-21","2012-04-22","2012-04-23","2012-04-24","2012-04-25","2012-04-26","2012-04-27","2012-04-28","2012-04-29","2012-04-30","2012-05-01","2012-05-02","2012-05-03","2012-05-04","2012-05-05","2012-05-06","2012-05-07","2012-05-08","2012-05-09","2012-05-10","2012-05-11","2012-05-12","2012-05-13","2012-05-14","2012-05-15","2012-05-16","2012-05-17","2012-05-18","2012-05-19","2012-05-20","2012-05-21","2012-05-22","2012-05-23","2012-05-24","2012-05-25","2012-05-26","2012-05-27","2012-05-28","2012-05-29","2012-05-30","2012-05-31","2012-06-01","2012-06-02","2012-06-03","2012-06-04","2012-06-05","2012-06-06","2012-06-07","2012-06-08","2012-06-09","2012-06-10","2012-06-11","2012-06-12","2012-06-13","2012-06-14","2012-06-15","2012-06-16","2012-06-17","2012-06-18","2012-06-19","2012-06-20","2012-06-21","2012-06-22","2012-06-23","2012-06-24","2012-06-25","2012-06-26","2012-06-27","2012-06-28","2012-06-29","2012-06-30","2012-07-01","2012-07-02","2012-07-03","2012-07-04","2012-07-05","2012-07-06","2012-07-07","2012-07-08","2012-07-09","2012-07-10","2012-07-11","2012-07-12","2012-07-13","2012-07-14","2012-07-15","2012-07-16","2012-07-17","2012-07-18","2012-07-19","2012-07-20","2012-07-21","2012-07-22","2012-07-23","2012-07-24","2012-07-25","2012-07-26","2012-07-27","2012-07-28","2012-07-29","2012-07-30","2012-07-31","2012-08-01","2012-08-02","2012-08-03","2012-08-04","2012-08-05","2012-08-06","2012-08-07","2012-08-08","2012-08-09","2012-08-10","2012-08-11","2012-08-12","2012-08-13","2012-08-14","2012-08-15","2012-08-16","2012-08-17","2012-08-18","2012-08-19","2012-08-20","2012-08-21","2012-08-22","2012-08-23","2012-08-24","2012-08-25","2012-08-26","2012-08-27","2012-08-28","2012-08-29","2012-08-30","2012-08-31","2012-09-01","2012-09-02","2012-09-03","2012-09-04","2012-09-05","2012-09-06","2012-09-07","2012-09-08","2012-09-09","2012-09-10","2012-09-11","2012-09-12","2012-09-13","2012-09-14","2012-09-15","2012-09-16","2012-09-17","2012-09-18","2012-09-19","2012-09-20","2012-09-21","2012-09-22","2012-09-23","2012-09-24","2012-09-25","2012-09-26","2012-09-27","2012-09-28","2012-09-29","2012-09-30","2012-10-01","2012-10-02","2012-10-03","2012-10-04","2012-10-05","2012-10-06","2012-10-07","2012-10-08","2012-10-09","2012-10-10","2012-10-11","2012-10-12","2012-10-13","2012-10-14","2012-10-15","2012-10-16","2012-10-17","2012-10-18","2012-10-19","2012-10-20","2012-10-21","2012-10-22","2012-10-23","2012-10-24","2012-10-25","2012-10-26","2012-10-27","2012-10-28","2012-10-29","2012-10-30","2012-10-31","2012-11-01","2012-11-02","2012-11-03","2012-11-04","2012-11-05","2012-11-06","2012-11-07","2012-11-08","2012-11-09","2012-11-10","2012-11-11","2012-11-12","2012-11-13","2012-11-14","2012-11-15","2012-11-16","2012-11-17","2012-11-18","2012-11-19","2012-11-20","2012-11-21","2012-11-22","2012-11-23","2012-11-24","2012-11-25","2012-11-26","2012-11-27","2012-11-28","2012-11-29","2012-11-30","2012-12-01","2012-12-02","2012-12-03","2012-12-04","2012-12-05","2012-12-06","2012-12-07","2012-12-08","2012-12-09","2012-12-10","2012-12-11","2012-12-12","2012-12-13","2012-12-14","2012-12-15","2012-12-16","2012-12-17","2012-12-18","2012-12-19","2012-12-20","2012-12-21","2012-12-22","2012-12-23","2012-12-24","2012-12-25","2012-12-26","2012-12-27","2012-12-28","2012-12-29","2012-12-30","2012-12-31","2013-01-01","2013-01-02","2013-01-03","2013-01-04","2013-01-05","2013-01-06","2013-01-07","2013-01-08","2013-01-09","2013-01-10","2013-01-11","2013-01-12","2013-01-13","2013-01-14","2013-01-15","2013-01-16","2013-01-17","2013-01-18","2013-01-19","2013-01-20","2013-01-21","2013-01-22","2013-01-23","2013-01-24","2013-01-25","2013-01-26","2013-01-27","2013-01-28","2013-01-29","2013-01-30","2013-01-31","2013-02-01","2013-02-02","2013-02-03","2013-02-04","2013-02-05","2013-02-06","2013-02-07","2013-02-08","2013-02-09","2013-02-10","2013-02-11","2013-02-12","2013-02-13","2013-02-14","2013-02-15","2013-02-16","2013-02-17","2013-02-18","2013-02-19","2013-02-20","2013-02-21","2013-02-22","2013-02-23","2013-02-24","2013-02-25","2013-02-26","2013-02-27","2013-02-28","2013-03-01","2013-03-02","2013-03-03","2013-03-04","2013-03-05","2013-03-06","2013-03-07","2013-03-08","2013-03-09","2013-03-10","2013-03-11","2013-03-12","2013-03-13","2013-03-14","2013-03-15","2013-03-16","2013-03-17","2013-03-18","2013-03-19","2013-03-20","2013-03-21","2013-03-22","2013-03-23","2013-03-24","2013-03-25","2013-03-26","2013-03-27","2013-03-28","2013-03-29","2013-03-30","2013-03-31","2013-04-01","2013-04-02","2013-04-03","2013-04-04","2013-04-05","2013-04-06","2013-04-07","2013-04-08","2013-04-09","2013-04-10","2013-04-11","2013-04-12","2013-04-13","2013-04-14","2013-04-15","2013-04-16","2013-04-17","2013-04-18","2013-04-19","2013-04-20","2013-04-21","2013-04-22","2013-04-23","2013-04-24","2013-04-25","2013-04-26","2013-04-27","2013-04-28","2013-04-29","2013-04-30","2013-05-01","2013-05-02","2013-05-03","2013-05-04","2013-05-05","2013-05-06","2013-05-07","2013-05-08","2013-05-09","2013-05-10","2013-05-11","2013-05-12","2013-05-13","2013-05-14","2013-05-15","2013-05-16","2013-05-17","2013-05-18","2013-05-19","2013-05-20","2013-05-21","2013-05-22","2013-05-23","2013-05-24","2013-05-25","2013-05-26","2013-05-27","2013-05-28","2013-05-29","2013-05-30","2013-05-31","2013-06-01","2013-06-02","2013-06-03","2013-06-04","2013-06-05","2013-06-06","2013-06-07","2013-06-08","2013-06-09","2013-06-10","2013-06-11","2013-06-12","2013-06-13","2013-06-14","2013-06-15","2013-06-16","2013-06-17","2013-06-18","2013-06-19","2013-06-20","2013-06-21","2013-06-22","2013-06-23","2013-06-24","2013-06-25","2013-06-26","2013-06-27","2013-06-28","2013-06-29","2013-06-30","2013-07-01","2013-07-02","2013-07-03","2013-07-04","2013-07-05","2013-07-06","2013-07-07","2013-07-08","2013-07-09","2013-07-10","2013-07-11","2013-07-12","2013-07-13","2013-07-14","2013-07-15","2013-07-16","2013-07-17","2013-07-18","2013-07-19","2013-07-20","2013-07-21","2013-07-22","2013-07-23","2013-07-24","2013-07-25","2013-07-26","2013-07-27","2013-07-28","2013-07-29","2013-07-30","2013-07-31","2013-08-01","2013-08-02","2013-08-03","2013-08-04","2013-08-05","2013-08-06","2013-08-07","2013-08-08","2013-08-09","2013-08-10","2013-08-11","2013-08-12","2013-08-13","2013-08-14","2013-08-15","2013-08-16","2013-08-17","2013-08-18","2013-08-19","2013-08-20","2013-08-21","2013-08-22","2013-08-23","2013-08-24","2013-08-25","2013-08-26","2013-08-27","2013-08-28","2013-08-29","2013-08-30","2013-08-31","2013-09-01","2013-09-02","2013-09-03","2013-09-04","2013-09-05","2013-09-06","2013-09-07","2013-09-08","2013-09-09","2013-09-10","2013-09-11","2013-09-12","2013-09-13","2013-09-14","2013-09-15","2013-09-16","2013-09-17","2013-09-18","2013-09-19","2013-09-20","2013-09-21","2013-09-22","2013-09-23","2013-09-24","2013-09-25","2013-09-26","2013-09-27","2013-09-28","2013-09-29","2013-09-30","2013-10-01","2013-10-02","2013-10-03","2013-10-04","2013-10-05","2013-10-06","2013-10-07","2013-10-08","2013-10-09","2013-10-10","2013-10-11","2013-10-12","2013-10-13","2013-10-14","2013-10-15","2013-10-16","2013-10-17","2013-10-18","2013-10-19","2013-10-20","2013-10-21","2013-10-22","2013-10-23","2013-10-24","2013-10-25","2013-10-26","2013-10-27","2013-10-28","2013-10-29","2013-10-30","2013-10-31","2013-11-01","2013-11-02","2013-11-03","2013-11-04","2013-11-05","2013-11-06","2013-11-07","2013-11-08","2013-11-09","2013-11-10","2013-11-11","2013-11-12","2013-11-13","2013-11-14","2013-11-15","2013-11-16","2013-11-17","2013-11-18","2013-11-19","2013-11-20","2013-11-21","2013-11-22","2013-11-23","2013-11-24","2013-11-25","2013-11-26","2013-11-27","2013-11-28","2013-11-29","2013-11-30","2013-12-01","2013-12-02","2013-12-03","2013-12-04","2013-12-05","2013-12-06","2013-12-07","2013-12-08","2013-12-09","2013-12-10","2013-12-11","2013-12-12","2013-12-13","2013-12-14","2013-12-15","2013-12-16","2013-12-17","2013-12-18","2013-12-19","2013-12-20","2013-12-21","2013-12-22","2013-12-23","2013-12-24","2013-12-25","2013-12-26","2013-12-27","2013-12-28","2013-12-29","2013-12-30","2013-12-31","2014-01-01","2014-01-02","2014-01-03","2014-01-04","2014-01-05","2014-01-06","2014-01-07","2014-01-08","2014-01-09","2014-01-10","2014-01-11","2014-01-12","2014-01-13","2014-01-14","2014-01-15","2014-01-16","2014-01-17","2014-01-18","2014-01-19","2014-01-20","2014-01-21","2014-01-22","2014-01-23","2014-01-24","2014-01-25","2014-01-26","2014-01-27","2014-01-28","2014-01-29","2014-01-30","2014-01-31","2014-02-01","2014-02-02","2014-02-03","2014-02-04","2014-02-05","2014-02-06","2014-02-07","2014-02-08","2014-02-09","2014-02-10","2014-02-11","2014-02-12","2014-02-13","2014-02-14","2014-02-15","2014-02-16","2014-02-17","2014-02-18","2014-02-19","2014-02-20","2014-02-21","2014-02-22","2014-02-23","2014-02-24","2014-02-25","2014-02-26","2014-02-27","2014-02-28","2014-03-01","2014-03-02","2014-03-03","2014-03-04","2014-03-05","2014-03-06","2014-03-07","2014-03-08","2014-03-09","2014-03-10","2014-03-11","2014-03-12","2014-03-13","2014-03-14","2014-03-15","2014-03-16","2014-03-17","2014-03-18","2014-03-19","2014-03-20","2014-03-21","2014-03-22","2014-03-23","2014-03-24","2014-03-25","2014-03-26","2014-03-27","2014-03-28","2014-03-29","2014-03-30","2014-03-31","2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-05","2014-04-06","2014-04-07","2014-04-08","2014-04-09","2014-04-10","2014-04-11","2014-04-12","2014-04-13","2014-04-14","2014-04-15","2014-04-16","2014-04-17","2014-04-18","2014-04-19","2014-04-20","2014-04-21","2014-04-22","2014-04-23","2014-04-24","2014-04-25","2014-04-26","2014-04-27","2014-04-28","2014-04-29","2014-04-30","2014-05-01","2014-05-02","2014-05-03","2014-05-04","2014-05-05","2014-05-06","2014-05-07","2014-05-08","2014-05-09","2014-05-10","2014-05-11","2014-05-12","2014-05-13","2014-05-14","2014-05-15","2014-05-16","2014-05-17","2014-05-18","2014-05-19","2014-05-20","2014-05-21","2014-05-22","2014-05-23","2014-05-24","2014-05-25","2014-05-26","2014-05-27","2014-05-28","2014-05-29","2014-05-30","2014-05-31","2014-06-01","2014-06-02","2014-06-03","2014-06-04","2014-06-05","2014-06-06","2014-06-07","2014-06-08","2014-06-09","2014-06-10","2014-06-11","2014-06-12","2014-06-13","2014-06-14","2014-06-15","2014-06-16","2014-06-17","2014-06-18","2014-06-19","2014-06-20","2014-06-21","2014-06-22","2014-06-23","2014-06-24","2014-06-25","2014-06-26","2014-06-27","2014-06-28","2014-06-29","2014-06-30","2014-07-01","2014-07-02","2014-07-03","2014-07-04","2014-07-05","2014-07-06","2014-07-07","2014-07-08","2014-07-09","2014-07-10","2014-07-11","2014-07-12","2014-07-13","2014-07-14","2014-07-15","2014-07-16","2014-07-17","2014-07-18","2014-07-19","2014-07-20","2014-07-21","2014-07-22","2014-07-23","2014-07-24","2014-07-25","2014-07-26","2014-07-27","2014-07-28","2014-07-29","2014-07-30","2014-07-31","2014-08-01","2014-08-02","2014-08-03","2014-08-04","2014-08-05","2014-08-06","2014-08-07","2014-08-08","2014-08-09","2014-08-10","2014-08-11","2014-08-12","2014-08-13","2014-08-14","2014-08-15","2014-08-16","2014-08-17","2014-08-18","2014-08-19","2014-08-20","2014-08-21","2014-08-22","2014-08-23","2014-08-24","2014-08-25","2014-08-26","2014-08-27","2014-08-28","2014-08-29","2014-08-30","2014-08-31","2014-09-01","2014-09-02","2014-09-03","2014-09-04","2014-09-05","2014-09-06","2014-09-07","2014-09-08","2014-09-09","2014-09-10","2014-09-11","2014-09-12","2014-09-13","2014-09-14","2014-09-15","2014-09-16","2014-09-17","2014-09-18","2014-09-19","2014-09-20","2014-09-21","2014-09-22","2014-09-23","2014-09-24","2014-09-25","2014-09-26","2014-09-27","2014-09-28","2014-09-29","2014-09-30","2014-10-01","2014-10-02","2014-10-03","2014-10-04","2014-10-05","2014-10-06","2014-10-07","2014-10-08","2014-10-09","2014-10-10","2014-10-11","2014-10-12","2014-10-13","2014-10-14","2014-10-15","2014-10-16","2014-10-17","2014-10-18","2014-10-19","2014-10-20","2014-10-21","2014-10-22","2014-10-23","2014-10-24","2014-10-25","2014-10-26","2014-10-27","2014-10-28","2014-10-29","2014-10-30","2014-10-31","2014-11-01","2014-11-02","2014-11-03","2014-11-04","2014-11-05","2014-11-06","2014-11-07","2014-11-08","2014-11-09","2014-11-10","2014-11-11","2014-11-12","2014-11-13","2014-11-14","2014-11-15","2014-11-16","2014-11-17","2014-11-18","2014-11-19","2014-11-20","2014-11-21","2014-11-22","2014-11-23","2014-11-24","2014-11-25","2014-11-26","2014-11-27","2014-11-28","2014-11-29","2014-11-30","2014-12-01","2014-12-02","2014-12-03","2014-12-04","2014-12-05","2014-12-06","2014-12-07","2014-12-08","2014-12-09","2014-12-10","2014-12-11","2014-12-12","2014-12-13","2014-12-14","2014-12-15","2014-12-16","2014-12-17","2014-12-18","2014-12-19","2014-12-20","2014-12-21","2014-12-22","2014-12-23","2014-12-24","2014-12-25","2014-12-26","2014-12-27","2014-12-28","2014-12-29","2014-12-30","2014-12-31","2015-01-01","2015-01-02","2015-01-03","2015-01-04","2015-01-05","2015-01-06","2015-01-07","2015-01-08","2015-01-09","2015-01-10","2015-01-11","2015-01-12","2015-01-13","2015-01-14","2015-01-15","2015-01-16","2015-01-17","2015-01-18","2015-01-19","2015-01-20","2015-01-21","2015-01-22","2015-01-23","2015-01-24","2015-01-25","2015-01-26","2015-01-27","2015-01-28","2015-01-29","2015-01-30","2015-01-31","2015-02-01","2015-02-02","2015-02-03","2015-02-04","2015-02-05","2015-02-06","2015-02-07","2015-02-08","2015-02-09","2015-02-10","2015-02-11","2015-02-12","2015-02-13","2015-02-14","2015-02-15","2015-02-16","2015-02-17","2015-02-18","2015-02-19","2015-02-20","2015-02-21","2015-02-22","2015-02-23","2015-02-24","2015-02-25","2015-02-26","2015-02-27","2015-02-28","2015-03-01","2015-03-02","2015-03-03","2015-03-04","2015-03-05","2015-03-06","2015-03-07","2015-03-08","2015-03-09","2015-03-10","2015-03-11","2015-03-12","2015-03-13","2015-03-14","2015-03-15","2015-03-16","2015-03-17","2015-03-18","2015-03-19","2015-03-20","2015-03-21","2015-03-22","2015-03-23","2015-03-24","2015-03-25","2015-03-26","2015-03-27","2015-03-28","2015-03-29","2015-03-30","2015-03-31","2015-04-01","2015-04-02","2015-04-03","2015-04-04","2015-04-05","2015-04-06","2015-04-07","2015-04-08","2015-04-09","2015-04-10","2015-04-11","2015-04-12","2015-04-13","2015-04-14","2015-04-15","2015-04-16","2015-04-17","2015-04-18","2015-04-19","2015-04-20","2015-04-21","2015-04-22","2015-04-23","2015-04-24","2015-04-25","2015-04-26","2015-04-27","2015-04-28","2015-04-29","2015-04-30","2015-05-01","2015-05-02","2015-05-03","2015-05-04","2015-05-05","2015-05-06","2015-05-07","2015-05-08","2015-05-09","2015-05-10","2015-05-11","2015-05-12","2015-05-13","2015-05-14","2015-05-15","2015-05-16","2015-05-17","2015-05-18","2015-05-19","2015-05-20","2015-05-21","2015-05-22","2015-05-23","2015-05-24","2015-05-25","2015-05-26","2015-05-27","2015-05-28","2015-05-29","2015-05-30","2015-05-31","2015-06-01","2015-06-02","2015-06-03","2015-06-04","2015-06-05","2015-06-06","2015-06-07","2015-06-08","2015-06-09","2015-06-10","2015-06-11","2015-06-12","2015-06-13","2015-06-14","2015-06-15","2015-06-16","2015-06-17","2015-06-18","2015-06-19","2015-06-20","2015-06-21","2015-06-22","2015-06-23","2015-06-24","2015-06-25","2015-06-26","2015-06-27","2015-06-28","2015-06-29","2015-06-30","2015-07-01","2015-07-02","2015-07-03","2015-07-04","2015-07-05","2015-07-06","2015-07-07","2015-07-08","2015-07-09","2015-07-10","2015-07-11","2015-07-12","2015-07-13","2015-07-14","2015-07-15","2015-07-16","2015-07-17","2015-07-18","2015-07-19","2015-07-20","2015-07-21","2015-07-22","2015-07-23","2015-07-24","2015-07-25","2015-07-26","2015-07-27","2015-07-28","2015-07-29","2015-07-30","2015-07-31","2015-08-01","2015-08-02","2015-08-03","2015-08-04","2015-08-05","2015-08-06","2015-08-07","2015-08-08","2015-08-09","2015-08-10","2015-08-11","2015-08-12","2015-08-13","2015-08-14","2015-08-15","2015-08-16","2015-08-17","2015-08-18","2015-08-19","2015-08-20","2015-08-21","2015-08-22","2015-08-23","2015-08-24","2015-08-25","2015-08-26","2015-08-27","2015-08-28","2015-08-29","2015-08-30","2015-08-31","2015-09-01","2015-09-02","2015-09-03","2015-09-04","2015-09-05","2015-09-06","2015-09-07","2015-09-08","2015-09-09","2015-09-10","2015-09-11","2015-09-12","2015-09-13","2015-09-14","2015-09-15","2015-09-16","2015-09-17","2015-09-18","2015-09-19","2015-09-20","2015-09-21","2015-09-22","2015-09-23","2015-09-24","2015-09-25","2015-09-26","2015-09-27","2015-09-28","2015-09-29","2015-09-30","2015-10-01","2015-10-02","2015-10-03","2015-10-04","2015-10-05","2015-10-06","2015-10-07","2015-10-08","2015-10-09","2015-10-10","2015-10-11","2015-10-12","2015-10-13","2015-10-14","2015-10-15","2015-10-16","2015-10-17","2015-10-18","2015-10-19","2015-10-20","2015-10-21","2015-10-22","2015-10-23","2015-10-24","2015-10-25","2015-10-26","2015-10-27","2015-10-28","2015-10-29","2015-10-30","2015-10-31","2015-11-01","2015-11-02","2015-11-03","2015-11-04","2015-11-05","2015-11-06","2015-11-07","2015-11-08","2015-11-09","2015-11-10","2015-11-11","2015-11-12","2015-11-13","2015-11-14","2015-11-15","2015-11-16","2015-11-17","2015-11-18","2015-11-19","2015-11-20","2015-11-21","2015-11-22","2015-11-23","2015-11-24","2015-11-25","2015-11-26","2015-11-27","2015-11-28","2015-11-29","2015-11-30","2015-12-01","2015-12-02","2015-12-03","2015-12-04","2015-12-05","2015-12-06","2015-12-07","2015-12-08","2015-12-09","2015-12-10","2015-12-11","2015-12-12","2015-12-13","2015-12-14","2015-12-15","2015-12-16","2015-12-17","2015-12-18","2015-12-19","2015-12-20","2015-12-21","2015-12-22","2015-12-23","2015-12-24","2015-12-25","2015-12-26","2015-12-27","2015-12-28","2015-12-29","2015-12-30","2015-12-31","2016-01-01","2016-01-02","2016-01-03","2016-01-04","2016-01-05","2016-01-06","2016-01-07","2016-01-08","2016-01-09","2016-01-10","2016-01-11","2016-01-12","2016-01-13","2016-01-14","2016-01-15","2016-01-16","2016-01-17","2016-01-18","2016-01-19","2016-01-20","2016-01-21","2016-01-22","2016-01-23","2016-01-24","2016-01-25","2016-01-26","2016-01-27","2016-01-28","2016-01-29","2016-01-30","2016-01-31","2016-02-01","2016-02-02","2016-02-03","2016-02-04","2016-02-05","2016-02-06","2016-02-07","2016-02-08","2016-02-09","2016-02-10","2016-02-11","2016-02-12","2016-02-13","2016-02-14","2016-02-15","2016-02-16","2016-02-17","2016-02-18","2016-02-19","2016-02-20","2016-02-21","2016-02-22","2016-02-23","2016-02-24","2016-02-25","2016-02-26","2016-02-27","2016-02-28","2016-02-29","2016-03-01","2016-03-02","2016-03-03","2016-03-04","2016-03-05","2016-03-06","2016-03-07","2016-03-08","2016-03-09","2016-03-10","2016-03-11","2016-03-12","2016-03-13","2016-03-14","2016-03-15","2016-03-16","2016-03-17","2016-03-18","2016-03-19","2016-03-20","2016-03-21","2016-03-22","2016-03-23","2016-03-24","2016-03-25","2016-03-26","2016-03-27","2016-03-28","2016-03-29","2016-03-30","2016-03-31","2016-04-01","2016-04-02","2016-04-03","2016-04-04","2016-04-05","2016-04-06","2016-04-07","2016-04-08","2016-04-09","2016-04-10","2016-04-11","2016-04-12","2016-04-13","2016-04-14","2016-04-15","2016-04-16","2016-04-17","2016-04-18","2016-04-19","2016-04-20","2016-04-21","2016-04-22","2016-04-23","2016-04-24","2016-04-25","2016-04-26","2016-04-27","2016-04-28","2016-04-29","2016-04-30","2016-05-01","2016-05-02","2016-05-03","2016-05-04","2016-05-05","2016-05-06","2016-05-07","2016-05-08","2016-05-09","2016-05-10","2016-05-11","2016-05-12","2016-05-13","2016-05-14","2016-05-15","2016-05-16","2016-05-17","2016-05-18","2016-05-19","2016-05-20","2016-05-21","2016-05-22","2016-05-23","2016-05-24","2016-05-25","2016-05-26","2016-05-27","2016-05-28","2016-05-29","2016-05-30","2016-05-31","2016-06-01","2016-06-02","2016-06-03","2016-06-04","2016-06-05","2016-06-06","2016-06-07","2016-06-08","2016-06-09","2016-06-10","2016-06-11","2016-06-12","2016-06-13","2016-06-14","2016-06-15","2016-06-16","2016-06-17","2016-06-18","2016-06-19","2016-06-20","2016-06-21","2016-06-22","2016-06-23","2016-06-24","2016-06-25","2016-06-26","2016-06-27","2016-06-28","2016-06-29","2016-06-30","2016-07-01","2016-07-02","2016-07-03","2016-07-04","2016-07-05","2016-07-06","2016-07-07","2016-07-08","2016-07-09","2016-07-10","2016-07-11","2016-07-12","2016-07-13","2016-07-14","2016-07-15","2016-07-16","2016-07-17","2016-07-18","2016-07-19","2016-07-20","2016-07-21","2016-07-22","2016-07-23","2016-07-24","2016-07-25","2016-07-26","2016-07-27","2016-07-28","2016-07-29","2016-07-30","2016-07-31","2016-08-01","2016-08-02","2016-08-03","2016-08-04","2016-08-05","2016-08-06","2016-08-07","2016-08-08","2016-08-09","2016-08-10","2016-08-11","2016-08-12","2016-08-13","2016-08-14","2016-08-15","2016-08-16","2016-08-17","2016-08-18","2016-08-19","2016-08-20","2016-08-21","2016-08-22","2016-08-23","2016-08-24","2016-08-25","2016-08-26","2016-08-27","2016-08-28","2016-08-29","2016-08-30","2016-08-31","2016-09-01","2016-09-02","2016-09-03","2016-09-04","2016-09-05","2016-09-06","2016-09-07","2016-09-08","2016-09-09","2016-09-10","2016-09-11","2016-09-12","2016-09-13","2016-09-14","2016-09-15","2016-09-16","2016-09-17","2016-09-18","2016-09-19","2016-09-20","2016-09-21","2016-09-22","2016-09-23","2016-09-24","2016-09-25","2016-09-26","2016-09-27","2016-09-28","2016-09-29","2016-09-30","2016-10-01","2016-10-02","2016-10-03","2016-10-04","2016-10-05","2016-10-06","2016-10-07","2016-10-08","2016-10-09","2016-10-10","2016-10-11","2016-10-12","2016-10-13","2016-10-14","2016-10-15","2016-10-16","2016-10-17","2016-10-18","2016-10-19","2016-10-20","2016-10-21","2016-10-22","2016-10-23","2016-10-24","2016-10-25","2016-10-26","2016-10-27","2016-10-28","2016-10-29","2016-10-30","2016-10-31","2016-11-01","2016-11-02","2016-11-03","2016-11-04","2016-11-05","2016-11-06","2016-11-07","2016-11-08","2016-11-09","2016-11-10","2016-11-11","2016-11-12","2016-11-13","2016-11-14","2016-11-15","2016-11-16","2016-11-17","2016-11-18","2016-11-19","2016-11-20","2016-11-21","2016-11-22","2016-11-23","2016-11-24","2016-11-25","2016-11-26","2016-11-27","2016-11-28","2016-11-29","2016-11-30","2016-12-01","2016-12-02","2016-12-03","2016-12-04","2016-12-05","2016-12-06","2016-12-07","2016-12-08","2016-12-09","2016-12-10","2016-12-11","2016-12-12","2016-12-13","2016-12-14","2016-12-15","2016-12-16","2016-12-17","2016-12-18","2016-12-19","2016-12-20","2016-12-21","2016-12-22","2016-12-23","2016-12-24","2016-12-25","2016-12-26","2016-12-27","2016-12-28","2016-12-29","2016-12-30","2016-12-31","2017-01-01","2017-01-02","2017-01-03","2017-01-04","2017-01-05","2017-01-06","2017-01-07","2017-01-08","2017-01-09","2017-01-10","2017-01-11","2017-01-12","2017-01-13","2017-01-14","2017-01-15","2017-01-16","2017-01-17","2017-01-18","2017-01-19","2017-01-20","2017-01-21","2017-01-22","2017-01-23","2017-01-24","2017-01-25","2017-01-26","2017-01-27","2017-01-28","2017-01-29","2017-01-30","2017-01-31","2017-02-01","2017-02-02","2017-02-03","2017-02-04","2017-02-05","2017-02-06","2017-02-07","2017-02-08","2017-02-09","2017-02-10","2017-02-11","2017-02-12","2017-02-13","2017-02-14","2017-02-15","2017-02-16","2017-02-17","2017-02-18","2017-02-19","2017-02-20","2017-02-21","2017-02-22","2017-02-23","2017-02-24","2017-02-25","2017-02-26","2017-02-27","2017-02-28","2017-03-01","2017-03-02","2017-03-03","2017-03-04","2017-03-05","2017-03-06","2017-03-07","2017-03-08","2017-03-09","2017-03-10","2017-03-11","2017-03-12","2017-03-13","2017-03-14","2017-03-15","2017-03-16","2017-03-17","2017-03-18","2017-03-19","2017-03-20","2017-03-21","2017-03-22","2017-03-23","2017-03-24","2017-03-25","2017-03-26","2017-03-27","2017-03-28","2017-03-29","2017-03-30","2017-03-31","2017-04-01","2017-04-02","2017-04-03","2017-04-04","2017-04-05","2017-04-06","2017-04-07","2017-04-08","2017-04-09","2017-04-10","2017-04-11","2017-04-12","2017-04-13","2017-04-14","2017-04-15","2017-04-16","2017-04-17","2017-04-18","2017-04-19","2017-04-20","2017-04-21","2017-04-22","2017-04-23","2017-04-24","2017-04-25","2017-04-26","2017-04-27","2017-04-28","2017-04-29","2017-04-30","2017-05-01","2017-05-02","2017-05-03","2017-05-04","2017-05-05","2017-05-06","2017-05-07","2017-05-08","2017-05-09","2017-05-10","2017-05-11","2017-05-12","2017-05-13","2017-05-14","2017-05-15","2017-05-16","2017-05-17","2017-05-18","2017-05-19","2017-05-20","2017-05-21","2017-05-22","2017-05-23","2017-05-24","2017-05-25","2017-05-26","2017-05-27","2017-05-28","2017-05-29","2017-05-30","2017-05-31","2017-06-01","2017-06-02","2017-06-03","2017-06-04","2017-06-05","2017-06-06","2017-06-07","2017-06-08","2017-06-09","2017-06-10","2017-06-11","2017-06-12","2017-06-13","2017-06-14","2017-06-15","2017-06-16","2017-06-17","2017-06-18","2017-06-19","2017-06-20","2017-06-21","2017-06-22","2017-06-23","2017-06-24","2017-06-25","2017-06-26","2017-06-27","2017-06-28","2017-06-29","2017-06-30","2017-07-01","2017-07-02","2017-07-03","2017-07-04","2017-07-05","2017-07-06","2017-07-07","2017-07-08","2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15","2017-07-16","2017-07-17","2017-07-18","2017-07-19","2017-07-20","2017-07-21","2017-07-22","2017-07-23","2017-07-24","2017-07-25","2017-07-26","2017-07-27","2017-07-28","2017-07-29","2017-07-30","2017-07-31","2017-08-01","2017-08-02","2017-08-03","2017-08-04","2017-08-05","2017-08-06","2017-08-07","2017-08-08","2017-08-09","2017-08-10","2017-08-11","2017-08-12","2017-08-13","2017-08-14","2017-08-15","2017-08-16","2017-08-17","2017-08-18","2017-08-19","2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26","2017-08-27","2017-08-28","2017-08-29","2017-08-30","2017-08-31","2017-09-01","2017-09-02","2017-09-03","2017-09-04","2017-09-05","2017-09-06","2017-09-07","2017-09-08","2017-09-09","2017-09-10","2017-09-11","2017-09-12","2017-09-13","2017-09-14","2017-09-15","2017-09-16","2017-09-17","2017-09-18","2017-09-19","2017-09-20","2017-09-21","2017-09-22","2017-09-23","2017-09-24","2017-09-25","2017-09-26","2017-09-27","2017-09-28","2017-09-29","2017-09-30","2017-10-01","2017-10-02","2017-10-03","2017-10-04","2017-10-05","2017-10-06","2017-10-07","2017-10-08","2017-10-09","2017-10-10","2017-10-11","2017-10-12","2017-10-13","2017-10-14","2017-10-15","2017-10-16","2017-10-17","2017-10-18","2017-10-19","2017-10-20","2017-10-21","2017-10-22","2017-10-23","2017-10-24","2017-10-25","2017-10-26","2017-10-27","2017-10-28","2017-10-29","2017-10-30","2017-10-31","2017-11-01","2017-11-02","2017-11-03","2017-11-04","2017-11-05","2017-11-06","2017-11-07","2017-11-08","2017-11-09","2017-11-10","2017-11-11","2017-11-12","2017-11-13","2017-11-14","2017-11-15","2017-11-16","2017-11-17","2017-11-18","2017-11-19","2017-11-20","2017-11-21","2017-11-22","2017-11-23","2017-11-24","2017-11-25","2017-11-26","2017-11-27","2017-11-28","2017-11-29","2017-11-30","2017-12-01","2017-12-02","2017-12-03","2017-12-04","2017-12-05","2017-12-06","2017-12-07","2017-12-08","2017-12-09","2017-12-10","2017-12-11","2017-12-12","2017-12-13","2017-12-14","2017-12-15","2017-12-16","2017-12-17","2017-12-18","2017-12-19","2017-12-20","2017-12-21","2017-12-22","2017-12-23","2017-12-24","2017-12-25","2017-12-26","2017-12-27","2017-12-28","2017-12-29","2017-12-30","2017-12-31","2018-01-01","2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-06","2018-01-07","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-13","2018-01-14","2018-01-15","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-20","2018-01-21","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-27","2018-01-28","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-03","2018-02-04","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-10","2018-02-11","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-17","2018-02-18","2018-02-19","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-24","2018-02-25","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-03","2018-03-04","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-10","2018-03-11","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-17","2018-03-18","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-24","2018-03-25","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-03-30","2018-03-31","2018-04-01","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-07","2018-04-08","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-14","2018-04-15","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-21","2018-04-22","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-28","2018-04-29","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-05","2018-05-06","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-12","2018-05-13","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-19","2018-05-20","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-26","2018-05-27","2018-05-28","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-02","2018-06-03","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-09","2018-06-10","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-16","2018-06-17","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-23","2018-06-24","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-06-30","2018-07-01","2018-07-02","2018-07-03","2018-07-04","2018-07-05","2018-07-06","2018-07-07","2018-07-08","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-14","2018-07-15","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-21","2018-07-22","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-28","2018-07-29","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-04","2018-08-05","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-11","2018-08-12","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-18","2018-08-19","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-25","2018-08-26","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-01","2018-09-02","2018-09-03","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-08","2018-09-09","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-15","2018-09-16","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-22","2018-09-23","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-09-29","2018-09-30","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-06","2018-10-07","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-13","2018-10-14","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-20","2018-10-21","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-27","2018-10-28","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-03","2018-11-04","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-10","2018-11-11","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-17","2018-11-18","2018-11-19","2018-11-20","2018-11-21","2018-11-22","2018-11-23","2018-11-24","2018-11-25","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-01","2018-12-02","2018-12-03","2018-12-04","2018-12-05","2018-12-06","2018-12-07","2018-12-08","2018-12-09","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-15","2018-12-16","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-22","2018-12-23","2018-12-24","2018-12-25","2018-12-26","2018-12-27","2018-12-28","2018-12-29","2018-12-30","2018-12-31","2019-01-01","2019-01-02","2019-01-03","2019-01-04","2019-01-05","2019-01-06","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-12","2019-01-13","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-19","2019-01-20","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-26","2019-01-27","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-02","2019-02-03","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-09","2019-02-10","2019-02-11","2019-02-12","2019-02-13","2019-02-14","2019-02-15","2019-02-16","2019-02-17","2019-02-18","2019-02-19","2019-02-20","2019-02-21","2019-02-22","2019-02-23","2019-02-24","2019-02-25","2019-02-26","2019-02-27","2019-02-28","2019-03-01","2019-03-02","2019-03-03","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-09","2019-03-10","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-16","2019-03-17","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-23","2019-03-24","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-03-30","2019-03-31","2019-04-01","2019-04-02","2019-04-03","2019-04-04","2019-04-05","2019-04-06","2019-04-07","2019-04-08","2019-04-09","2019-04-10","2019-04-11","2019-04-12","2019-04-13","2019-04-14","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-19","2019-04-20","2019-04-21","2019-04-22","2019-04-23","2019-04-24","2019-04-25","2019-04-26","2019-04-27","2019-04-28","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-04","2019-05-05","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07","2019-06-08","2019-06-09","2019-06-10","2019-06-11","2019-06-12","2019-06-13","2019-06-14","2019-06-15","2019-06-16","2019-06-17","2019-06-18","2019-06-19","2019-06-20","2019-06-21","2019-06-22","2019-06-23","2019-06-24","2019-06-25","2019-06-26","2019-06-27","2019-06-28","2019-06-29","2019-06-30","2019-07-01","2019-07-02","2019-07-03","2019-07-04","2019-07-05","2019-07-06","2019-07-07","2019-07-08","2019-07-09","2019-07-10","2019-07-11","2019-07-12","2019-07-13","2019-07-14","2019-07-15","2019-07-16","2019-07-17","2019-07-18","2019-07-19","2019-07-20","2019-07-21","2019-07-22","2019-07-23","2019-07-24","2019-07-25","2019-07-26","2019-07-27","2019-07-28","2019-07-29","2019-07-30","2019-07-31","2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25","2020-09-26","2020-09-27","2020-09-28","2020-09-29","2020-09-30","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08","2020-10-09","2020-10-10","2020-10-11","2020-10-12","2020-10-13","2020-10-14","2020-10-15","2020-10-16","2020-10-17","2020-10-18","2020-10-19","2020-10-20","2020-10-21","2020-10-22","2020-10-23","2020-10-24","2020-10-25","2020-10-26","2020-10-27","2020-10-28","2020-10-29","2020-10-30","2020-10-31","2020-11-01","2020-11-02","2020-11-03","2020-11-04","2020-11-05","2020-11-06","2020-11-07","2020-11-08","2020-11-09","2020-11-10","2020-11-11","2020-11-12","2020-11-13","2020-11-14","2020-11-15","2020-11-16","2020-11-17","2020-11-18","2020-11-19","2020-11-20","2020-11-21","2020-11-22","2020-11-23","2020-11-24","2020-11-25","2020-11-26","2020-11-27","2020-11-28","2020-11-29","2020-11-30","2020-12-01","2020-12-02","2020-12-03","2020-12-04","2020-12-05","2020-12-06","2020-12-07","2020-12-08","2020-12-09","2020-12-10","2020-12-11","2020-12-12","2020-12-13","2020-12-14","2020-12-15","2020-12-16","2020-12-17","2020-12-18","2020-12-19","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06","2021-03-07","2021-03-08","2021-03-09","2021-03-10","2021-03-11","2021-03-12","2021-03-13","2021-03-14","2021-03-15","2021-03-16","2021-03-17","2021-03-18","2021-03-19","2021-03-20","2021-03-21","2021-03-22","2021-03-23","2021-03-24","2021-03-25","2021-03-26","2021-03-27","2021-03-28","2021-03-29","2021-03-30","2021-03-31","2021-04-01","2021-04-02","2021-04-03","2021-04-04","2021-04-05","2021-04-06","2021-04-07","2021-04-08","2021-04-09","2021-04-10","2021-04-11","2021-04-12","2021-04-13","2021-04-14","2021-04-15","2021-04-16","2021-04-17","2021-04-18","2021-04-19","2021-04-20","2021-04-21","2021-04-22","2021-04-23","2021-04-24","2021-04-25","2021-04-26","2021-04-27","2021-04-28","2021-04-29","2021-04-30","2021-05-01","2021-05-02","2021-05-03","2021-05-04","2021-05-05","2021-05-06","2021-05-07","2021-05-08","2021-05-09","2021-05-10","2021-05-11","2021-05-12","2021-05-13","2021-05-14","2021-05-15","2021-05-16","2021-05-17","2021-05-18","2021-05-19","2021-05-20","2021-05-21","2021-05-22","2021-05-23","2021-05-24","2021-05-25","2021-05-26","2021-05-27","2021-05-28","2021-05-29","2021-05-30","2021-05-31","2021-06-01","2021-06-02","2021-06-03","2021-06-04","2021-06-05","2021-06-06","2021-06-07","2021-06-08","2021-06-09","2021-06-10","2021-06-11","2021-06-12","2021-06-13","2021-06-14","2021-06-15","2021-06-16","2021-06-17","2021-06-18","2021-06-19","2021-06-20","2021-06-21","2021-06-22","2021-06-23","2021-06-24","2021-06-25","2021-06-26","2021-06-27","2021-06-28","2021-06-29","2021-06-30","2021-07-01","2021-07-02","2021-07-03","2021-07-04","2021-07-05","2021-07-06","2021-07-07","2021-07-08","2021-07-09","2021-07-10","2021-07-11","2021-07-12","2021-07-13","2021-07-14","2021-07-15","2021-07-16","2021-07-17","2021-07-18","2021-07-19","2021-07-20","2021-07-21","2021-07-22","2021-07-23","2021-07-24","2021-07-25","2021-07-26","2021-07-27","2021-07-28","2021-07-29","2021-07-30","2021-07-31","2021-08-01","2021-08-02","2021-08-03","2021-08-04","2021-08-05","2021-08-06","2021-08-07","2021-08-08","2021-08-09","2021-08-10","2021-08-11","2021-08-12","2021-08-13","2021-08-14","2021-08-15","2021-08-16","2021-08-17","2021-08-18","2021-08-19","2021-08-20","2021-08-21","2021-08-22","2021-08-23","2021-08-24","2021-08-25","2021-08-26","2021-08-27","2021-08-28","2021-08-29","2021-08-30","2021-08-31","2021-09-01","2021-09-02","2021-09-03","2021-09-04","2021-09-05","2021-09-06","2021-09-07","2021-09-08","2021-09-09","2021-09-10","2021-09-11","2021-09-12","2021-09-13","2021-09-14","2021-09-15","2021-09-16","2021-09-17","2021-09-18","2021-09-19","2021-09-20","2021-09-21","2021-09-22","2021-09-23","2021-09-24","2021-09-25","2021-09-26","2021-09-27","2021-09-28","2021-09-29","2021-09-30","2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07","2021-10-08","2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26","2021-11-27","2021-11-28","2021-11-29","2021-11-30","2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07","2021-12-08","2021-12-09","2021-12-10","2021-12-11","2021-12-12","2021-12-13","2021-12-14","2021-12-15","2021-12-16","2021-12-17","2021-12-18","2021-12-19","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-01-21","2022-01-22","2022-01-23","2022-01-24","2022-01-25","2022-01-26","2022-01-27","2022-01-28","2022-01-29","2022-01-30","2022-01-31","2022-02-01","2022-02-02","2022-02-03","2022-02-04","2022-02-05","2022-02-06","2022-02-07","2022-02-08","2022-02-09","2022-02-10","2022-02-11","2022-02-12","2022-02-13","2022-02-14","2022-02-15","2022-02-16","2022-02-17","2022-02-18","2022-02-19","2022-02-20","2022-02-21","2022-02-22","2022-02-23","2022-02-24","2022-02-25","2022-02-26","2022-02-27","2022-02-28","2022-03-01","2022-03-02","2022-03-03","2022-03-04","2022-03-05","2022-03-06","2022-03-07","2022-03-08","2022-03-09","2022-03-10","2022-03-11","2022-03-12","2022-03-13","2022-03-14","2022-03-15","2022-03-16","2022-03-17","2022-03-18","2022-03-19","2022-03-20","2022-03-21","2022-03-22","2022-03-23","2022-03-24","2022-03-25","2022-03-26","2022-03-27","2022-03-28","2022-03-29","2022-03-30","2022-03-31","2022-04-01","2022-04-02","2022-04-03","2022-04-04","2022-04-05","2022-04-06","2022-04-07","2022-04-08","2022-04-09","2022-04-10","2022-04-11","2022-04-12","2022-04-13","2022-04-14","2022-04-15","2022-04-16","2022-04-17","2022-04-18","2022-04-19","2022-04-20","2022-04-21","2022-04-22","2022-04-23","2022-04-24","2022-04-25","2022-04-26","2022-04-27","2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17","2022-05-18","2022-05-19","2022-05-20","2022-05-21","2022-05-22","2022-05-23","2022-05-24","2022-05-25","2022-05-26","2022-05-27","2022-05-28","2022-05-29","2022-05-30","2022-05-31","2022-06-01","2022-06-02","2022-06-03","2022-06-04","2022-06-05","2022-06-06","2022-06-07","2022-06-08","2022-06-09","2022-06-10","2022-06-11","2022-06-12","2022-06-13","2022-06-14","2022-06-15","2022-06-16","2022-06-17","2022-06-18","2022-06-19","2022-06-20","2022-06-21","2022-06-22","2022-06-23","2022-06-24","2022-06-25","2022-06-26","2022-06-27","2022-06-28","2022-06-29","2022-06-30","2022-07-01","2022-07-02","2022-07-03","2022-07-04","2022-07-05","2022-07-06","2022-07-07","2022-07-08","2022-07-09","2022-07-10","2022-07-11","2022-07-12","2022-07-13","2022-07-14","2022-07-15","2022-07-16","2022-07-17","2022-07-18","2022-07-19","2022-07-20","2022-07-21","2022-07-22","2022-07-23","2022-07-24","2022-07-25","2022-07-26","2022-07-27","2022-07-28","2022-07-29","2022-07-30","2022-07-31","2022-08-01","2022-08-02","2022-08-03","2022-08-04","2022-08-05","2022-08-06","2022-08-07","2022-08-08","2022-08-09","2022-08-10","2022-08-11","2022-08-12","2022-08-13","2022-08-14","2022-08-15","2022-08-16","2022-08-17","2022-08-18","2022-08-19","2022-08-20","2022-08-21","2022-08-22","2022-08-23","2022-08-24","2022-08-25","2022-08-26","2022-08-27","2022-08-28","2022-08-29","2022-08-30","2022-08-31","2022-09-01","2022-09-02","2022-09-03","2022-09-04","2022-09-05","2022-09-06","2022-09-07","2022-09-08","2022-09-09","2022-09-10","2022-09-11","2022-09-12","2022-09-13","2022-09-14","2022-09-15","2022-09-16","2022-09-17","2022-09-18","2022-09-19","2022-09-20","2022-09-21","2022-09-22","2022-09-23","2022-09-24","2022-09-25","2022-09-26","2022-09-27","2022-09-28","2022-09-29","2022-09-30","2022-10-01","2022-10-02","2022-10-03","2022-10-04","2022-10-05","2022-10-06","2022-10-07","2022-10-08","2022-10-09","2022-10-10","2022-10-11","2022-10-12","2022-10-13","2022-10-14","2022-10-15","2022-10-16","2022-10-17","2022-10-18","2022-10-19","2022-10-20","2022-10-21","2022-10-22","2022-10-23","2022-10-24","2022-10-25","2022-10-26","2022-10-27","2022-10-28","2022-10-29","2022-10-30","2022-10-31","2022-11-01","2022-11-02","2022-11-03","2022-11-04","2022-11-05","2022-11-06","2022-11-07","2022-11-08","2022-11-09","2022-11-10","2022-11-11","2022-11-12","2022-11-13","2022-11-14","2022-11-15","2022-11-16","2022-11-17","2022-11-18","2022-11-19","2022-11-20","2022-11-21","2022-11-22","2022-11-23","2022-11-24","2022-11-25","2022-11-26","2022-11-27","2022-11-28","2022-11-29","2022-11-30","2022-12-01","2022-12-02","2022-12-03","2022-12-04","2022-12-05","2022-12-06","2022-12-07","2022-12-08","2022-12-09","2022-12-10","2022-12-11","2022-12-12","2022-12-13","2022-12-14","2022-12-15","2022-12-16","2022-12-17","2022-12-18","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09"],"y":[0.3732,0.37314,0.37308,0.37302,0.37297,0.37292,0.37287,0.37282,0.37278,0.37273,0.37269,0.37265,0.37261,0.37258,0.37254,0.37251,0.37248,0.37245,0.37242,0.37239,0.37236,0.37234,0.37231,0.37229,0.37227,0.37225,0.37223,0.37222,0.37222,0.37222,0.37223,0.37224,0.37225,0.37226,0.37228,0.3723,0.37232,0.37235,0.37238,0.37241,0.37244,0.37246,0.37249,0.37251,0.37253,0.37256,0.37258,0.37261,0.37265,0.37269,0.37273,0.37278,0.37283,0.37288,0.37294,0.373,0.37306,0.37312,0.37318,0.37325,0.37332,0.37339,0.37346,0.37353,0.3733,0.3726,0.37163,0.37056,0.36958,0.36889,0.36804,0.36664,0.36497,0.36328,0.36184,0.36091,0.36032,0.35976,0.35925,0.35882,0.35848,0.35827,0.35822,0.35834,0.35866,0.35905,0.35937,0.35968,0.36004,0.36051,0.36113,0.36186,0.36259,0.36331,0.36402,0.36471,0.36539,0.36595,0.36636,0.36668,0.36696,0.36726,0.36765,0.36789,0.36784,0.36765,0.36751,0.36758,0.36803,0.36858,0.36896,0.3693,0.36975,0.37047,0.3716,0.37304,0.37459,0.37627,0.37808,0.38003,0.38212,0.38452,0.3873,0.39039,0.39369,0.39713,0.40063,0.40409,0.40743,0.41058,0.41399,0.41797,0.42222,0.42644,0.43035,0.43365,0.43677,0.44021,0.44374,0.44711,0.4501,0.45247,0.45432,0.45591,0.45727,0.45841,0.45937,0.46016,0.46081,0.46133,0.46175,0.46177,0.46123,0.46035,0.45937,0.45851,0.458,0.45744,0.45642,0.45514,0.45383,0.45268,0.45191,0.45141,0.45095,0.45052,0.45012,0.44973,0.44937,0.44901,0.44867,0.44833,0.4481,0.44804,0.44807,0.44811,0.44807,0.44788,0.44751,0.44701,0.44644,0.44587,0.44535,0.44494,0.44456,0.44411,0.44363,0.44314,0.44269,0.44232,0.44202,0.44176,0.44153,0.44132,0.44111,0.44088,0.44067,0.44051,0.44039,0.44027,0.44015,0.43999,0.43984,0.43974,0.43968,0.4396,0.4395,0.43933,0.43909,0.43879,0.43845,0.43808,0.4377,0.43732,0.43696,0.43662,0.43633,0.43606,0.43577,0.43549,0.43521,0.43497,0.43476,0.43456,0.43434,0.43411,0.43389,0.43371,0.43358,0.43352,0.43351,0.43355,0.43363,0.43373,0.43384,0.43395,0.43405,0.43414,0.4343,0.43458,0.43493,0.43527,0.43553,0.43566,0.43565,0.43557,0.43545,0.43532,0.43523,0.43519,0.43522,0.43527,0.43535,0.43543,0.4355,0.43555,0.43557,0.43554,0.43546,0.43545,0.4356,0.4358,0.43595,0.43594,0.43567,0.43539,0.43533,0.43533,0.43522,0.43486,0.43409,0.43301,0.43185,0.43058,0.4292,0.42768,0.426,0.42416,0.42213,0.4199,0.41722,0.414,0.41046,0.40682,0.40328,0.40007,0.39659,0.39235,0.38776,0.3832,0.37909,0.3758,0.37295,0.36994,0.36686,0.36381,0.3609,0.35822,0.35586,0.35393,0.35252,0.35173,0.3515,0.35162,0.35193,0.35224,0.35237,0.35283,0.35402,0.35563,0.35734,0.35885,0.35983,0.36063,0.36171,0.36298,0.36437,0.36578,0.36712,0.3683,0.36924,0.36984,0.37007,0.37002,0.3698,0.36951,0.36925,0.36914,0.36901,0.36869,0.36826,0.36781,0.36743,0.36721,0.36706,0.36686,0.36664,0.3664,0.36616,0.36595,0.36576,0.36562,0.36554,0.36553,0.36557,0.36563,0.3657,0.36576,0.3658,0.3659,0.36612,0.36639,0.36666,0.36688,0.36698,0.36703,0.3671,0.36717,0.36724,0.36728,0.36728,0.36719,0.367,0.36675,0.3665,0.36628,0.36615,0.36604,0.36588,0.36569,0.36551,0.36536,0.36527,0.36523,0.36519,0.36516,0.36514,0.36514,0.36516,0.36522,0.36532,0.36545,0.36561,0.36578,0.36596,0.36614,0.36631,0.36646,0.36661,0.36679,0.36699,0.36719,0.36736,0.3675,0.36763,0.36777,0.36792,0.36806,0.36818,0.36827,0.36833,0.36838,0.36842,0.36845,0.36848,0.36849,0.3685,0.3685,0.36851,0.36846,0.36835,0.3682,0.36805,0.36793,0.36788,0.36786,0.36781,0.36776,0.36772,0.36769,0.36771,0.36777,0.36787,0.36801,0.36817,0.36833,0.3685,0.36866,0.36879,0.36889,0.369,0.36914,0.3693,0.36945,0.36957,0.36965,0.36969,0.36969,0.36968,0.36966,0.36965,0.36965,0.36964,0.36959,0.36951,0.36941,0.36931,0.36922,0.36916,0.36913,0.36914,0.36919,0.36923,0.36928,0.36935,0.36942,0.36952,0.36961,0.36965,0.36969,0.36976,0.36987,0.37007,0.37024,0.37027,0.37023,0.37017,0.37015,0.37023,0.37047,0.37091,0.37163,0.37238,0.373,0.37363,0.37438,0.37539,0.3768,0.37858,0.38056,0.38272,0.38502,0.38743,0.38992,0.39274,0.39608,0.39981,0.4038,0.40791,0.41201,0.41598,0.41967,0.42296,0.42635,0.43025,0.43436,0.43837,0.442,0.44495,0.44748,0.44998,0.4524,0.45466,0.45669,0.45841,0.45974,0.46068,0.4613,0.46168,0.46187,0.46195,0.46198,0.46205,0.4622,0.4622,0.46182,0.46122,0.46055,0.45995,0.45959,0.45938,0.45915,0.45887,0.45856,0.45819,0.45777,0.45737,0.45703,0.4567,0.45633,0.45586,0.45523,0.4544,0.45339,0.45228,0.45113,0.45002,0.44902,0.44789,0.44648,0.44494,0.44339,0.44201,0.44093,0.43991,0.43869,0.43739,0.43615,0.43509,0.43435,0.43392,0.43369,0.43362,0.43368,0.43382,0.43401,0.43421,0.43438,0.43449,0.43476,0.43536,0.43613,0.43691,0.43754,0.43786,0.43801,0.43818,0.43836,0.43851,0.43861,0.43862,0.43849,0.43824,0.43788,0.43746,0.437,0.43654,0.4361,0.43573,0.43545,0.43518,0.43484,0.43448,0.43412,0.4338,0.43355,0.43342,0.4334,0.43344,0.43348,0.43347,0.43335,0.43315,0.43294,0.43273,0.43251,0.4323,0.43208,0.43186,0.43165,0.43144,0.43121,0.43095,0.43067,0.43039,0.43011,0.42984,0.42955,0.42922,0.42885,0.4285,0.42817,0.4279,0.4277,0.42754,0.42742,0.42732,0.42723,0.42714,0.42704,0.42692,0.42676,0.42663,0.42659,0.42658,0.42655,0.42646,0.42626,0.42607,0.42598,0.42592,0.42581,0.42557,0.42513,0.42469,0.42443,0.42426,0.42411,0.42388,0.42349,0.42285,0.42187,0.42047,0.41859,0.41632,0.41379,0.41112,0.40845,0.40592,0.40295,0.39915,0.39493,0.39071,0.38689,0.38389,0.38124,0.37828,0.37515,0.37196,0.36885,0.36595,0.36337,0.36126,0.35972,0.35883,0.35843,0.35838,0.35849,0.35863,0.35862,0.359,0.3602,0.36186,0.36362,0.36513,0.36603,0.36661,0.36735,0.3682,0.3691,0.37001,0.37086,0.3716,0.37218,0.37254,0.37263,0.37248,0.37219,0.37186,0.37158,0.37146,0.3714,0.37127,0.37109,0.37091,0.37074,0.37062,0.37054,0.37047,0.37041,0.37034,0.37027,0.37018,0.37009,0.37003,0.36998,0.36991,0.36983,0.3697,0.36952,0.36929,0.36903,0.36876,0.36851,0.36829,0.36803,0.36769,0.36732,0.36695,0.36664,0.36644,0.3663,0.36618,0.36608,0.36599,0.36592,0.36587,0.36584,0.36584,0.36589,0.36601,0.36617,0.36633,0.36648,0.36659,0.36673,0.36694,0.3672,0.36746,0.36768,0.36783,0.36791,0.36799,0.36805,0.3681,0.36814,0.36817,0.36819,0.36821,0.36821,0.36819,0.36813,0.36805,0.36797,0.36789,0.36783,0.3678,0.36777,0.36775,0.36773,0.3677,0.36766,0.3676,0.36752,0.36743,0.36732,0.36722,0.36712,0.36703,0.36695,0.3669,0.36683,0.3667,0.36656,0.36643,0.36635,0.36634,0.36638,0.36643,0.3665,0.36658,0.36668,0.36681,0.36698,0.36722,0.36749,0.36778,0.36806,0.36831,0.36861,0.36899,0.36943,0.36987,0.37026,0.37056,0.37081,0.37108,0.37135,0.37161,0.37186,0.37207,0.37222,0.37229,0.37232,0.37235,0.37241,0.37253,0.3727,0.37287,0.37305,0.37323,0.37341,0.37359,0.37377,0.37394,0.37411,0.37423,0.3743,0.37435,0.37441,0.37451,0.37468,0.37472,0.3745,0.37418,0.37392,0.37388,0.37421,0.37465,0.37491,0.37508,0.37527,0.37557,0.37607,0.37687,0.37806,0.37975,0.38197,0.38461,0.38753,0.39059,0.39366,0.39659,0.39991,0.40397,0.40844,0.41298,0.41723,0.42085,0.42439,0.42848,0.43292,0.43754,0.44215,0.44654,0.45054,0.45395,0.45659,0.45863,0.46037,0.46187,0.46314,0.46422,0.46515,0.46557,0.4653,0.4646,0.46372,0.46294,0.46252,0.46208,0.46118,0.46003,0.4588,0.45769,0.45689,0.45623,0.45545,0.4546,0.45374,0.45293,0.45221,0.45156,0.45091,0.45027,0.44965,0.44903,0.44842,0.44787,0.4474,0.44696,0.44654,0.4461,0.4456,0.44501,0.44432,0.44358,0.44281,0.44205,0.44132,0.44067,0.44012,0.43971,0.43942,0.43918,0.43899,0.43883,0.43869,0.43855,0.43855,0.43878,0.43914,0.4395,0.43978,0.43985,0.43982,0.43983,0.43987,0.43992,0.43996,0.43998,0.43994,0.43985,0.43967,0.43936,0.43891,0.43837,0.43782,0.43731,0.43691,0.43648,0.43589,0.43522,0.43455,0.43397,0.43355,0.43325,0.43299,0.43276,0.43256,0.4324,0.43226,0.43215,0.43207,0.43201,0.43209,0.43234,0.43268,0.43302,0.43328,0.43337,0.43338,0.43344,0.43351,0.43357,0.43357,0.43349,0.43332,0.43307,0.43277,0.43244,0.43208,0.43173,0.4314,0.43111,0.43087,0.43064,0.43037,0.43007,0.42977,0.42948,0.42923,0.42896,0.42864,0.4283,0.42796,0.42767,0.42744,0.42732,0.42731,0.42738,0.4275,0.42764,0.42778,0.42789,0.42794,0.4279,0.42797,0.42829,0.42869,0.42904,0.42916,0.42893,0.42858,0.42838,0.42821,0.42792,0.42739,0.42649,0.42524,0.42381,0.4222,0.42044,0.41856,0.41657,0.4145,0.41237,0.4102,0.4076,0.40438,0.40081,0.3972,0.39383,0.391,0.38814,0.38475,0.38111,0.37756,0.3744,0.37194,0.37,0.36817,0.36647,0.36493,0.36354,0.36232,0.3613,0.36047,0.35986,0.35967,0.35997,0.36057,0.36129,0.36195,0.36237,0.36293,0.364,0.36534,0.36673,0.36794,0.36874,0.36943,0.37038,0.37143,0.37247,0.37334,0.37391,0.37421,0.37438,0.37447,0.37449,0.3745,0.37452,0.37442,0.37408,0.37362,0.37313,0.3727,0.37242,0.37218,0.37184,0.37143,0.37103,0.37069,0.37046,0.37031,0.37017,0.37005,0.36994,0.36984,0.36975,0.36969,0.36964,0.36961,0.36964,0.36973,0.36987,0.37001,0.37013,0.3702,0.37028,0.37042,0.37059,0.37075,0.37087,0.37093,0.37094,0.37094,0.37094,0.37093,0.37091,0.37086,0.37079,0.3707,0.37054,0.37032,0.37006,0.36978,0.36953,0.36933,0.36912,0.36884,0.36854,0.36823,0.36797,0.36779,0.36765,0.36751,0.36738,0.36726,0.36715,0.36705,0.36699,0.36695,0.36694,0.36697,0.36704,0.36713,0.36724,0.36736,0.36747,0.36763,0.36786,0.36813,0.3684,0.36866,0.36886,0.36905,0.36928,0.36954,0.36981,0.37008,0.37034,0.37056,0.37075,0.37087,0.37096,0.37104,0.37111,0.37116,0.37119,0.37121,0.37116,0.37105,0.3709,0.37075,0.37061,0.37052,0.37045,0.37033,0.37018,0.37002,0.36985,0.3697,0.36956,0.36947,0.36942,0.36943,0.36948,0.36955,0.36963,0.36971,0.36976,0.36981,0.3699,0.37001,0.37013,0.37023,0.37032,0.37038,0.37044,0.37051,0.37057,0.37063,0.3707,0.37078,0.37086,0.37095,0.37103,0.37111,0.37117,0.37125,0.37133,0.37143,0.37154,0.37165,0.37176,0.37188,0.37202,0.37217,0.37232,0.37244,0.37254,0.37265,0.37276,0.3729,0.37308,0.3733,0.37359,0.37371,0.37356,0.37331,0.37313,0.37318,0.37365,0.37418,0.37445,0.37467,0.37504,0.37576,0.37704,0.37879,0.38074,0.38289,0.3852,0.38767,0.39025,0.39329,0.39695,0.40098,0.40511,0.4091,0.41269,0.41656,0.4213,0.42646,0.43159,0.43624,0.43998,0.44337,0.44712,0.45097,0.45467,0.45795,0.46056,0.46253,0.46409,0.4653,0.46622,0.46692,0.46746,0.46788,0.46827,0.46867,0.4688,0.46845,0.46781,0.46705,0.46635,0.4659,0.46544,0.46469,0.46375,0.46276,0.46184,0.46109,0.46046,0.45978,0.45908,0.45835,0.45761,0.45687,0.45614,0.45543,0.45474,0.45399,0.45311,0.45216,0.45122,0.45034,0.44959,0.44888,0.44811,0.44732,0.44656,0.44588,0.44532,0.44489,0.44453,0.44423,0.44399,0.44378,0.4436,0.44344,0.4433,0.44314,0.44308,0.44315,0.4433,0.44346,0.44357,0.44357,0.44349,0.44343,0.44338,0.44333,0.44327,0.4432,0.44312,0.44304,0.44296,0.44288,0.4428,0.44272,0.44262,0.44253,0.44242,0.44231,0.44219,0.44207,0.44194,0.44178,0.44161,0.44142,0.44123,0.44104,0.44085,0.44065,0.44044,0.4402,0.43994,0.43966,0.43936,0.43907,0.43878,0.4385,0.43825,0.43803,0.43783,0.43763,0.43742,0.43721,0.437,0.43678,0.43656,0.43634,0.43613,0.43592,0.43573,0.43555,0.43539,0.43525,0.43514,0.43503,0.43494,0.43485,0.43476,0.43466,0.43456,0.4345,0.43451,0.43455,0.43457,0.43453,0.43438,0.43423,0.43417,0.43415,0.43409,0.43394,0.43361,0.43321,0.43283,0.43246,0.43206,0.43162,0.43111,0.43051,0.42979,0.42893,0.42792,0.42679,0.42557,0.42427,0.42291,0.42151,0.41998,0.41828,0.41646,0.41458,0.41271,0.4109,0.40903,0.40698,0.40483,0.40266,0.40054,0.39855,0.39645,0.39406,0.39153,0.38904,0.38674,0.3848,0.38291,0.38079,0.3786,0.37649,0.37464,0.3732,0.37211,0.37119,0.37041,0.36974,0.36916,0.36865,0.36836,0.36838,0.36866,0.36911,0.36967,0.37026,0.37081,0.37126,0.37152,0.37184,0.37242,0.37313,0.37385,0.37445,0.3748,0.37497,0.3751,0.3752,0.37527,0.37532,0.37535,0.37532,0.3752,0.37501,0.37477,0.37451,0.37424,0.37398,0.37376,0.37359,0.37343,0.37323,0.37302,0.37281,0.37262,0.37248,0.37237,0.37227,0.37218,0.3721,0.37203,0.37198,0.37195,0.37194,0.37195,0.37197,0.372,0.37203,0.37205,0.37207,0.37206,0.37208,0.37212,0.37218,0.37223,0.37224,0.37223,0.37222,0.3722,0.37219,0.37218,0.37217,0.37214,0.37208,0.37201,0.37194,0.37188,0.37185,0.37183,0.3718,0.37177,0.37174,0.37171,0.3717,0.37172,0.37178,0.37185,0.37193,0.37199,0.372,0.372,0.37201,0.37202,0.37202,0.37202,0.372,0.37195,0.37188,0.3718,0.3717,0.3716,0.37149,0.37139,0.37128,0.37119,0.37105,0.37086,0.37064,0.37042,0.37025,0.37015,0.37007,0.36997,0.36985,0.36976,0.36971,0.36973,0.36981,0.36992,0.37006,0.37023,0.37042,0.37063,0.37085,0.37108,0.37132,0.37162,0.37202,0.37247,0.37293,0.37334,0.37367,0.37399,0.3744,0.37485,0.37529,0.37566,0.37593,0.37609,0.37619,0.37623,0.37624,0.37622,0.3762,0.37618,0.37618,0.37622,0.37619,0.37605,0.37586,0.37567,0.37556,0.37559,0.37567,0.37571,0.37574,0.3758,0.37593,0.37614,0.37639,0.37663,0.37688,0.37717,0.37753,0.37801,0.37839,0.37856,0.37868,0.37889,0.37934,0.3802,0.38115,0.38191,0.38266,0.38356,0.3848,0.38654,0.38875,0.39123,0.39393,0.39679,0.39975,0.40277,0.40623,0.41041,0.41511,0.42015,0.42531,0.43041,0.43524,0.4396,0.44331,0.44706,0.45145,0.45607,0.46053,0.46442,0.46734,0.46949,0.47135,0.47294,0.47429,0.47541,0.47634,0.47678,0.47653,0.47574,0.47456,0.47314,0.47162,0.47017,0.46894,0.46806,0.46713,0.46576,0.46416,0.46253,0.46108,0.46002,0.45922,0.45843,0.45766,0.45692,0.45622,0.45556,0.45497,0.45448,0.45405,0.45368,0.45334,0.45301,0.45268,0.45233,0.45194,0.45149,0.45102,0.45054,0.45008,0.44965,0.44929,0.44894,0.44857,0.44821,0.44787,0.44758,0.44735,0.4472,0.4471,0.44705,0.44703,0.44704,0.44708,0.44712,0.44717,0.44721,0.44733,0.44756,0.44785,0.44815,0.4484,0.44856,0.44868,0.44886,0.44907,0.44926,0.44942,0.4495,0.44955,0.44962,0.4497,0.44977,0.44982,0.44984,0.44982,0.44974,0.44959,0.44937,0.44908,0.44875,0.44838,0.44801,0.44765,0.44719,0.44659,0.44591,0.44523,0.44461,0.44413,0.44374,0.44332,0.4429,0.44248,0.44207,0.44168,0.44132,0.441,0.44074,0.44058,0.44054,0.44055,0.44057,0.44053,0.44038,0.4402,0.44009,0.44001,0.43993,0.43981,0.43962,0.43937,0.43908,0.43877,0.43844,0.4381,0.43775,0.4374,0.43705,0.43672,0.43643,0.43618,0.43594,0.43567,0.43533,0.43489,0.4345,0.43427,0.43408,0.43386,0.43349,0.43287,0.43226,0.43187,0.43155,0.43113,0.43046,0.42938,0.42791,0.42622,0.42436,0.42237,0.42032,0.41825,0.41574,0.41257,0.40905,0.40551,0.40226,0.39963,0.3971,0.39411,0.39094,0.38784,0.3851,0.38296,0.3813,0.37977,0.37837,0.37711,0.37598,0.37498,0.3741,0.37333,0.37269,0.37244,0.37273,0.37333,0.37403,0.3746,0.37484,0.37511,0.3758,0.37671,0.37764,0.37838,0.37874,0.37877,0.37867,0.37848,0.37822,0.37791,0.37759,0.37727,0.37699,0.37677,0.37657,0.37632,0.37606,0.37579,0.37554,0.37532,0.37512,0.37489,0.37467,0.37444,0.37422,0.37403,0.37385,0.37367,0.37349,0.37332,0.37315,0.37299,0.37285,0.37271,0.37259,0.37249,0.37239,0.3723,0.37222,0.37214,0.37207,0.37201,0.37194,0.37188,0.37182,0.37178,0.37175,0.37175,0.37178,0.37182,0.37188,0.37194,0.37201,0.37207,0.37213,0.37216,0.37221,0.37229,0.37239,0.37249,0.37256,0.37259,0.3726,0.37261,0.37261,0.37261,0.37259,0.37256,0.3725,0.3724,0.37228,0.37214,0.372,0.37186,0.37172,0.37161,0.37152,0.37142,0.37126,0.37109,0.37092,0.37078,0.37072,0.3707,0.3707,0.37072,0.37075,0.37079,0.37084,0.37093,0.37109,0.3713,0.37153,0.37177,0.372,0.3722,0.37235,0.37243,0.37246,0.37247,0.37247,0.37247,0.37245,0.37243,0.37237,0.37223,0.37206,0.37189,0.37175,0.37167,0.37162,0.37156,0.37148,0.37139,0.37131,0.37124,0.37117,0.37113,0.37112,0.37115,0.37121,0.37129,0.37139,0.37148,0.37155,0.37163,0.37176,0.37191,0.37207,0.37221,0.37232,0.3724,0.37245,0.3725,0.37255,0.3726,0.37267,0.37274,0.37279,0.37282,0.37287,0.37292,0.373,0.3731,0.37322,0.37334,0.37347,0.3736,0.37374,0.37389,0.37405,0.37423,0.37441,0.37459,0.37476,0.37486,0.37483,0.37473,0.37459,0.37445,0.37436,0.37436,0.37449,0.37479,0.3749,0.37461,0.37418,0.37388,0.37398,0.37474,0.37592,0.37714,0.37846,0.37995,0.38168,0.38371,0.3862,0.38918,0.39255,0.3962,0.40003,0.40392,0.40778,0.4115,0.41497,0.41882,0.42349,0.42855,0.43358,0.43817,0.44189,0.44525,0.4489,0.45261,0.45617,0.45935,0.46195,0.46396,0.4656,0.46692,0.46797,0.46881,0.46948,0.47006,0.47058,0.47111,0.47145,0.47145,0.47121,0.47086,0.4705,0.47025,0.46982,0.46899,0.46792,0.46679,0.46577,0.46503,0.46446,0.46382,0.46313,0.4624,0.46167,0.46093,0.46022,0.45955,0.45894,0.45835,0.45773,0.4571,0.45648,0.45587,0.45529,0.45475,0.45425,0.45377,0.45331,0.45284,0.45236,0.45186,0.45137,0.45087,0.45038,0.4499,0.44943,0.44897,0.44852,0.44809,0.44765,0.44718,0.4467,0.44622,0.44578,0.44538,0.445,0.4446,0.4442,0.44384,0.44352,0.44327,0.4431,0.44301,0.44297,0.44298,0.44301,0.44304,0.44306,0.44305,0.443,0.44295,0.44292,0.44292,0.44291,0.44289,0.44283,0.4427,0.44251,0.44229,0.44209,0.44194,0.44187,0.44189,0.44197,0.44208,0.44222,0.44236,0.4425,0.4426,0.44267,0.44267,0.44266,0.44268,0.44271,0.44272,0.44269,0.4426,0.44254,0.4426,0.44271,0.44279,0.44277,0.44259,0.44226,0.44186,0.44141,0.44092,0.44039,0.43985,0.43916,0.43826,0.43723,0.43618,0.4352,0.43438,0.43365,0.43286,0.43206,0.43125,0.43048,0.42975,0.42919,0.42882,0.42854,0.42824,0.42781,0.42715,0.42641,0.42579,0.42523,0.42468,0.42407,0.42335,0.42246,0.42134,0.41994,0.41818,0.41611,0.41385,0.41152,0.40922,0.40709,0.40471,0.40178,0.39856,0.39535,0.39241,0.39002,0.38787,0.38553,0.38307,0.38059,0.37817,0.37589,0.37384,0.37211,0.37076,0.36986,0.36933,0.36903,0.36888,0.36875,0.36853,0.36857,0.36912,0.36996,0.37087,0.37165,0.37206,0.3723,0.37265,0.3731,0.3736,0.37411,0.3746,0.37503,0.37537,0.37557,0.37569,0.37579,0.37586,0.3759,0.37593,0.37592,0.37584,0.37564,0.37538,0.3751,0.37486,0.37469,0.3745,0.37421,0.37387,0.37354,0.37326,0.37311,0.37304,0.37302,0.37302,0.37303,0.37305,0.37305,0.3731,0.37322,0.37338,0.37353,0.37365,0.3737,0.37372,0.37375,0.37378,0.37382,0.37384,0.37384,0.3738,0.37374,0.37365,0.37356,0.37345,0.37335,0.37325,0.37317,0.37311,0.37303,0.37292,0.37279,0.37268,0.37259,0.37254,0.37252,0.3725,0.3725,0.37249,0.37248,0.37247,0.37248,0.3725,0.37254,0.37258,0.37262,0.37266,0.37269,0.37271,0.37273,0.37275,0.37276,0.37277,0.37277,0.37276,0.37274,0.37272,0.37269,0.37267,0.37263,0.3726,0.37255,0.3725,0.37244,0.37238,0.37232,0.37227,0.37222,0.37218,0.37215,0.37211,0.37203,0.37194,0.37185,0.37178,0.37175,0.37174,0.37174,0.37175,0.37177,0.3718,0.37184,0.37192,0.37205,0.37222,0.37239,0.37254,0.37265,0.37274,0.37285,0.37298,0.3731,0.37319,0.37326,0.37327,0.37326,0.37323,0.3732,0.37317,0.37316,0.37315,0.37312,0.37308,0.37304,0.37301,0.37301,0.37299,0.37295,0.37289,0.37282,0.37275,0.3727,0.37266,0.37266,0.3727,0.37277,0.37287,0.37298,0.37311,0.37324,0.37338,0.37354,0.37376,0.374,0.37425,0.37449,0.37469,0.37488,0.37508,0.37528,0.37549,0.3757,0.37591,0.37611,0.3763,0.37648,0.37652,0.37634,0.37608,0.37585,0.37576,0.37594,0.37598,0.37557,0.37501,0.37456,0.37452,0.37517,0.37626,0.37739,0.37862,0.37999,0.38154,0.38332,0.38539,0.38778,0.39055,0.39408,0.39849,0.4034,0.40844,0.41324,0.41742,0.42185,0.42729,0.43323,0.43913,0.44448,0.44876,0.45244,0.45628,0.46019,0.46404,0.46773,0.47116,0.47422,0.4768,0.4788,0.48006,0.48064,0.48077,0.48064,0.48049,0.48051,0.4802,0.47912,0.47758,0.47591,0.47444,0.47347,0.47271,0.47167,0.47045,0.46911,0.46773,0.46639,0.46517,0.46413,0.46337,0.46276,0.46218,0.46163,0.46111,0.46063,0.4602,0.45991,0.4598,0.45979,0.45982,0.4598,0.45968,0.45953,0.45946,0.45946,0.4595,0.45956,0.4596,0.45962,0.45958,0.45947,0.45923,0.45888,0.45847,0.45806,0.4577,0.45745,0.45727,0.4571,0.45694,0.45678,0.45662,0.45647,0.45634,0.45626,0.45621,0.45618,0.45615,0.45612,0.45608,0.456,0.45588,0.45572,0.45554,0.45534,0.45515,0.45496,0.45479,0.45461,0.45438,0.45414,0.45389,0.45367,0.45347,0.45329,0.45309,0.45288,0.45267,0.45248,0.45232,0.45219,0.45207,0.45197,0.45187,0.45179,0.45172,0.45172,0.4518,0.45192,0.45205,0.45212,0.4521,0.45205,0.45206,0.45209,0.45209,0.45204,0.4519,0.45165,0.4513,0.45089,0.45045,0.44998,0.44954,0.44913,0.44878,0.44853,0.44839,0.44833,0.44831,0.44829,0.4482,0.44801,0.44794,0.44816,0.44848,0.44874,0.44877,0.44839,0.44787,0.44749,0.44717,0.44685,0.44642,0.44582,0.44495,0.44374,0.44211,0.43993,0.43727,0.4343,0.43118,0.42809,0.42519,0.42188,0.41771,0.41308,0.40842,0.40415,0.40067,0.39755,0.39414,0.39057,0.38696,0.38342,0.38009,0.37706,0.37448,0.37244,0.37095,0.36984,0.369,0.36835,0.36779,0.36721,0.36695,0.36724,0.36789,0.36867,0.36937,0.36977,0.37014,0.3708,0.37169,0.37272,0.37381,0.37487,0.37583,0.37661,0.37712,0.37751,0.37794,0.37838,0.37877,0.37908,0.37924,0.37923,0.37905,0.37877,0.37845,0.37816,0.37796,0.37775,0.37741,0.37698,0.37649,0.37598,0.37548,0.37503,0.37466,0.3744,0.3742,0.37399,0.37377,0.37356,0.37338,0.37325,0.37323,0.37334,0.37352,0.37372,0.37387,0.37393,0.37396,0.37403,0.37414,0.37426,0.37438,0.37448,0.37455,0.37457,0.37452,0.37435,0.37405,0.3737,0.37339,0.37317,0.373,0.37275,0.37248,0.37222,0.37199,0.37185,0.37178,0.37175,0.37175,0.37177,0.37181,0.37185,0.37189,0.37192,0.37193,0.37199,0.37212,0.37229,0.37245,0.37257,0.37261,0.37257,0.37252,0.37245,0.37237,0.37229,0.3722,0.37206,0.37183,0.37157,0.3713,0.37107,0.37091,0.37076,0.37056,0.37034,0.37013,0.36995,0.36984,0.36978,0.36973,0.36968,0.36965,0.36965,0.36966,0.36973,0.36985,0.37,0.37017,0.37034,0.37047,0.37061,0.3708,0.37103,0.37127,0.37152,0.37175,0.37197,0.37214,0.37227,0.37235,0.37243,0.3725,0.37257,0.37262,0.37266,0.37268,0.37265,0.37261,0.37257,0.37253,0.37252,0.3725,0.37244,0.37236,0.37226,0.37216,0.37206,0.37198,0.37194,0.37194,0.37196,0.37198,0.372,0.37203,0.37209,0.37219,0.37234,0.37256,0.37281,0.37308,0.37333,0.37354,0.37372,0.3739,0.37409,0.37428,0.37447,0.37467,0.37487,0.37506,0.37526,0.37526,0.37496,0.37455,0.37419,0.37405,0.3743,0.37455,0.37446,0.37427,0.37421,0.37453,0.37546,0.37693,0.37866,0.38063,0.3828,0.38513,0.3876,0.39017,0.39282,0.39549,0.39863,0.40246,0.40667,0.41095,0.41498,0.41845,0.42193,0.42599,0.43032,0.4346,0.43852,0.44177,0.44454,0.44724,0.44984,0.45231,0.45464,0.4568,0.45877,0.46053,0.46206,0.4632,0.46393,0.46439,0.46472,0.46505,0.46554,0.46603,0.46632,0.46648,0.46654,0.46658,0.46665,0.46663,0.46641,0.46604,0.46555,0.46498,0.46438,0.46379,0.46325,0.46279,0.46233,0.46177,0.46115,0.46053,0.45995,0.45945,0.459,0.4585,0.45798,0.45747,0.45698,0.45654,0.45612,0.45569,0.45524,0.4548,0.45438,0.45397,0.45359,0.45325,0.45296,0.45275,0.45261,0.45253,0.45247,0.45238,0.45225,0.45211,0.45201,0.45193,0.45185,0.45176,0.45163,0.45143,0.45118,0.45091,0.45065,0.45043,0.45028,0.45017,0.45006,0.44994,0.44985,0.44978,0.44976,0.44981,0.44991,0.45005,0.45019,0.45031,0.4504,0.45053,0.45079,0.45111,0.45142,0.45165,0.45174,0.45173,0.45168,0.45161,0.45152,0.4514,0.45128,0.45114,0.45099,0.45085,0.45059,0.45019,0.44971,0.44923,0.44883,0.44858,0.44846,0.44837,0.4483,0.44822,0.44814,0.44802,0.44792,0.44787,0.44785,0.44785,0.44786,0.44786,0.44784,0.44779,0.4477,0.44757,0.44745,0.44734,0.44721,0.44709,0.44695,0.44682,0.44671,0.4466,0.44646,0.44627,0.44602,0.44577,0.4456,0.44547,0.44534,0.44519,0.44497,0.44466,0.44421,0.4436,0.44302,0.44261,0.44223,0.44177,0.4411,0.44009,0.43884,0.43751,0.43606,0.43448,0.43276,0.43085,0.42857,0.42585,0.42287,0.41982,0.41689,0.41426,0.41151,0.40828,0.40481,0.40138,0.39824,0.39565,0.3932,0.39044,0.38757,0.38481,0.38236,0.38041,0.37889,0.37752,0.37629,0.3752,0.37423,0.37335,0.37277,0.3726,0.37276,0.37316,0.37369,0.37429,0.37484,0.37526,0.37546,0.37567,0.37612,0.37669,0.37727,0.37773,0.37797,0.37792,0.37768,0.37732,0.37693,0.3766,0.37643,0.37634,0.37624,0.37612,0.376,0.37588,0.37576,0.37567,0.37559,0.37555,0.37554,0.37556,0.37559,0.37563,0.37566,0.37567,0.37568,0.37574,0.37581,0.37588,0.37593,0.37594,0.37593,0.37593,0.37592,0.3759,0.37588,0.37586,0.37582,0.37577,0.3757,0.37562,0.37552,0.37541,0.37529,0.37516,0.375,0.37479,0.37455,0.37431,0.3741,0.37394,0.37378,0.37357,0.37335,0.37315,0.37298,0.37288,0.37284,0.37283,0.37284,0.37286,0.37289,0.3729,0.37296,0.37308,0.37324,0.3734,0.37353,0.37358,0.3736,0.37364,0.37367,0.37371,0.37374,0.37375,0.37375,0.37371,0.37366,0.3736,0.37353,0.37346,0.3734,0.37335,0.37332,0.37328,0.3732,0.37311,0.37302,0.37295,0.37292,0.37293,0.37294,0.37297,0.37301,0.37306,0.37313,0.37322,0.37335,0.37351,0.37369,0.37388,0.37407,0.37424,0.37439,0.37451,0.37461,0.37471,0.37481,0.3749,0.37498,0.37505,0.37513,0.37521,0.3753,0.37538,0.37546,0.37552,0.37556,0.37558,0.37558,0.37557,0.37555,0.37553,0.37552,0.37551,0.37551,0.37547,0.37538,0.37525,0.37514,0.37506,0.37505,0.3751,0.37515,0.37521,0.37528,0.37538,0.37551,0.37567,0.37587,0.3761,0.37636,0.37663,0.3769,0.37716,0.3774,0.37761,0.3778,0.37796,0.37812,0.37829,0.37847,0.37869,0.37876,0.37861,0.37836,0.37816,0.37815,0.37847,0.37886,0.37903,0.3791,0.37915,0.37929,0.37961,0.38021,0.3812,0.38266,0.38447,0.38644,0.38859,0.39094,0.39349,0.39627,0.39968,0.40392,0.40862,0.41344,0.41802,0.422,0.42598,0.43063,0.43574,0.44108,0.44642,0.45156,0.45627,0.46033,0.46352,0.46618,0.46873,0.47112,0.47328,0.47513,0.47661,0.47743,0.4775,0.47709,0.47649,0.47595,0.47575,0.47547,0.47462,0.47334,0.47178,0.47007,0.46837,0.46682,0.46557,0.46476,0.46416,0.46351,0.46285,0.46225,0.46174,0.46139,0.46128,0.46138,0.46161,0.46189,0.46213,0.46224,0.46241,0.4628,0.46329,0.46378,0.46415,0.46431,0.46433,0.46435,0.46436,0.46436,0.46431,0.46422,0.46404,0.46376,0.46343,0.4631,0.46279,0.46257,0.46237,0.46213,0.46188,0.46161,0.46134,0.46109,0.46084,0.46055,0.46025,0.45993,0.45961,0.45929,0.45899,0.45872,0.45848,0.45836,0.45837,0.45845,0.45853,0.45853,0.45839,0.4581,0.45774,0.45734,0.45692,0.45652,0.45616,0.45576,0.45526,0.45469,0.45409,0.45348,0.45291,0.4524,0.45199,0.45171,0.45159,0.45159,0.45165,0.45174,0.45179,0.45175,0.45165,0.45159,0.45153,0.45149,0.45145,0.45141,0.4514,0.45145,0.45154,0.45165,0.45177,0.45189,0.45198,0.45203,0.45202,0.45194,0.45178,0.45158,0.45137,0.4512,0.45108,0.45104,0.45105,0.45109,0.45112,0.45111,0.45101,0.45101,0.45122,0.45157,0.45197,0.45235,0.45262,0.45271,0.45252,0.45199,0.45126,0.45053,0.44973,0.44879,0.44767,0.4463,0.44462,0.44268,0.44054,0.43829,0.436,0.43375,0.43136,0.42862,0.42562,0.42244,0.41914,0.41581,0.41252,0.40934,0.40637,0.40315,0.39942,0.39545,0.39154,0.38798,0.38506,0.38239,0.37953,0.37664,0.37391,0.37151,0.36964,0.36822,0.36708,0.36618,0.36548,0.36495,0.36456,0.36428,0.36407,0.3639,0.36412,0.36492,0.36605,0.36729,0.36838,0.36907,0.36982,0.37105,0.37254,0.37403,0.3753,0.37609,0.37649,0.37675,0.37689,0.37695,0.37693,0.37688,0.37681,0.37676,0.37674,0.37666,0.37645,0.37617,0.37587,0.37562,0.37547,0.3754,0.37533,0.37526,0.37518,0.3751,0.37501,0.37489,0.37475,0.3746,0.37445,0.37431,0.3742,0.37408,0.37394,0.37379,0.37366,0.37354,0.37347,0.37342,0.37338,0.37335,0.37333,0.37331,0.37329,0.37327,0.37327,0.37327,0.37327,0.37328,0.37328,0.37331,0.37337,0.37346,0.37357,0.37369,0.3738,0.37391,0.37399,0.37404,0.37408,0.37412,0.37417,0.37421,0.37422,0.3742,0.37413,0.374,0.37384,0.37367,0.37352,0.37341,0.37332,0.37318,0.37303,0.37286,0.3727,0.37256,0.37245,0.37239,0.37239,0.37243,0.37251,0.3726,0.37271,0.37281,0.37292,0.37307,0.3733,0.37357,0.37385,0.37409,0.37426,0.37441,0.37459,0.37481,0.37503,0.37525,0.37545,0.37562,0.37574,0.3758,0.37575,0.3756,0.3754,0.37519,0.37501,0.3749,0.3748,0.37463,0.37441,0.3742,0.37402,0.37392,0.37388,0.37385,0.37384,0.37384,0.37385,0.37387,0.37389,0.37393,0.37397,0.37402,0.37409,0.37417,0.37426,0.37437,0.37448,0.37462,0.37478,0.37496,0.37515,0.37533,0.3755,0.37563,0.37574,0.37584,0.37592,0.37601,0.37612,0.37625,0.37641,0.37661,0.3768,0.37693,0.37705,0.3772,0.37743,0.37778,0.37814,0.37843,0.37871,0.37904,0.37947,0.38006,0.38059,0.38087,0.38102,0.38113,0.38133,0.38172,0.38242,0.38353,0.38517,0.38715,0.38926,0.39154,0.39403,0.39677,0.39981,0.40353,0.40805,0.41304,0.41815,0.42304,0.42735,0.43176,0.43697,0.44274,0.4488,0.45489,0.46075,0.46613,0.47077,0.4744,0.47756,0.4808,0.48396,0.48683,0.48925,0.49102,0.49184,0.49175,0.49106,0.4901,0.48917,0.48861,0.48773,0.4859,0.48354,0.48103,0.47876,0.47714,0.47568,0.47376,0.47162,0.46947,0.46754,0.46605,0.46482,0.46354,0.46227,0.46106,0.45997,0.45906,0.45839,0.45793,0.4576,0.45733,0.45704,0.45665,0.45626,0.45596,0.45574,0.45558,0.45546,0.45534,0.45522,0.45506,0.45485,0.45468,0.45465,0.45469,0.45474,0.45472,0.45459,0.45434,0.45403,0.45369,0.45333,0.45299,0.45268,0.45237,0.45201,0.45162,0.45122,0.4508,0.4504,0.45002,0.44968,0.44939,0.44917,0.44902,0.4489,0.44879,0.44866,0.44849,0.4483,0.44815,0.44801,0.44787,0.4477,0.44748,0.44723,0.44694,0.44664,0.44633,0.44602,0.44572,0.44542,0.44515,0.44491,0.44468,0.44442,0.44414,0.44388,0.44363,0.44341,0.44318,0.44291,0.44262,0.44234,0.44211,0.44195,0.44185,0.44176,0.44169,0.44164,0.44161,0.44162,0.44174,0.442,0.44234,0.44269,0.44298,0.44314,0.44324,0.44335,0.44347,0.44358,0.44367,0.44371,0.44373,0.44375,0.44375,0.44375,0.44375,0.44373,0.44375,0.44382,0.44393,0.44404,0.44413,0.44417,0.44414,0.444,0.44375,0.44344,0.44316,0.44287,0.44252,0.44207,0.44149,0.44089,0.44038,0.43987,0.43928,0.43854,0.43756,0.43639,0.43513,0.43377,0.4323,0.43072,0.42903,0.42722,0.42528,0.42322,0.42077,0.41783,0.41463,0.41137,0.4083,0.40563,0.4029,0.39969,0.39627,0.3929,0.38986,0.38742,0.38533,0.38322,0.38112,0.37908,0.37714,0.37537,0.37379,0.37246,0.37143,0.37088,0.37085,0.37113,0.37154,0.37188,0.37196,0.37219,0.37298,0.37407,0.3752,0.37613,0.3766,0.3768,0.37706,0.37733,0.37758,0.37778,0.37788,0.3778,0.37757,0.37723,0.37687,0.37655,0.37635,0.37619,0.37598,0.37574,0.37549,0.37526,0.37508,0.37492,0.37474,0.37455,0.37436,0.37421,0.37409,0.37401,0.37396,0.37394,0.37393,0.37395,0.37397,0.374,0.37403,0.37406,0.37409,0.37413,0.37417,0.37421,0.37424,0.37429,0.37436,0.37444,0.37453,0.37461,0.37468,0.37477,0.37489,0.37504,0.3752,0.37536,0.3755,0.37562,0.37571,0.37575,0.37573,0.37567,0.37558,0.37547,0.37537,0.37529,0.37519,0.37503,0.37484,0.37466,0.3745,0.37441,0.37435,0.37427,0.37418,0.37409,0.374,0.37394,0.37389,0.37388,0.37391,0.37401,0.37419,0.37441,0.37463,0.37483,0.37496,0.37512,0.3754,0.37572,0.37602,0.37627,0.37638,0.3764,0.37638,0.37633,0.37625,0.37616,0.37605,0.37593,0.37581,0.3757,0.3755,0.37518,0.37479,0.37441,0.37408,0.37387,0.37372,0.37352,0.37331,0.37311,0.37295,0.37287,0.37288,0.37296,0.3731,0.37329,0.37349,0.3737,0.3739,0.37406,0.37417,0.37427,0.37441,0.37456,0.37472,0.37486,0.37496,0.37501,0.37503,0.37502,0.37501,0.37501,0.37504,0.37507,0.37506,0.37502,0.37497,0.37491,0.37488,0.37487,0.37491,0.37501,0.37509,0.37511,0.37512,0.37515,0.37527,0.37551,0.37567,0.37561,0.37548,0.37543,0.37561,0.37618,0.3769,0.37748,0.37801,0.37857,0.37927,0.38018,0.38139,0.383,0.38508,0.38774,0.39088,0.39437,0.39802,0.40168,0.40519,0.40919,0.41414,0.41957,0.42505,0.43012,0.43433,0.43851,0.44347,0.44875,0.45392,0.45851,0.46208,0.46504,0.46803,0.47092,0.47357,0.47586,0.47764,0.47868,0.47898,0.47881,0.4784,0.47802,0.47792,0.47751,0.47625,0.47451,0.47266,0.47107,0.47008,0.46943,0.46861,0.46768,0.46668,0.46567,0.4647,0.46383,0.46309,0.46255,0.46223,0.46205,0.46197,0.46191,0.46181,0.46162,0.46146,0.46146,0.46155,0.46165,0.46167,0.46156,0.46131,0.46099,0.46063,0.46024,0.45985,0.45946,0.4591,0.45878,0.45852,0.45825,0.45792,0.45756,0.45721,0.4569,0.45669,0.45658,0.45653,0.45652,0.45654,0.45654,0.4565,0.45649,0.45658,0.45672,0.45691,0.45711,0.45729,0.45744,0.45751,0.45748,0.45744,0.45743,0.45744,0.45741,0.45732,0.45712,0.4568,0.45638,0.45589,0.45538,0.45487,0.4544,0.45389,0.45327,0.45257,0.45183,0.45107,0.45033,0.44965,0.44905,0.44856,0.44809,0.44752,0.44692,0.44635,0.44588,0.44556,0.44536,0.44523,0.44515,0.44511,0.4451,0.44511,0.44522,0.44549,0.44588,0.44635,0.44686,0.44736,0.44781,0.44817,0.4484,0.44856,0.44874,0.44891,0.44907,0.4492,0.44929,0.44932,0.4493,0.44926,0.44919,0.44913,0.44908,0.44909,0.44915,0.44924,0.44933,0.4494,0.44942,0.44936,0.44919,0.44889,0.44854,0.44821,0.44787,0.44747,0.44698,0.44637,0.44565,0.44488,0.44406,0.44317,0.44223,0.44121,0.44013,0.43896,0.43771,0.43639,0.435,0.43353,0.432,0.43039,0.42871,0.42698,0.42518,0.42332,0.42139,0.41938,0.41729,0.4152,0.41315,0.41109,0.40895,0.40667,0.4042,0.40125,0.39779,0.39412,0.39057,0.38741,0.38497,0.38277,0.38026,0.37766,0.3752,0.37309,0.37156,0.37067,0.37025,0.37012,0.37014,0.37014,0.36996,0.37025,0.37148,0.37323,0.37507,0.37658,0.37733,0.37755,0.37777,0.37798,0.37818,0.37836,0.37852,0.37865,0.37875,0.37882,0.37883,0.37878,0.37867,0.37855,0.37843,0.37833,0.37825,0.37816,0.37806,0.37797,0.37788,0.37782,0.37778,0.37776,0.37777,0.37778,0.37779,0.37781,0.37781,0.37779,0.37775,0.37769,0.37764,0.37759,0.37753,0.37745,0.37736,0.37726,0.37716,0.37706,0.37695,0.37682,0.37667,0.37648,0.37627,0.37603,0.37579,0.37556,0.37533,0.37514,0.37498,0.3748,0.37458,0.37434,0.37412,0.37395,0.37386,0.37386,0.37393,0.37404,0.37417,0.37429,0.37436,0.37444,0.37457,0.37473,0.37491,0.37511,0.37529,0.37544,0.37556,0.37563,0.37566,0.3757,0.37573,0.37575,0.37577,0.37577,0.37575,0.37569,0.37561,0.37552,0.37543,0.37536,0.37528,0.37515,0.37499,0.37482,0.37464,0.37447,0.37433,0.37424,0.37419,0.3742,0.37424,0.37431,0.37439,0.37446,0.37453,0.3746,0.37469,0.37479,0.37491,0.37501,0.37511,0.37521,0.37533,0.37546,0.37561,0.37576,0.37591,0.37605,0.37618,0.3763,0.3764,0.37648,0.37657,0.37665,0.37674,0.37683,0.3769,0.37692,0.37692,0.37692,0.37695,0.37704,0.37717,0.37732,0.37748,0.37766,0.37785,0.37805,0.37825,0.37845,0.37866,0.37889,0.37913,0.37939,0.37965,0.37992,0.38016,0.38035,0.38045,0.38052,0.38061,0.38077,0.38105,0.38129,0.38136,0.38137,0.38144,0.38167,0.38217,0.38269,0.38298,0.38322,0.38357,0.38419,0.38525,0.38652,0.38772,0.38897,0.39039,0.39209,0.3942,0.39682,0.39992,0.40333,0.40688,0.41042,0.4138,0.41746,0.42184,0.42673,0.4319,0.43716,0.44227,0.44702,0.45121,0.45461,0.45775,0.46113,0.46453,0.46775,0.47057,0.47276,0.47431,0.47544,0.47625,0.47684,0.47733,0.47781,0.47798,0.47751,0.47656,0.47526,0.47376,0.47221,0.47073,0.46947,0.46858,0.46778,0.46676,0.46563,0.4645,0.46346,0.46263,0.46199,0.46144,0.46095,0.46048,0.46,0.45948,0.4589,0.45827,0.4576,0.45692,0.45626,0.45563,0.45505,0.45455,0.45415,0.45385,0.45363,0.45346,0.45331,0.45317,0.45301,0.45294,0.45301,0.45316,0.45332,0.45343,0.45342,0.45336,0.45337,0.45341,0.45344,0.45343,0.45336,0.45322,0.45307,0.45291,0.45273,0.45254,0.45234,0.4521,0.45178,0.45141,0.45104,0.45069,0.45041,0.45014,0.44984,0.44952,0.4492,0.4489,0.44862,0.44837,0.44811,0.44786,0.44761,0.44738,0.44715,0.44693,0.44673,0.44655,0.44634,0.44608,0.44582,0.44557,0.44537,0.44525,0.44524,0.44533,0.44547,0.44562,0.44574,0.44578,0.44582,0.44592,0.44608,0.44625,0.44643,0.44658,0.44668,0.44671,0.44664,0.44648,0.44626,0.44601,0.44574,0.44548,0.44526,0.44501,0.44468,0.44431,0.44393,0.44357,0.44326,0.44305,0.44295,0.44292,0.44292,0.4429,0.44282,0.44264,0.44231,0.4418,0.44146,0.44153,0.44173,0.4418,0.44145,0.44043,0.43888,0.43714,0.43523,0.43315,0.43093,0.42856,0.42548,0.42141,0.41683,0.41218,0.40794,0.40456,0.40115,0.39683,0.39211,0.38749,0.38347,0.38055,0.37837,0.37625,0.37427,0.37246,0.37091,0.36966,0.36902,0.36906,0.36954,0.3702,0.37079,0.37105,0.37137,0.37219,0.3734,0.37485,0.37641,0.37794,0.3793,0.38037,0.38099,0.38128,0.38145,0.38153,0.38155,0.38153,0.38151,0.38138,0.38109,0.38069,0.38025,0.37983,0.37949,0.37915,0.37867,0.37811,0.37749,0.37686,0.37625,0.3757,0.37525,0.37493,0.37464,0.37431,0.37396,0.37363,0.37337,0.37322,0.37321,0.37332,0.37351,0.37372,0.3739,0.37399,0.37407,0.37422,0.37442,0.37466,0.37492,0.37518,0.37543,0.37564,0.3758,0.37593,0.37605,0.37617,0.37627,0.37636,0.37642,0.37641,0.3763,0.37615,0.37602,0.37598,0.37601,0.37607,0.37615,0.37625,0.37636,0.37647,0.37658,0.37667,0.37674,0.37685,0.37702,0.3772,0.37738,0.3775,0.37753,0.37745,0.37729,0.37709,0.37687,0.37667,0.3765,0.37633,0.37612,0.37587,0.3756,0.37533,0.37508,0.37486,0.37469,0.37459,0.37449,0.37437,0.37422,0.3741,0.37401,0.37399,0.37404,0.37414,0.37428,0.37443,0.37459,0.37473,0.37491,0.37517,0.37548,0.37583,0.37621,0.37657,0.37691,0.37721,0.37744,0.37764,0.37785,0.37806,0.37826,0.37843,0.37855,0.37863,0.37866,0.37866,0.37866,0.37865,0.37867,0.37867,0.37863,0.37857,0.37849,0.3784,0.37831,0.37824,0.37819,0.37818,0.37816,0.37809,0.37801,0.37793,0.37789,0.3779,0.37798,0.37808,0.37821,0.37835,0.37848,0.3786,0.37877,0.37901,0.37929,0.37957,0.37982,0.38,0.38015,0.38034,0.38054,0.38072,0.38086,0.38094,0.38097,0.38099,0.381,0.381,0.38101,0.38103,0.38102,0.38095,0.38084,0.38073,0.38065,0.38061,0.38033,0.37959,0.37855,0.37733,0.37611,0.37501,0.37419,0.37379,0.37397,0.37421,0.37408,0.37386,0.37383,0.37426,0.37543,0.37723,0.37932,0.38164,0.38414,0.38676,0.38944,0.3926,0.39656,0.4011,0.40604,0.41118,0.41631,0.42124,0.42576,0.42967,0.43363,0.43819,0.44297,0.44762,0.45177,0.45507,0.45785,0.46063,0.46329,0.46573,0.46782,0.46946,0.47043,0.47068,0.47036,0.46963,0.46865,0.46757,0.46654,0.46572,0.46527,0.46479,0.46391,0.46281,0.46166,0.46066,0.45998,0.4595,0.45898,0.45845,0.45793,0.45744,0.457,0.45663,0.45632,0.45607,0.45586,0.45567,0.45549,0.4553,0.4551,0.45487,0.45463,0.45441,0.45419,0.45398,0.45375,0.45349,0.45316,0.45277,0.45234,0.45192,0.45152,0.4512,0.45093,0.4507,0.45048,0.45027,0.45008,0.4499,0.44972,0.44953,0.44934,0.44913,0.44887,0.4486,0.44834,0.44811,0.44792,0.44776,0.44759,0.44741,0.44725,0.44713,0.44704,0.447,0.447,0.44703,0.44708,0.44716,0.44725,0.44736,0.44748,0.4476,0.44781,0.44813,0.44852,0.44889,0.44921,0.4494,0.44956,0.44979,0.45006,0.4503,0.45048,0.45055,0.45054,0.45049,0.45043,0.45033,0.4502,0.45003,0.44984,0.44961,0.44934,0.4489,0.44825,0.44749,0.44672,0.44604,0.44557,0.44519,0.44475,0.44427,0.44381,0.44342,0.44312,0.443,0.44307,0.44322,0.44338,0.44346,0.44337,0.44333,0.44353,0.44382,0.44408,0.44415,0.4439,0.44371,0.44387,0.44416,0.44432,0.44413,0.44334,0.44214,0.44085,0.43944,0.43785,0.43603,0.43394,0.43128,0.42792,0.42402,0.4198,0.41543,0.4111,0.407,0.40331,0.40024,0.39715,0.39351,0.38967,0.38594,0.38267,0.38017,0.37819,0.37627,0.37449,0.37289,0.37153,0.37046,0.36994,0.37006,0.37069,0.37168,0.37288,0.37415,0.37534,0.37631,0.37691,0.37755,0.37859,0.37984,0.38108,0.38212,0.38275,0.38305,0.38325,0.38337,0.38343,0.38345,0.38345,0.38337,0.38314,0.38279,0.38237,0.38191,0.38144,0.381,0.38063,0.38036,0.38009,0.37973,0.37932,0.37892,0.37858,0.37835,0.37818,0.37802,0.37785,0.37771,0.37759,0.37751,0.37752,0.37761,0.37777,0.37797,0.3782,0.37843,0.37864,0.3788,0.3789,0.37899,0.37913,0.37928,0.37943,0.37954,0.3796,0.37957,0.37949,0.37937,0.37923,0.37911,0.37903,0.37897,0.37891,0.37884,0.37876,0.37868,0.37858,0.37848,0.37837,0.37825,0.37812,0.37798,0.37783,0.37767,0.37751,0.37735,0.37717,0.37695,0.37671,0.37648,0.37626,0.37609,0.37593,0.37576,0.37558,0.37539,0.37521,0.37504,0.37488,0.37476,0.37466,0.37459,0.37454,0.3745,0.37448,0.37446,0.37446,0.3745,0.37459,0.37471,0.37485,0.37497,0.37505,0.37512,0.37518,0.37526,0.37533,0.37541,0.37549,0.37557,0.37565,0.37572,0.37579,0.37585,0.3759,0.37596,0.37602,0.37611,0.37619,0.37627,0.37636,0.37645,0.37655,0.37667,0.37681,0.37697,0.37713,0.37731,0.37748,0.37764,0.37783,0.37805,0.37828,0.37852,0.37874,0.37891,0.37906,0.37922,0.37938,0.37954,0.37969,0.37982,0.37993,0.38002,0.38009,0.38015,0.38022,0.38031,0.3804,0.38046,0.3805,0.38053,0.38056,0.3806,0.38065,0.38071,0.38081,0.38091,0.38098,0.38105,0.38113,0.38124,0.3814,0.38158,0.38175,0.38192,0.38211,0.38234,0.38262,0.38277,0.38266,0.3824,0.38208,0.38179,0.38165,0.38173,0.38215,0.383,0.38395,0.38472,0.3855,0.38647,0.38781,0.38972,0.3923,0.39539,0.39882,0.40242,0.40602,0.40943,0.41318,0.41775,0.4229,0.4284,0.434,0.43948,0.44458,0.44909,0.45275,0.45623,0.46013,0.46414,0.46795,0.47125,0.47373,0.47534,0.47636,0.47696,0.47731,0.47759,0.47796,0.47783,0.47674,0.47509,0.47329,0.47175,0.47086,0.47009,0.4688,0.46723,0.46566,0.46435,0.46354,0.4631,0.46268,0.4623,0.46198,0.46173,0.46156,0.46164,0.46203,0.46259,0.46319,0.46368,0.46391,0.46408,0.4644,0.46483,0.46531,0.46578,0.46619,0.46649,0.46662,0.46652,0.46623,0.46581,0.46531,0.46475,0.46418,0.46362,0.46292,0.46197,0.46088,0.45975,0.45871,0.45786,0.45705,0.4561,0.45505,0.45397,0.45288,0.45185,0.45092,0.45013,0.44955,0.44911,0.44873,0.4484,0.44813,0.44792,0.44775,0.44771,0.44785,0.44809,0.44837,0.44863,0.44881,0.44901,0.44937,0.44984,0.45036,0.45091,0.45142,0.45187,0.45219,0.45235,0.45241,0.45247,0.45251,0.45253,0.4525,0.45243,0.45224,0.4519,0.45148,0.45104,0.45064,0.45034,0.45002,0.44958,0.44907,0.44856,0.44811,0.44779,0.44754,0.44726,0.44698,0.44671,0.44647,0.44629,0.44623,0.44631,0.44648,0.44666,0.44678,0.44678,0.44672,0.4467,0.44668,0.44666,0.44662,0.44654,0.44646,0.4464,0.44637,0.44633,0.44628,0.4462,0.44607,0.44589,0.44563,0.44531,0.44496,0.44458,0.44417,0.44372,0.44323,0.44274,0.44226,0.44176,0.44123,0.44065,0.43999,0.43937,0.43887,0.43842,0.43797,0.43746,0.43683,0.43602,0.43498,0.43364,0.43205,0.43032,0.42846,0.42649,0.42443,0.42229,0.41978,0.41677,0.41347,0.41014,0.407,0.4043,0.40165,0.39858,0.39523,0.39175,0.38829,0.38499,0.38198,0.37942,0.37744,0.37591,0.37455,0.37337,0.37235,0.37148,0.37075,0.3705,0.37092,0.37172,0.37265,0.37345,0.37385,0.37415,0.37475,0.37559,0.37657,0.3776,0.37862,0.37952,0.38023,0.38066,0.38089,0.38103,0.38112,0.38116,0.38117,0.38116,0.3811,0.38094,0.38072,0.38047,0.38022,0.38001,0.37978,0.37948,0.37911,0.37871,0.37829,0.37787,0.37748,0.37713,0.37684,0.37655,0.37619,0.37581,0.37545,0.37513,0.37491,0.37475,0.3746,0.37448,0.37438,0.3743,0.37428,0.37434,0.37446,0.37462,0.37481,0.37499,0.37516,0.3753,0.37538,0.37546,0.37556,0.37568,0.3758,0.37588,0.37593,0.37591,0.37586,0.37578,0.3757,0.37563,0.37559,0.37555,0.37549,0.37542,0.37533,0.37525,0.37517,0.37512,0.37509,0.3751,0.37515,0.37525,0.37536,0.37548,0.37559,0.37566,0.37574,0.37584,0.37596,0.37608,0.37618,0.37625,0.37631,0.37636,0.37642,0.37648,0.37653,0.37657,0.37658,0.37656,0.37651,0.37646,0.37643,0.37643,0.37644,0.37641,0.37636,0.37632,0.3763,0.37633,0.37642,0.37655,0.37671,0.37688,0.37703,0.37714,0.37724,0.37737,0.37751,0.37766,0.37781,0.37795,0.37808,0.37819,0.37827,0.37831,0.37831,0.37828,0.37826,0.37825,0.37828,0.37831,0.37832,0.37831,0.37831,0.37832,0.37836,0.37843,0.3785,0.37858,0.37867,0.37876,0.37885,0.37895,0.37906,0.37916,0.3793,0.37948,0.37968,0.37988,0.38006,0.38021,0.3803,0.38035,0.38038,0.38042,0.38047,0.38058,0.38049,0.38004,0.37935,0.37856,0.3778,0.37721,0.37692,0.37706,0.37776,0.37866,0.37944,0.38026,0.38129,0.38271,0.38468,0.38745,0.39094,0.39487,0.39896,0.40293,0.4065,0.41027,0.4149,0.42012,0.42569,0.43135,0.43684,0.44191,0.44631,0.44978,0.45288,0.4562,0.45952,0.46261,0.46527,0.46728,0.46837,0.46864,0.46839,0.46789,0.46746,0.46737,0.46717,0.46632,0.46498,0.46333,0.46152,0.45973,0.45811,0.45684,0.45608,0.45565,0.45524,0.45488,0.45454,0.45424,0.45397,0.45386,0.45394,0.45414,0.45437,0.45452,0.45452,0.45442,0.45435,0.4543,0.45427,0.45424,0.45421,0.45416,0.4541,0.45402,0.45387,0.45367,0.45343,0.45319,0.45298,0.45282,0.45269,0.45255,0.4524,0.45225,0.45211,0.45197,0.45187,0.45181,0.45177,0.45176,0.45175,0.45175,0.45173,0.4517,0.45163,0.45154,0.45146,0.45138,0.45128,0.45118,0.45107,0.45089,0.45062,0.45031,0.45,0.44973,0.44955,0.44942,0.44931,0.44921,0.44912,0.44904,0.44896,0.44891,0.44889,0.44889,0.4489,0.44891,0.4489,0.44888,0.44887,0.44886,0.44885,0.44885,0.44886,0.44894,0.44911,0.44931,0.44951,0.44965,0.44969,0.44965,0.44958,0.4495,0.4494,0.44928,0.44916,0.44902,0.44888,0.44874,0.44861,0.4485,0.4484,0.44827,0.44812,0.44791,0.44769,0.44747,0.44725,0.447,0.44672,0.44637,0.446,0.44565,0.44531,0.44495,0.44457,0.44414,0.44366,0.44311,0.44247,0.44185,0.4413,0.44076,0.44014,0.43936,0.43835,0.43716,0.43586,0.43447,0.433,0.43146,0.42985,0.42812,0.42623,0.42417,0.42194,0.41955,0.41699,0.41427,0.41139,0.40834,0.40557,0.40334,0.40142,0.39955,0.3975,0.39501,0.39233,0.38984,0.38757,0.38551,0.38367,0.38205,0.38055,0.37905,0.3776,0.37621,0.37492,0.37376,0.37276,0.37195,0.37135,0.3711,0.37119,0.3715,0.37188,0.3722,0.37232,0.37247,0.37286,0.3734,0.37396,0.37443,0.37469,0.37483,0.375,0.37519,0.37538,0.37557,0.37573,0.37586,0.37595,0.37597,0.3759,0.37572,0.37549,0.37525,0.37504,0.3749,0.37478,0.37461,0.37441,0.37421,0.37404,0.37392,0.37384,0.37378,0.37372,0.37368,0.37364,0.3736,0.37357,0.37352,0.37347,0.37342,0.37338,0.37334,0.3733,0.37326,0.37322,0.37319,0.37315,0.37312,0.37309,0.37306,0.37303,0.37299,0.37295,0.37291,0.37287,0.37283,0.37278,0.37274,0.37269,0.37269],"showlegend":true,"mode":"lines","type":"scatter","line":{"color":"rgb(120,120,120)","width":2},"name":"Gcc loess fit","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-05-01","2009-04-26","2010-04-18","2011-04-30","2012-04-21","2013-04-28","2014-05-05","2015-04-29","2016-05-05","2017-05-02","2018-05-02","2019-05-03","2020-05-11","2021-05-04","2022-05-05"],"y":[0.37627,0.3768,0.37687,0.37879,0.38191,0.38168,0.38332,0.38063,0.38447,0.38517,0.38508,0.38652,0.38414,0.38781,0.38468],"showlegend":true,"mode":"markers","type":"scatter","marker":{"color":"#7FFF00","symbol":"circle","line":{"color":"rgba(44,160,44,1)"}},"name":"SOS (10%)","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-04-29","2008-05-04",null,"2009-04-23","2009-04-29",null,"2010-04-11","2010-04-21",null,"2011-04-28","2011-05-03",null,"2012-04-16","2012-04-25",null,"2013-04-26","2013-04-30",null,"2014-05-03","2014-05-07",null,"2015-04-27","2015-05-02",null,"2016-05-03","2016-05-08",null,"2017-04-29","2017-05-05",null,"2018-04-30","2018-05-04",null,"2019-04-29","2019-05-07",null,"2020-05-10","2020-05-14",null,"2021-05-01","2021-05-07",null,"2022-05-03","2022-05-07"],"y":[0.37627,0.37627,null,0.3768,0.3768,null,0.37687,0.37687,null,0.37879,0.37879,null,0.38191,0.38191,null,0.38168,0.38168,null,0.38332,0.38332,null,0.38063,0.38063,null,0.38447,0.38447,null,0.38517,0.38517,null,0.38508,0.38508,null,0.38652,0.38652,null,0.38414,0.38414,null,0.38781,0.38781,null,0.38468,0.38468],"showlegend":false,"mode":"lines","type":"scatter","line":{"color":"#7FFF00"},"name":"SOS (10%) - CI","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-05-07","2009-05-02","2010-04-24","2011-05-06","2012-04-29","2013-05-03","2014-05-10","2015-05-05","2016-05-11","2017-05-08","2018-05-06","2019-05-10","2020-05-15","2021-05-09","2022-05-09"],"y":[0.39039,0.38992,0.39059,0.39329,0.39679,0.3962,0.39849,0.39549,0.39968,0.39981,0.39802,0.39992,0.39656,0.40242,0.39896],"showlegend":true,"mode":"markers","type":"scatter","marker":{"color":"#66CD00","symbol":"square","line":{"color":"rgba(148,103,189,1)"}},"name":"SOS (25%)","error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-05-06","2008-05-09",null,"2009-05-01","2009-05-04",null,"2010-04-23","2010-04-26",null,"2011-05-05","2011-05-08",null,"2012-04-28","2012-05-01",null,"2013-05-02","2013-05-05",null,"2014-05-09","2014-05-12",null,"2015-05-03","2015-05-07",null,"2016-05-10","2016-05-13",null,"2017-05-07","2017-05-10",null,"2018-05-05","2018-05-08",null,"2019-05-09","2019-05-12",null,"2020-05-14","2020-05-17",null,"2021-05-08","2021-05-11",null,"2022-05-08","2022-05-11"],"y":[0.39039,0.39039,null,0.38992,0.38992,null,0.39059,0.39059,null,0.39329,0.39329,null,0.39679,0.39679,null,0.3962,0.3962,null,0.39849,0.39849,null,0.39549,0.39549,null,0.39968,0.39968,null,0.39981,0.39981,null,0.39802,0.39802,null,0.39992,0.39992,null,0.39656,0.39656,null,0.40242,0.40242,null,0.39896,0.39896],"showlegend":false,"mode":"lines","type":"scatter","line":{"color":"#66CD00"},"name":"SOS (25%) - CI","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-05-15","2009-05-09","2010-05-01","2011-05-13","2012-05-06","2013-05-10","2014-05-16","2015-05-12","2016-05-18","2017-05-16","2018-05-13","2019-05-18","2020-05-21","2021-05-15","2022-05-15"],"y":[0.41797,0.41598,0.41723,0.4213,0.42531,0.42349,0.42729,0.42193,0.43063,0.43697,0.43012,0.4319,0.42576,0.4284,0.42569],"showlegend":true,"mode":"markers","type":"scatter","marker":{"color":"#458B00","symbol":"diamond","line":{"color":"rgba(227,119,194,1)"}},"name":"SOS (50%)","error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"line":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-05-12","2008-05-16",null,"2009-05-07","2009-05-10",null,"2010-04-29","2010-05-02",null,"2011-05-11","2011-05-14",null,"2012-05-04","2012-05-07",null,"2013-05-08","2013-05-11",null,"2014-05-15","2014-05-17",null,"2015-05-10","2015-05-13",null,"2016-05-16","2016-05-19",null,"2017-05-14","2017-05-17",null,"2018-05-11","2018-05-14",null,"2019-05-16","2019-05-19",null,"2020-05-19","2020-05-22",null,"2021-05-14","2021-05-16",null,"2022-05-13","2022-05-16"],"y":[0.41797,0.41797,null,0.41598,0.41598,null,0.41723,0.41723,null,0.4213,0.4213,null,0.42531,0.42531,null,0.42349,0.42349,null,0.42729,0.42729,null,0.42193,0.42193,null,0.43063,0.43063,null,0.43697,0.43697,null,0.43012,0.43012,null,0.4319,0.4319,null,0.42576,0.42576,null,0.4284,0.4284,null,0.42569,0.42569],"showlegend":false,"mode":"lines","type":"scatter","line":{"color":"#458B00"},"name":"SOS (50%) - CI","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-10-25","2020-10-13","2019-10-13","2018-10-22","2017-10-21","2016-10-17","2015-10-17","2014-10-11","2013-10-03","2012-10-07","2011-10-12","2010-10-06","2009-10-10","2008-10-13"],"y":[0.42443,0.42402,0.42141,0.42518,0.42722,0.42244,0.42287,0.42519,0.42246,0.41825,0.41998,0.4145,0.41632,0.41046],"showlegend":true,"mode":"markers","type":"scatter","marker":{"color":"#FFB90F","symbol":"diamond","line":{"color":"rgba(188,189,34,1)"}},"name":"EOS (50%)","error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"line":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-10-28","2021-10-23",null,"2020-10-15","2020-10-12",null,"2019-10-14","2019-10-12",null,"2018-10-26","2018-10-20",null,"2017-10-24","2017-10-19",null,"2016-10-19","2016-10-16",null,"2015-10-19","2015-10-16",null,"2014-10-13","2014-10-10",null,"2013-10-06","2013-09-28",null,"2012-10-09","2012-10-06",null,"2011-10-15","2011-10-09",null,"2010-10-09","2010-10-05",null,"2009-10-13","2009-10-09",null,"2008-10-15","2008-10-12"],"y":[0.42443,0.42443,null,0.42402,0.42402,null,0.42141,0.42141,null,0.42518,0.42518,null,0.42722,0.42722,null,0.42244,0.42244,null,0.42287,0.42287,null,0.42519,0.42519,null,0.42246,0.42246,null,0.41825,0.41825,null,0.41998,0.41998,null,0.4145,0.4145,null,0.41632,0.41632,null,0.41046,0.41046],"showlegend":false,"mode":"lines","type":"scatter","line":{"color":"#FFB90F"},"name":"EOS (50%) - CI","marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-11-02","2020-10-19","2019-10-19","2018-11-02","2017-10-30","2016-10-25","2015-10-25","2014-10-17","2013-10-14","2012-10-15","2011-10-23","2010-10-14","2009-10-18","2008-10-19"],"y":[0.40165,0.40024,0.39683,0.40125,0.4029,0.39545,0.39824,0.40067,0.39856,0.39411,0.39855,0.391,0.39071,0.38776],"showlegend":true,"mode":"markers","type":"scatter","marker":{"color":"#CD950C","symbol":"square","line":{"color":"rgba(31,119,180,1)"}},"name":"EOS (25%)","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-11-04","2021-10-31",null,"2020-10-20","2020-10-17",null,"2019-10-20","2019-10-17",null,"2018-11-03","2018-10-30",null,"2017-10-31","2017-10-27",null,"2016-10-26","2016-10-23",null,"2015-10-26","2015-10-22",null,"2014-10-19","2014-10-15",null,"2013-10-15","2013-10-11",null,"2012-10-16","2012-10-13",null,"2011-10-24","2011-10-20",null,"2010-10-16","2010-10-12",null,"2009-10-19","2009-10-16",null,"2008-10-20","2008-10-17"],"y":[0.40165,0.40165,null,0.40024,0.40024,null,0.39683,0.39683,null,0.40125,0.40125,null,0.4029,0.4029,null,0.39545,0.39545,null,0.39824,0.39824,null,0.40067,0.40067,null,0.39856,0.39856,null,0.39411,0.39411,null,0.39855,0.39855,null,0.391,0.391,null,0.39071,0.39071,null,0.38776,0.38776],"showlegend":false,"mode":"lines","type":"scatter","line":{"color":"#CD950C"},"name":"EOS (25%) - CI","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-11-06","2020-10-22","2019-10-21","2018-11-06","2017-11-03","2016-10-28","2015-10-29","2014-10-21","2013-10-18","2012-10-20","2011-10-28","2010-10-18","2009-10-22","2008-10-22"],"y":[0.38829,0.38967,0.38749,0.38741,0.38986,0.38506,0.38757,0.38696,0.38787,0.3813,0.38674,0.37756,0.37828,0.3758],"showlegend":true,"mode":"markers","type":"scatter","marker":{"color":"#8B6508","symbol":"circle","line":{"color":"rgba(44,160,44,1)"}},"name":"EOS (10%)","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-11-07","2021-11-04",null,"2020-10-23","2020-10-20",null,"2019-10-22","2019-10-20",null,"2018-11-08","2018-11-03",null,"2017-11-04","2017-11-01",null,"2016-10-30","2016-10-26",null,"2015-10-30","2015-10-26",null,"2014-10-22","2014-10-19",null,"2013-10-20","2013-10-15",null,"2012-10-23","2012-10-17",null,"2011-10-29","2011-10-25",null,"2010-10-19","2010-10-16",null,"2009-10-23","2009-10-19",null,"2008-10-24","2008-10-20"],"y":[0.38829,0.38829,null,0.38967,0.38967,null,0.38749,0.38749,null,0.38741,0.38741,null,0.38986,0.38986,null,0.38506,0.38506,null,0.38757,0.38757,null,0.38696,0.38696,null,0.38787,0.38787,null,0.3813,0.3813,null,0.38674,0.38674,null,0.37756,0.37756,null,0.37828,0.37828,null,0.3758,0.3758],"showlegend":false,"mode":"lines","type":"scatter","line":{"color":"#8B6508"},"name":"EOS (10%) - CI","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>What is the difference in 25% greenness onset for your first site? #hint, look at the spring dataframe you just generated</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="co">#some hints to get you started</span></span>
<span id="cb344-2"><a href="#cb344-2" aria-hidden="true" tabindex="-1"></a><span class="co"># d=spring$transition_25</span></span>
<span id="cb344-3"><a href="#cb344-3" aria-hidden="true" tabindex="-1"></a><span class="co"># d=as.Date(d)</span></span>
<span id="cb344-4"><a href="#cb344-4" aria-hidden="true" tabindex="-1"></a><span class="co"># d</span></span></code></pre></div>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="co">#more code hints</span></span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="co"># dates_split &lt;- data.frame(date = d,</span></span>
<span id="cb345-3"><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a><span class="co">#                  year = as.numeric(format(d, format = &quot;%Y&quot;)),</span></span>
<span id="cb345-4"><a href="#cb345-4" aria-hidden="true" tabindex="-1"></a><span class="co">#                  month = as.numeric(format(d, format = &quot;%m&quot;)),</span></span>
<span id="cb345-5"><a href="#cb345-5" aria-hidden="true" tabindex="-1"></a><span class="co">#                  day = as.numeric(format(d, format = &quot;%d&quot;)))</span></span></code></pre></div>
<p>Generate a plot of smoothed gcc and transition dates for your two sites and subplot them. What do you notice?</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="co">#some hint code for subplotting in plot_ly:</span></span>
<span id="cb346-2"><a href="#cb346-2" aria-hidden="true" tabindex="-1"></a><span class="co">#p &lt;- subplot(p1, p2, nrows=2)</span></span>
<span id="cb346-3"><a href="#cb346-3" aria-hidden="true" tabindex="-1"></a><span class="co">#p</span></span></code></pre></div>
</div>
<div id="in-class-hands-on-coding-comparing-phenology-of-the-same-plant-function-type-pft-across-climate-space" class="section level3 hasAnchor" number="4.12.6">
<h3 class="hasAnchor"><span class="header-section-number">4.12.6</span> In Class Hands-on Coding: Comparing phenology of the same plant function type (PFT) across climate space<a href="#in-class-hands-on-coding-comparing-phenology-of-the-same-plant-function-type-pft-across-climate-space" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As Dr. Richardson mentioned in his introduction lecture, the same plant functional types (e.g. grasslands) can have very different phenologogical cycles. Let’s pick two phenocam grassland sites: one from a tropical climate (kamuela), and one from an arid climate (konza):</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a>GrassSites<span class="ot">=</span>GrassSites[<span class="st">&#39;filter for your sites&#39;</span>]</span></code></pre></div>
<p>Now pull data for those sites via <code>phenocamr</code> or the <code>phenocamapi</code></p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;code here&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;code here&quot;</code></pre>
<p>Now let’s create a subplot of your grasslands to compare phenology, some hint code below:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="co">#some hint code for subplotting in plot_ly:</span></span>
<span id="cb350-2"><a href="#cb350-2" aria-hidden="true" tabindex="-1"></a><span class="co">#p &lt;- subplot(p1, p2, nrows=2)</span></span>
<span id="cb350-3"><a href="#cb350-3" aria-hidden="true" tabindex="-1"></a><span class="co">#p</span></span></code></pre></div>
<p>Once you have a subplot of grassland phenology across 2 climates answer the following questions in your markdown:
1. What seasonal patterns do you see?
2. Do you think you set your thresholds correctly for transition dates/phenophases? How might that very as a function of climate?
3. What are the challenges of forecasting or modeling tropical versus arid grasslands?</p>
</div>
</div>
<div id="digital-repeat-photography-coding-lab" class="section level2 hasAnchor" number="4.13">
<h2 class="hasAnchor"><span class="header-section-number">4.13</span> Digital Repeat Photography Coding Lab<a href="#digital-repeat-photography-coding-lab" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="quantifying-haze-and-redness-to-evaluate-california-wildfires" class="section level3 hasAnchor" number="4.13.1">
<h3 class="hasAnchor"><span class="header-section-number">4.13.1</span> Quantifying haze and redness to evaluate California wildfires<a href="#quantifying-haze-and-redness-to-evaluate-california-wildfires" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>Pull mid-day imagery for September 1-7th, 2019 and 2020 for the canopy-level camera <code>NEON.D17.SOAP.DP1.00033</code>. Create a 2-panel plot showing those images in 2019 (left) and 2020 (right).</p></li>
<li><p>Use the <code>hazeR</code> package to quantify the haze in each of those images. Print a summary of your results.</p></li>
<li><p>Generate a density function RGB plot for your haziest image in 2020, and one for the same date in 2019. Create a 2-panel plot showing 2019 on the left and 2020 on the right.</p></li>
<li><p>Pull timesseries data via the <code>phenocamapi</code> package. Calculate the difference in the rcc90 between 2019 and 2020 over the same time period as your images.</p></li>
<li><p>Create a summary plot showing haze as a bar and the differenece in rcc90 from <em>question 4</em> as a timersies.</p></li>
<li><p>Answer the following questions:</p></li>
</ol>
<ul>
<li><p>Does the <code>hazeR</code> package pick up smokey images?</p></li>
<li><p>If you were to use color coordinates, which color band would be most useful to highlight smoke and why?</p></li>
</ul>
<p><strong>Optional Bonus Points:</strong>
Repeat the above calculations for the understory camera on the same tower <code>NEON.D17.SOAP.DP1.00042</code> and produce the same plots. Which camera is ‘better’ and capturing wildfire? Why do you think that is so?</p>
</div>
</div>
<div id="phenocam-culmination-activity" class="section level2 hasAnchor" number="4.14">
<h2 class="hasAnchor"><span class="header-section-number">4.14</span> PhenoCam Culmination Activity<a href="#phenocam-culmination-activity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Write up a 1-page summary of a project that you might want to explore using PhenoCam data over the duration of this course. Include the types of PhenoCam (and other data) that you will need to implement this project. Save this summary as you will be refining and adding to your ideas over the course of the semester.</p>
<!--chapter:end:04-PhenoCam.Rmd-->
</div>
</div>
<div id="flux-measurements-inter-operability" class="section level1 hasAnchor" number="5">
<h1 class="hasAnchor"><span class="header-section-number">5</span> Flux Measurements &amp; Inter-Operability<a href="#flux-measurements-inter-operability" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>Estimated Time: 3 hours</p>
</blockquote>
<p><strong>Course participants</strong>: As you review this information, please consider
the final course project that you will work on at the over this
semester. At the end of this section, you will document an initial
research question or idea and associated data needed to address that
question, that you may want to explore while pursuing this course.</p>
<div id="learning-objectives-1" class="section level2 hasAnchor" number="5.1">
<h2 class="hasAnchor"><span class="header-section-number">5.1</span> Learning Objectives<a href="#learning-objectives-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At the end of this activity, you will be able to:</p>
<ul>
<li><p>Define the eddy covariance method</p></li>
<li><p>Articulate various carbon storage and flux terms</p></li>
<li><p>Understand the structure of bundled eddy covariance data</p></li>
<li><p>Be able to process NEON flux data such that it is comparable with
AmeriFlux</p></li>
</ul>
<div id="guest-lectures-1" class="section level3 hasAnchor" number="5.1.1">
<h3 class="hasAnchor"><span class="header-section-number">5.1.1</span> Guest Lectures<a href="#guest-lectures-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="neon-flux-data-and-inter-operability-part-1" class="section level4 hasAnchor" number="5.1.1.1">
<h4 class="hasAnchor"><span class="header-section-number">5.1.1.1</span> NEON Flux Data and Inter-operability, Part 1<a href="#neon-flux-data-and-inter-operability-part-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/iKYYhEUq3-M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>1 hour</p>
</blockquote>
<p><strong>Chris Florian</strong>, Research Scientist, Surface-Atmosphere Exchange,
NEON-Battelle introduces NEON flux data.</p>
</div>
<div id="neon-flux-data-and-inter-operability-part-2" class="section level4 hasAnchor" number="5.1.1.2">
<h4 class="hasAnchor"><span class="header-section-number">5.1.1.2</span> NEON Flux Data and Inter-operability, Part 2<a href="#neon-flux-data-and-inter-operability-part-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/krr1m5Rd_wc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>1 hour</p>
</blockquote>
<p><strong>Chris Florian</strong>, Research Scientist, Surface-Atmosphere Exchange,
NEON-Battelle continues the discussion of NEON flux data and
inter-operability.</p>
</div>
</div>
<div id="assignments-in-this-chapter-1" class="section level3 hasAnchor" number="5.1.2">
<h3 class="hasAnchor"><span class="header-section-number">5.1.2</span> Assignments in this chapter<a href="#assignments-in-this-chapter-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><em>NEON Flux Coding Lab</em> Use the NEON flux workflow described in this
chapter to merge data from NEON and AmeriFlux (5.7).</li>
</ul>
</div>
</div>
<div id="eddy-co_variance-data-what-does-it-actually-measure" class="section level2 hasAnchor" number="5.2">
<h2 class="hasAnchor"><span class="header-section-number">5.2</span> Eddy Co_variance Data: What does it actually measure?<a href="#eddy-co_variance-data-what-does-it-actually-measure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/CR4Anc8Mkas" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="example-eddy-site" class="section level3 hasAnchor" number="5.2.1">
<h3 class="hasAnchor"><span class="header-section-number">5.2.1</span> Example Eddy Site<a href="#example-eddy-site" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XrxZy7Dp4ko" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
</div>
<div id="qaqc-flags" class="section level2 hasAnchor" number="5.3">
<h2 class="hasAnchor"><span class="header-section-number">5.3</span> QA/QC Flags<a href="#qaqc-flags" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="examples-of-other-flux-networks-ameriflux-fluxnet" class="section level2 hasAnchor" number="5.4">
<h2 class="hasAnchor"><span class="header-section-number">5.4</span> Examples of Other Flux Networks: AMERIFLUX &amp; FLUXNET<a href="#examples-of-other-flux-networks-ameriflux-fluxnet" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>AmeriFlux is a network of PI-managed sites measuring ecosystem CO2,
water, and energy fluxes in <a href="https://ameriflux.lbl.gov/sites/site-search/#filter-type=all&amp;has-data=All&amp;site_id=">North, Central and South
America</a>.
It was established to connect research on field sites representing major
climate and ecological biomes, including tundra, grasslands, savanna,
crops, and conifer, deciduous, and tropical forests. As a grassroots,
investigator-driven network, the AmeriFlux community has tailored
instrumentation to suit each unique ecosystem. This “coalition of the
willing” is diverse in its interests, use of technologies and
collaborative approaches. As a result, the AmeriFlux Network continually
pioneers new ground.</p>
<p>The network was launched in 1996, after an international workshop on
flux measurements in La Thuile, Italy, in 1995, where some of the first
year-long flux measurements were presented. Early support for the
network came from many sources, including the U.S. Department of
Energy’s Terrestrial Carbon Program, the DOE’s National Institute of
Global Environmental Change (NIGEC), NASA, NOAA and the US Forest
Service. The network grew from about 15 sites in 1997 to more than 110
active sites registered today. Sixty-one other sites, now inactive, have
flux data stored in the network’s database. In 2012, the U.S. DOE
established the AmeriFlux Management Project (AMP) at Lawrence Berkeley
National Laboratory (LBNL) to support the broad AmeriFlux community and
the AmeriFlux sites.</p>
<p><a href="https://ameriflux.lbl.gov/about/network-at-a-glance/">View the AMERIFLUX
Network-at-a-Glance</a></p>
<p>AmeriFlux is now one of the DOE Office of Biological and Environmental
Research’s (BER) best-known and most highly regarded brands in climate
and ecological research. AmeriFlux datasets, and the understanding
derived from them, provide crucial linkages between terrestrial
ecosystem processes and climate-relevant responses at landscape,
regional, and continental scales.</p>
</div>
<div id="the-power-of-networked-ecology-bridging-to-ameriflux-and-beyond" class="section level2 hasAnchor" number="5.5">
<h2 class="hasAnchor"><span class="header-section-number">5.5</span> The Power of Networked Ecology: Bridging to AMERIFLUX and Beyond<a href="#the-power-of-networked-ecology-bridging-to-ameriflux-and-beyond" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Given that <a href="https://ameriflux.lbl.gov/">AmeriFlux</a> has been collecting
and coordinating eddy covariance data across the Americas since 1996.
The network provides a common platform for data sharing and
collaboration for organizations and individual private investigators
collecting flux tower data. There are now &gt;470 registered flux tower
sites in North, Central, and South America in the AmeriFlux network,
many operated by individual researchers or universities. The towers
collect eddy covariance data across a broad range of climate zones and
ecosystem types, from Chile to Alaska and everywhere in between.</p>
<p>Now, data from the NEON project is available through the AmeriFlux data
portal. The NEON team has formatted data from the NEON flux towers to
make it fully compatible with AmeriFlux data. This allows researchers to
view, download and analyze data from the NEON flux towers alongside data
from all of the other flux towers in the AmeriFlux network.</p>
<p>With 47 flux towers at terrestrial field sites across the U.S., the NEON
program is now the largest single contributor of flux tower data to the
AmeriFlux network. NEON field sites are located in 20 ecoclimatic zones
across the U.S., representing many distinct ecosystems. Eddy covariance
data will be served using the same methods at each site for the entire
30-year life of the Observatory, allowing for unprecedented
comparability across both time and space.</p>
</div>
<div id="hands-on-introduction-to-working-with-neon-eddy-flux-data" class="section level2 hasAnchor" number="5.6">
<h2 class="hasAnchor"><span class="header-section-number">5.6</span> Hands On: Introduction to working with NEON eddy flux data<a href="#hands-on-introduction-to-working-with-neon-eddy-flux-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="setup" class="section level3 hasAnchor" number="5.6.1">
<h3 class="hasAnchor"><span class="header-section-number">5.6.1</span> Setup<a href="#setup" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Start by installing and loading packages and setting options. To work
with the NEON flux data, we need the <code>rhdf5</code> package, which is hosted on
Bioconductor, and requires a different installation process than CRAN
packages:</p>
<pre><code>install.packages(&#39;BiocManager&#39;)
BiocManager::install(&#39;rhdf5&#39;)</code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors=</span>F)</span>
<span id="cb352-2"><a href="#cb352-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-3"><a href="#cb352-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neonUtilities)</span></code></pre></div>
<p>Use the <code>zipsByProduct()</code> function from the <code>neonUtilities</code> package to
download flux data from two sites and two months. The transformations
and functions below will work on any time range and site(s), but two
sites and two months allows us to see all the available functionality
while minimizing download size.</p>
<p>Inputs to the <code>zipsByProduct()</code> function:</p>
<ul>
<li><code>dpID</code>: DP4.00200.001, the bundled eddy covariance product</li>
<li><code>package</code>: basic (the expanded package is not covered in this
tutorial)</li>
<li><code>site</code>: NIWO = Niwot Ridge and HARV = Harvard Forest</li>
<li><code>startdate</code>: 2018-06 (both dates are inclusive)</li>
<li><code>enddate</code>: 2018-07 (both dates are inclusive)</li>
<li><code>savepath</code>: modify this to something logical on your machine</li>
<li><code>check.size</code>: T if you want to see file size before downloading,
otherwise F</li>
</ul>
<p>The download may take a while, especially if you’re on a slow network.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a><span class="fu">zipsByProduct</span>(<span class="at">dpID=</span><span class="st">&quot;DP4.00200.001&quot;</span>, <span class="at">package=</span><span class="st">&quot;basic&quot;</span>, </span>
<span id="cb353-2"><a href="#cb353-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">site=</span><span class="fu">c</span>(<span class="st">&quot;NIWO&quot;</span>, <span class="st">&quot;HARV&quot;</span>), </span>
<span id="cb353-3"><a href="#cb353-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">startdate=</span><span class="st">&quot;2018-06&quot;</span>, <span class="at">enddate=</span><span class="st">&quot;2018-07&quot;</span>,</span>
<span id="cb353-4"><a href="#cb353-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">savepath=</span><span class="st">&quot;./data&quot;</span>, </span>
<span id="cb353-5"><a href="#cb353-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">check.size=</span>F)</span></code></pre></div>
<pre><code>## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 345.260177 MB</code></pre>
<pre><code>## ./data/filesToStack00200 already exists. Download will proceed, but check for duplicate files.</code></pre>
<pre><code>## Downloading 4 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%
## 4 files successfully downloaded to ./data/filesToStack00200</code></pre>
</div>
<div id="data-levels" class="section level3 hasAnchor" number="5.6.2">
<h3 class="hasAnchor"><span class="header-section-number">5.6.2</span> Data Levels<a href="#data-levels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are five levels of data contained in the eddy flux bundle. For
full details, refer to the
<a href="http://data.neonscience.org/api/v0/documents/NEON.DOC.004571vA" target="_blank">NEON
algorithm document</a>.</p>
<p>Briefly, the data levels are:</p>
<ul>
<li>Level 0’ (dp0p): Calibrated raw observations</li>
<li>Level 1 (dp01): Time-aggregated observations, e.g. 30-minute mean
gas concentrations</li>
<li>Level 2 (dp02): Time-interpolated data, e.g. rate of change of a gas
concentration</li>
<li>Level 3 (dp03): Spatially interpolated data, i.e. vertical profiles</li>
<li>Level 4 (dp04): Fluxes</li>
</ul>
<p>The dp0p data are available in the expanded data package and are beyond
the scope of this tutorial.</p>
<p>The dp02 and dp03 data are used in storage calculations, and the dp04
data include both the storage and turbulent components. Since many users
will want to focus on the net flux data, we’ll start there.</p>
</div>
<div id="extract-level-4-data-fluxes" class="section level3 hasAnchor" number="5.6.3">
<h3 class="hasAnchor"><span class="header-section-number">5.6.3</span> Extract Level 4 data (Fluxes!)<a href="#extract-level-4-data-fluxes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To extract the Level 4 data from the HDF5 files and merge them into a
single table, we’ll use the <code>stackEddy()</code> function from the
<code>neonUtilities</code> package.</p>
<p><code>stackEddy()</code> requires two inputs:</p>
<ul>
<li><code>filepath</code>: Path to a file or folder, which can be any one of:
<ol style="list-style-type: decimal">
<li>A zip file of eddy flux data downloaded from the NEON data
portal</li>
<li>A folder of eddy flux data downloaded by the <code>zipsByProduct()</code>
function</li>
<li>The folder of files resulting from unzipping either of 1 or 2</li>
<li>A single HDF5 file of NEON eddy flux data</li>
</ol></li>
<li><code>level</code>: dp01-4</li>
</ul>
<p>Input the filepath you downloaded to using <code>zipsByProduct()</code> earlier,
including the <code>filestoStack00200</code> folder created by the function, and
<code>dp04</code>:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a>flux <span class="ot">&lt;-</span> <span class="fu">stackEddy</span>(<span class="at">filepath=</span><span class="st">&quot;./data/filesToStack00200&quot;</span>,</span>
<span id="cb357-2"><a href="#cb357-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">level=</span><span class="st">&quot;dp04&quot;</span>)</span></code></pre></div>
<pre><code>## Extracting data
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%
## Stacking data tables by month
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==                                                                    |   2%
  |                                                                            
  |===                                                                   |   5%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |======                                                                |   9%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |===========                                                           |  16%
  |                                                                            
  |=============                                                         |  18%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |========================                                              |  34%
  |                                                                            
  |=========================                                             |  36%
  |                                                                            
  |===========================                                           |  39%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |================================                                      |  45%
  |                                                                            
  |=================================                                     |  48%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=====================================                                 |  52%
  |                                                                            
  |======================================                                |  55%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |===========================================                           |  61%
  |                                                                            
  |=============================================                         |  64%
  |                                                                            
  |==============================================                        |  66%
  |                                                                            
  |================================================                      |  68%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=========================================================             |  82%
  |                                                                            
  |===========================================================           |  84%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |================================================================      |  91%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |===================================================================   |  95%
  |                                                                            
  |====================================================================  |  98%
  |                                                                            
  |======================================================================| 100%
## Joining data variables
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==                                                                    |   2%
  |                                                                            
  |===                                                                   |   5%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |======                                                                |   9%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |===========                                                           |  16%
  |                                                                            
  |=============                                                         |  18%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |========================                                              |  34%
  |                                                                            
  |=========================                                             |  36%
  |                                                                            
  |===========================                                           |  39%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |================================                                      |  45%
  |                                                                            
  |=================================                                     |  48%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=====================================                                 |  52%
  |                                                                            
  |======================================                                |  55%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |===========================================                           |  61%
  |                                                                            
  |=============================================                         |  64%
  |                                                                            
  |==============================================                        |  66%
  |                                                                            
  |================================================                      |  68%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=========================================================             |  82%
  |                                                                            
  |===========================================================           |  84%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |================================================================      |  91%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |===================================================================   |  95%
  |                                                                            
  |====================================================================  |  98%
  |                                                                            
  |======================================================================| 100%</code></pre>
<p>We now have an object called <code>flux</code>. It’s a named list containing four
tables: one table for each site’s data, and <code>variables</code> and <code>objDesc</code>
tables.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(flux)</span></code></pre></div>
<pre><code>## [1] &quot;HARV&quot;      &quot;NIWO&quot;      &quot;variables&quot; &quot;objDesc&quot;   &quot;issueLog&quot;</code></pre>
<p>Let’s look at the contents of one of the site data files:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(flux<span class="sc">$</span>NIWO))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
timeBgn
</th>
<th style="text-align:left;">
timeEnd
</th>
<th style="text-align:right;">
data.fluxCo2.nsae.flux
</th>
<th style="text-align:right;">
data.fluxCo2.stor.flux
</th>
<th style="text-align:right;">
data.fluxCo2.turb.flux
</th>
<th style="text-align:right;">
data.fluxH2o.nsae.flux
</th>
<th style="text-align:right;">
data.fluxH2o.stor.flux
</th>
<th style="text-align:right;">
data.fluxH2o.turb.flux
</th>
<th style="text-align:right;">
data.fluxMome.turb.veloFric
</th>
<th style="text-align:right;">
data.fluxTemp.nsae.flux
</th>
<th style="text-align:right;">
data.fluxTemp.stor.flux
</th>
<th style="text-align:right;">
data.fluxTemp.turb.flux
</th>
<th style="text-align:right;">
data.foot.stat.angZaxsErth
</th>
<th style="text-align:right;">
data.foot.stat.distReso
</th>
<th style="text-align:right;">
data.foot.stat.veloYaxsHorSd
</th>
<th style="text-align:right;">
data.foot.stat.veloZaxsHorSd
</th>
<th style="text-align:right;">
data.foot.stat.veloFric
</th>
<th style="text-align:right;">
data.foot.stat.distZaxsMeasDisp
</th>
<th style="text-align:right;">
data.foot.stat.distZaxsRgh
</th>
<th style="text-align:right;">
data.foot.stat.distZaxsAbl
</th>
<th style="text-align:right;">
data.foot.stat.distXaxs90
</th>
<th style="text-align:right;">
data.foot.stat.distXaxsMax
</th>
<th style="text-align:right;">
data.foot.stat.distYaxs90
</th>
<th style="text-align:right;">
qfqm.fluxCo2.nsae.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxCo2.stor.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxCo2.turb.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxH2o.nsae.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxH2o.stor.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxH2o.turb.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxMome.turb.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxTemp.nsae.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxTemp.stor.qfFinl
</th>
<th style="text-align:right;">
qfqm.fluxTemp.turb.qfFinl
</th>
<th style="text-align:right;">
qfqm.foot.turb.qfFinl
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2018-06-01 00:00:00
</td>
<td style="text-align:left;">
2018-06-01 00:29:59
</td>
<td style="text-align:right;">
0.1713858
</td>
<td style="text-align:right;">
-0.0634816
</td>
<td style="text-align:right;">
0.2348674
</td>
<td style="text-align:right;">
15.876622
</td>
<td style="text-align:right;">
3.3334970
</td>
<td style="text-align:right;">
12.543125
</td>
<td style="text-align:right;">
0.2047081
</td>
<td style="text-align:right;">
4.7565505
</td>
<td style="text-align:right;">
-1.4575094
</td>
<td style="text-align:right;">
6.2140599
</td>
<td style="text-align:right;">
94.2262
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.7955893
</td>
<td style="text-align:right;">
0.2713232
</td>
<td style="text-align:right;">
0.2025427
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.0410571
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
325.26
</td>
<td style="text-align:right;">
133.44
</td>
<td style="text-align:right;">
25.02
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 00:30:00
</td>
<td style="text-align:left;">
2018-06-01 00:59:59
</td>
<td style="text-align:right;">
0.9251711
</td>
<td style="text-align:right;">
0.0874815
</td>
<td style="text-align:right;">
0.8376896
</td>
<td style="text-align:right;">
8.089274
</td>
<td style="text-align:right;">
-1.2063258
</td>
<td style="text-align:right;">
9.295600
</td>
<td style="text-align:right;">
0.1923735
</td>
<td style="text-align:right;">
-0.2717454
</td>
<td style="text-align:right;">
0.3403877
</td>
<td style="text-align:right;">
-0.6121331
</td>
<td style="text-align:right;">
355.4252
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.8590177
</td>
<td style="text-align:right;">
0.2300000
</td>
<td style="text-align:right;">
0.2000000
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.2799194
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
266.88
</td>
<td style="text-align:right;">
108.42
</td>
<td style="text-align:right;">
50.04
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 01:00:00
</td>
<td style="text-align:left;">
2018-06-01 01:29:59
</td>
<td style="text-align:right;">
0.5005812
</td>
<td style="text-align:right;">
0.0223170
</td>
<td style="text-align:right;">
0.4782642
</td>
<td style="text-align:right;">
5.290594
</td>
<td style="text-align:right;">
-4.4190781
</td>
<td style="text-align:right;">
9.709672
</td>
<td style="text-align:right;">
0.1200918
</td>
<td style="text-align:right;">
-4.2055147
</td>
<td style="text-align:right;">
0.1870677
</td>
<td style="text-align:right;">
-4.3925824
</td>
<td style="text-align:right;">
359.8013
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
1.2601763
</td>
<td style="text-align:right;">
0.2300000
</td>
<td style="text-align:right;">
0.2000000
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.2129323
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
275.22
</td>
<td style="text-align:right;">
116.76
</td>
<td style="text-align:right;">
66.72
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 01:30:00
</td>
<td style="text-align:left;">
2018-06-01 01:59:59
</td>
<td style="text-align:right;">
0.8032820
</td>
<td style="text-align:right;">
0.2556931
</td>
<td style="text-align:right;">
0.5475889
</td>
<td style="text-align:right;">
9.190214
</td>
<td style="text-align:right;">
0.2030371
</td>
<td style="text-align:right;">
8.987177
</td>
<td style="text-align:right;">
0.1177545
</td>
<td style="text-align:right;">
-13.3834484
</td>
<td style="text-align:right;">
-2.4904300
</td>
<td style="text-align:right;">
-10.8930185
</td>
<td style="text-align:right;">
137.7743
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.7332641
</td>
<td style="text-align:right;">
0.2300000
</td>
<td style="text-align:right;">
0.2000000
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.8340000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
208.50
</td>
<td style="text-align:right;">
83.40
</td>
<td style="text-align:right;">
75.06
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 02:00:00
</td>
<td style="text-align:left;">
2018-06-01 02:29:59
</td>
<td style="text-align:right;">
0.4897685
</td>
<td style="text-align:right;">
0.2309047
</td>
<td style="text-align:right;">
0.2588638
</td>
<td style="text-align:right;">
3.111909
</td>
<td style="text-align:right;">
0.1349363
</td>
<td style="text-align:right;">
2.976973
</td>
<td style="text-align:right;">
0.1589189
</td>
<td style="text-align:right;">
-5.1854815
</td>
<td style="text-align:right;">
-0.7514531
</td>
<td style="text-align:right;">
-4.4340284
</td>
<td style="text-align:right;">
188.4799
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.7096286
</td>
<td style="text-align:right;">
0.2300000
</td>
<td style="text-align:right;">
0.2000000
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.8340000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
208.50
</td>
<td style="text-align:right;">
83.40
</td>
<td style="text-align:right;">
66.72
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 02:30:00
</td>
<td style="text-align:left;">
2018-06-01 02:59:59
</td>
<td style="text-align:right;">
0.9223979
</td>
<td style="text-align:right;">
0.0622858
</td>
<td style="text-align:right;">
0.8601121
</td>
<td style="text-align:right;">
4.613676
</td>
<td style="text-align:right;">
-0.3929445
</td>
<td style="text-align:right;">
5.006621
</td>
<td style="text-align:right;">
0.1114406
</td>
<td style="text-align:right;">
-7.7365481
</td>
<td style="text-align:right;">
-1.9046775
</td>
<td style="text-align:right;">
-5.8318707
</td>
<td style="text-align:right;">
183.1920
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.3789859
</td>
<td style="text-align:right;">
0.2300000
</td>
<td style="text-align:right;">
0.2000000
</td>
<td style="text-align:right;">
8.34
</td>
<td style="text-align:right;">
0.8340000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
208.50
</td>
<td style="text-align:right;">
83.40
</td>
<td style="text-align:right;">
41.70
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p>The <code>variables</code> and <code>objDesc</code> tables can help you interpret the column
headers in the data table. The <code>objDesc</code> table contains definitions for
many of the terms used in the eddy flux data product, but it isn’t
complete. To get the terms of interest, we’ll break up the column
headers into individual terms and look for them in the <code>objDesc</code> table:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a>term <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">strsplit</span>(<span class="fu">names</span>(flux<span class="sc">$</span>NIWO), <span class="at">split=</span><span class="st">&quot;.&quot;</span>, <span class="at">fixed=</span>T))</span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a>flux<span class="sc">$</span>objDesc[<span class="fu">which</span>(flux<span class="sc">$</span>objDesc<span class="sc">$</span>Object <span class="sc">%in%</span> term),]</span></code></pre></div>
<pre><code>##          Object
## 138 angZaxsErth
## 171        data
## 343      qfFinl
## 420        qfqm
## 604     timeBgn
## 605     timeEnd
##                                                                                                         Description
## 138                                                                                                 Wind direction 
## 171                                                                                          Represents data fields
## 343       The final quality flag indicating if the data are valid for the given aggregation period (1=fail, 0=pass)
## 420 Quality flag and quality metrics, represents quality flags and quality metrics that accompany the provided data
## 604                                                                    The beginning time of the aggregation period
## 605                                                                          The end time of the aggregation period</code></pre>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(term)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
x
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
timeBgn
</td>
</tr>
<tr>
<td style="text-align:left;">
timeEnd
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxCo2
</td>
</tr>
<tr>
<td style="text-align:left;">
nsae
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxCo2
</td>
</tr>
<tr>
<td style="text-align:left;">
stor
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxCo2
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxH2o
</td>
</tr>
<tr>
<td style="text-align:left;">
nsae
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxH2o
</td>
</tr>
<tr>
<td style="text-align:left;">
stor
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxH2o
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxMome
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
veloFric
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxTemp
</td>
</tr>
<tr>
<td style="text-align:left;">
nsae
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxTemp
</td>
</tr>
<tr>
<td style="text-align:left;">
stor
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxTemp
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
flux
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
angZaxsErth
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distReso
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
veloYaxsHorSd
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
veloZaxsHorSd
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
veloFric
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distZaxsMeasDisp
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distZaxsRgh
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distZaxsAbl
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distXaxs90
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distXaxsMax
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
stat
</td>
</tr>
<tr>
<td style="text-align:left;">
distYaxs90
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxCo2
</td>
</tr>
<tr>
<td style="text-align:left;">
nsae
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxCo2
</td>
</tr>
<tr>
<td style="text-align:left;">
stor
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxCo2
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxH2o
</td>
</tr>
<tr>
<td style="text-align:left;">
nsae
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxH2o
</td>
</tr>
<tr>
<td style="text-align:left;">
stor
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxH2o
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxMome
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxTemp
</td>
</tr>
<tr>
<td style="text-align:left;">
nsae
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxTemp
</td>
</tr>
<tr>
<td style="text-align:left;">
stor
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
fluxTemp
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
</tr>
<tr>
<td style="text-align:left;">
foot
</td>
</tr>
<tr>
<td style="text-align:left;">
turb
</td>
</tr>
<tr>
<td style="text-align:left;">
qfFinl
</td>
</tr>
</tbody>
</table>
<p>For the terms that aren’t captured here, <code>fluxCo2</code>, <code>fluxH2o</code>, and
<code>fluxTemp</code> are self-explanatory. The flux components are</p>
<ul>
<li><code>turb</code>: Turbulent flux</li>
<li><code>stor</code>: Storage</li>
<li><code>nsae</code>: Net surface-atmosphere exchange</li>
</ul>
<p>The <code>variables</code> table contains the units for each field:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(flux<span class="sc">$</span>variables)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
category
</th>
<th style="text-align:left;">
system
</th>
<th style="text-align:left;">
variable
</th>
<th style="text-align:left;">
stat
</th>
<th style="text-align:left;">
units
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
umolCo2 m-2 s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
umolCo2 m-2 s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
umolCo2 m-2 s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
W m-2
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
W m-2
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
W m-2
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxMome
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxMome
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxMome
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
veloFric
</td>
<td style="text-align:left;">
m s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
W m-2
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
W m-2
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
flux
</td>
<td style="text-align:left;">
W m-2
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
angZaxsErth
</td>
<td style="text-align:left;">
deg
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distReso
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
veloYaxsHorSd
</td>
<td style="text-align:left;">
m s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
veloZaxsHorSd
</td>
<td style="text-align:left;">
m s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
veloFric
</td>
<td style="text-align:left;">
m s-1
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distZaxsMeasDisp
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distZaxsRgh
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distZaxsAbl
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distXaxs90
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distXaxsMax
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
stat
</td>
<td style="text-align:left;">
distYaxs90
</td>
<td style="text-align:left;">
m
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxCo2
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxH2o
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxMome
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxMome
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxMome
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
nsae
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
stor
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
fluxTemp
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeBgn
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
timeEnd
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
qfqm
</td>
<td style="text-align:left;">
foot
</td>
<td style="text-align:left;">
turb
</td>
<td style="text-align:left;">
qfFinl
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>Let’s plot some data! First, we’ll need to convert the time stamps to an
R date-time format (right now they’re just character fields).</p>
</div>
<div id="time-stamps" class="section level3 hasAnchor" number="5.6.4">
<h3 class="hasAnchor"><span class="header-section-number">5.6.4</span> Time stamps<a href="#time-stamps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>NEON sensor data come with time stamps for both the start and end of the
averaging period. Depending on the analysis you’re doing, you may want
to use one or the other; for general plotting, re-formatting, and
transformations, I prefer to use the start time, because there are some
small inconsistencies between data products in a few of the end time
stamps.</p>
<p>Note that <strong>all</strong> NEON data use UTC time, noted as <code>tz="GMT"</code> in the
code below. This is true across NEON’s instrumented, observational, and
airborne measurements. When working with NEON data, it’s best to keep
everything in UTC as much as possible, otherwise it’s very easy to end
up with data in mismatched times, which can cause insidious and
hard-to-detect problems. Be sure to include the <code>tz</code> argument in all the
lines of code below - if there is no time zone specified, R will default
to the local time zone it detects on your operating system.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a>timeB <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flux<span class="sc">$</span>NIWO<span class="sc">$</span>timeBgn, </span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">format=</span><span class="st">&quot;%Y-%m-%dT%H:%M:%S&quot;</span>, </span>
<span id="cb366-3"><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">tz=</span><span class="st">&quot;GMT&quot;</span>)</span>
<span id="cb366-4"><a href="#cb366-4" aria-hidden="true" tabindex="-1"></a>flux<span class="sc">$</span>NIWO <span class="ot">&lt;-</span> <span class="fu">cbind</span>(timeB, flux<span class="sc">$</span>NIWO)</span></code></pre></div>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(flux<span class="sc">$</span>NIWO<span class="sc">$</span>data.fluxCo2.nsae.flux<span class="sc">~</span>timeB, </span>
<span id="cb367-2"><a href="#cb367-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="st">&quot;.&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Date&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;CO2 flux&quot;</span>,</span>
<span id="cb367-3"><a href="#cb367-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xaxt=</span><span class="st">&quot;n&quot;</span>)</span>
<span id="cb367-4"><a href="#cb367-4" aria-hidden="true" tabindex="-1"></a><span class="fu">axis.POSIXct</span>(<span class="dv">1</span>, <span class="at">x=</span>timeB, <span class="at">format=</span><span class="st">&quot;%Y-%m-%d&quot;</span>)</span></code></pre></div>
<p>Like a lot of flux data, these data have some stray spikes, but there is
a clear diurnal pattern going into the growing season.</p>
<p>Let’s trim down to just two days of data to see a few other details.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(flux<span class="sc">$</span>NIWO<span class="sc">$</span>data.fluxCo2.nsae.flux<span class="sc">~</span>timeB, </span>
<span id="cb368-2"><a href="#cb368-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="dv">20</span>, <span class="at">xlab=</span><span class="st">&quot;Date&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;CO2 flux&quot;</span>,</span>
<span id="cb368-3"><a href="#cb368-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim=</span><span class="fu">c</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;2018-07-07&quot;</span>, <span class="at">tz=</span><span class="st">&quot;GMT&quot;</span>),</span>
<span id="cb368-4"><a href="#cb368-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">as.POSIXct</span>(<span class="st">&quot;2018-07-09&quot;</span>, <span class="at">tz=</span><span class="st">&quot;GMT&quot;</span>)),</span>
<span id="cb368-5"><a href="#cb368-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">20</span>,<span class="dv">20</span>), <span class="at">xaxt=</span><span class="st">&quot;n&quot;</span>)</span>
<span id="cb368-6"><a href="#cb368-6" aria-hidden="true" tabindex="-1"></a><span class="fu">axis.POSIXct</span>(<span class="dv">1</span>, <span class="at">x=</span>timeB, <span class="at">format=</span><span class="st">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span></code></pre></div>
<p><img src="05-Fluxes_and_Inter-operability_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Note the timing of C uptake; the UTC time zone is clear here, where
uptake occurs at times that appear to be during the night.</p>
</div>
<div id="merge-flux-data-with-other-sensor-data" class="section level3 hasAnchor" number="5.6.5">
<h3 class="hasAnchor"><span class="header-section-number">5.6.5</span> Merge flux data with other sensor data<a href="#merge-flux-data-with-other-sensor-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Many of the data sets we would use to interpret and model flux data are
measured as part of the NEON project, but are not present in the eddy
flux data product bundle. In this section, we’ll download PAR data and
merge them with the flux data; the steps taken here can be applied to
any of the NEON instrumented (IS) data products.</p>
<div id="download-par-data" class="section level4 hasAnchor" number="5.6.5.1">
<h4 class="hasAnchor"><span class="header-section-number">5.6.5.1</span> Download PAR data<a href="#download-par-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To get NEON PAR data, use the <code>loadByProduct()</code> function from the
<code>neonUtilities</code> package. <code>loadByProduct()</code> takes the same inputs as
<code>zipsByProduct()</code>, but it loads the downloaded data directly into the
current R environment.</p>
<p>Let’s download PAR data matching the Niwot Ridge flux data. The inputs
needed are:</p>
<ul>
<li><code>dpID</code>: DP1.00024.001</li>
<li><code>site</code>: NIWO</li>
<li><code>startdate</code>: 2018-06</li>
<li><code>enddate</code>: 2018-07</li>
<li><code>package</code>: basic</li>
<li><code>avg</code>: 30</li>
</ul>
<p>The new input here is <code>avg=30</code>, which downloads only the 30-minute data.
Since the flux data are at a 30-minute resolution, we can save on
download time by disregarding the 1-minute data files (which are of
course 30 times larger). The <code>avg</code> input can be left off if you want to
download all available averaging intervals.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a>pr <span class="ot">&lt;-</span> <span class="fu">loadByProduct</span>(<span class="st">&quot;DP1.00024.001&quot;</span>, <span class="at">site=</span><span class="st">&quot;NIWO&quot;</span>, <span class="at">avg=</span><span class="dv">30</span>,</span>
<span id="cb369-2"><a href="#cb369-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">startdate=</span><span class="st">&quot;2018-06&quot;</span>, <span class="at">enddate=</span><span class="st">&quot;2018-07&quot;</span>,</span>
<span id="cb369-3"><a href="#cb369-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">package=</span><span class="st">&quot;basic&quot;</span>, <span class="at">check.size=</span>F)</span></code></pre></div>
<pre><code>## Input parameter avg is deprecated; use timeIndex to download by time interval.
## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 1.304794 MB
## Downloading 11 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |======================================================================| 100%
## 
## Stacking operation across a single core.
## Stacking table PARPAR_30min
## Merged the most recent publication of sensor position files for each site and saved to /stackedFiles
## Copied the most recent publication of variable definition file to /stackedFiles
## Finished: Stacked 1 data tables and 3 metadata tables!
## Stacking took 0.3349941 secs</code></pre>
<p><code>pr</code> is another named list, and again, metadata and units can be found
in the <code>variables</code> table. The <code>PARPAR_30min</code> table contains a
<code>verticalPosition</code> field. This field indicates the position on the
tower, with 10 being the first tower level, and 20, 30, etc going up the
tower.</p>
</div>
<div id="join-par-to-flux-data" class="section level4 hasAnchor" number="5.6.5.2">
<h4 class="hasAnchor"><span class="header-section-number">5.6.5.2</span> Join PAR to flux data<a href="#join-par-to-flux-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We’ll connect PAR data from the tower top to the flux data.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a>pr.top <span class="ot">&lt;-</span> pr<span class="sc">$</span>PARPAR_30min[<span class="fu">which</span>(pr<span class="sc">$</span>PARPAR_30min<span class="sc">$</span>verticalPosition<span class="sc">==</span></span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">max</span>(pr<span class="sc">$</span>PARPAR_30min<span class="sc">$</span>verticalPosition)),]</span></code></pre></div>
<p><code>loadByProduct()</code> automatically converts time stamps when it reads the
data, so here we just need to indicate which time field to use to merge
the flux and PAR data.</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="#cb372-1" aria-hidden="true" tabindex="-1"></a>timeB <span class="ot">&lt;-</span> pr.top<span class="sc">$</span>startDateTime</span>
<span id="cb372-2"><a href="#cb372-2" aria-hidden="true" tabindex="-1"></a>pr.top <span class="ot">&lt;-</span> <span class="fu">cbind</span>(timeB, pr.top)</span></code></pre></div>
<p>And merge the two datasets:</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>fx.pr <span class="ot">&lt;-</span> <span class="fu">merge</span>(pr.top, flux<span class="sc">$</span>NIWO, <span class="at">by=</span><span class="st">&quot;timeB&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fx.pr<span class="sc">$</span>data.fluxCo2.nsae.flux<span class="sc">~</span>fx.pr<span class="sc">$</span>PARMean,</span>
<span id="cb374-2"><a href="#cb374-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="st">&quot;.&quot;</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">20</span>,<span class="dv">20</span>),</span>
<span id="cb374-3"><a href="#cb374-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;PAR&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;CO2 flux&quot;</span>)</span></code></pre></div>
<p><img src="05-Fluxes_and_Inter-operability_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>If you’re interested in data in the eddy covariance bundle besides the
net flux data, the rest of this tutorial will guide you through how to
get those data out of the bundle.</p>
</div>
</div>
<div id="vertical-profile-data-level-3" class="section level3 hasAnchor" number="5.6.6">
<h3 class="hasAnchor"><span class="header-section-number">5.6.6</span> Vertical profile data (Level 3)<a href="#vertical-profile-data-level-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Level 3 (<code>dp03</code>) data are the spatially interpolated profiles of the
rates of change of CO<sub>2</sub>, H<sub>2</sub>O, and temperature.
Extract the Level 3 data from the HDF5 file using <code>stackEddy()</code> with the
same syntax as for the Level 4 data.</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a>prof <span class="ot">&lt;-</span> <span class="fu">stackEddy</span>(<span class="at">filepath=</span><span class="st">&quot;./data/filesToStack00200/&quot;</span>,</span>
<span id="cb375-2"><a href="#cb375-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">level=</span><span class="st">&quot;dp03&quot;</span>)</span></code></pre></div>
<pre><code>## Extracting data
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%
## Stacking data tables by month
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |======================================================================| 100%
## Joining data variables
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(prof<span class="sc">$</span>NIWO))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
timeBgn
</th>
<th style="text-align:left;">
timeEnd
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X0.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X1.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X2.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X3.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X4.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X5.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X6.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.4.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.5.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.6.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.7.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X7.9.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X8.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X8.1.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X8.2.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X8.3.m
</th>
<th style="text-align:right;">
data.co2Stor.rateRtioMoleDryCo2.X8.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X0.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X1.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X2.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X3.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X4.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X5.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X6.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.4.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.5.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.6.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.7.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X7.9.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X8.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X8.1.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X8.2.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X8.3.m
</th>
<th style="text-align:right;">
data.h2oStor.rateRtioMoleDryH2o.X8.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X0.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X1.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X2.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X3.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X4.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X5.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X6.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.4.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.5.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.6.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.7.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X7.9.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X8.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X8.1.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X8.2.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X8.3.m
</th>
<th style="text-align:right;">
data.tempStor.rateTemp.X8.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X0.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X1.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X2.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X3.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X4.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X5.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X6.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.4.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.5.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.6.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.7.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X7.9.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X8.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X8.1.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X8.2.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X8.3.m
</th>
<th style="text-align:right;">
qfqm.co2Stor.rateRtioMoleDryCo2.X8.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X0.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X1.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X2.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X3.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X4.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X5.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X6.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.4.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.5.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.6.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.7.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X7.9.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X8.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X8.1.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X8.2.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X8.3.m
</th>
<th style="text-align:right;">
qfqm.h2oStor.rateRtioMoleDryH2o.X8.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X0.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X1.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X2.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X3.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X4.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X5.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X6.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.4.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.5.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.6.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.7.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X7.9.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X8.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X8.1.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X8.2.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X8.3.m
</th>
<th style="text-align:right;">
qfqm.tempStor.rateTemp.X8.4.m
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2018-06-01 00:00:00
</td>
<td style="text-align:left;">
2018-06-01 00:29:59
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
-0.0002682
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
0.0003159
</td>
<td style="text-align:right;">
-0.0001014
</td>
<td style="text-align:right;">
-0.0001014
</td>
<td style="text-align:right;">
-0.0001014
</td>
<td style="text-align:right;">
-0.0001014
</td>
<td style="text-align:right;">
-0.0001014
</td>
<td style="text-align:right;">
-0.0001051
</td>
<td style="text-align:right;">
-0.0001112
</td>
<td style="text-align:right;">
-0.0001172
</td>
<td style="text-align:right;">
-0.0001233
</td>
<td style="text-align:right;">
-0.0001294
</td>
<td style="text-align:right;">
-0.0001354
</td>
<td style="text-align:right;">
-0.0001415
</td>
<td style="text-align:right;">
-0.0001476
</td>
<td style="text-align:right;">
-0.0001537
</td>
<td style="text-align:right;">
-0.0001597
</td>
<td style="text-align:right;">
-0.0001658
</td>
<td style="text-align:right;">
-0.0001719
</td>
<td style="text-align:right;">
-0.0001779
</td>
<td style="text-align:right;">
-0.0001840
</td>
<td style="text-align:right;">
-0.0001857
</td>
<td style="text-align:right;">
-0.0001870
</td>
<td style="text-align:right;">
-0.0001882
</td>
<td style="text-align:right;">
-0.0001895
</td>
<td style="text-align:right;">
-0.0001907
</td>
<td style="text-align:right;">
-0.0001919
</td>
<td style="text-align:right;">
-0.0001932
</td>
<td style="text-align:right;">
-0.0001944
</td>
<td style="text-align:right;">
-0.0001956
</td>
<td style="text-align:right;">
-0.0001969
</td>
<td style="text-align:right;">
-0.0001981
</td>
<td style="text-align:right;">
-0.0001994
</td>
<td style="text-align:right;">
-0.0002006
</td>
<td style="text-align:right;">
-0.0002018
</td>
<td style="text-align:right;">
-0.0002031
</td>
<td style="text-align:right;">
-0.0002043
</td>
<td style="text-align:right;">
-0.0002055
</td>
<td style="text-align:right;">
-0.0002068
</td>
<td style="text-align:right;">
-0.0002080
</td>
<td style="text-align:right;">
-0.0002093
</td>
<td style="text-align:right;">
-0.0002105
</td>
<td style="text-align:right;">
-0.0002117
</td>
<td style="text-align:right;">
-0.0002130
</td>
<td style="text-align:right;">
-0.0002142
</td>
<td style="text-align:right;">
-0.0002154
</td>
<td style="text-align:right;">
-0.0002172
</td>
<td style="text-align:right;">
-0.0002190
</td>
<td style="text-align:right;">
-0.0002208
</td>
<td style="text-align:right;">
-0.0002225
</td>
<td style="text-align:right;">
-0.0002243
</td>
<td style="text-align:right;">
-0.0002261
</td>
<td style="text-align:right;">
-0.0002278
</td>
<td style="text-align:right;">
-0.0002296
</td>
<td style="text-align:right;">
-0.0002314
</td>
<td style="text-align:right;">
-0.0002332
</td>
<td style="text-align:right;">
-0.0002349
</td>
<td style="text-align:right;">
-0.0002367
</td>
<td style="text-align:right;">
-0.0002385
</td>
<td style="text-align:right;">
-0.0002402
</td>
<td style="text-align:right;">
-0.0002420
</td>
<td style="text-align:right;">
-0.0002438
</td>
<td style="text-align:right;">
-0.0002456
</td>
<td style="text-align:right;">
-0.0002473
</td>
<td style="text-align:right;">
-0.0002491
</td>
<td style="text-align:right;">
-0.0002509
</td>
<td style="text-align:right;">
-0.0002526
</td>
<td style="text-align:right;">
-0.0002544
</td>
<td style="text-align:right;">
-0.0002562
</td>
<td style="text-align:right;">
-0.0002580
</td>
<td style="text-align:right;">
-0.0002597
</td>
<td style="text-align:right;">
-0.0002615
</td>
<td style="text-align:right;">
-0.0002633
</td>
<td style="text-align:right;">
-0.0002651
</td>
<td style="text-align:right;">
-0.0002668
</td>
<td style="text-align:right;">
-0.0002686
</td>
<td style="text-align:right;">
-0.0002704
</td>
<td style="text-align:right;">
-0.0002721
</td>
<td style="text-align:right;">
-0.0002739
</td>
<td style="text-align:right;">
-0.0002757
</td>
<td style="text-align:right;">
-0.0002775
</td>
<td style="text-align:right;">
-0.0002792
</td>
<td style="text-align:right;">
-0.0002810
</td>
<td style="text-align:right;">
-0.0002828
</td>
<td style="text-align:right;">
-0.0002845
</td>
<td style="text-align:right;">
-0.0002863
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 00:30:00
</td>
<td style="text-align:left;">
2018-06-01 00:59:59
</td>
<td style="text-align:right;">
0.0004879
</td>
<td style="text-align:right;">
0.0004879
</td>
<td style="text-align:right;">
0.0004879
</td>
<td style="text-align:right;">
0.0004879
</td>
<td style="text-align:right;">
0.0004879
</td>
<td style="text-align:right;">
0.0004674
</td>
<td style="text-align:right;">
0.0004331
</td>
<td style="text-align:right;">
0.0003989
</td>
<td style="text-align:right;">
0.0003647
</td>
<td style="text-align:right;">
0.0003305
</td>
<td style="text-align:right;">
0.0002963
</td>
<td style="text-align:right;">
0.0002621
</td>
<td style="text-align:right;">
0.0002278
</td>
<td style="text-align:right;">
0.0001936
</td>
<td style="text-align:right;">
0.0001594
</td>
<td style="text-align:right;">
0.0001252
</td>
<td style="text-align:right;">
0.0000910
</td>
<td style="text-align:right;">
0.0000568
</td>
<td style="text-align:right;">
0.0000225
</td>
<td style="text-align:right;">
0.0000381
</td>
<td style="text-align:right;">
0.0000592
</td>
<td style="text-align:right;">
0.0000803
</td>
<td style="text-align:right;">
0.0001013
</td>
<td style="text-align:right;">
0.0001224
</td>
<td style="text-align:right;">
0.0001435
</td>
<td style="text-align:right;">
0.0001646
</td>
<td style="text-align:right;">
0.0001857
</td>
<td style="text-align:right;">
0.0002068
</td>
<td style="text-align:right;">
0.0002278
</td>
<td style="text-align:right;">
0.0002489
</td>
<td style="text-align:right;">
0.0002700
</td>
<td style="text-align:right;">
0.0002911
</td>
<td style="text-align:right;">
0.0003122
</td>
<td style="text-align:right;">
0.0003333
</td>
<td style="text-align:right;">
0.0003543
</td>
<td style="text-align:right;">
0.0003754
</td>
<td style="text-align:right;">
0.0003965
</td>
<td style="text-align:right;">
0.0004176
</td>
<td style="text-align:right;">
0.0004387
</td>
<td style="text-align:right;">
0.0004598
</td>
<td style="text-align:right;">
0.0004808
</td>
<td style="text-align:right;">
0.0005019
</td>
<td style="text-align:right;">
0.0005230
</td>
<td style="text-align:right;">
0.0005441
</td>
<td style="text-align:right;">
0.0005393
</td>
<td style="text-align:right;">
0.0005346
</td>
<td style="text-align:right;">
0.0005298
</td>
<td style="text-align:right;">
0.0005251
</td>
<td style="text-align:right;">
0.0005203
</td>
<td style="text-align:right;">
0.0005156
</td>
<td style="text-align:right;">
0.0005108
</td>
<td style="text-align:right;">
0.0005061
</td>
<td style="text-align:right;">
0.0005013
</td>
<td style="text-align:right;">
0.0004966
</td>
<td style="text-align:right;">
0.0004918
</td>
<td style="text-align:right;">
0.0004871
</td>
<td style="text-align:right;">
0.0004823
</td>
<td style="text-align:right;">
0.0004776
</td>
<td style="text-align:right;">
0.0004728
</td>
<td style="text-align:right;">
0.0004681
</td>
<td style="text-align:right;">
0.0004633
</td>
<td style="text-align:right;">
0.0004586
</td>
<td style="text-align:right;">
0.0004538
</td>
<td style="text-align:right;">
0.0004491
</td>
<td style="text-align:right;">
0.0004443
</td>
<td style="text-align:right;">
0.0004396
</td>
<td style="text-align:right;">
0.0004348
</td>
<td style="text-align:right;">
0.0004301
</td>
<td style="text-align:right;">
0.0004253
</td>
<td style="text-align:right;">
0.0004206
</td>
<td style="text-align:right;">
0.0004158
</td>
<td style="text-align:right;">
0.0004111
</td>
<td style="text-align:right;">
0.0004063
</td>
<td style="text-align:right;">
0.0004016
</td>
<td style="text-align:right;">
0.0003968
</td>
<td style="text-align:right;">
0.0003921
</td>
<td style="text-align:right;">
0.0003873
</td>
<td style="text-align:right;">
0.0003826
</td>
<td style="text-align:right;">
0.0003778
</td>
<td style="text-align:right;">
0.0003731
</td>
<td style="text-align:right;">
0.0003683
</td>
<td style="text-align:right;">
0.0003636
</td>
<td style="text-align:right;">
0.0003588
</td>
<td style="text-align:right;">
0.0003541
</td>
<td style="text-align:right;">
-0.0003565
</td>
<td style="text-align:right;">
-0.0003565
</td>
<td style="text-align:right;">
-0.0003565
</td>
<td style="text-align:right;">
-0.0003565
</td>
<td style="text-align:right;">
-0.0003565
</td>
<td style="text-align:right;">
-0.0003426
</td>
<td style="text-align:right;">
-0.0003192
</td>
<td style="text-align:right;">
-0.0002959
</td>
<td style="text-align:right;">
-0.0002726
</td>
<td style="text-align:right;">
-0.0002493
</td>
<td style="text-align:right;">
-0.0002260
</td>
<td style="text-align:right;">
-0.0002027
</td>
<td style="text-align:right;">
-0.0001793
</td>
<td style="text-align:right;">
-0.0001560
</td>
<td style="text-align:right;">
-0.0001327
</td>
<td style="text-align:right;">
-0.0001094
</td>
<td style="text-align:right;">
-0.0000861
</td>
<td style="text-align:right;">
-0.0000628
</td>
<td style="text-align:right;">
-0.0000394
</td>
<td style="text-align:right;">
-0.0000366
</td>
<td style="text-align:right;">
-0.0000361
</td>
<td style="text-align:right;">
-0.0000356
</td>
<td style="text-align:right;">
-0.0000350
</td>
<td style="text-align:right;">
-0.0000345
</td>
<td style="text-align:right;">
-0.0000339
</td>
<td style="text-align:right;">
-0.0000334
</td>
<td style="text-align:right;">
-0.0000329
</td>
<td style="text-align:right;">
-0.0000323
</td>
<td style="text-align:right;">
-0.0000318
</td>
<td style="text-align:right;">
-0.0000313
</td>
<td style="text-align:right;">
-0.0000307
</td>
<td style="text-align:right;">
-0.0000302
</td>
<td style="text-align:right;">
-0.0000296
</td>
<td style="text-align:right;">
-0.0000291
</td>
<td style="text-align:right;">
-0.0000286
</td>
<td style="text-align:right;">
-0.0000280
</td>
<td style="text-align:right;">
-0.0000275
</td>
<td style="text-align:right;">
-0.0000270
</td>
<td style="text-align:right;">
-0.0000264
</td>
<td style="text-align:right;">
-0.0000259
</td>
<td style="text-align:right;">
-0.0000253
</td>
<td style="text-align:right;">
-0.0000248
</td>
<td style="text-align:right;">
-0.0000243
</td>
<td style="text-align:right;">
-0.0000237
</td>
<td style="text-align:right;">
-0.0000279
</td>
<td style="text-align:right;">
-0.0000321
</td>
<td style="text-align:right;">
-0.0000363
</td>
<td style="text-align:right;">
-0.0000405
</td>
<td style="text-align:right;">
-0.0000446
</td>
<td style="text-align:right;">
-0.0000488
</td>
<td style="text-align:right;">
-0.0000530
</td>
<td style="text-align:right;">
-0.0000572
</td>
<td style="text-align:right;">
-0.0000614
</td>
<td style="text-align:right;">
-0.0000656
</td>
<td style="text-align:right;">
-0.0000697
</td>
<td style="text-align:right;">
-0.0000739
</td>
<td style="text-align:right;">
-0.0000781
</td>
<td style="text-align:right;">
-0.0000823
</td>
<td style="text-align:right;">
-0.0000865
</td>
<td style="text-align:right;">
-0.0000906
</td>
<td style="text-align:right;">
-0.0000948
</td>
<td style="text-align:right;">
-0.0000990
</td>
<td style="text-align:right;">
-0.0001032
</td>
<td style="text-align:right;">
-0.0001074
</td>
<td style="text-align:right;">
-0.0001116
</td>
<td style="text-align:right;">
-0.0001157
</td>
<td style="text-align:right;">
-0.0001199
</td>
<td style="text-align:right;">
-0.0001241
</td>
<td style="text-align:right;">
-0.0001283
</td>
<td style="text-align:right;">
-0.0001325
</td>
<td style="text-align:right;">
-0.0001366
</td>
<td style="text-align:right;">
-0.0001408
</td>
<td style="text-align:right;">
-0.0001450
</td>
<td style="text-align:right;">
-0.0001492
</td>
<td style="text-align:right;">
-0.0001534
</td>
<td style="text-align:right;">
-0.0001576
</td>
<td style="text-align:right;">
-0.0001617
</td>
<td style="text-align:right;">
-0.0001659
</td>
<td style="text-align:right;">
-0.0001701
</td>
<td style="text-align:right;">
-0.0001743
</td>
<td style="text-align:right;">
-0.0001785
</td>
<td style="text-align:right;">
-0.0001827
</td>
<td style="text-align:right;">
-0.0001868
</td>
<td style="text-align:right;">
-0.0001910
</td>
<td style="text-align:right;">
-0.0001814
</td>
<td style="text-align:right;">
-0.0001814
</td>
<td style="text-align:right;">
-0.0001814
</td>
<td style="text-align:right;">
-0.0001814
</td>
<td style="text-align:right;">
-0.0001814
</td>
<td style="text-align:right;">
-0.0001725
</td>
<td style="text-align:right;">
-0.0001576
</td>
<td style="text-align:right;">
-0.0001427
</td>
<td style="text-align:right;">
-0.0001278
</td>
<td style="text-align:right;">
-0.0001129
</td>
<td style="text-align:right;">
-0.0000980
</td>
<td style="text-align:right;">
-0.0000831
</td>
<td style="text-align:right;">
-0.0000683
</td>
<td style="text-align:right;">
-0.0000534
</td>
<td style="text-align:right;">
-0.0000385
</td>
<td style="text-align:right;">
-0.0000236
</td>
<td style="text-align:right;">
-0.0000087
</td>
<td style="text-align:right;">
0.0000062
</td>
<td style="text-align:right;">
0.0000211
</td>
<td style="text-align:right;">
0.0000247
</td>
<td style="text-align:right;">
0.0000271
</td>
<td style="text-align:right;">
0.0000295
</td>
<td style="text-align:right;">
0.0000318
</td>
<td style="text-align:right;">
0.0000342
</td>
<td style="text-align:right;">
0.0000366
</td>
<td style="text-align:right;">
0.0000390
</td>
<td style="text-align:right;">
0.0000414
</td>
<td style="text-align:right;">
0.0000437
</td>
<td style="text-align:right;">
0.0000461
</td>
<td style="text-align:right;">
0.0000485
</td>
<td style="text-align:right;">
0.0000509
</td>
<td style="text-align:right;">
0.0000533
</td>
<td style="text-align:right;">
0.0000556
</td>
<td style="text-align:right;">
0.0000580
</td>
<td style="text-align:right;">
0.0000604
</td>
<td style="text-align:right;">
0.0000628
</td>
<td style="text-align:right;">
0.0000652
</td>
<td style="text-align:right;">
0.0000675
</td>
<td style="text-align:right;">
0.0000699
</td>
<td style="text-align:right;">
0.0000723
</td>
<td style="text-align:right;">
0.0000747
</td>
<td style="text-align:right;">
0.0000771
</td>
<td style="text-align:right;">
0.0000794
</td>
<td style="text-align:right;">
0.0000818
</td>
<td style="text-align:right;">
0.0000836
</td>
<td style="text-align:right;">
0.0000854
</td>
<td style="text-align:right;">
0.0000872
</td>
<td style="text-align:right;">
0.0000890
</td>
<td style="text-align:right;">
0.0000908
</td>
<td style="text-align:right;">
0.0000926
</td>
<td style="text-align:right;">
0.0000944
</td>
<td style="text-align:right;">
0.0000962
</td>
<td style="text-align:right;">
0.0000980
</td>
<td style="text-align:right;">
0.0000998
</td>
<td style="text-align:right;">
0.0001016
</td>
<td style="text-align:right;">
0.0001033
</td>
<td style="text-align:right;">
0.0001051
</td>
<td style="text-align:right;">
0.0001069
</td>
<td style="text-align:right;">
0.0001087
</td>
<td style="text-align:right;">
0.0001105
</td>
<td style="text-align:right;">
0.0001123
</td>
<td style="text-align:right;">
0.0001141
</td>
<td style="text-align:right;">
0.0001159
</td>
<td style="text-align:right;">
0.0001177
</td>
<td style="text-align:right;">
0.0001195
</td>
<td style="text-align:right;">
0.0001213
</td>
<td style="text-align:right;">
0.0001231
</td>
<td style="text-align:right;">
0.0001249
</td>
<td style="text-align:right;">
0.0001267
</td>
<td style="text-align:right;">
0.0001285
</td>
<td style="text-align:right;">
0.0001303
</td>
<td style="text-align:right;">
0.0001320
</td>
<td style="text-align:right;">
0.0001338
</td>
<td style="text-align:right;">
0.0001356
</td>
<td style="text-align:right;">
0.0001374
</td>
<td style="text-align:right;">
0.0001392
</td>
<td style="text-align:right;">
0.0001410
</td>
<td style="text-align:right;">
0.0001428
</td>
<td style="text-align:right;">
0.0001446
</td>
<td style="text-align:right;">
0.0001464
</td>
<td style="text-align:right;">
0.0001482
</td>
<td style="text-align:right;">
0.0001500
</td>
<td style="text-align:right;">
0.0001518
</td>
<td style="text-align:right;">
0.0001536
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 01:00:00
</td>
<td style="text-align:left;">
2018-06-01 01:29:59
</td>
<td style="text-align:right;">
0.0005086
</td>
<td style="text-align:right;">
0.0005086
</td>
<td style="text-align:right;">
0.0005086
</td>
<td style="text-align:right;">
0.0005086
</td>
<td style="text-align:right;">
0.0005086
</td>
<td style="text-align:right;">
0.0005025
</td>
<td style="text-align:right;">
0.0004925
</td>
<td style="text-align:right;">
0.0004825
</td>
<td style="text-align:right;">
0.0004724
</td>
<td style="text-align:right;">
0.0004624
</td>
<td style="text-align:right;">
0.0004523
</td>
<td style="text-align:right;">
0.0004423
</td>
<td style="text-align:right;">
0.0004323
</td>
<td style="text-align:right;">
0.0004222
</td>
<td style="text-align:right;">
0.0004122
</td>
<td style="text-align:right;">
0.0004021
</td>
<td style="text-align:right;">
0.0003921
</td>
<td style="text-align:right;">
0.0003820
</td>
<td style="text-align:right;">
0.0003720
</td>
<td style="text-align:right;">
0.0003480
</td>
<td style="text-align:right;">
0.0003224
</td>
<td style="text-align:right;">
0.0002968
</td>
<td style="text-align:right;">
0.0002712
</td>
<td style="text-align:right;">
0.0002457
</td>
<td style="text-align:right;">
0.0002201
</td>
<td style="text-align:right;">
0.0001945
</td>
<td style="text-align:right;">
0.0001689
</td>
<td style="text-align:right;">
0.0001434
</td>
<td style="text-align:right;">
0.0001178
</td>
<td style="text-align:right;">
0.0000922
</td>
<td style="text-align:right;">
0.0000666
</td>
<td style="text-align:right;">
0.0000410
</td>
<td style="text-align:right;">
0.0000155
</td>
<td style="text-align:right;">
-0.0000101
</td>
<td style="text-align:right;">
-0.0000357
</td>
<td style="text-align:right;">
-0.0000613
</td>
<td style="text-align:right;">
-0.0000869
</td>
<td style="text-align:right;">
-0.0001124
</td>
<td style="text-align:right;">
-0.0001380
</td>
<td style="text-align:right;">
-0.0001636
</td>
<td style="text-align:right;">
-0.0001892
</td>
<td style="text-align:right;">
-0.0002147
</td>
<td style="text-align:right;">
-0.0002403
</td>
<td style="text-align:right;">
-0.0002659
</td>
<td style="text-align:right;">
-0.0002551
</td>
<td style="text-align:right;">
-0.0002443
</td>
<td style="text-align:right;">
-0.0002335
</td>
<td style="text-align:right;">
-0.0002227
</td>
<td style="text-align:right;">
-0.0002119
</td>
<td style="text-align:right;">
-0.0002011
</td>
<td style="text-align:right;">
-0.0001904
</td>
<td style="text-align:right;">
-0.0001796
</td>
<td style="text-align:right;">
-0.0001688
</td>
<td style="text-align:right;">
-0.0001580
</td>
<td style="text-align:right;">
-0.0001472
</td>
<td style="text-align:right;">
-0.0001364
</td>
<td style="text-align:right;">
-0.0001256
</td>
<td style="text-align:right;">
-0.0001148
</td>
<td style="text-align:right;">
-0.0001040
</td>
<td style="text-align:right;">
-0.0000932
</td>
<td style="text-align:right;">
-0.0000824
</td>
<td style="text-align:right;">
-0.0000716
</td>
<td style="text-align:right;">
-0.0000609
</td>
<td style="text-align:right;">
-0.0000501
</td>
<td style="text-align:right;">
-0.0000393
</td>
<td style="text-align:right;">
-0.0000285
</td>
<td style="text-align:right;">
-0.0000177
</td>
<td style="text-align:right;">
-0.0000069
</td>
<td style="text-align:right;">
0.0000039
</td>
<td style="text-align:right;">
0.0000147
</td>
<td style="text-align:right;">
0.0000255
</td>
<td style="text-align:right;">
0.0000363
</td>
<td style="text-align:right;">
0.0000471
</td>
<td style="text-align:right;">
0.0000579
</td>
<td style="text-align:right;">
0.0000686
</td>
<td style="text-align:right;">
0.0000794
</td>
<td style="text-align:right;">
0.0000902
</td>
<td style="text-align:right;">
0.0001010
</td>
<td style="text-align:right;">
0.0001118
</td>
<td style="text-align:right;">
0.0001226
</td>
<td style="text-align:right;">
0.0001334
</td>
<td style="text-align:right;">
0.0001442
</td>
<td style="text-align:right;">
0.0001550
</td>
<td style="text-align:right;">
0.0001658
</td>
<td style="text-align:right;">
-0.0002073
</td>
<td style="text-align:right;">
-0.0002073
</td>
<td style="text-align:right;">
-0.0002073
</td>
<td style="text-align:right;">
-0.0002073
</td>
<td style="text-align:right;">
-0.0002073
</td>
<td style="text-align:right;">
-0.0002152
</td>
<td style="text-align:right;">
-0.0002283
</td>
<td style="text-align:right;">
-0.0002414
</td>
<td style="text-align:right;">
-0.0002545
</td>
<td style="text-align:right;">
-0.0002676
</td>
<td style="text-align:right;">
-0.0002807
</td>
<td style="text-align:right;">
-0.0002938
</td>
<td style="text-align:right;">
-0.0003069
</td>
<td style="text-align:right;">
-0.0003200
</td>
<td style="text-align:right;">
-0.0003331
</td>
<td style="text-align:right;">
-0.0003462
</td>
<td style="text-align:right;">
-0.0003593
</td>
<td style="text-align:right;">
-0.0003724
</td>
<td style="text-align:right;">
-0.0003855
</td>
<td style="text-align:right;">
-0.0003947
</td>
<td style="text-align:right;">
-0.0004034
</td>
<td style="text-align:right;">
-0.0004122
</td>
<td style="text-align:right;">
-0.0004209
</td>
<td style="text-align:right;">
-0.0004297
</td>
<td style="text-align:right;">
-0.0004384
</td>
<td style="text-align:right;">
-0.0004472
</td>
<td style="text-align:right;">
-0.0004559
</td>
<td style="text-align:right;">
-0.0004647
</td>
<td style="text-align:right;">
-0.0004735
</td>
<td style="text-align:right;">
-0.0004822
</td>
<td style="text-align:right;">
-0.0004910
</td>
<td style="text-align:right;">
-0.0004997
</td>
<td style="text-align:right;">
-0.0005085
</td>
<td style="text-align:right;">
-0.0005172
</td>
<td style="text-align:right;">
-0.0005260
</td>
<td style="text-align:right;">
-0.0005347
</td>
<td style="text-align:right;">
-0.0005435
</td>
<td style="text-align:right;">
-0.0005523
</td>
<td style="text-align:right;">
-0.0005610
</td>
<td style="text-align:right;">
-0.0005698
</td>
<td style="text-align:right;">
-0.0005785
</td>
<td style="text-align:right;">
-0.0005873
</td>
<td style="text-align:right;">
-0.0005960
</td>
<td style="text-align:right;">
-0.0006048
</td>
<td style="text-align:right;">
-0.0005965
</td>
<td style="text-align:right;">
-0.0005881
</td>
<td style="text-align:right;">
-0.0005798
</td>
<td style="text-align:right;">
-0.0005714
</td>
<td style="text-align:right;">
-0.0005631
</td>
<td style="text-align:right;">
-0.0005548
</td>
<td style="text-align:right;">
-0.0005464
</td>
<td style="text-align:right;">
-0.0005381
</td>
<td style="text-align:right;">
-0.0005297
</td>
<td style="text-align:right;">
-0.0005214
</td>
<td style="text-align:right;">
-0.0005131
</td>
<td style="text-align:right;">
-0.0005047
</td>
<td style="text-align:right;">
-0.0004964
</td>
<td style="text-align:right;">
-0.0004880
</td>
<td style="text-align:right;">
-0.0004797
</td>
<td style="text-align:right;">
-0.0004713
</td>
<td style="text-align:right;">
-0.0004630
</td>
<td style="text-align:right;">
-0.0004547
</td>
<td style="text-align:right;">
-0.0004463
</td>
<td style="text-align:right;">
-0.0004380
</td>
<td style="text-align:right;">
-0.0004296
</td>
<td style="text-align:right;">
-0.0004213
</td>
<td style="text-align:right;">
-0.0004130
</td>
<td style="text-align:right;">
-0.0004046
</td>
<td style="text-align:right;">
-0.0003963
</td>
<td style="text-align:right;">
-0.0003879
</td>
<td style="text-align:right;">
-0.0003796
</td>
<td style="text-align:right;">
-0.0003713
</td>
<td style="text-align:right;">
-0.0003629
</td>
<td style="text-align:right;">
-0.0003546
</td>
<td style="text-align:right;">
-0.0003462
</td>
<td style="text-align:right;">
-0.0003379
</td>
<td style="text-align:right;">
-0.0003296
</td>
<td style="text-align:right;">
-0.0003212
</td>
<td style="text-align:right;">
-0.0003129
</td>
<td style="text-align:right;">
-0.0003045
</td>
<td style="text-align:right;">
-0.0002962
</td>
<td style="text-align:right;">
-0.0002879
</td>
<td style="text-align:right;">
-0.0002795
</td>
<td style="text-align:right;">
-0.0002712
</td>
<td style="text-align:right;">
-0.0002556
</td>
<td style="text-align:right;">
-0.0002556
</td>
<td style="text-align:right;">
-0.0002556
</td>
<td style="text-align:right;">
-0.0002556
</td>
<td style="text-align:right;">
-0.0002556
</td>
<td style="text-align:right;">
-0.0002458
</td>
<td style="text-align:right;">
-0.0002293
</td>
<td style="text-align:right;">
-0.0002129
</td>
<td style="text-align:right;">
-0.0001965
</td>
<td style="text-align:right;">
-0.0001801
</td>
<td style="text-align:right;">
-0.0001637
</td>
<td style="text-align:right;">
-0.0001473
</td>
<td style="text-align:right;">
-0.0001308
</td>
<td style="text-align:right;">
-0.0001144
</td>
<td style="text-align:right;">
-0.0000980
</td>
<td style="text-align:right;">
-0.0000816
</td>
<td style="text-align:right;">
-0.0000652
</td>
<td style="text-align:right;">
-0.0000487
</td>
<td style="text-align:right;">
-0.0000323
</td>
<td style="text-align:right;">
-0.0000270
</td>
<td style="text-align:right;">
-0.0000229
</td>
<td style="text-align:right;">
-0.0000188
</td>
<td style="text-align:right;">
-0.0000147
</td>
<td style="text-align:right;">
-0.0000106
</td>
<td style="text-align:right;">
-0.0000065
</td>
<td style="text-align:right;">
-0.0000024
</td>
<td style="text-align:right;">
0.0000017
</td>
<td style="text-align:right;">
0.0000058
</td>
<td style="text-align:right;">
0.0000099
</td>
<td style="text-align:right;">
0.0000140
</td>
<td style="text-align:right;">
0.0000181
</td>
<td style="text-align:right;">
0.0000222
</td>
<td style="text-align:right;">
0.0000263
</td>
<td style="text-align:right;">
0.0000304
</td>
<td style="text-align:right;">
0.0000345
</td>
<td style="text-align:right;">
0.0000386
</td>
<td style="text-align:right;">
0.0000427
</td>
<td style="text-align:right;">
0.0000468
</td>
<td style="text-align:right;">
0.0000509
</td>
<td style="text-align:right;">
0.0000550
</td>
<td style="text-align:right;">
0.0000591
</td>
<td style="text-align:right;">
0.0000632
</td>
<td style="text-align:right;">
0.0000673
</td>
<td style="text-align:right;">
0.0000714
</td>
<td style="text-align:right;">
0.0000739
</td>
<td style="text-align:right;">
0.0000765
</td>
<td style="text-align:right;">
0.0000790
</td>
<td style="text-align:right;">
0.0000815
</td>
<td style="text-align:right;">
0.0000840
</td>
<td style="text-align:right;">
0.0000866
</td>
<td style="text-align:right;">
0.0000891
</td>
<td style="text-align:right;">
0.0000916
</td>
<td style="text-align:right;">
0.0000941
</td>
<td style="text-align:right;">
0.0000967
</td>
<td style="text-align:right;">
0.0000992
</td>
<td style="text-align:right;">
0.0001017
</td>
<td style="text-align:right;">
0.0001042
</td>
<td style="text-align:right;">
0.0001068
</td>
<td style="text-align:right;">
0.0001093
</td>
<td style="text-align:right;">
0.0001118
</td>
<td style="text-align:right;">
0.0001143
</td>
<td style="text-align:right;">
0.0001169
</td>
<td style="text-align:right;">
0.0001194
</td>
<td style="text-align:right;">
0.0001219
</td>
<td style="text-align:right;">
0.0001244
</td>
<td style="text-align:right;">
0.0001270
</td>
<td style="text-align:right;">
0.0001295
</td>
<td style="text-align:right;">
0.0001320
</td>
<td style="text-align:right;">
0.0001345
</td>
<td style="text-align:right;">
0.0001371
</td>
<td style="text-align:right;">
0.0001396
</td>
<td style="text-align:right;">
0.0001421
</td>
<td style="text-align:right;">
0.0001446
</td>
<td style="text-align:right;">
0.0001472
</td>
<td style="text-align:right;">
0.0001497
</td>
<td style="text-align:right;">
0.0001522
</td>
<td style="text-align:right;">
0.0001547
</td>
<td style="text-align:right;">
0.0001573
</td>
<td style="text-align:right;">
0.0001598
</td>
<td style="text-align:right;">
0.0001623
</td>
<td style="text-align:right;">
0.0001648
</td>
<td style="text-align:right;">
0.0001674
</td>
<td style="text-align:right;">
0.0001699
</td>
<td style="text-align:right;">
0.0001724
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 01:30:00
</td>
<td style="text-align:left;">
2018-06-01 01:59:59
</td>
<td style="text-align:right;">
0.0013277
</td>
<td style="text-align:right;">
0.0013277
</td>
<td style="text-align:right;">
0.0013277
</td>
<td style="text-align:right;">
0.0013277
</td>
<td style="text-align:right;">
0.0013277
</td>
<td style="text-align:right;">
0.0013735
</td>
<td style="text-align:right;">
0.0014499
</td>
<td style="text-align:right;">
0.0015263
</td>
<td style="text-align:right;">
0.0016027
</td>
<td style="text-align:right;">
0.0016790
</td>
<td style="text-align:right;">
0.0017554
</td>
<td style="text-align:right;">
0.0018318
</td>
<td style="text-align:right;">
0.0019082
</td>
<td style="text-align:right;">
0.0019845
</td>
<td style="text-align:right;">
0.0020609
</td>
<td style="text-align:right;">
0.0021373
</td>
<td style="text-align:right;">
0.0022137
</td>
<td style="text-align:right;">
0.0022900
</td>
<td style="text-align:right;">
0.0023664
</td>
<td style="text-align:right;">
0.0023013
</td>
<td style="text-align:right;">
0.0022204
</td>
<td style="text-align:right;">
0.0021396
</td>
<td style="text-align:right;">
0.0020587
</td>
<td style="text-align:right;">
0.0019778
</td>
<td style="text-align:right;">
0.0018970
</td>
<td style="text-align:right;">
0.0018161
</td>
<td style="text-align:right;">
0.0017353
</td>
<td style="text-align:right;">
0.0016544
</td>
<td style="text-align:right;">
0.0015735
</td>
<td style="text-align:right;">
0.0014927
</td>
<td style="text-align:right;">
0.0014118
</td>
<td style="text-align:right;">
0.0013310
</td>
<td style="text-align:right;">
0.0012501
</td>
<td style="text-align:right;">
0.0011692
</td>
<td style="text-align:right;">
0.0010884
</td>
<td style="text-align:right;">
0.0010075
</td>
<td style="text-align:right;">
0.0009267
</td>
<td style="text-align:right;">
0.0008458
</td>
<td style="text-align:right;">
0.0007649
</td>
<td style="text-align:right;">
0.0006841
</td>
<td style="text-align:right;">
0.0006032
</td>
<td style="text-align:right;">
0.0005224
</td>
<td style="text-align:right;">
0.0004415
</td>
<td style="text-align:right;">
0.0003606
</td>
<td style="text-align:right;">
0.0003730
</td>
<td style="text-align:right;">
0.0003853
</td>
<td style="text-align:right;">
0.0003976
</td>
<td style="text-align:right;">
0.0004099
</td>
<td style="text-align:right;">
0.0004222
</td>
<td style="text-align:right;">
0.0004345
</td>
<td style="text-align:right;">
0.0004468
</td>
<td style="text-align:right;">
0.0004591
</td>
<td style="text-align:right;">
0.0004714
</td>
<td style="text-align:right;">
0.0004837
</td>
<td style="text-align:right;">
0.0004960
</td>
<td style="text-align:right;">
0.0005083
</td>
<td style="text-align:right;">
0.0005206
</td>
<td style="text-align:right;">
0.0005329
</td>
<td style="text-align:right;">
0.0005452
</td>
<td style="text-align:right;">
0.0005575
</td>
<td style="text-align:right;">
0.0005698
</td>
<td style="text-align:right;">
0.0005821
</td>
<td style="text-align:right;">
0.0005944
</td>
<td style="text-align:right;">
0.0006067
</td>
<td style="text-align:right;">
0.0006190
</td>
<td style="text-align:right;">
0.0006313
</td>
<td style="text-align:right;">
0.0006436
</td>
<td style="text-align:right;">
0.0006559
</td>
<td style="text-align:right;">
0.0006682
</td>
<td style="text-align:right;">
0.0006805
</td>
<td style="text-align:right;">
0.0006928
</td>
<td style="text-align:right;">
0.0007051
</td>
<td style="text-align:right;">
0.0007174
</td>
<td style="text-align:right;">
0.0007297
</td>
<td style="text-align:right;">
0.0007420
</td>
<td style="text-align:right;">
0.0007543
</td>
<td style="text-align:right;">
0.0007666
</td>
<td style="text-align:right;">
0.0007789
</td>
<td style="text-align:right;">
0.0007912
</td>
<td style="text-align:right;">
0.0008035
</td>
<td style="text-align:right;">
0.0008158
</td>
<td style="text-align:right;">
0.0008281
</td>
<td style="text-align:right;">
0.0008404
</td>
<td style="text-align:right;">
0.0008527
</td>
<td style="text-align:right;">
0.0000313
</td>
<td style="text-align:right;">
0.0000313
</td>
<td style="text-align:right;">
0.0000313
</td>
<td style="text-align:right;">
0.0000313
</td>
<td style="text-align:right;">
0.0000313
</td>
<td style="text-align:right;">
0.0000337
</td>
<td style="text-align:right;">
0.0000378
</td>
<td style="text-align:right;">
0.0000418
</td>
<td style="text-align:right;">
0.0000459
</td>
<td style="text-align:right;">
0.0000499
</td>
<td style="text-align:right;">
0.0000540
</td>
<td style="text-align:right;">
0.0000580
</td>
<td style="text-align:right;">
0.0000620
</td>
<td style="text-align:right;">
0.0000661
</td>
<td style="text-align:right;">
0.0000701
</td>
<td style="text-align:right;">
0.0000742
</td>
<td style="text-align:right;">
0.0000782
</td>
<td style="text-align:right;">
0.0000823
</td>
<td style="text-align:right;">
0.0000863
</td>
<td style="text-align:right;">
0.0000849
</td>
<td style="text-align:right;">
0.0000830
</td>
<td style="text-align:right;">
0.0000810
</td>
<td style="text-align:right;">
0.0000791
</td>
<td style="text-align:right;">
0.0000771
</td>
<td style="text-align:right;">
0.0000751
</td>
<td style="text-align:right;">
0.0000732
</td>
<td style="text-align:right;">
0.0000712
</td>
<td style="text-align:right;">
0.0000692
</td>
<td style="text-align:right;">
0.0000673
</td>
<td style="text-align:right;">
0.0000653
</td>
<td style="text-align:right;">
0.0000634
</td>
<td style="text-align:right;">
0.0000614
</td>
<td style="text-align:right;">
0.0000594
</td>
<td style="text-align:right;">
0.0000575
</td>
<td style="text-align:right;">
0.0000555
</td>
<td style="text-align:right;">
0.0000536
</td>
<td style="text-align:right;">
0.0000516
</td>
<td style="text-align:right;">
0.0000496
</td>
<td style="text-align:right;">
0.0000477
</td>
<td style="text-align:right;">
0.0000457
</td>
<td style="text-align:right;">
0.0000437
</td>
<td style="text-align:right;">
0.0000418
</td>
<td style="text-align:right;">
0.0000398
</td>
<td style="text-align:right;">
0.0000379
</td>
<td style="text-align:right;">
0.0000349
</td>
<td style="text-align:right;">
0.0000319
</td>
<td style="text-align:right;">
0.0000290
</td>
<td style="text-align:right;">
0.0000260
</td>
<td style="text-align:right;">
0.0000230
</td>
<td style="text-align:right;">
0.0000201
</td>
<td style="text-align:right;">
0.0000171
</td>
<td style="text-align:right;">
0.0000141
</td>
<td style="text-align:right;">
0.0000112
</td>
<td style="text-align:right;">
0.0000082
</td>
<td style="text-align:right;">
0.0000052
</td>
<td style="text-align:right;">
0.0000023
</td>
<td style="text-align:right;">
-0.0000007
</td>
<td style="text-align:right;">
-0.0000037
</td>
<td style="text-align:right;">
-0.0000066
</td>
<td style="text-align:right;">
-0.0000096
</td>
<td style="text-align:right;">
-0.0000126
</td>
<td style="text-align:right;">
-0.0000155
</td>
<td style="text-align:right;">
-0.0000185
</td>
<td style="text-align:right;">
-0.0000215
</td>
<td style="text-align:right;">
-0.0000244
</td>
<td style="text-align:right;">
-0.0000274
</td>
<td style="text-align:right;">
-0.0000304
</td>
<td style="text-align:right;">
-0.0000333
</td>
<td style="text-align:right;">
-0.0000363
</td>
<td style="text-align:right;">
-0.0000393
</td>
<td style="text-align:right;">
-0.0000422
</td>
<td style="text-align:right;">
-0.0000452
</td>
<td style="text-align:right;">
-0.0000482
</td>
<td style="text-align:right;">
-0.0000511
</td>
<td style="text-align:right;">
-0.0000541
</td>
<td style="text-align:right;">
-0.0000571
</td>
<td style="text-align:right;">
-0.0000600
</td>
<td style="text-align:right;">
-0.0000630
</td>
<td style="text-align:right;">
-0.0000660
</td>
<td style="text-align:right;">
-0.0000689
</td>
<td style="text-align:right;">
-0.0000719
</td>
<td style="text-align:right;">
-0.0000749
</td>
<td style="text-align:right;">
-0.0000778
</td>
<td style="text-align:right;">
-0.0000808
</td>
<td style="text-align:right;">
-0.0010983
</td>
<td style="text-align:right;">
-0.0010983
</td>
<td style="text-align:right;">
-0.0010983
</td>
<td style="text-align:right;">
-0.0010983
</td>
<td style="text-align:right;">
-0.0010983
</td>
<td style="text-align:right;">
-0.0010630
</td>
<td style="text-align:right;">
-0.0010043
</td>
<td style="text-align:right;">
-0.0009456
</td>
<td style="text-align:right;">
-0.0008868
</td>
<td style="text-align:right;">
-0.0008281
</td>
<td style="text-align:right;">
-0.0007693
</td>
<td style="text-align:right;">
-0.0007106
</td>
<td style="text-align:right;">
-0.0006519
</td>
<td style="text-align:right;">
-0.0005931
</td>
<td style="text-align:right;">
-0.0005344
</td>
<td style="text-align:right;">
-0.0004756
</td>
<td style="text-align:right;">
-0.0004169
</td>
<td style="text-align:right;">
-0.0003582
</td>
<td style="text-align:right;">
-0.0002994
</td>
<td style="text-align:right;">
-0.0002907
</td>
<td style="text-align:right;">
-0.0002876
</td>
<td style="text-align:right;">
-0.0002845
</td>
<td style="text-align:right;">
-0.0002814
</td>
<td style="text-align:right;">
-0.0002783
</td>
<td style="text-align:right;">
-0.0002751
</td>
<td style="text-align:right;">
-0.0002720
</td>
<td style="text-align:right;">
-0.0002689
</td>
<td style="text-align:right;">
-0.0002658
</td>
<td style="text-align:right;">
-0.0002627
</td>
<td style="text-align:right;">
-0.0002595
</td>
<td style="text-align:right;">
-0.0002564
</td>
<td style="text-align:right;">
-0.0002533
</td>
<td style="text-align:right;">
-0.0002502
</td>
<td style="text-align:right;">
-0.0002471
</td>
<td style="text-align:right;">
-0.0002439
</td>
<td style="text-align:right;">
-0.0002408
</td>
<td style="text-align:right;">
-0.0002377
</td>
<td style="text-align:right;">
-0.0002346
</td>
<td style="text-align:right;">
-0.0002315
</td>
<td style="text-align:right;">
-0.0002283
</td>
<td style="text-align:right;">
-0.0002252
</td>
<td style="text-align:right;">
-0.0002221
</td>
<td style="text-align:right;">
-0.0002190
</td>
<td style="text-align:right;">
-0.0002159
</td>
<td style="text-align:right;">
-0.0002160
</td>
<td style="text-align:right;">
-0.0002161
</td>
<td style="text-align:right;">
-0.0002162
</td>
<td style="text-align:right;">
-0.0002163
</td>
<td style="text-align:right;">
-0.0002164
</td>
<td style="text-align:right;">
-0.0002165
</td>
<td style="text-align:right;">
-0.0002166
</td>
<td style="text-align:right;">
-0.0002167
</td>
<td style="text-align:right;">
-0.0002168
</td>
<td style="text-align:right;">
-0.0002169
</td>
<td style="text-align:right;">
-0.0002170
</td>
<td style="text-align:right;">
-0.0002171
</td>
<td style="text-align:right;">
-0.0002173
</td>
<td style="text-align:right;">
-0.0002174
</td>
<td style="text-align:right;">
-0.0002175
</td>
<td style="text-align:right;">
-0.0002176
</td>
<td style="text-align:right;">
-0.0002177
</td>
<td style="text-align:right;">
-0.0002178
</td>
<td style="text-align:right;">
-0.0002179
</td>
<td style="text-align:right;">
-0.0002180
</td>
<td style="text-align:right;">
-0.0002181
</td>
<td style="text-align:right;">
-0.0002182
</td>
<td style="text-align:right;">
-0.0002183
</td>
<td style="text-align:right;">
-0.0002184
</td>
<td style="text-align:right;">
-0.0002185
</td>
<td style="text-align:right;">
-0.0002186
</td>
<td style="text-align:right;">
-0.0002188
</td>
<td style="text-align:right;">
-0.0002189
</td>
<td style="text-align:right;">
-0.0002190
</td>
<td style="text-align:right;">
-0.0002191
</td>
<td style="text-align:right;">
-0.0002192
</td>
<td style="text-align:right;">
-0.0002193
</td>
<td style="text-align:right;">
-0.0002194
</td>
<td style="text-align:right;">
-0.0002195
</td>
<td style="text-align:right;">
-0.0002196
</td>
<td style="text-align:right;">
-0.0002197
</td>
<td style="text-align:right;">
-0.0002198
</td>
<td style="text-align:right;">
-0.0002199
</td>
<td style="text-align:right;">
-0.0002200
</td>
<td style="text-align:right;">
-0.0002201
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 02:00:00
</td>
<td style="text-align:left;">
2018-06-01 02:29:59
</td>
<td style="text-align:right;">
0.0007344
</td>
<td style="text-align:right;">
0.0007344
</td>
<td style="text-align:right;">
0.0007344
</td>
<td style="text-align:right;">
0.0007344
</td>
<td style="text-align:right;">
0.0007344
</td>
<td style="text-align:right;">
0.0008510
</td>
<td style="text-align:right;">
0.0010454
</td>
<td style="text-align:right;">
0.0012397
</td>
<td style="text-align:right;">
0.0014341
</td>
<td style="text-align:right;">
0.0016284
</td>
<td style="text-align:right;">
0.0018228
</td>
<td style="text-align:right;">
0.0020171
</td>
<td style="text-align:right;">
0.0022115
</td>
<td style="text-align:right;">
0.0024058
</td>
<td style="text-align:right;">
0.0026002
</td>
<td style="text-align:right;">
0.0027946
</td>
<td style="text-align:right;">
0.0029889
</td>
<td style="text-align:right;">
0.0031833
</td>
<td style="text-align:right;">
0.0033776
</td>
<td style="text-align:right;">
0.0032919
</td>
<td style="text-align:right;">
0.0031751
</td>
<td style="text-align:right;">
0.0030583
</td>
<td style="text-align:right;">
0.0029415
</td>
<td style="text-align:right;">
0.0028247
</td>
<td style="text-align:right;">
0.0027079
</td>
<td style="text-align:right;">
0.0025911
</td>
<td style="text-align:right;">
0.0024743
</td>
<td style="text-align:right;">
0.0023575
</td>
<td style="text-align:right;">
0.0022407
</td>
<td style="text-align:right;">
0.0021239
</td>
<td style="text-align:right;">
0.0020071
</td>
<td style="text-align:right;">
0.0018903
</td>
<td style="text-align:right;">
0.0017735
</td>
<td style="text-align:right;">
0.0016567
</td>
<td style="text-align:right;">
0.0015399
</td>
<td style="text-align:right;">
0.0014231
</td>
<td style="text-align:right;">
0.0013063
</td>
<td style="text-align:right;">
0.0011895
</td>
<td style="text-align:right;">
0.0010727
</td>
<td style="text-align:right;">
0.0009558
</td>
<td style="text-align:right;">
0.0008390
</td>
<td style="text-align:right;">
0.0007222
</td>
<td style="text-align:right;">
0.0006054
</td>
<td style="text-align:right;">
0.0004886
</td>
<td style="text-align:right;">
0.0004664
</td>
<td style="text-align:right;">
0.0004442
</td>
<td style="text-align:right;">
0.0004219
</td>
<td style="text-align:right;">
0.0003997
</td>
<td style="text-align:right;">
0.0003775
</td>
<td style="text-align:right;">
0.0003553
</td>
<td style="text-align:right;">
0.0003330
</td>
<td style="text-align:right;">
0.0003108
</td>
<td style="text-align:right;">
0.0002886
</td>
<td style="text-align:right;">
0.0002664
</td>
<td style="text-align:right;">
0.0002441
</td>
<td style="text-align:right;">
0.0002219
</td>
<td style="text-align:right;">
0.0001997
</td>
<td style="text-align:right;">
0.0001774
</td>
<td style="text-align:right;">
0.0001552
</td>
<td style="text-align:right;">
0.0001330
</td>
<td style="text-align:right;">
0.0001108
</td>
<td style="text-align:right;">
0.0000885
</td>
<td style="text-align:right;">
0.0000663
</td>
<td style="text-align:right;">
0.0000441
</td>
<td style="text-align:right;">
0.0000218
</td>
<td style="text-align:right;">
-0.0000004
</td>
<td style="text-align:right;">
-0.0000226
</td>
<td style="text-align:right;">
-0.0000448
</td>
<td style="text-align:right;">
-0.0000671
</td>
<td style="text-align:right;">
-0.0000893
</td>
<td style="text-align:right;">
-0.0001115
</td>
<td style="text-align:right;">
-0.0001338
</td>
<td style="text-align:right;">
-0.0001560
</td>
<td style="text-align:right;">
-0.0001782
</td>
<td style="text-align:right;">
-0.0002004
</td>
<td style="text-align:right;">
-0.0002227
</td>
<td style="text-align:right;">
-0.0002449
</td>
<td style="text-align:right;">
-0.0002671
</td>
<td style="text-align:right;">
-0.0002894
</td>
<td style="text-align:right;">
-0.0003116
</td>
<td style="text-align:right;">
-0.0003338
</td>
<td style="text-align:right;">
-0.0003560
</td>
<td style="text-align:right;">
-0.0003783
</td>
<td style="text-align:right;">
-0.0004005
</td>
<td style="text-align:right;">
-0.0000316
</td>
<td style="text-align:right;">
-0.0000316
</td>
<td style="text-align:right;">
-0.0000316
</td>
<td style="text-align:right;">
-0.0000316
</td>
<td style="text-align:right;">
-0.0000316
</td>
<td style="text-align:right;">
-0.0000246
</td>
<td style="text-align:right;">
-0.0000130
</td>
<td style="text-align:right;">
-0.0000013
</td>
<td style="text-align:right;">
0.0000103
</td>
<td style="text-align:right;">
0.0000219
</td>
<td style="text-align:right;">
0.0000336
</td>
<td style="text-align:right;">
0.0000452
</td>
<td style="text-align:right;">
0.0000568
</td>
<td style="text-align:right;">
0.0000685
</td>
<td style="text-align:right;">
0.0000801
</td>
<td style="text-align:right;">
0.0000917
</td>
<td style="text-align:right;">
0.0001034
</td>
<td style="text-align:right;">
0.0001150
</td>
<td style="text-align:right;">
0.0001266
</td>
<td style="text-align:right;">
0.0001239
</td>
<td style="text-align:right;">
0.0001195
</td>
<td style="text-align:right;">
0.0001152
</td>
<td style="text-align:right;">
0.0001109
</td>
<td style="text-align:right;">
0.0001065
</td>
<td style="text-align:right;">
0.0001022
</td>
<td style="text-align:right;">
0.0000978
</td>
<td style="text-align:right;">
0.0000935
</td>
<td style="text-align:right;">
0.0000891
</td>
<td style="text-align:right;">
0.0000848
</td>
<td style="text-align:right;">
0.0000804
</td>
<td style="text-align:right;">
0.0000761
</td>
<td style="text-align:right;">
0.0000717
</td>
<td style="text-align:right;">
0.0000674
</td>
<td style="text-align:right;">
0.0000630
</td>
<td style="text-align:right;">
0.0000587
</td>
<td style="text-align:right;">
0.0000543
</td>
<td style="text-align:right;">
0.0000500
</td>
<td style="text-align:right;">
0.0000456
</td>
<td style="text-align:right;">
0.0000413
</td>
<td style="text-align:right;">
0.0000369
</td>
<td style="text-align:right;">
0.0000326
</td>
<td style="text-align:right;">
0.0000283
</td>
<td style="text-align:right;">
0.0000239
</td>
<td style="text-align:right;">
0.0000196
</td>
<td style="text-align:right;">
0.0000170
</td>
<td style="text-align:right;">
0.0000145
</td>
<td style="text-align:right;">
0.0000120
</td>
<td style="text-align:right;">
0.0000095
</td>
<td style="text-align:right;">
0.0000070
</td>
<td style="text-align:right;">
0.0000045
</td>
<td style="text-align:right;">
0.0000020
</td>
<td style="text-align:right;">
-0.0000005
</td>
<td style="text-align:right;">
-0.0000030
</td>
<td style="text-align:right;">
-0.0000056
</td>
<td style="text-align:right;">
-0.0000081
</td>
<td style="text-align:right;">
-0.0000106
</td>
<td style="text-align:right;">
-0.0000131
</td>
<td style="text-align:right;">
-0.0000156
</td>
<td style="text-align:right;">
-0.0000181
</td>
<td style="text-align:right;">
-0.0000206
</td>
<td style="text-align:right;">
-0.0000231
</td>
<td style="text-align:right;">
-0.0000256
</td>
<td style="text-align:right;">
-0.0000282
</td>
<td style="text-align:right;">
-0.0000307
</td>
<td style="text-align:right;">
-0.0000332
</td>
<td style="text-align:right;">
-0.0000357
</td>
<td style="text-align:right;">
-0.0000382
</td>
<td style="text-align:right;">
-0.0000407
</td>
<td style="text-align:right;">
-0.0000432
</td>
<td style="text-align:right;">
-0.0000457
</td>
<td style="text-align:right;">
-0.0000482
</td>
<td style="text-align:right;">
-0.0000508
</td>
<td style="text-align:right;">
-0.0000533
</td>
<td style="text-align:right;">
-0.0000558
</td>
<td style="text-align:right;">
-0.0000583
</td>
<td style="text-align:right;">
-0.0000608
</td>
<td style="text-align:right;">
-0.0000633
</td>
<td style="text-align:right;">
-0.0000658
</td>
<td style="text-align:right;">
-0.0000683
</td>
<td style="text-align:right;">
-0.0000708
</td>
<td style="text-align:right;">
-0.0000733
</td>
<td style="text-align:right;">
-0.0000759
</td>
<td style="text-align:right;">
-0.0000784
</td>
<td style="text-align:right;">
-0.0000809
</td>
<td style="text-align:right;">
-0.0006432
</td>
<td style="text-align:right;">
-0.0006432
</td>
<td style="text-align:right;">
-0.0006432
</td>
<td style="text-align:right;">
-0.0006432
</td>
<td style="text-align:right;">
-0.0006432
</td>
<td style="text-align:right;">
-0.0006189
</td>
<td style="text-align:right;">
-0.0005784
</td>
<td style="text-align:right;">
-0.0005379
</td>
<td style="text-align:right;">
-0.0004973
</td>
<td style="text-align:right;">
-0.0004568
</td>
<td style="text-align:right;">
-0.0004163
</td>
<td style="text-align:right;">
-0.0003758
</td>
<td style="text-align:right;">
-0.0003353
</td>
<td style="text-align:right;">
-0.0002947
</td>
<td style="text-align:right;">
-0.0002542
</td>
<td style="text-align:right;">
-0.0002137
</td>
<td style="text-align:right;">
-0.0001732
</td>
<td style="text-align:right;">
-0.0001326
</td>
<td style="text-align:right;">
-0.0000921
</td>
<td style="text-align:right;">
-0.0000846
</td>
<td style="text-align:right;">
-0.0000808
</td>
<td style="text-align:right;">
-0.0000770
</td>
<td style="text-align:right;">
-0.0000732
</td>
<td style="text-align:right;">
-0.0000694
</td>
<td style="text-align:right;">
-0.0000656
</td>
<td style="text-align:right;">
-0.0000618
</td>
<td style="text-align:right;">
-0.0000580
</td>
<td style="text-align:right;">
-0.0000541
</td>
<td style="text-align:right;">
-0.0000503
</td>
<td style="text-align:right;">
-0.0000465
</td>
<td style="text-align:right;">
-0.0000427
</td>
<td style="text-align:right;">
-0.0000389
</td>
<td style="text-align:right;">
-0.0000351
</td>
<td style="text-align:right;">
-0.0000313
</td>
<td style="text-align:right;">
-0.0000275
</td>
<td style="text-align:right;">
-0.0000236
</td>
<td style="text-align:right;">
-0.0000198
</td>
<td style="text-align:right;">
-0.0000160
</td>
<td style="text-align:right;">
-0.0000122
</td>
<td style="text-align:right;">
-0.0000084
</td>
<td style="text-align:right;">
-0.0000046
</td>
<td style="text-align:right;">
-0.0000008
</td>
<td style="text-align:right;">
0.0000030
</td>
<td style="text-align:right;">
0.0000069
</td>
<td style="text-align:right;">
0.0000066
</td>
<td style="text-align:right;">
0.0000064
</td>
<td style="text-align:right;">
0.0000062
</td>
<td style="text-align:right;">
0.0000059
</td>
<td style="text-align:right;">
0.0000057
</td>
<td style="text-align:right;">
0.0000055
</td>
<td style="text-align:right;">
0.0000052
</td>
<td style="text-align:right;">
0.0000050
</td>
<td style="text-align:right;">
0.0000048
</td>
<td style="text-align:right;">
0.0000045
</td>
<td style="text-align:right;">
0.0000043
</td>
<td style="text-align:right;">
0.0000041
</td>
<td style="text-align:right;">
0.0000039
</td>
<td style="text-align:right;">
0.0000036
</td>
<td style="text-align:right;">
0.0000034
</td>
<td style="text-align:right;">
0.0000032
</td>
<td style="text-align:right;">
0.0000029
</td>
<td style="text-align:right;">
0.0000027
</td>
<td style="text-align:right;">
0.0000025
</td>
<td style="text-align:right;">
0.0000022
</td>
<td style="text-align:right;">
0.0000020
</td>
<td style="text-align:right;">
0.0000018
</td>
<td style="text-align:right;">
0.0000015
</td>
<td style="text-align:right;">
0.0000013
</td>
<td style="text-align:right;">
0.0000011
</td>
<td style="text-align:right;">
0.0000008
</td>
<td style="text-align:right;">
0.0000006
</td>
<td style="text-align:right;">
0.0000004
</td>
<td style="text-align:right;">
0.0000002
</td>
<td style="text-align:right;">
-0.0000001
</td>
<td style="text-align:right;">
-0.0000003
</td>
<td style="text-align:right;">
-0.0000005
</td>
<td style="text-align:right;">
-0.0000008
</td>
<td style="text-align:right;">
-0.0000010
</td>
<td style="text-align:right;">
-0.0000012
</td>
<td style="text-align:right;">
-0.0000015
</td>
<td style="text-align:right;">
-0.0000017
</td>
<td style="text-align:right;">
-0.0000019
</td>
<td style="text-align:right;">
-0.0000022
</td>
<td style="text-align:right;">
-0.0000024
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01 02:30:00
</td>
<td style="text-align:left;">
2018-06-01 02:59:59
</td>
<td style="text-align:right;">
-0.0009450
</td>
<td style="text-align:right;">
-0.0009450
</td>
<td style="text-align:right;">
-0.0009450
</td>
<td style="text-align:right;">
-0.0009450
</td>
<td style="text-align:right;">
-0.0009450
</td>
<td style="text-align:right;">
-0.0007653
</td>
<td style="text-align:right;">
-0.0004659
</td>
<td style="text-align:right;">
-0.0001665
</td>
<td style="text-align:right;">
0.0001329
</td>
<td style="text-align:right;">
0.0004323
</td>
<td style="text-align:right;">
0.0007317
</td>
<td style="text-align:right;">
0.0010311
</td>
<td style="text-align:right;">
0.0013305
</td>
<td style="text-align:right;">
0.0016300
</td>
<td style="text-align:right;">
0.0019294
</td>
<td style="text-align:right;">
0.0022288
</td>
<td style="text-align:right;">
0.0025282
</td>
<td style="text-align:right;">
0.0028276
</td>
<td style="text-align:right;">
0.0031270
</td>
<td style="text-align:right;">
0.0030239
</td>
<td style="text-align:right;">
0.0028760
</td>
<td style="text-align:right;">
0.0027282
</td>
<td style="text-align:right;">
0.0025803
</td>
<td style="text-align:right;">
0.0024325
</td>
<td style="text-align:right;">
0.0022846
</td>
<td style="text-align:right;">
0.0021368
</td>
<td style="text-align:right;">
0.0019889
</td>
<td style="text-align:right;">
0.0018411
</td>
<td style="text-align:right;">
0.0016932
</td>
<td style="text-align:right;">
0.0015454
</td>
<td style="text-align:right;">
0.0013975
</td>
<td style="text-align:right;">
0.0012497
</td>
<td style="text-align:right;">
0.0011018
</td>
<td style="text-align:right;">
0.0009540
</td>
<td style="text-align:right;">
0.0008061
</td>
<td style="text-align:right;">
0.0006583
</td>
<td style="text-align:right;">
0.0005104
</td>
<td style="text-align:right;">
0.0003626
</td>
<td style="text-align:right;">
0.0002147
</td>
<td style="text-align:right;">
0.0000669
</td>
<td style="text-align:right;">
-0.0000810
</td>
<td style="text-align:right;">
-0.0002288
</td>
<td style="text-align:right;">
-0.0003767
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0005245
</td>
<td style="text-align:right;">
-0.0001513
</td>
<td style="text-align:right;">
-0.0001513
</td>
<td style="text-align:right;">
-0.0001513
</td>
<td style="text-align:right;">
-0.0001513
</td>
<td style="text-align:right;">
-0.0001513
</td>
<td style="text-align:right;">
-0.0001414
</td>
<td style="text-align:right;">
-0.0001250
</td>
<td style="text-align:right;">
-0.0001085
</td>
<td style="text-align:right;">
-0.0000921
</td>
<td style="text-align:right;">
-0.0000756
</td>
<td style="text-align:right;">
-0.0000591
</td>
<td style="text-align:right;">
-0.0000427
</td>
<td style="text-align:right;">
-0.0000262
</td>
<td style="text-align:right;">
-0.0000098
</td>
<td style="text-align:right;">
0.0000067
</td>
<td style="text-align:right;">
0.0000232
</td>
<td style="text-align:right;">
0.0000396
</td>
<td style="text-align:right;">
0.0000561
</td>
<td style="text-align:right;">
0.0000725
</td>
<td style="text-align:right;">
0.0000696
</td>
<td style="text-align:right;">
0.0000645
</td>
<td style="text-align:right;">
0.0000594
</td>
<td style="text-align:right;">
0.0000544
</td>
<td style="text-align:right;">
0.0000493
</td>
<td style="text-align:right;">
0.0000442
</td>
<td style="text-align:right;">
0.0000391
</td>
<td style="text-align:right;">
0.0000340
</td>
<td style="text-align:right;">
0.0000289
</td>
<td style="text-align:right;">
0.0000238
</td>
<td style="text-align:right;">
0.0000188
</td>
<td style="text-align:right;">
0.0000137
</td>
<td style="text-align:right;">
0.0000086
</td>
<td style="text-align:right;">
0.0000035
</td>
<td style="text-align:right;">
-0.0000016
</td>
<td style="text-align:right;">
-0.0000067
</td>
<td style="text-align:right;">
-0.0000118
</td>
<td style="text-align:right;">
-0.0000168
</td>
<td style="text-align:right;">
-0.0000219
</td>
<td style="text-align:right;">
-0.0000270
</td>
<td style="text-align:right;">
-0.0000321
</td>
<td style="text-align:right;">
-0.0000372
</td>
<td style="text-align:right;">
-0.0000423
</td>
<td style="text-align:right;">
-0.0000474
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0000524
</td>
<td style="text-align:right;">
-0.0010168
</td>
<td style="text-align:right;">
-0.0010168
</td>
<td style="text-align:right;">
-0.0010168
</td>
<td style="text-align:right;">
-0.0010168
</td>
<td style="text-align:right;">
-0.0010168
</td>
<td style="text-align:right;">
-0.0009788
</td>
<td style="text-align:right;">
-0.0009156
</td>
<td style="text-align:right;">
-0.0008524
</td>
<td style="text-align:right;">
-0.0007891
</td>
<td style="text-align:right;">
-0.0007259
</td>
<td style="text-align:right;">
-0.0006627
</td>
<td style="text-align:right;">
-0.0005994
</td>
<td style="text-align:right;">
-0.0005362
</td>
<td style="text-align:right;">
-0.0004729
</td>
<td style="text-align:right;">
-0.0004097
</td>
<td style="text-align:right;">
-0.0003465
</td>
<td style="text-align:right;">
-0.0002832
</td>
<td style="text-align:right;">
-0.0002200
</td>
<td style="text-align:right;">
-0.0001568
</td>
<td style="text-align:right;">
-0.0001510
</td>
<td style="text-align:right;">
-0.0001516
</td>
<td style="text-align:right;">
-0.0001523
</td>
<td style="text-align:right;">
-0.0001529
</td>
<td style="text-align:right;">
-0.0001535
</td>
<td style="text-align:right;">
-0.0001542
</td>
<td style="text-align:right;">
-0.0001548
</td>
<td style="text-align:right;">
-0.0001554
</td>
<td style="text-align:right;">
-0.0001561
</td>
<td style="text-align:right;">
-0.0001567
</td>
<td style="text-align:right;">
-0.0001574
</td>
<td style="text-align:right;">
-0.0001580
</td>
<td style="text-align:right;">
-0.0001586
</td>
<td style="text-align:right;">
-0.0001593
</td>
<td style="text-align:right;">
-0.0001599
</td>
<td style="text-align:right;">
-0.0001605
</td>
<td style="text-align:right;">
-0.0001612
</td>
<td style="text-align:right;">
-0.0001618
</td>
<td style="text-align:right;">
-0.0001624
</td>
<td style="text-align:right;">
-0.0001631
</td>
<td style="text-align:right;">
-0.0001637
</td>
<td style="text-align:right;">
-0.0001643
</td>
<td style="text-align:right;">
-0.0001650
</td>
<td style="text-align:right;">
-0.0001656
</td>
<td style="text-align:right;">
-0.0001662
</td>
<td style="text-align:right;">
-0.0001655
</td>
<td style="text-align:right;">
-0.0001647
</td>
<td style="text-align:right;">
-0.0001639
</td>
<td style="text-align:right;">
-0.0001631
</td>
<td style="text-align:right;">
-0.0001623
</td>
<td style="text-align:right;">
-0.0001615
</td>
<td style="text-align:right;">
-0.0001607
</td>
<td style="text-align:right;">
-0.0001600
</td>
<td style="text-align:right;">
-0.0001592
</td>
<td style="text-align:right;">
-0.0001584
</td>
<td style="text-align:right;">
-0.0001576
</td>
<td style="text-align:right;">
-0.0001568
</td>
<td style="text-align:right;">
-0.0001560
</td>
<td style="text-align:right;">
-0.0001552
</td>
<td style="text-align:right;">
-0.0001545
</td>
<td style="text-align:right;">
-0.0001537
</td>
<td style="text-align:right;">
-0.0001529
</td>
<td style="text-align:right;">
-0.0001521
</td>
<td style="text-align:right;">
-0.0001513
</td>
<td style="text-align:right;">
-0.0001505
</td>
<td style="text-align:right;">
-0.0001497
</td>
<td style="text-align:right;">
-0.0001490
</td>
<td style="text-align:right;">
-0.0001482
</td>
<td style="text-align:right;">
-0.0001474
</td>
<td style="text-align:right;">
-0.0001466
</td>
<td style="text-align:right;">
-0.0001458
</td>
<td style="text-align:right;">
-0.0001450
</td>
<td style="text-align:right;">
-0.0001442
</td>
<td style="text-align:right;">
-0.0001435
</td>
<td style="text-align:right;">
-0.0001427
</td>
<td style="text-align:right;">
-0.0001419
</td>
<td style="text-align:right;">
-0.0001411
</td>
<td style="text-align:right;">
-0.0001403
</td>
<td style="text-align:right;">
-0.0001395
</td>
<td style="text-align:right;">
-0.0001387
</td>
<td style="text-align:right;">
-0.0001380
</td>
<td style="text-align:right;">
-0.0001372
</td>
<td style="text-align:right;">
-0.0001364
</td>
<td style="text-align:right;">
-0.0001356
</td>
<td style="text-align:right;">
-0.0001348
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div id="un-interpolated-vertical-profile-data-level-2" class="section level3 hasAnchor" number="5.6.7">
<h3 class="hasAnchor"><span class="header-section-number">5.6.7</span> Un-interpolated vertical profile data (Level 2)<a href="#un-interpolated-vertical-profile-data-level-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Level 2 data are interpolated in time but not in space. They contain
the rates of change at the measurement heights.</p>
<p>Again, they can be extracted from the HDF5 files using <code>stackEddy()</code>
with the same syntax:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="#cb378-1" aria-hidden="true" tabindex="-1"></a>prof.l2 <span class="ot">&lt;-</span> <span class="fu">stackEddy</span>(<span class="at">filepath=</span><span class="st">&quot;./data/filesToStack00200/&quot;</span>,</span>
<span id="cb378-2"><a href="#cb378-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">level=</span><span class="st">&quot;dp02&quot;</span>)</span></code></pre></div>
<pre><code>## Extracting data
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%
## Stacking data tables by month
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=                                                                     |   2%
  |                                                                            
  |==                                                                    |   3%
  |                                                                            
  |====                                                                  |   5%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |========                                                              |  12%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  15%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |=============                                                         |  18%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |===============                                                       |  22%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |====================                                                  |  28%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |========================                                              |  35%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |===========================                                           |  38%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |================================                                      |  45%
  |                                                                            
  |=================================                                     |  47%
  |                                                                            
  |==================================                                    |  48%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================                                  |  52%
  |                                                                            
  |=====================================                                 |  53%
  |                                                                            
  |======================================                                |  55%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |===========================================                           |  62%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |==============================================                        |  65%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |================================================                      |  68%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |==================================================                    |  72%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |=======================================================               |  78%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=========================================================             |  82%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |============================================================          |  85%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |==============================================================        |  88%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |==================================================================    |  95%
  |                                                                            
  |====================================================================  |  97%
  |                                                                            
  |===================================================================== |  98%
  |                                                                            
  |======================================================================| 100%
## Joining data variables
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="#cb380-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(prof.l2<span class="sc">$</span>HARV))</span></code></pre></div>
<p>Note that here, as in the PAR data, there is a <code>verticalPosition</code> field.
It has the same meaning as in the PAR data, indicating the tower level
of the measurement.</p>
</div>
<div id="calibrated-raw-data-level-1" class="section level3 hasAnchor" number="5.6.8">
<h3 class="hasAnchor"><span class="header-section-number">5.6.8</span> Calibrated raw data (Level 1)<a href="#calibrated-raw-data-level-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Level 1 (<code>dp01</code>) data are calibrated, and aggregated in time, but
otherwise untransformed. Use Level 1 data for raw gas concentrations and
atmospheric stable isotopes.</p>
<p>Using <code>stackEddy()</code> to extract Level 1 data requires additional inputs.
The Level 1 files are too large to simply pull out all the variables by
default, and they include mutiple averaging intervals, which can’t be
merged. So two additional inputs are needed:</p>
<ul>
<li><code>avg</code>: The averaging interval to extract</li>
<li><code>var</code>: One or more variables to extract</li>
</ul>
<p>What variables are available, at what averaging intervals? Another
function in the <code>neonUtilities</code> package, <code>getVarsEddy()</code>, returns a list
of HDF5 file contents. It requires only one input, a filepath to a
single NEON HDF5 file:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;./data/filesToStack00200&quot;</span>)</span>
<span id="cb381-2"><a href="#cb381-2" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">getVarsEddy</span>(<span class="fu">paste0</span>(<span class="st">&quot;./data/filesToStack00200/&quot;</span>,</span>
<span id="cb381-3"><a href="#cb381-3" aria-hidden="true" tabindex="-1"></a>                           files[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="fu">paste0</span>(<span class="st">&quot;HARV&quot;</span>, <span class="st">&quot;.*.&quot;</span>, <span class="st">&quot;.*.h5$&quot;</span>),</span>
<span id="cb381-4"><a href="#cb381-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">x =</span> files)][<span class="dv">1</span>]))</span>
<span id="cb381-5"><a href="#cb381-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(vars))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
level
</th>
<th style="text-align:left;">
category
</th>
<th style="text-align:left;">
system
</th>
<th style="text-align:left;">
hor
</th>
<th style="text-align:left;">
ver
</th>
<th style="text-align:left;">
tmi
</th>
<th style="text-align:left;">
subsys
</th>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
otype
</th>
<th style="text-align:left;">
dclass
</th>
<th style="text-align:left;">
dim
</th>
<th style="text-align:left;">
oth
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
HARV
</td>
<td style="text-align:left;">
dp01
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
amrs
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:left;">
060
</td>
<td style="text-align:left;">
01m
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
angNedXaxs
</td>
<td style="text-align:left;">
H5I_DATASET
</td>
<td style="text-align:left;">
COMPOUND
</td>
<td style="text-align:left;">
43200
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
HARV
</td>
<td style="text-align:left;">
dp01
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
amrs
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:left;">
060
</td>
<td style="text-align:left;">
01m
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
angNedYaxs
</td>
<td style="text-align:left;">
H5I_DATASET
</td>
<td style="text-align:left;">
COMPOUND
</td>
<td style="text-align:left;">
43200
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
HARV
</td>
<td style="text-align:left;">
dp01
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
amrs
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:left;">
060
</td>
<td style="text-align:left;">
01m
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
angNedZaxs
</td>
<td style="text-align:left;">
H5I_DATASET
</td>
<td style="text-align:left;">
COMPOUND
</td>
<td style="text-align:left;">
43200
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
HARV
</td>
<td style="text-align:left;">
dp01
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
amrs
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:left;">
060
</td>
<td style="text-align:left;">
30m
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
angNedXaxs
</td>
<td style="text-align:left;">
H5I_DATASET
</td>
<td style="text-align:left;">
COMPOUND
</td>
<td style="text-align:left;">
1440
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
HARV
</td>
<td style="text-align:left;">
dp01
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
amrs
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:left;">
060
</td>
<td style="text-align:left;">
30m
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
angNedYaxs
</td>
<td style="text-align:left;">
H5I_DATASET
</td>
<td style="text-align:left;">
COMPOUND
</td>
<td style="text-align:left;">
1440
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
HARV
</td>
<td style="text-align:left;">
dp01
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
amrs
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:left;">
060
</td>
<td style="text-align:left;">
30m
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
angNedZaxs
</td>
<td style="text-align:left;">
H5I_DATASET
</td>
<td style="text-align:left;">
COMPOUND
</td>
<td style="text-align:left;">
1440
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>Inputs to <code>var</code> can be any values from the <code>name</code> field in the table
returned by <code>getVarsEddy()</code>. Let’s take a look at CO<sub>2</sub> and
H<sub>2</sub>O, <sup>13</sup>C in CO<sub>2</sub> and <sup>18</sup>O in
H<sub>2</sub>O, at 30-minute aggregation. Let’s look at Harvard Forest
for these data, since deeper canopies generally have more interesting
profiles:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="#cb382-1" aria-hidden="true" tabindex="-1"></a>iso <span class="ot">&lt;-</span> <span class="fu">stackEddy</span>(<span class="at">filepath=</span><span class="st">&quot;./data/filesToStack00200/&quot;</span>,</span>
<span id="cb382-2"><a href="#cb382-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">level=</span><span class="st">&quot;dp01&quot;</span>, <span class="at">var=</span><span class="fu">c</span>(<span class="st">&quot;rtioMoleDryCo2&quot;</span>,<span class="st">&quot;rtioMoleDryH2o&quot;</span>,</span>
<span id="cb382-3"><a href="#cb382-3" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">&quot;dlta13CCo2&quot;</span>,<span class="st">&quot;dlta18OH2o&quot;</span>), <span class="at">avg=</span><span class="dv">30</span>)</span></code></pre></div>
<pre><code>## Extracting data
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%
## Stacking data tables by month
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |                                                                      |   1%
  |                                                                            
  |=                                                                     |   1%
  |                                                                            
  |=                                                                     |   2%
  |                                                                            
  |==                                                                    |   2%
  |                                                                            
  |==                                                                    |   3%
  |                                                                            
  |===                                                                   |   4%
  |                                                                            
  |===                                                                   |   5%
  |                                                                            
  |====                                                                  |   5%
  |                                                                            
  |====                                                                  |   6%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |=====                                                                 |   8%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |======                                                                |   9%
  |                                                                            
  |=======                                                               |   9%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |=======                                                               |  11%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |========                                                              |  12%
  |                                                                            
  |=========                                                             |  12%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  14%
  |                                                                            
  |==========                                                            |  15%
  |                                                                            
  |===========                                                           |  15%
  |                                                                            
  |===========                                                           |  16%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |============                                                          |  18%
  |                                                                            
  |=============                                                         |  18%
  |                                                                            
  |=============                                                         |  19%
  |                                                                            
  |==============                                                        |  19%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |==============                                                        |  21%
  |                                                                            
  |===============                                                       |  21%
  |                                                                            
  |===============                                                       |  22%
  |                                                                            
  |================                                                      |  22%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |=================                                                     |  24%
  |                                                                            
  |=================                                                     |  25%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |==================                                                    |  26%
  |                                                                            
  |===================                                                   |  27%
  |                                                                            
  |===================                                                   |  28%
  |                                                                            
  |====================                                                  |  28%
  |                                                                            
  |====================                                                  |  29%
  |                                                                            
  |=====================                                                 |  29%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |=====================                                                 |  31%
  |                                                                            
  |======================                                                |  31%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |=======================                                               |  32%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |========================                                              |  34%
  |                                                                            
  |========================                                              |  35%
  |                                                                            
  |=========================                                             |  35%
  |                                                                            
  |=========================                                             |  36%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |==========================                                            |  38%
  |                                                                            
  |===========================                                           |  38%
  |                                                                            
  |===========================                                           |  39%
  |                                                                            
  |============================                                          |  39%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |============================                                          |  41%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |==============================                                        |  42%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |===============================                                       |  45%
  |                                                                            
  |================================                                      |  45%
  |                                                                            
  |================================                                      |  46%
  |                                                                            
  |=================================                                     |  47%
  |                                                                            
  |=================================                                     |  48%
  |                                                                            
  |==================================                                    |  48%
  |                                                                            
  |==================================                                    |  49%
  |                                                                            
  |===================================                                   |  49%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |===================================                                   |  51%
  |                                                                            
  |====================================                                  |  51%
  |                                                                            
  |====================================                                  |  52%
  |                                                                            
  |=====================================                                 |  52%
  |                                                                            
  |=====================================                                 |  53%
  |                                                                            
  |======================================                                |  54%
  |                                                                            
  |======================================                                |  55%
  |                                                                            
  |=======================================                               |  55%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |========================================                              |  58%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |==========================================                            |  59%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |==========================================                            |  61%
  |                                                                            
  |===========================================                           |  61%
  |                                                                            
  |===========================================                           |  62%
  |                                                                            
  |============================================                          |  62%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |=============================================                         |  64%
  |                                                                            
  |=============================================                         |  65%
  |                                                                            
  |==============================================                        |  65%
  |                                                                            
  |==============================================                        |  66%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |===============================================                       |  68%
  |                                                                            
  |================================================                      |  68%
  |                                                                            
  |================================================                      |  69%
  |                                                                            
  |=================================================                     |  69%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |=================================================                     |  71%
  |                                                                            
  |==================================================                    |  71%
  |                                                                            
  |==================================================                    |  72%
  |                                                                            
  |===================================================                   |  72%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  74%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |=====================================================                 |  75%
  |                                                                            
  |=====================================================                 |  76%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |======================================================                |  78%
  |                                                                            
  |=======================================================               |  78%
  |                                                                            
  |=======================================================               |  79%
  |                                                                            
  |========================================================              |  79%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |========================================================              |  81%
  |                                                                            
  |=========================================================             |  81%
  |                                                                            
  |=========================================================             |  82%
  |                                                                            
  |==========================================================            |  82%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |===========================================================           |  84%
  |                                                                            
  |===========================================================           |  85%
  |                                                                            
  |============================================================          |  85%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |=============================================================         |  88%
  |                                                                            
  |==============================================================        |  88%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |===============================================================       |  89%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |===============================================================       |  91%
  |                                                                            
  |================================================================      |  91%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |=================================================================     |  92%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |==================================================================    |  94%
  |                                                                            
  |==================================================================    |  95%
  |                                                                            
  |===================================================================   |  95%
  |                                                                            
  |===================================================================   |  96%
  |                                                                            
  |====================================================================  |  97%
  |                                                                            
  |====================================================================  |  98%
  |                                                                            
  |===================================================================== |  98%
  |                                                                            
  |===================================================================== |  99%
  |                                                                            
  |======================================================================|  99%
  |                                                                            
  |======================================================================| 100%
## Joining data variables
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=                                                                     |   2%
  |                                                                            
  |===                                                                   |   4%
  |                                                                            
  |====                                                                  |   6%
  |                                                                            
  |=====                                                                 |   7%
  |                                                                            
  |======                                                                |   9%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  15%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |=============                                                         |  19%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |================                                                      |  22%
  |                                                                            
  |=================                                                     |  24%
  |                                                                            
  |==================                                                    |  26%
  |                                                                            
  |===================                                                   |  28%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  31%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |=========================                                             |  35%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |===========================                                           |  39%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |==============================                                        |  43%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |================================                                      |  46%
  |                                                                            
  |==================================                                    |  48%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================                                  |  52%
  |                                                                            
  |======================================                                |  54%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |===========================================                           |  61%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |=============================================                         |  65%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |================================================                      |  69%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |===================================================                   |  72%
  |                                                                            
  |====================================================                  |  74%
  |                                                                            
  |=====================================================                 |  76%
  |                                                                            
  |======================================================                |  78%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |=========================================================             |  81%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |============================================================          |  85%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |================================================================      |  91%
  |                                                                            
  |=================================================================     |  93%
  |                                                                            
  |==================================================================    |  94%
  |                                                                            
  |===================================================================   |  96%
  |                                                                            
  |===================================================================== |  98%
  |                                                                            
  |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="#cb384-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(iso<span class="sc">$</span>HARV))</span></code></pre></div>
<p>Let’s plot vertical profiles of CO<sub>2</sub> and <sup>13</sup>C in
CO<sub>2</sub> on a single day.</p>
<p>Here, for convenience, instead of converting the time stamps to a time
format, it’s easy to use the character format to extract the ones we
want using <code>grep()</code>. And discard the <code>verticalPosition</code> values that are
string values - those are the calibration gases.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a>iso.d <span class="ot">&lt;-</span> iso<span class="sc">$</span>HARV[<span class="fu">grep</span>(<span class="st">&quot;2018-06-25&quot;</span>, iso<span class="sc">$</span>HARV<span class="sc">$</span>timeBgn, <span class="at">fixed=</span>T),]</span>
<span id="cb385-2"><a href="#cb385-2" aria-hidden="true" tabindex="-1"></a>iso.d <span class="ot">&lt;-</span> iso.d[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">is.na</span>(<span class="fu">as.numeric</span>(iso.d<span class="sc">$</span>verticalPosition))),]</span></code></pre></div>
<pre><code>## Warning in which(is.na(as.numeric(iso.d$verticalPosition))): NAs introduced by
## coercion</code></pre>
<p><code>ggplot</code> is well suited to these types of data, let’s use it to plot the
profiles.</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="#cb388-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(iso.d, <span class="fu">aes</span>(<span class="at">y=</span>verticalPosition)) <span class="sc">+</span> </span>
<span id="cb388-2"><a href="#cb388-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x=</span>data.co2Stor.rtioMoleDryCo2.mean, </span>
<span id="cb388-3"><a href="#cb388-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">group=</span>timeBgn, <span class="at">col=</span>timeBgn)) <span class="sc">+</span> </span>
<span id="cb388-4"><a href="#cb388-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span> </span>
<span id="cb388-5"><a href="#cb388-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;CO2&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Tower level&quot;</span>)</span>
<span id="cb388-6"><a href="#cb388-6" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<pre><code>## Warning: Removed 2 row(s) containing missing values (geom_path).</code></pre>
<p><img src="05-Fluxes_and_Inter-operability_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p><img src="images/eddy_intro_50_1.png" width="420" /></p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(iso.d, <span class="fu">aes</span>(<span class="at">y=</span>verticalPosition)) <span class="sc">+</span> </span>
<span id="cb390-2"><a href="#cb390-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x=</span>data.isoCo2.dlta13CCo2.mean, </span>
<span id="cb390-3"><a href="#cb390-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">group=</span>timeBgn, <span class="at">col=</span>timeBgn)) <span class="sc">+</span> </span>
<span id="cb390-4"><a href="#cb390-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span> </span>
<span id="cb390-5"><a href="#cb390-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;d13C&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Tower level&quot;</span>)</span>
<span id="cb390-6"><a href="#cb390-6" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<pre><code>## Warning: Removed 55 row(s) containing missing values (geom_path).</code></pre>
<p><img src="05-Fluxes_and_Inter-operability_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<pre><code>Warning message:
“Removed 55 rows containing missing values (geom_path).”</code></pre>
<p><img src="images/eddy_intro_51_1.png" width="420" /></p>
<p>The legends are omitted for space, see if you can work out the times of
day the different colors represent.</p>
</div>
<div id="convert-neon-flux-data-variables-to-ameriflux-fp-standard" class="section level3 hasAnchor" number="5.6.9">
<h3 class="hasAnchor"><span class="header-section-number">5.6.9</span> Convert NEON flux data variables to AmeriFlux FP standard<a href="#convert-neon-flux-data-variables-to-ameriflux-fp-standard" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Install and load packages</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Install most  recent version of ffbase from GitHub, this is a package dependency of eddy4R.base</span></span>
<span id="cb393-2"><a href="#cb393-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb393-3"><a href="#cb393-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;edwindj/ffbase&quot;</span>, <span class="at">subdir=</span><span class="st">&quot;pkg&quot;</span>)</span></code></pre></div>
<pre><code>## Skipping install of &#39;ffbase&#39; from a github remote, the SHA1 (14f75881) has not changed since last install.
##   Use `force = TRUE` to force installation</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Install NEONprocIS.base from GitHub, this package is a dependency of eddy4R.base</span></span>
<span id="cb395-2"><a href="#cb395-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb395-3"><a href="#cb395-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="at">repo=</span><span class="st">&quot;NEONScience/NEON-IS-data-processing&quot;</span>,</span>
<span id="cb395-4"><a href="#cb395-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ref=</span><span class="st">&quot;master&quot;</span>,</span>
<span id="cb395-5"><a href="#cb395-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">subdir=</span><span class="st">&quot;pack/NEONprocIS.base&quot;</span>,</span>
<span id="cb395-6"><a href="#cb395-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">dependencies=</span><span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">TRUE</span>)[<span class="dv">2</span>],</span>
<span id="cb395-7"><a href="#cb395-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">repos=</span><span class="fu">c</span>(BiocManager<span class="sc">::</span><span class="fu">repositories</span>(),   <span class="co"># for dependencies on Bioconductor packages</span></span>
<span id="cb395-8"><a href="#cb395-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;https://cran.rstudio.com/&quot;</span>)       <span class="co"># for CRAN</span></span>
<span id="cb395-9"><a href="#cb395-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Skipping install of &#39;NEONprocIS.base&#39; from a github remote, the SHA1 (169ddfba) has not changed since last install.
##   Use `force = TRUE` to force installation</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="#cb397-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Install eddy4R.base from GitHub</span></span>
<span id="cb397-2"><a href="#cb397-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb397-3"><a href="#cb397-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="at">repo=</span><span class="st">&quot;NEONScience/eddy4R&quot;</span>,</span>
<span id="cb397-4"><a href="#cb397-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ref=</span><span class="st">&quot;master&quot;</span>,</span>
<span id="cb397-5"><a href="#cb397-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">subdir=</span><span class="st">&quot;pack/eddy4R.base&quot;</span>,</span>
<span id="cb397-6"><a href="#cb397-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">dependencies=</span><span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">TRUE</span>)[<span class="dv">2</span>],</span>
<span id="cb397-7"><a href="#cb397-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">repos=</span><span class="fu">c</span>(BiocManager<span class="sc">::</span><span class="fu">repositories</span>(),   <span class="co"># for dependencies on Bioconductor packages</span></span>
<span id="cb397-8"><a href="#cb397-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;https://cran.rstudio.com/&quot;</span>)       <span class="co"># for CRAN</span></span>
<span id="cb397-9"><a href="#cb397-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Skipping install of &#39;eddy4R.base&#39; from a github remote, the SHA1 (d77bd677) has not changed since last install.
##   Use `force = TRUE` to force installation</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="#cb399-1" aria-hidden="true" tabindex="-1"></a>packReq <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;rhdf5&quot;</span>, <span class="st">&quot;eddy4R.base&quot;</span>, <span class="st">&quot;jsonlite&quot;</span>, <span class="st">&quot;lubridate&quot;</span>)</span>
<span id="cb399-2"><a href="#cb399-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb399-3"><a href="#cb399-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(packReq, <span class="cf">function</span>(x) {</span>
<span id="cb399-4"><a href="#cb399-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(x)</span>
<span id="cb399-5"><a href="#cb399-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">require</span>(x, <span class="at">character.only =</span> <span class="cn">TRUE</span>) <span class="sc">==</span> <span class="cn">FALSE</span>) {</span>
<span id="cb399-6"><a href="#cb399-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">install.packages</span>(x)</span>
<span id="cb399-7"><a href="#cb399-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(x, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb399-8"><a href="#cb399-8" aria-hidden="true" tabindex="-1"></a>  }})</span></code></pre></div>
<pre><code>## [1] &quot;rhdf5&quot;</code></pre>
<pre><code>## Loading required package: rhdf5</code></pre>
<pre><code>## [1] &quot;eddy4R.base&quot;</code></pre>
<pre><code>## Loading required package: eddy4R.base</code></pre>
<pre><code>## [1] &quot;jsonlite&quot;</code></pre>
<pre><code>## Loading required package: jsonlite</code></pre>
<pre><code>## [1] &quot;lubridate&quot;</code></pre>
<pre><code>## Loading required package: lubridate</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<pre><code>## [[1]]
## NULL
## 
## [[2]]
## NULL
## 
## [[3]]
## NULL
## 
## [[4]]
## NULL</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="#cb411-1" aria-hidden="true" tabindex="-1"></a><span class="fu">h5disableFileLocking</span>()</span></code></pre></div>
<p>Select your site of interest from the list of NEON sites below.</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1" aria-hidden="true" tabindex="-1"></a>site <span class="ot">&lt;-</span> <span class="st">&quot;KONZ&quot;</span></span>
<span id="cb412-2"><a href="#cb412-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb412-3"><a href="#cb412-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;BARR&quot;,&quot;CLBJ&quot;,&quot;MLBS&quot;,&quot;DSNY&quot;,&quot;NIWO&quot;,&quot;ORNL&quot;,&quot;OSBS&quot;,</span></span>
<span id="cb412-4"><a href="#cb412-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;SCBI&quot;,&quot;LENO&quot;,&quot;TALL&quot;,&quot;CPER&quot;,&quot;BART&quot;,&quot;HARV&quot;,&quot;BLAN&quot;,</span></span>
<span id="cb412-5"><a href="#cb412-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;SERC&quot;,&quot;JERC&quot;,&quot;GUAN&quot;,&quot;LAJA&quot;,&quot;STEI&quot;,&quot;TREE&quot;,&quot;UNDE&quot;,</span></span>
<span id="cb412-6"><a href="#cb412-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;KONA&quot;,&quot;KONZ&quot;,&quot;UKFS&quot;,&quot;GRSM&quot;,&quot;DELA&quot;,&quot;DCFS&quot;,&quot;NOGP&quot;,</span></span>
<span id="cb412-7"><a href="#cb412-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;WOOD&quot;,&quot;RMNP&quot;,&quot;OAES&quot;,&quot;YELL&quot;,&quot;MOAB&quot;,&quot;STER&quot;,&quot;JORN&quot;,</span></span>
<span id="cb412-8"><a href="#cb412-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;SRER&quot;,&quot;ONAQ&quot;,&quot;ABBY&quot;,&quot;WREF&quot;,&quot;SJER&quot;,&quot;SOAP&quot;,&quot;TEAK&quot;,</span></span>
<span id="cb412-9"><a href="#cb412-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#&quot;TOOL&quot;,&quot;BONA&quot;,&quot;DEJU&quot;,&quot;HEAL&quot;,&quot;PUUM&quot;</span></span></code></pre></div>
<p>If you would like to download a set range of dates, define the following
paramemters. If these are not defined, it will default to the entire
record at the site</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="co">#define start and end dates, optional, defaults to entire period of site operation. Use %Y-%m-%d format.</span></span>
<span id="cb413-2"><a href="#cb413-2" aria-hidden="true" tabindex="-1"></a>dateBgn <span class="ot">&lt;-</span> <span class="st">&quot;2020-03-01&quot;</span></span>
<span id="cb413-3"><a href="#cb413-3" aria-hidden="true" tabindex="-1"></a>dateEnd <span class="ot">&lt;-</span> <span class="st">&quot;2020-05-31&quot;</span></span>
<span id="cb413-4"><a href="#cb413-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-5"><a href="#cb413-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Data package from the portal</span></span>
<span id="cb413-6"><a href="#cb413-6" aria-hidden="true" tabindex="-1"></a>Pack <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;basic&#39;</span>,<span class="st">&#39;expanded&#39;</span>)[<span class="dv">1</span>]</span>
<span id="cb413-7"><a href="#cb413-7" aria-hidden="true" tabindex="-1"></a><span class="co">#The version data for the FP standard conversion processing</span></span>
<span id="cb413-8"><a href="#cb413-8" aria-hidden="true" tabindex="-1"></a>ver <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">&quot;v&quot;</span>,<span class="fu">format</span>(<span class="fu">Sys.time</span>(), <span class="st">&quot;%Y%m%dT%H%m&quot;</span>))</span></code></pre></div>
<p>Specify Download directory for HDF5 files from the NEON data portal and
output directory to save the resulting csv files. Change save paths to
where you want the files on your computer.</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="co">#download directory</span></span>
<span id="cb414-2"><a href="#cb414-2" aria-hidden="true" tabindex="-1"></a>DirDnld<span class="ot">=</span><span class="fu">tempdir</span>()</span>
<span id="cb414-3"><a href="#cb414-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb414-4"><a href="#cb414-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Output directory, change this to where you want to save the output csv</span></span>
<span id="cb414-5"><a href="#cb414-5" aria-hidden="true" tabindex="-1"></a>DirOutBase <span class="ot">&lt;-</span><span class="fu">paste0</span>(<span class="st">&quot;~/eddy/data/Ameriflux/&quot;</span>,ver)</span></code></pre></div>
<p>Specify Data Product number, for the Bundled Eddy-Covariance files, this
is DP4.00200.001</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DP number</span></span>
<span id="cb415-2"><a href="#cb415-2" aria-hidden="true" tabindex="-1"></a>dpID <span class="ot">&lt;-</span> <span class="st">&#39;DP4.00200.001&#39;</span></span></code></pre></div>
<p>Get metadata from Ameriflux Site Info BADM sheets for the site of
interest</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Grab a list of all Ameriflux sites, containing site ID and site description</span></span>
<span id="cb416-2"><a href="#cb416-2" aria-hidden="true" tabindex="-1"></a>  sites_web <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="st">&quot;http://ameriflux-data.lbl.gov/AmeriFlux/SiteSearch.svc/SiteList/AmeriFlux&quot;</span>)</span>
<span id="cb416-3"><a href="#cb416-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb416-4"><a href="#cb416-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Grab only NEON sites</span></span>
<span id="cb416-5"><a href="#cb416-5" aria-hidden="true" tabindex="-1"></a>  sitesNeon <span class="ot">&lt;-</span> sites_web[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="fu">paste0</span>(<span class="st">&quot;NEON.*&quot;</span>,site), <span class="at">x =</span> sites_web<span class="sc">$</span>SITE_NAME),] <span class="co">#For all NEON sites</span></span>
<span id="cb416-6"><a href="#cb416-6" aria-hidden="true" tabindex="-1"></a>  siteNeon <span class="ot">&lt;-</span> sites_web[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="fu">paste0</span>(<span class="st">&quot;NEON.*&quot;</span>,site), <span class="at">x =</span> sites_web<span class="sc">$</span>SITE_NAME),]</span>
<span id="cb416-7"><a href="#cb416-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb416-8"><a href="#cb416-8" aria-hidden="true" tabindex="-1"></a>  metaSite <span class="ot">&lt;-</span> <span class="fu">lapply</span>(siteNeon<span class="sc">$</span>SITE_ID, <span class="cf">function</span>(x) {</span>
<span id="cb416-9"><a href="#cb416-9" aria-hidden="true" tabindex="-1"></a>    pathSite <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;http://ameriflux-data.lbl.gov/BADM/Anc/SiteInfo/&quot;</span>,x)</span>
<span id="cb416-10"><a href="#cb416-10" aria-hidden="true" tabindex="-1"></a>    tmp <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(pathSite)</span>
<span id="cb416-11"><a href="#cb416-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tmp)</span>
<span id="cb416-12"><a href="#cb416-12" aria-hidden="true" tabindex="-1"></a>    }) </span></code></pre></div>
<p>Use Ameriflux site IDs to name metadata lists</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="#cb417-1" aria-hidden="true" tabindex="-1"></a><span class="co">#use NEON ID as list name</span></span>
<span id="cb417-2"><a href="#cb417-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(metaSite) <span class="ot">&lt;-</span> site </span>
<span id="cb417-3"><a href="#cb417-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Use Ameriflux site ID as list name  </span></span>
<span id="cb417-4"><a href="#cb417-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#names(metaSite) &lt;- sitesNeon$SITE_ID </span></span></code></pre></div>
<p>Check if dateBgn is defined, if not make it the initial operations date
“IOCR” of the site</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="#cb418-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">exists</span>(<span class="st">&quot;dateBgn&quot;</span>) <span class="sc">||</span> <span class="fu">is.na</span>(dateBgn) <span class="sc">||</span> <span class="fu">is.null</span>(dateBgn)){</span>
<span id="cb418-2"><a href="#cb418-2" aria-hidden="true" tabindex="-1"></a>    dateBgn <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(metaSite[[site]]<span class="sc">$</span>values<span class="sc">$</span>GRP_FLUX_MEASUREMENTS[[<span class="dv">1</span>]]<span class="sc">$</span>FLUX_MEASUREMENTS_DATE_START, <span class="st">&quot;%Y%m%d&quot;</span>)</span>
<span id="cb418-3"><a href="#cb418-3" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb418-4"><a href="#cb418-4" aria-hidden="true" tabindex="-1"></a>    dateBgn <span class="ot">&lt;-</span> dateBgn</span>
<span id="cb418-5"><a href="#cb418-5" aria-hidden="true" tabindex="-1"></a>  }<span class="co">#End of checks for missing dateBgn</span></span>
<span id="cb418-6"><a href="#cb418-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb418-7"><a href="#cb418-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Check if dateEnd is defined, if not make it the system date</span></span>
<span id="cb418-8"><a href="#cb418-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">exists</span>(<span class="st">&quot;dateEnd&quot;</span>) <span class="sc">||</span> <span class="fu">is.na</span>(dateEnd) <span class="sc">||</span> <span class="fu">is.null</span>(dateEnd)){</span>
<span id="cb418-9"><a href="#cb418-9" aria-hidden="true" tabindex="-1"></a>    dateEnd <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">Sys.Date</span>())</span>
<span id="cb418-10"><a href="#cb418-10" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb418-11"><a href="#cb418-11" aria-hidden="true" tabindex="-1"></a>    dateEnd <span class="ot">&lt;-</span> dateEnd</span>
<span id="cb418-12"><a href="#cb418-12" aria-hidden="true" tabindex="-1"></a>  }<span class="co">#End of checks for missing dateEnd</span></span></code></pre></div>
<p>Grab the UTC time offset from the Ameriflux API</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="#cb419-1" aria-hidden="true" tabindex="-1"></a>  timeOfstUtc <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(metaSite[[site]]<span class="sc">$</span>values<span class="sc">$</span>GRP_UTC_OFFSET[[<span class="dv">1</span>]]<span class="sc">$</span>UTC_OFFSET)</span></code></pre></div>
<p>Create the date sequence</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="#cb420-1" aria-hidden="true" tabindex="-1"></a>  setDate <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(dateBgn), <span class="at">to =</span> <span class="fu">as.Date</span>(dateEnd), <span class="at">by =</span> <span class="st">&quot;month&quot;</span>)</span></code></pre></div>
<p>Start processing the site time range specified, verify that the site and
date range are specified as intended</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="#cb421-1" aria-hidden="true" tabindex="-1"></a>  msg <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Starting Ameriflux FP standard conversion processing workflow for &quot;</span>, site, <span class="st">&quot; for &quot;</span>, dateBgn, <span class="st">&quot; to &quot;</span>, dateEnd)</span>
<span id="cb421-2"><a href="#cb421-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(msg)</span></code></pre></div>
<pre><code>## [1] &quot;Starting Ameriflux FP standard conversion processing workflow for KONZ for 2020-03-01 to 2020-05-31&quot;</code></pre>
<p>Create output directory by checking if the download directory exists and
create it if not</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="#cb423-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">dir.exists</span>(DirDnld) <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="fu">dir.create</span>(DirDnld, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb423-2"><a href="#cb423-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Append the site to the base output directory</span></span>
<span id="cb423-3"><a href="#cb423-3" aria-hidden="true" tabindex="-1"></a>  DirOut <span class="ot">&lt;-</span> <span class="fu">paste0</span>(DirOutBase, <span class="st">&quot;/&quot;</span>, siteNeon<span class="sc">$</span>SITE_ID)</span>
<span id="cb423-4"><a href="#cb423-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Check if directory exists and create if not</span></span>
<span id="cb423-5"><a href="#cb423-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(DirOut)) <span class="fu">dir.create</span>(DirOut, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Download and extract data</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Initialize data List</span></span>
<span id="cb424-2"><a href="#cb424-2" aria-hidden="true" tabindex="-1"></a>  dataList <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb424-3"><a href="#cb424-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb424-4"><a href="#cb424-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Read data from the API</span></span>
<span id="cb424-5"><a href="#cb424-5" aria-hidden="true" tabindex="-1"></a>  dataList <span class="ot">&lt;-</span> <span class="fu">lapply</span>(setDate, <span class="cf">function</span>(x) {</span>
<span id="cb424-6"><a href="#cb424-6" aria-hidden="true" tabindex="-1"></a>    date <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(x, <span class="at">pattern =</span> <span class="fu">paste0</span>(<span class="st">&quot;[0-9]{4}&quot;</span>, <span class="st">&quot;-&quot;</span>, <span class="st">&quot;[0-9]{2}&quot;</span>))</span>
<span id="cb424-7"><a href="#cb424-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tryCatch</span>(neonUtilities<span class="sc">::</span><span class="fu">zipsByProduct</span>(<span class="at">dpID =</span> dpID, <span class="at">site =</span> site, <span class="at">startdate =</span> date, <span class="at">enddate =</span> date, <span class="at">package =</span>      <span class="st">&quot;basic&quot;</span>, <span class="at">savepath =</span> DirDnld, <span class="at">check.size =</span> <span class="cn">FALSE</span>), <span class="at">error=</span><span class="cf">function</span>(e) <span class="cn">NULL</span>)</span>
<span id="cb424-8"><a href="#cb424-8" aria-hidden="true" tabindex="-1"></a>    files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200&quot;</span>))</span>
<span id="cb424-9"><a href="#cb424-9" aria-hidden="true" tabindex="-1"></a>    utils<span class="sc">::</span><span class="fu">unzip</span>(<span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200/&quot;</span>, files[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="fu">paste0</span>(site,<span class="st">&quot;.*.&quot;</span>, date, <span class="st">&quot;.*.zip&quot;</span>),     <span class="at">x =</span> files)]), <span class="at">exdir =</span> <span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200&quot;</span>))</span>
<span id="cb424-10"><a href="#cb424-10" aria-hidden="true" tabindex="-1"></a>    files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200&quot;</span>))</span>
<span id="cb424-11"><a href="#cb424-11" aria-hidden="true" tabindex="-1"></a>    R.utils<span class="sc">::</span><span class="fu">gunzip</span>(<span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200/&quot;</span>, files[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="fu">paste0</span>(site, <span class="st">&quot;.*.&quot;</span>, date,            <span class="st">&quot;.*.h5.gz&quot;</span>), <span class="at">x =</span> files)]), <span class="at">remove =</span> <span class="cn">FALSE</span>)</span>
<span id="cb424-12"><a href="#cb424-12" aria-hidden="true" tabindex="-1"></a>    files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200&quot;</span>))</span>
<span id="cb424-13"><a href="#cb424-13" aria-hidden="true" tabindex="-1"></a>    dataIdx <span class="ot">&lt;-</span> rhdf5<span class="sc">::</span><span class="fu">h5read</span>(<span class="at">file =</span> <span class="fu">paste0</span>(DirDnld, <span class="st">&quot;/filesToStack00200/&quot;</span>, <span class="fu">max</span>(files[<span class="fu">grep</span>(<span class="at">pattern =</span>                  <span class="fu">paste0</span>(site,<span class="st">&quot;.*.&quot;</span>, date,<span class="st">&quot;.*.h5$&quot;</span>), <span class="at">x =</span> files)])), <span class="at">name =</span> <span class="fu">paste0</span>(site, <span class="st">&quot;/&quot;</span>))</span>
<span id="cb424-14"><a href="#cb424-14" aria-hidden="true" tabindex="-1"></a>                      </span>
<span id="cb424-15"><a href="#cb424-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.null</span>(dataIdx)){ </span>
<span id="cb424-16"><a href="#cb424-16" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp0p <span class="ot">&lt;-</span> <span class="cn">NULL</span> </span>
<span id="cb424-17"><a href="#cb424-17" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp02 <span class="ot">&lt;-</span> <span class="cn">NULL</span> </span>
<span id="cb424-18"><a href="#cb424-18" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp03 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb424-19"><a href="#cb424-19" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp01<span class="sc">$</span>ucrt <span class="ot">&lt;-</span> <span class="cn">NULL</span> </span>
<span id="cb424-20"><a href="#cb424-20" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp04<span class="sc">$</span>ucrt <span class="ot">&lt;-</span> <span class="cn">NULL</span> </span>
<span id="cb424-21"><a href="#cb424-21" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp01<span class="sc">$</span>data <span class="ot">&lt;-</span> <span class="fu">lapply</span>(dataIdx<span class="sc">$</span>dp01<span class="sc">$</span>data,<span class="at">FUN=</span><span class="cf">function</span>(var){ </span>
<span id="cb424-22"><a href="#cb424-22" aria-hidden="true" tabindex="-1"></a>         nameTmi <span class="ot">&lt;-</span> <span class="fu">names</span>(var) </span>
<span id="cb424-23"><a href="#cb424-23" aria-hidden="true" tabindex="-1"></a>         var <span class="ot">&lt;-</span> var[<span class="fu">grepl</span>(<span class="st">&#39;_30m&#39;</span>,nameTmi)] </span>
<span id="cb424-24"><a href="#cb424-24" aria-hidden="true" tabindex="-1"></a>         <span class="fu">return</span>(var)})</span>
<span id="cb424-25"><a href="#cb424-25" aria-hidden="true" tabindex="-1"></a>       dataIdx<span class="sc">$</span>dp01<span class="sc">$</span>qfqm <span class="ot">&lt;-</span> <span class="fu">lapply</span>(dataIdx<span class="sc">$</span>dp01<span class="sc">$</span>qfqm,<span class="at">FUN=</span><span class="cf">function</span>(var){ </span>
<span id="cb424-26"><a href="#cb424-26" aria-hidden="true" tabindex="-1"></a>         nameTmi <span class="ot">&lt;-</span> <span class="fu">names</span>(var)</span>
<span id="cb424-27"><a href="#cb424-27" aria-hidden="true" tabindex="-1"></a>         var <span class="ot">&lt;-</span> var[<span class="fu">grepl</span>(<span class="st">&#39;_30m&#39;</span>,nameTmi)]</span>
<span id="cb424-28"><a href="#cb424-28" aria-hidden="true" tabindex="-1"></a>         <span class="fu">return</span>(var)})</span>
<span id="cb424-29"><a href="#cb424-29" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb424-30"><a href="#cb424-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(dataIdx)</span>
<span id="cb424-31"><a href="#cb424-31" aria-hidden="true" tabindex="-1"></a>  })</span></code></pre></div>
<pre><code>## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 83.333588 MB
## Downloading 1 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 1 files successfully downloaded to C:\Users\rohan\AppData\Local\Temp\Rtmp4G7ymj/filesToStack00200
## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 68.719186 MB
## Downloading 1 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 1 files successfully downloaded to C:\Users\rohan\AppData\Local\Temp\Rtmp4G7ymj/filesToStack00200
## Finding available files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 
## Downloading files totaling approximately 69.960912 MB
## Downloading 1 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%
## 1 files successfully downloaded to C:\Users\rohan\AppData\Local\Temp\Rtmp4G7ymj/filesToStack00200</code></pre>
<p>Add names to list for year/month combinations</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dataList) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(setDate),<span class="fu">sprintf</span>(<span class="st">&quot;%02d&quot;</span>,lubridate<span class="sc">::</span><span class="fu">month</span>(setDate)))</span></code></pre></div>
<p>Remove NULL elements from list</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a>dataList <span class="ot">&lt;-</span> dataList[<span class="fu">vapply</span>(dataList, <span class="fu">Negate</span>(is.null), <span class="cn">NA</span>)]</span></code></pre></div>
<p>Determine tower horizontal &amp; vertical indices</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Find the tower top level by looking at the vertical index of the turbulent CO2 concentration measurements </span></span>
<span id="cb428-2"><a href="#cb428-2" aria-hidden="true" tabindex="-1"></a>    LvlTowr <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">&quot;_30m&quot;</span>, <span class="fu">names</span>(dataList[[<span class="dv">1</span>]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>co2Turb), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb428-3"><a href="#cb428-3" aria-hidden="true" tabindex="-1"></a>    LvlTowr <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">x =</span> LvlTowr, <span class="at">pattern =</span> <span class="st">&quot;_30m&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb428-4"><a href="#cb428-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb428-5"><a href="#cb428-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#get tower top level</span></span>
<span id="cb428-6"><a href="#cb428-6" aria-hidden="true" tabindex="-1"></a>    LvlTop <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(LvlTowr,<span class="st">&quot;&quot;</span>)</span>
<span id="cb428-7"><a href="#cb428-7" aria-hidden="true" tabindex="-1"></a>    LvlTop <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">as.numeric</span>(LvlTop[[<span class="dv">1</span>]][<span class="dv">6</span>])</span>
<span id="cb428-8"><a href="#cb428-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb428-9"><a href="#cb428-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Ameriflux vertical levels based off of https://ameriflux.lbl.gov/data/aboutdata/data-variables/ section 3.3.1 &quot;Indices must be in order, starting with the highest.&quot;</span></span>
<span id="cb428-10"><a href="#cb428-10" aria-hidden="true" tabindex="-1"></a>    idxVerAmfx <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> LvlTop, <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb428-11"><a href="#cb428-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#get the sequence from top to first level</span></span>
<span id="cb428-12"><a href="#cb428-12" aria-hidden="true" tabindex="-1"></a>    LvlMeas <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">seq</span>(<span class="at">from =</span> LvlTop, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb428-13"><a href="#cb428-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Recreate NEON naming conventions</span></span>
<span id="cb428-14"><a href="#cb428-14" aria-hidden="true" tabindex="-1"></a>    LvlMeas <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;000_0&quot;</span>,LvlMeas,<span class="st">&quot;0&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb428-15"><a href="#cb428-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Give NEON naming conventions to Ameriflux vertical levels</span></span>
<span id="cb428-16"><a href="#cb428-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(idxVerAmfx) <span class="ot">&lt;-</span> LvlMeas</span>
<span id="cb428-17"><a href="#cb428-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb428-18"><a href="#cb428-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Ameriflux horizontal index</span></span>
<span id="cb428-19"><a href="#cb428-19" aria-hidden="true" tabindex="-1"></a>    idxHorAmfx <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<p>Subset to the Ameriflux variables to convert</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="#cb429-1" aria-hidden="true" tabindex="-1"></a>    dataListFlux <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">names</span>(dataList), <span class="cf">function</span>(x) {</span>
<span id="cb429-2"><a href="#cb429-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">data.frame</span>(</span>
<span id="cb429-3"><a href="#cb429-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;TIMESTAMP_START&quot;</span> <span class="ot">=</span> <span class="fu">as.POSIXlt</span>(dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxCo2<span class="sc">$</span>turb<span class="sc">$</span>timeBgn, <span class="at">format=</span><span class="st">&quot;%Y-%m-%dT%H:%M:%OSZ&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;GMT&quot;</span>),</span>
<span id="cb429-4"><a href="#cb429-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;TIMESTAMP_END&quot;</span> <span class="ot">=</span> <span class="fu">as.POSIXlt</span>(dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxCo2<span class="sc">$</span>turb<span class="sc">$</span>timeEnd, <span class="at">format=</span><span class="st">&quot;%Y-%m-%dT%H:%M:%OSZ&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;GMT&quot;</span>),</span>
<span id="cb429-5"><a href="#cb429-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># &quot;TIMESTAMP_START&quot; = strftime(as.POSIXlt(dataList[[x]][[idxSite]]$dp04$data$fluxCo2$turb$timeBgn, format=&quot;%Y-%m-%dT%H:%M:%OSZ&quot;), format = &quot;%Y%m%d%H%M&quot;),</span></span>
<span id="cb429-6"><a href="#cb429-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># &quot;TIMESTAMP_END&quot; = strftime(as.POSIXlt(dataList[[x]][[idxSite]]$dp04$data$fluxCo2$turb$timeEnd, format=&quot;%Y-%m-%dT%H:%M:%OSZ&quot;) + 60, format = &quot;%Y%m%d%H%M&quot;),</span></span>
<span id="cb429-7"><a href="#cb429-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;FC&quot;</span><span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxCo2<span class="sc">$</span>turb<span class="sc">$</span>flux,</span>
<span id="cb429-8"><a href="#cb429-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;SC&quot;</span><span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxCo2<span class="sc">$</span>stor<span class="sc">$</span>flux,</span>
<span id="cb429-9"><a href="#cb429-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;NEE&quot;</span><span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxCo2<span class="sc">$</span>nsae<span class="sc">$</span>flux,</span>
<span id="cb429-10"><a href="#cb429-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;LE&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxH2o<span class="sc">$</span>turb<span class="sc">$</span>flux,</span>
<span id="cb429-11"><a href="#cb429-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;SLE&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxH2o<span class="sc">$</span>stor<span class="sc">$</span>flux,</span>
<span id="cb429-12"><a href="#cb429-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;USTAR&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxMome<span class="sc">$</span>turb<span class="sc">$</span>veloFric,</span>
<span id="cb429-13"><a href="#cb429-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb429-14"><a href="#cb429-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;H&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxTemp<span class="sc">$</span>turb<span class="sc">$</span>flux,</span>
<span id="cb429-15"><a href="#cb429-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;SH&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>fluxTemp<span class="sc">$</span>stor<span class="sc">$</span>flux,</span>
<span id="cb429-16"><a href="#cb429-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;FETCH_90&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>foot<span class="sc">$</span>stat<span class="sc">$</span>distXaxs90,</span>
<span id="cb429-17"><a href="#cb429-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;FETCH_MAX&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>foot<span class="sc">$</span>stat<span class="sc">$</span>distXaxsMax,</span>
<span id="cb429-18"><a href="#cb429-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;V_SIGMA&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>data<span class="sc">$</span>foot<span class="sc">$</span>stat<span class="sc">$</span>veloYaxsHorSd,</span>
<span id="cb429-19"><a href="#cb429-19" aria-hidden="true" tabindex="-1"></a>        <span class="co">#&quot;W_SIGMA&quot; = dataList[[x]]$dp04$data$foot$stat$veloZaxsHorSd,</span></span>
<span id="cb429-20"><a href="#cb429-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;CO2_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>co2Turb[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryCo2<span class="sc">$</span>mean,</span>
<span id="cb429-21"><a href="#cb429-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;H2O_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>h2oTurb[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryH2o<span class="sc">$</span>mean,</span>
<span id="cb429-22"><a href="#cb429-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfFinlH2oTurbFrt00Samp&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>h2oTurb[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>frt00Samp<span class="sc">$</span>qfFinl,</span>
<span id="cb429-23"><a href="#cb429-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfH2O_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>h2oTurb[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryH2o<span class="sc">$</span>qfFinl,</span>
<span id="cb429-24"><a href="#cb429-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfCO2_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>co2Turb[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryCo2<span class="sc">$</span>qfFinl,</span>
<span id="cb429-25"><a href="#cb429-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfSC&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>qfqm<span class="sc">$</span>fluxCo2<span class="sc">$</span>stor<span class="sc">$</span>qfFinl,</span>
<span id="cb429-26"><a href="#cb429-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfSLE&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>qfqm<span class="sc">$</span>fluxH2o<span class="sc">$</span>stor<span class="sc">$</span>qfFinl,</span>
<span id="cb429-27"><a href="#cb429-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfSH&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp04<span class="sc">$</span>qfqm<span class="sc">$</span>fluxTemp<span class="sc">$</span>stor<span class="sc">$</span>qfFinl,</span>
<span id="cb429-28"><a href="#cb429-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfT_SONIC&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>tempSoni<span class="sc">$</span>qfFinl,</span>
<span id="cb429-29"><a href="#cb429-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;qfWS_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>veloXaxsYaxsErth<span class="sc">$</span>qfFinl,</span>
<span id="cb429-30"><a href="#cb429-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rbind.data.frame</span>(<span class="fu">lapply</span>(<span class="fu">names</span>(idxVerAmfx), <span class="cf">function</span>(y) {</span>
<span id="cb429-31"><a href="#cb429-31" aria-hidden="true" tabindex="-1"></a>          <span class="fu">tryCatch</span>({rlog<span class="sc">$</span><span class="fu">debug</span>(y)}, <span class="at">error=</span><span class="cf">function</span>(cond){<span class="fu">print</span>(y)})</span>
<span id="cb429-32"><a href="#cb429-32" aria-hidden="true" tabindex="-1"></a>          rpt <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb429-33"><a href="#cb429-33" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;CO2_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_2&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>co2Stor[[<span class="fu">paste0</span>(y,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryCo2<span class="sc">$</span>mean</span>
<span id="cb429-34"><a href="#cb429-34" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb429-35"><a href="#cb429-35" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb429-36"><a href="#cb429-36" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;H2O_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_2&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>h2oStor[[<span class="fu">paste0</span>(y,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryH2o<span class="sc">$</span>mean</span>
<span id="cb429-37"><a href="#cb429-37" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;CO2_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_3&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>isoCo2[[<span class="fu">paste0</span>(y,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryCo2<span class="sc">$</span>mean</span>
<span id="cb429-38"><a href="#cb429-38" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb429-39"><a href="#cb429-39" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;H2O_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_3&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>isoCo2[[<span class="fu">paste0</span>(y,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryH2o<span class="sc">$</span>mean</span>
<span id="cb429-40"><a href="#cb429-40" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;qfCO2_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_2&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>co2Stor[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryCo2<span class="sc">$</span>qfFinl</span>
<span id="cb429-41"><a href="#cb429-41" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;qfH2O_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_2&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>h2oStor[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryH2o<span class="sc">$</span>qfFinl</span>
<span id="cb429-42"><a href="#cb429-42" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;qfCO2_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_3&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>isoCo2[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryCo2<span class="sc">$</span>qfFinl</span>
<span id="cb429-43"><a href="#cb429-43" aria-hidden="true" tabindex="-1"></a>          rpt[[<span class="fu">paste0</span>(<span class="st">&quot;qfH2O_1_&quot;</span>,idxVerAmfx[y],<span class="st">&quot;_3&quot;</span>)]] <span class="ot">&lt;-</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>qfqm<span class="sc">$</span>isoH2o[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>rtioMoleDryH2o<span class="sc">$</span>qfFinl</span>
<span id="cb429-44"><a href="#cb429-44" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb429-45"><a href="#cb429-45" aria-hidden="true" tabindex="-1"></a>          rpt <span class="ot">&lt;-</span> <span class="fu">rbind.data.frame</span>(rpt)</span>
<span id="cb429-46"><a href="#cb429-46" aria-hidden="true" tabindex="-1"></a>          <span class="fu">return</span>(rpt)</span>
<span id="cb429-47"><a href="#cb429-47" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb429-48"><a href="#cb429-48" aria-hidden="true" tabindex="-1"></a>        )),</span>
<span id="cb429-49"><a href="#cb429-49" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb429-50"><a href="#cb429-50" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb429-51"><a href="#cb429-51" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;WS_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>veloXaxsYaxsErth<span class="sc">$</span>mean,</span>
<span id="cb429-52"><a href="#cb429-52" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;WS_MAX_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>veloXaxsYaxsErth<span class="sc">$</span>max,</span>
<span id="cb429-53"><a href="#cb429-53" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;WD_1_1_1&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>angZaxsErth<span class="sc">$</span>mean,</span>
<span id="cb429-54"><a href="#cb429-54" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;T_SONIC&quot;</span> <span class="ot">=</span> dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>tempSoni<span class="sc">$</span>mean,</span>
<span id="cb429-55"><a href="#cb429-55" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;T_SONIC_SIGMA&quot;</span> <span class="ot">=</span> base<span class="sc">::</span><span class="fu">sqrt</span>(dataList[[x]]<span class="sc">$</span>dp01<span class="sc">$</span>data<span class="sc">$</span>soni[[<span class="fu">paste0</span>(LvlTowr,<span class="st">&quot;_30m&quot;</span>)]]<span class="sc">$</span>tempSoni<span class="sc">$</span>mean)</span>
<span id="cb429-56"><a href="#cb429-56" aria-hidden="true" tabindex="-1"></a>        , <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb429-57"><a href="#cb429-57" aria-hidden="true" tabindex="-1"></a>    })</span></code></pre></div>
<pre><code>## [1] &quot;000_040&quot;
## [1] &quot;000_030&quot;
## [1] &quot;000_020&quot;
## [1] &quot;000_010&quot;</code></pre>
<pre><code>## Warning in base::sqrt(dataList[[x]]$dp01$data$soni[[paste0(LvlTowr, &quot;_30m&quot;)]]
## $tempSoni$mean): NaNs produced</code></pre>
<pre><code>## [1] &quot;000_040&quot;
## [1] &quot;000_030&quot;
## [1] &quot;000_020&quot;
## [1] &quot;000_010&quot;</code></pre>
<pre><code>## Warning in base::sqrt(dataList[[x]]$dp01$data$soni[[paste0(LvlTowr, &quot;_30m&quot;)]]
## $tempSoni$mean): NaNs produced</code></pre>
<pre><code>## [1] &quot;000_040&quot;
## [1] &quot;000_030&quot;
## [1] &quot;000_020&quot;
## [1] &quot;000_010&quot;</code></pre>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="#cb435-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(dataListFlux) <span class="ot">&lt;-</span> <span class="fu">names</span>(dataList)</span></code></pre></div>
<p>Combine the monthly data into a single dataframe, remove lists and clean
memory</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a>    dataDfFlux <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind.data.frame,dataListFlux)</span>
<span id="cb436-2"><a href="#cb436-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rm</span>(<span class="at">list=</span><span class="fu">c</span>(<span class="st">&quot;dataListFlux&quot;</span>,<span class="st">&quot;dataList&quot;</span>))</span>
<span id="cb436-3"><a href="#cb436-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gc</span>()</span></code></pre></div>
<pre><code>##            used  (Mb) gc trigger  (Mb) max used  (Mb)
## Ncells  1488060  79.5    3173575 169.5  3173575 169.5
## Vcells 16213942 123.8   72281189 551.5 75226210 574.0</code></pre>
<p>Regularize timeseries to 30 minutes in case timestamps are missing from
NEON files due to processing errors</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="#cb438-1" aria-hidden="true" tabindex="-1"></a>    timeRglr <span class="ot">&lt;-</span> eddy4R.base<span class="sc">::</span><span class="fu">def.rglr</span>(<span class="at">timeMeas =</span> <span class="fu">as.POSIXlt</span>(dataDfFlux<span class="sc">$</span>TIMESTAMP_START), <span class="at">dataMeas =</span> dataDfFlux, <span class="at">BgnRglr =</span> <span class="fu">as.POSIXlt</span>(dataDfFlux<span class="sc">$</span>TIMESTAMP_START[<span class="dv">1</span>]), <span class="at">EndRglr =</span> <span class="fu">as.POSIXlt</span>(dataDfFlux<span class="sc">$</span>TIMESTAMP_END[<span class="fu">length</span>(dataDfFlux<span class="sc">$</span>TIMESTAMP_END)]), <span class="at">TzRglr =</span> <span class="st">&quot;UTC&quot;</span>, <span class="at">FreqRglr =</span> <span class="dv">1</span><span class="sc">/</span>(<span class="dv">60</span><span class="sc">*</span><span class="dv">30</span>))</span>
<span id="cb438-2"><a href="#cb438-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb438-3"><a href="#cb438-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Reassign data to data.frame</span></span>
<span id="cb438-4"><a href="#cb438-4" aria-hidden="true" tabindex="-1"></a>    dataDfFlux <span class="ot">&lt;-</span> timeRglr<span class="sc">$</span>dataRglr</span>
<span id="cb438-5"><a href="#cb438-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Format timestamps</span></span>
<span id="cb438-6"><a href="#cb438-6" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>TIMESTAMP_START <span class="ot">&lt;-</span> <span class="fu">strftime</span>(timeRglr<span class="sc">$</span>timeRglr <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">hours</span>(timeOfstUtc), <span class="at">format =</span> <span class="st">&quot;%Y%m%d%H%M&quot;</span>)</span>
<span id="cb438-7"><a href="#cb438-7" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>TIMESTAMP_END <span class="ot">&lt;-</span> <span class="fu">strftime</span>(timeRglr<span class="sc">$</span>timeRglr <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">hours</span>(timeOfstUtc) <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">minutes</span>(<span class="dv">30</span>), <span class="at">format =</span> <span class="st">&quot;%Y%m%d%H%M&quot;</span>)</span></code></pre></div>
<p>Define validation times, and remove this data from the dataset. At NEON
sites, validations with a series of gasses of known concentration are
run every 23.5 hours. These values are used to correct for measurment
drift and are run every 23.5 hours to achive daily resolution while also
spreading the impact of lost measurements throughout the day.</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Remove co2Turb and h2oTurb data based off of qfFlow (qfFinl frt00)</span></span>
<span id="cb439-2"><a href="#cb439-2" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>FC[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfCO2_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-3"><a href="#cb439-3" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>LE[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfH2O_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-4"><a href="#cb439-4" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>USTAR[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfWS_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-5"><a href="#cb439-5" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>H[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfT_SONIC_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-6"><a href="#cb439-6" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>SC[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfSC <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-7"><a href="#cb439-7" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>SLE[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfSLE <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-8"><a href="#cb439-8" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>SH[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfSH <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-9"><a href="#cb439-9" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>T_SONIC[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfT_SONIC_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-10"><a href="#cb439-10" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>T_SONIC_SIGMA[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfT_SONIC_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-11"><a href="#cb439-11" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>WS_1_1_1[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfWS_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-12"><a href="#cb439-12" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>WS_MAX_1_1_1[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfWS_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-13"><a href="#cb439-13" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>WD_1_1_1[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfWS_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-14"><a href="#cb439-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb439-15"><a href="#cb439-15" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>H2O_1_1_1[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfH2O_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-16"><a href="#cb439-16" aria-hidden="true" tabindex="-1"></a>    dataDfFlux<span class="sc">$</span>CO2_1_1_1[(<span class="fu">which</span>(dataDfFlux<span class="sc">$</span>qfCO2_1_1_1 <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-17"><a href="#cb439-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb439-18"><a href="#cb439-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(idxVerAmfx, <span class="cf">function</span>(x){</span>
<span id="cb439-19"><a href="#cb439-19" aria-hidden="true" tabindex="-1"></a>      <span class="co">#x &lt;- 1</span></span>
<span id="cb439-20"><a href="#cb439-20" aria-hidden="true" tabindex="-1"></a>      dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;H2O_1_&quot;</span>,x,<span class="st">&quot;_2&quot;</span>)]][(<span class="fu">which</span>(dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;qfH2O_1_&quot;</span>,x,<span class="st">&quot;_2&quot;</span>)]] <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-21"><a href="#cb439-21" aria-hidden="true" tabindex="-1"></a>      dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;H2O_1_&quot;</span>,x,<span class="st">&quot;_3&quot;</span>)]][(<span class="fu">which</span>(dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;qfH2O_1_&quot;</span>,x,<span class="st">&quot;_3&quot;</span>)]] <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-22"><a href="#cb439-22" aria-hidden="true" tabindex="-1"></a>      dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;CO2_1_&quot;</span>,x,<span class="st">&quot;_2&quot;</span>)]][(<span class="fu">which</span>(dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;qfCO2_1_&quot;</span>,x,<span class="st">&quot;_2&quot;</span>)]] <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-23"><a href="#cb439-23" aria-hidden="true" tabindex="-1"></a>      dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;CO2_1_&quot;</span>,x,<span class="st">&quot;_3&quot;</span>)]][(<span class="fu">which</span>(dataDfFlux[[<span class="fu">paste0</span>(<span class="st">&quot;qfCO2_1_&quot;</span>,x,<span class="st">&quot;_3&quot;</span>)]] <span class="sc">==</span> <span class="dv">1</span>))] <span class="ot">&lt;&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb439-24"><a href="#cb439-24" aria-hidden="true" tabindex="-1"></a>    })</span></code></pre></div>
<pre><code>## $`000_040`
## [1] NaN
## 
## $`000_030`
## [1] NaN
## 
## $`000_020`
## [1] NaN
## 
## $`000_010`
## [1] NaN</code></pre>
<p>Remove quality flagging variables from output</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1" aria-hidden="true" tabindex="-1"></a>    setIdxQf <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;qf&quot;</span>, <span class="fu">names</span>(dataDfFlux))</span>
<span id="cb441-2"><a href="#cb441-2" aria-hidden="true" tabindex="-1"></a>    dataDfFlux[,setIdxQf] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<p>Set range thresholds</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="#cb442-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#assign list</span></span>
<span id="cb442-2"><a href="#cb442-2" aria-hidden="true" tabindex="-1"></a>    Rng <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb442-3"><a href="#cb442-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb442-4"><a href="#cb442-4" aria-hidden="true" tabindex="-1"></a>    Rng<span class="sc">$</span>Min <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb442-5"><a href="#cb442-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;FC&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">100</span>,            <span class="co">#[umol m-2 s-1]</span></span>
<span id="cb442-6"><a href="#cb442-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;SC&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">100</span>,            <span class="co">#[umol m-2 s-1]</span></span>
<span id="cb442-7"><a href="#cb442-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;NEE&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">100</span>,            <span class="co">#[umol m-2 s-1]</span></span>
<span id="cb442-8"><a href="#cb442-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;LE&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">500</span>,            <span class="co">#[W m-2]</span></span>
<span id="cb442-9"><a href="#cb442-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;H&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">500</span>,             <span class="co">#[W m-2]</span></span>
<span id="cb442-10"><a href="#cb442-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;USTAR&quot;</span> <span class="ot">=</span> <span class="dv">0</span>,            <span class="co">#[m s-1]</span></span>
<span id="cb442-11"><a href="#cb442-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;CO2&quot;</span> <span class="ot">=</span> <span class="dv">200</span>,            <span class="co">#[umol mol-1]</span></span>
<span id="cb442-12"><a href="#cb442-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;H2O&quot;</span> <span class="ot">=</span> <span class="dv">0</span>,              <span class="co">#[mmol mol-1]</span></span>
<span id="cb442-13"><a href="#cb442-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;WS_1_1_1&quot;</span> <span class="ot">=</span> <span class="dv">0</span>,         <span class="co">#[m s-1]</span></span>
<span id="cb442-14"><a href="#cb442-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;WS_MAX_1_1_1&quot;</span> <span class="ot">=</span> <span class="dv">0</span>,     <span class="co">#[m s-1]</span></span>
<span id="cb442-15"><a href="#cb442-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;WD_1_1_1&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.1</span>,      <span class="co">#[deg]</span></span>
<span id="cb442-16"><a href="#cb442-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;T_SONIC&quot;</span> <span class="ot">=</span> <span class="sc">-</span><span class="fl">55.0</span>       <span class="co">#[C]</span></span>
<span id="cb442-17"><a href="#cb442-17" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p>Set Max thresholds</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1" aria-hidden="true" tabindex="-1"></a>    Rng<span class="sc">$</span>Max <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb443-2"><a href="#cb443-2" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;FC&quot;</span> <span class="ot">=</span> <span class="dv">100</span>,            <span class="co">#[umol m-2 s-1]</span></span>
<span id="cb443-3"><a href="#cb443-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;SC&quot;</span> <span class="ot">=</span> <span class="dv">100</span>,            <span class="co">#[umol m-2 s-1]</span></span>
<span id="cb443-4"><a href="#cb443-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;NEE&quot;</span> <span class="ot">=</span> <span class="dv">100</span>,            <span class="co">#[umol m-2 s-1]</span></span>
<span id="cb443-5"><a href="#cb443-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;LE&quot;</span> <span class="ot">=</span> <span class="dv">1000</span>,            <span class="co">#[W m-2]</span></span>
<span id="cb443-6"><a href="#cb443-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;H&quot;</span> <span class="ot">=</span> <span class="dv">1000</span>,             <span class="co">#[W m-2]</span></span>
<span id="cb443-7"><a href="#cb443-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;USTAR&quot;</span> <span class="ot">=</span> <span class="dv">5</span>,            <span class="co">#[m s-1]</span></span>
<span id="cb443-8"><a href="#cb443-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;CO2&quot;</span> <span class="ot">=</span> <span class="dv">800</span>,            <span class="co">#[umol mol-1]</span></span>
<span id="cb443-9"><a href="#cb443-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;H2O&quot;</span> <span class="ot">=</span> <span class="dv">100</span>,              <span class="co">#[mmol mol-1]</span></span>
<span id="cb443-10"><a href="#cb443-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;WS_1_1_1&quot;</span> <span class="ot">=</span> <span class="dv">50</span>,         <span class="co">#[m s-1]</span></span>
<span id="cb443-11"><a href="#cb443-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;WS_MAX_1_1_1&quot;</span> <span class="ot">=</span> <span class="dv">50</span>,     <span class="co">#[m s-1]</span></span>
<span id="cb443-12"><a href="#cb443-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;WD_1_1_1&quot;</span> <span class="ot">=</span> <span class="dv">360</span>,      <span class="co">#[deg]</span></span>
<span id="cb443-13"><a href="#cb443-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;T_SONIC&quot;</span> <span class="ot">=</span> <span class="fl">45.0</span>       <span class="co">#[C]</span></span>
<span id="cb443-14"><a href="#cb443-14" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p>Grab all CO2/H2O columns to apply same thresholds, replace missing
values with -9999</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="#cb444-1" aria-hidden="true" tabindex="-1"></a>    nameCO2 <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;CO2&quot;</span>,<span class="fu">names</span>(dataDfFlux),<span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb444-2"><a href="#cb444-2" aria-hidden="true" tabindex="-1"></a>    nameH2O <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;H2O&quot;</span>,<span class="fu">names</span>(dataDfFlux),<span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb444-3"><a href="#cb444-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Apply the CO2/H2O threshold to all variables in HOR_VER_REP</span></span>
<span id="cb444-4"><a href="#cb444-4" aria-hidden="true" tabindex="-1"></a>    Rng<span class="sc">$</span>Min[nameCO2] <span class="ot">&lt;-</span> Rng<span class="sc">$</span>Min<span class="sc">$</span>CO2</span>
<span id="cb444-5"><a href="#cb444-5" aria-hidden="true" tabindex="-1"></a>    Rng<span class="sc">$</span>Min[nameH2O] <span class="ot">&lt;-</span> Rng<span class="sc">$</span>Min<span class="sc">$</span>H2O</span>
<span id="cb444-6"><a href="#cb444-6" aria-hidden="true" tabindex="-1"></a>    Rng<span class="sc">$</span>Max[nameCO2] <span class="ot">&lt;-</span> Rng<span class="sc">$</span>Max<span class="sc">$</span>CO2</span>
<span id="cb444-7"><a href="#cb444-7" aria-hidden="true" tabindex="-1"></a>    Rng<span class="sc">$</span>Max[nameH2O] <span class="ot">&lt;-</span> Rng<span class="sc">$</span>Max<span class="sc">$</span>H2O</span>
<span id="cb444-8"><a href="#cb444-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb444-9"><a href="#cb444-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Apply the range test to the output, and replace values with NaN</span></span>
<span id="cb444-10"><a href="#cb444-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">names</span>(dataDfFlux), <span class="cf">function</span>(x) {</span>
<span id="cb444-11"><a href="#cb444-11" aria-hidden="true" tabindex="-1"></a>      dataDfFlux[<span class="fu">which</span>(dataDfFlux[,x]<span class="sc">&lt;</span>Rng<span class="sc">$</span>Min[[x]] <span class="sc">|</span> dataDfFlux[,x]<span class="sc">&gt;</span>Rng<span class="sc">$</span>Max[[x]]),x] <span class="ot">&lt;&lt;-</span> <span class="cn">NaN</span>})</span></code></pre></div>
<pre><code>## [[1]]
## [1] NaN
## 
## [[2]]
## [1] NaN
## 
## [[3]]
## [1] NaN
## 
## [[4]]
## [1] NaN
## 
## [[5]]
## [1] NaN
## 
## [[6]]
## [1] NaN
## 
## [[7]]
## [1] NaN
## 
## [[8]]
## [1] NaN
## 
## [[9]]
## [1] NaN
## 
## [[10]]
## [1] NaN
## 
## [[11]]
## [1] NaN
## 
## [[12]]
## [1] NaN
## 
## [[13]]
## [1] NaN
## 
## [[14]]
## [1] NaN
## 
## [[15]]
## [1] NaN
## 
## [[16]]
## [1] NaN
## 
## [[17]]
## [1] NaN
## 
## [[18]]
## [1] NaN
## 
## [[19]]
## [1] NaN
## 
## [[20]]
## [1] NaN
## 
## [[21]]
## [1] NaN
## 
## [[22]]
## [1] NaN
## 
## [[23]]
## [1] NaN
## 
## [[24]]
## [1] NaN
## 
## [[25]]
## [1] NaN
## 
## [[26]]
## [1] NaN
## 
## [[27]]
## [1] NaN
## 
## [[28]]
## [1] NaN
## 
## [[29]]
## [1] NaN
## 
## [[30]]
## [1] NaN
## 
## [[31]]
## [1] NaN
## 
## [[32]]
## [1] NaN
## 
## [[33]]
## [1] NaN
## 
## [[34]]
## [1] NaN
## 
## [[35]]
## [1] NaN
## 
## [[36]]
## [1] NaN</code></pre>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="#cb446-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Delete any NEE that have either FC or SC removed</span></span>
<span id="cb446-2"><a href="#cb446-2" aria-hidden="true" tabindex="-1"></a>    dataDfFlux[<span class="fu">is.na</span>(dataDfFlux<span class="sc">$</span>FC) <span class="sc">|</span> <span class="fu">is.na</span>(dataDfFlux<span class="sc">$</span>SC),<span class="st">&quot;NEE&quot;</span>] <span class="ot">&lt;-</span> <span class="cn">NaN</span></span>
<span id="cb446-3"><a href="#cb446-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb446-4"><a href="#cb446-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Change NA to -9999</span></span>
<span id="cb446-5"><a href="#cb446-5" aria-hidden="true" tabindex="-1"></a>    dataDfFlux[<span class="fu">is.na</span>(dataDfFlux)] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">9999</span></span></code></pre></div>
<p>Write output data to csv</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="#cb447-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Create output filename based off of Ameriflux file naming convention</span></span>
<span id="cb447-2"><a href="#cb447-2" aria-hidden="true" tabindex="-1"></a>    nameFileOut <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">paste0</span>(DirOut,<span class="st">&quot;/&quot;</span>,siteNeon<span class="sc">$</span>SITE_ID,<span class="st">&#39;_HH_&#39;</span>,dataDfFlux<span class="sc">$</span>TIMESTAMP_START[<span class="dv">1</span>],<span class="st">&#39;_&#39;</span>,utils<span class="sc">::</span><span class="fu">tail</span>(dataDfFlux<span class="sc">$</span>TIMESTAMP_END,<span class="at">n=</span><span class="dv">1</span>),<span class="st">&#39;_flux.csv&#39;</span>)</span>
<span id="cb447-3"><a href="#cb447-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb447-4"><a href="#cb447-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Write output to .csv</span></span>
<span id="cb447-5"><a href="#cb447-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write.csv</span>(<span class="at">x =</span> dataDfFlux, <span class="at">file =</span> nameFileOut, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Clean up environment</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="#cb448-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list=</span><span class="st">&quot;dataDfFlux&quot;</span>)</span>
<span id="cb448-2"><a href="#cb448-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span></code></pre></div>
<pre><code>##            used  (Mb) gc trigger  (Mb) max used  (Mb)
## Ncells  1491008  79.7    3173575 169.5  3173575 169.5
## Vcells 16289063 124.3   57824952 441.2 75226210 574.0</code></pre>
<pre><code>##  [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<div id="exercises-1" class="section level2 hasAnchor" number="5.7">
<h2 class="hasAnchor"><span class="header-section-number">5.7</span> Exercises<a href="#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="computational" class="section level3 hasAnchor" number="5.7.1">
<h3 class="hasAnchor"><span class="header-section-number">5.7.1</span> Computational<a href="#computational" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>NEON data are submitted to AmeriFlux quarterly after one year of
non-quality flagged or otherwise missing data are available. Use the
workflow above to extend the data coverage of an already submitted
NEON site by downloading existing data from the AmeriFlux website
and recently published HDF5 files from the NEON data portal. Process
the NEON data such that it is in AmeriFlux format and plot the
entire timerseries.</li>
</ol>
<p><em>Hint: NEON sites start with US-x</em></p>
<ol start="2" style="list-style-type: decimal">
<li>Using metScanR package, find co-located NEON and AmeriFlux sites.
Download data for an overlapping time period, and compare FC and H
values by making a scatter plot and seeing how far off the data are
from a 1:1 line.</li>
</ol>
<!--chapter:end:05-Fluxes_and_Inter-operability.Rmd-->
</div>
</div>
</div>
<div id="neon-aop" class="section level1 hasAnchor" number="6">
<h1 class="hasAnchor"><span class="header-section-number">6</span> NEON AOP<a href="#neon-aop" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/f5e-X9dMnXs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="learning-objectives-2" class="section level2 hasAnchor" number="6.1">
<h2 class="hasAnchor"><span class="header-section-number">6.1</span> Learning Objectives<a href="#learning-objectives-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After completing this tutorial, you will be able to:</p>
<ul>
<li>Define hyperspectral remote sensing.</li>
<li>Explain the fundamental principles of hyperspectral remote sensing data.</li>
<li>Describe the key attributes that are required to effectively work with
hyperspectral remote sensing data in tools like R or Python.</li>
<li>Describe what a “band” is.</li>
</ul>
<p>##About Hyperspectral remote sensing</p>
<div id="mapping-the-invisible" class="section level3 hasAnchor" number="6.1.1">
<h3 class="hasAnchor"><span class="header-section-number">6.1.1</span> Mapping the Invisible<a href="#mapping-the-invisible" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3iaFzafWJQE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="about-hyperspectral-remote-sensing-data" class="section level3 hasAnchor" number="6.1.2">
<h3 class="hasAnchor"><span class="header-section-number">6.1.2</span> About Hyperspectral Remote Sensing Data<a href="#about-hyperspectral-remote-sensing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The electromagnetic spectrum is composed of thousands of bands representing
different types of light energy. Imaging spectrometers (instruments that collect
hyperspectral data) break the electromagnetic spectrum into groups of bands
that support classification of objects by their spectral properties on the
earth’s surface. Hyperspectral data consists of many bands – up to hundreds of
bands – that cover the electromagnetic spectrum.</p>
<p>The NEON imaging spectrometer collects data within the 380nm to 2510nm portions
of the electromagnetic spectrum within bands that are approximately 5nm in
width. This results in a hyperspectral data cube that contains approximately
426 bands - which means big, big data.</p>
</div>
</div>
<div id="key-metadata-for-hyperspectral-data" class="section level2 hasAnchor" number="6.2">
<h2 class="hasAnchor"><span class="header-section-number">6.2</span> Key Metadata for Hyperspectral Data<a href="#key-metadata-for-hyperspectral-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="bands-and-wavelengths" class="section level3 hasAnchor" number="6.2.1">
<h3 class="hasAnchor"><span class="header-section-number">6.2.1</span> Bands and Wavelengths<a href="#bands-and-wavelengths" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <em>band</em> represents a group of wavelengths. For example, the wavelength values
between 695nm and 700nm might be one band as captured by an imaging spectrometer.
The imaging spectrometer collects reflected light energy in a pixel for light
in that band. Often when you work with a multi or hyperspectral dataset, the
band information is reported as the center wavelength value. This value
represents the center point value of the wavelengths represented in that band.
Thus in a band spanning 695-700 nm, the center would be 697.5).</p>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/spectrumZoomed.png" /></p>
<blockquote>
<p>Imaging spectrometers collect reflected light information within
defined bands or regions of the electromagnetic spectrum. Source: National
Ecological Observatory Network (NEON)</p>
</blockquote>
</div>
<div id="spectral-resolution" class="section level3 hasAnchor" number="6.2.2">
<h3 class="hasAnchor"><span class="header-section-number">6.2.2</span> Spectral Resolution<a href="#spectral-resolution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The spectral resolution of a dataset that has more than one band, refers to the
width of each band in the dataset. In the example above, a band was defined as
spanning 695-700nm. The width or spatial resolution of the band is thus 5
nanometers. To see an example of this, check out the band widths for the
<a href="http://landsat.usgs.gov/band_designations_landsat_satellites.php" target="_blank">Landsat sensors</a>.</p>
</div>
<div id="full-width-half-max-fwhm" class="section level3 hasAnchor" number="6.2.3">
<h3 class="hasAnchor"><span class="header-section-number">6.2.3</span> Full Width Half Max (FWHM)<a href="#full-width-half-max-fwhm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The full width half max (FWHM) will also often be reported in a multi or
hyperspectral dataset. This value represents the spread of the band around that
center point.</p>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/FWHM2.png" /></p>
<blockquote>
<p>The Full Width Half Max (FWHM) of a band relates to the distance
in nanometers between the band center and the edge of the band. In this
case, the FWHM for Band C is 5 nm.</p>
</blockquote>
<p>In the illustration above, the band that covers 695-700nm has a FWHM of 5 nm.
While a general spectral resolution of the sensor is often provided, not all
sensors create bands of uniform widths. For instance bands 1-9 of Landsat 8 are
listed below (Courtesy of <a href="http://landsat.usgs.gov" target="_blank">USGS</a>)</p>
<table>
<colgroup>
<col width="40%" />
<col width="19%" />
<col width="21%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th>Band</th>
<th>Wavelength range (microns)</th>
<th>Spatial Resolution (m)</th>
<th>Spectral Width (microns)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Band 1 - Coastal aerosol</td>
<td>0.43 - 0.45</td>
<td>30</td>
<td>0.02</td>
</tr>
<tr class="even">
<td>Band 2 - Blue</td>
<td>0.45 - 0.51</td>
<td>30</td>
<td>0.06</td>
</tr>
<tr class="odd">
<td>Band 3 - Green</td>
<td>0.53 - 0.59</td>
<td>30</td>
<td>0.06</td>
</tr>
<tr class="even">
<td>Band 4 - Red</td>
<td>0.64 - 0.67</td>
<td>30</td>
<td>0.03</td>
</tr>
<tr class="odd">
<td>Band 5 - Near Infrared (NIR)</td>
<td>0.85 - 0.88</td>
<td>30</td>
<td>0.03</td>
</tr>
<tr class="even">
<td>Band 6 - SWIR 1</td>
<td>1.57 - 1.65</td>
<td>30</td>
<td>0.08</td>
</tr>
<tr class="odd">
<td>Band 7 - SWIR 2</td>
<td>2.11 - 2.29</td>
<td>30</td>
<td>0.18</td>
</tr>
<tr class="even">
<td>Band 8 - Panchromatic</td>
<td>0.50 - 0.68</td>
<td>15</td>
<td>0.18</td>
</tr>
<tr class="odd">
<td>Band 9 - Cirrus</td>
<td>1.36 - 1.38</td>
<td>30</td>
<td>0.02</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="intro-to-working-with-hyperspectral-remote-sensing-data-in-hdf5-format" class="section level2 hasAnchor" number="6.3">
<h2 class="hasAnchor"><span class="header-section-number">6.3</span> Intro to Working with Hyperspectral Remote Sensing Data in HDF5 Format<a href="#intro-to-working-with-hyperspectral-remote-sensing-data-in-hdf5-format" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Contributors: Felipe Sanchez, Leah A. Wasser, Edmund Hart, Donal O’Leary
Based on NEON Science Tutorial Series: <a href="https://www.neonscience.org/intro-hsi-r-series" class="uri">https://www.neonscience.org/intro-hsi-r-series</a></p>
</blockquote>
<p>In this tutorial, we will explore reading and extracting spatial raster data
stored within a HDF5 file using R.</p>
<div id="ds-objectives" markdown="1">
<div id="learning-objectives-3" class="section level3 hasAnchor" number="6.3.1">
<h3 class="hasAnchor"><span class="header-section-number">6.3.1</span> Learning Objectives<a href="#learning-objectives-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After completing this section, you will be able to:</p>
<ul>
<li>Explain how HDF5 data can be used to store spatial data and the associated
benefits of this format when working with large spatial data cubes.</li>
<li>Extract metadata from HDF5 files.</li>
<li>Slice or subset HDF5 data. You will extract one band of pixels.</li>
<li>Plot a matrix as an image and a raster.</li>
<li>Export a final GeoTIFF (spatially projected) that can be used both in further
analysis and in common GIS tools like QGIS.</li>
</ul>
</div>
<div id="r-libraries-to-install" class="section level3 hasAnchor" number="6.3.2">
<h3 class="hasAnchor"><span class="header-section-number">6.3.2</span> R Libraries to Install:<a href="#r-libraries-to-install" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>rhdf5</strong>: <code>install.packages("BiocManager")</code>, <code>BiocManager::install("rhdf5")</code></li>
<li><strong>raster</strong>: <code>install.packages('raster')</code></li>
<li><strong>rgdal</strong>: <code>install.packages('rgdal')</code></li>
</ul>
</div>
<div id="data-to-download" class="section level3 hasAnchor" number="6.3.3">
<h3 class="hasAnchor"><span class="header-section-number">6.3.3</span> Data to Download<a href="#data-to-download" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<h3>
<a href="https://ndownloader.figshare.com/files/21754221">
Download NEON Teaching Data Subset: Imaging Spectrometer Data - HDF5 </a>
</h3>
<p>These hyperspectral remote sensing data provide information on the
<a href="https://www.neonscience.org/" target="_blank"> National Ecological Observatory Network’s</a>
<a href="https://www.neonscience.org/field-sites/field-sites-map/SJER" target="_blank" > San Joaquin
Exerimental Range field site</a> in March of 2019.
The data were collected over the San Joaquin field site located in California
(Domain 17) and processed at NEON headquarters. This data subset is derived from
the mosaic tile named NEON_D17_SJER_DP3_257000_4112000_reflectance.h5.
The entire dataset can be accessed by request from the
<a href="http://data.neonscience.org" target="_blank"> NEON Data Portal</a>.</p>
<p><a href="https://ndownloader.figshare.com/files/21754221" class="link--button link--arrow">
Download Dataset</a></p>
<p><strong>Remember</strong> that the example dataset linked here only has 1 out of every 4 bands
included in a full NEON hyperspectral dataset (this substantially reduces the file
size!). When we refer to bands in this section, we will note the band numbers for
this example dataset, which are different from NEON production data. To convert
a band number (b) from this example data subset to the equivalent band in a full
NEON hyperspectral file (b’), use the following equation: b’ = 1+4*(b-1).</p>
</div>
<div id="about-hyperspectral-remote-sensing-data-1" class="section level2 hasAnchor" number="6.4">
<h2 class="hasAnchor"><span class="header-section-number">6.4</span> About Hyperspectral Remote Sensing Data<a href="#about-hyperspectral-remote-sensing-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The electromagnetic spectrum is composed of thousands of bands representing
different types of light energy. Imaging spectrometers (instruments that collect
hyperspectral data) break the electromagnetic spectrum into groups of bands that
support classification of objects by their spectral properties on the Earth’s
surface. Hyperspectral data consists of many bands - up to hundreds of bands -
that cover the electromagnetic spectrum.</p>
<p>The NEON imaging spectrometer (NIS) collects data within the 380 nm to 2510 nm
portions of the electromagnetic spectrum within bands that are approximately 5 nm
in width. This results in a hyperspectral data cube that contains approximately
428 bands - which means BIG DATA. <em>Remember</em> that the example dataset used
here only has 1 out of every 4 bands included in a full NEON hyperspectral dataset
(this substantially reduces size!). When we refer to bands in this tutorial,
we will note the band numbers for this example dataset, which may be different
from NEON production data.</p>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/DataCube.png" /></p>
<blockquote>
<p>A data cube of NEON hyperspectral data. Each layer in the cube
represents a band.</p>
</blockquote>
<p>The HDF5 data model natively compresses data stored within it (makes it smaller)
and supports data slicing (extracting only the portions of the data that you
need to work with rather than reading the entire dataset into memory). These
features in addition to the ability to support spatial data and associated
metadata make it ideal for working with large data cubes such as those generated
by imaging spectrometers.</p>
<p>In this section we will explore reading and extracting spatial raster data
stored within a HDF5 file using R.</p>
</div>
<div id="read-hdf5-data-into-r" class="section level2 hasAnchor" number="6.5">
<h2 class="hasAnchor"><span class="header-section-number">6.5</span> Read HDF5 data into R<a href="#read-hdf5-data-into-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will use the <code>raster</code> and <code>rhdf5</code> packages to read in the HDF5 file that
contains hyperspectral data for the
<a href="https://www.neonscience.org/field-sites/field-sites-map/SJER" target="_blank">NEON San Joaquin (SJER) field site</a>.
Let’s start by calling the needed packages and reading in our NEON HDF5 file.</p>
<p>Please be sure that you have <em>at least</em> version 2.10 of <code>rhdf5</code> installed. Use:
<code>packageVersion("rhdf5")</code> to check the package version.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="#cb451-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load `raster` and `rhdf5` packages and read NIS data into R</span></span>
<span id="cb451-2"><a href="#cb451-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span></code></pre></div>
<pre><code>## Loading required package: sp</code></pre>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="#cb453-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rhdf5)</span>
<span id="cb453-2"><a href="#cb453-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgdal)</span></code></pre></div>
<pre><code>## Please note that rgdal will be retired by the end of 2023,
## plan transition to sf/stars/terra functions using GDAL and PROJ
## at your earliest convenience.
## 
## rgdal: version: 1.5-32, (SVN revision 1176)
## Geospatial Data Abstraction Library extensions to R successfully loaded
## Loaded GDAL runtime: GDAL 3.4.3, released 2022/04/22
## Path to GDAL shared files: C:/Users/rohan/AppData/Local/R/win-library/4.2/rgdal/gdal
## GDAL binary built with GEOS: TRUE 
## Loaded PROJ runtime: Rel. 7.2.1, January 1st, 2021, [PJ_VERSION: 721]
## Path to PROJ shared files: C:/Users/rohan/AppData/Local/R/win-library/4.2/rgdal/proj
## PROJ CDN enabled: FALSE
## Linking to sp version:1.5-0
## To mute warnings of possible GDAL/OSR exportToProj4() degradation,
## use options(&quot;rgdal_show_exportToProj4_warnings&quot;=&quot;none&quot;) before loading sp or rgdal.</code></pre>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="#cb455-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the file name to be opened</span></span>
<span id="cb455-2"><a href="#cb455-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> (<span class="st">&#39;./data/NEON_hyperspectral_tutorial_example_subset.h5&#39;</span>)</span></code></pre></div>
<div id="ds-dataTip" markdown="1">
<p><i class="fa fa-star"></i> <strong>Data Tip:</strong> To update all packages installed in
R, use <code>update.packages()</code>.</p>
</div>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the HDF5 file structure </span></span>
<span id="cb456-2"><a href="#cb456-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">h5ls</span>(f,<span class="at">all=</span>T))</span></code></pre></div>
<p>When you look at the structure of the data, take note of the “map info” dataset,
the “Coordinate_System” group, and the “wavelength” and “Reflectance” datasets. The
“Coordinate_System” folder contains the spatial attributes of the data including its
EPSG Code, which is easily converted to a Coordinate Reference System (CRS).
The CRS documents how the data are physically located on the Earth. The “wavelength”
dataset contains the middle wavelength values for each band in the data. The
“Reflectance” dataset contains the image data that we will use for both data processing
and visualization.</p>
<p>More Information on raster metadata:</p>
<ul>
<li><p><a href="https://www.neonscience.org/raster-data-r" target="_blank"> Raster Data in R</p></li>
<li><p>The Basics</a> - this tutorial explains more about how rasters work in R and
their associated metadata.</p></li>
<li><p><a href="https://www.neonscience.org/hyper-spec-intro" target="_blank"> About
Hyperspectral Remote Sensing Data</a> -this tutorial explains more about
metadata and important concepts associated with multi-band (multi and
hyperspectral) rasters.</p></li>
</ul>
<div id="ds-dataTip" markdown="1">
<p><i class="fa fa-star"></i><strong>Data Tip - HDF5 Structure:</strong> Note that the structure
of individual HDF5 files may vary depending on who produced the data. In this
case, the Wavelength and reflectance data within the file are both datasets.
However, the spatial information is contained within a group. Data downloaded from
another organization like NASA, may look different. This is why it’s important to
explore the data before diving into using it!</p>
</div>
<p>We can use the <code>h5readAttributes()</code> function to read and extract metadata from the
HDF5 file. Let’s start by learning about the wavelengths described within this file.</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="#cb457-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get information about the wavelengths of this dataset</span></span>
<span id="cb457-2"><a href="#cb457-2" aria-hidden="true" tabindex="-1"></a>wavelengthInfo <span class="ot">&lt;-</span> <span class="fu">h5readAttributes</span>(f,<span class="st">&quot;/SJER/Reflectance/Metadata/Spectral_Data/Wavelength&quot;</span>)</span>
<span id="cb457-3"><a href="#cb457-3" aria-hidden="true" tabindex="-1"></a>wavelengthInfo</span></code></pre></div>
<pre><code>## $Description
## [1] &quot;Central wavelength of the reflectance bands.&quot;
## 
## $Units
## [1] &quot;nanometers&quot;</code></pre>
<p>Next, we can use the <code>h5read</code> function to read the data contained within the
HDF5 file. Let’s read in the wavelengths of the band centers:</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read in the wavelength information from the HDF5 file</span></span>
<span id="cb459-2"><a href="#cb459-2" aria-hidden="true" tabindex="-1"></a>wavelengths <span class="ot">&lt;-</span> <span class="fu">h5read</span>(f,<span class="st">&quot;/SJER/Reflectance/Metadata/Spectral_Data/Wavelength&quot;</span>)</span>
<span id="cb459-3"><a href="#cb459-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wavelengths)</span></code></pre></div>
<pre><code>## [1] 381.5437 401.5756 421.6075 441.6394 461.6713 481.7032</code></pre>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="#cb461-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(wavelengths)</span></code></pre></div>
<pre><code>## [1] 2404.764 2424.796 2444.828 2464.860 2484.892 2504.924</code></pre>
<p>Which wavelength is band 6 associated with?</p>
<p>(Hint: look at the wavelengths
vector that we just imported and check out the data located at index 6 -
<code>wavelengths[6]</code>).</p>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/bluelight_EMSpectrum.png" /></p>
<blockquote>
<p>482 nanometers falls within the blue portion of the electromagnetic spectrum. Source: National Ecological Observatory Network</p>
</blockquote>
<p>Band 6 has a associate wavelength center of 481.7032 nanometers (nm) which is
in the blue portion of the visible electromagnetic spectrum (~ 400-700 nm).</p>
<div id="bands-and-wavelengths-1" class="section level3 hasAnchor" number="6.5.1">
<h3 class="hasAnchor"><span class="header-section-number">6.5.1</span> Bands and Wavelengths<a href="#bands-and-wavelengths-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <em>band</em> represents
a group of wavelengths. For example, the wavelength values between 695 nm and 700 nm
might be one band as captured by an imaging spectrometer. The imaging spectrometer
collects reflected light energy in a pixel for light in that band. Often when you
work with a multi or hyperspectral dataset, the band information is reported as
the center wavelength value. This value represents the center point value of the
wavelengths represented in that band. Thus in a band spanning 695-700 nm, the
center would be 697.5 nm). The full width half max (FWHM) will also be reported.
This value represents the spread of the band around that center point. So, a band
that covers 800 nm-805 nm might have a FWHM of 5 nm and a wavelength value of
802.5 nm.</p>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/spectrumZoomed.png" /></p>
<blockquote>
<p>Bands represent a range of values (types of light) within the
electromagnetic spectrum. Values for each band are often represented as the
center point value of each band. Source: National Ecological Observatory
Network (NEON)</p>
</blockquote>
<p>The HDF5 dataset that we are working with in this activity may contain more
information than we need to work with. For example, we don’t necessarily need
to process all 107 bands available in this example dataset (or all 426 bands
available in a full NEON hyperspectral reflectance file, for that matter)
- if we are interested in creating a product like NDVI which only uses bands in
the near infra-red and red portions of the spectrum. Or we might only be interested
in a spatial subset of the data - perhaps a region where we have plots in the field.</p>
<p>The HDF5 format allows us to slice (or subset) the data - quickly extracting the
subset that we need to process. Let’s extract one of the green bands in our
dataset - band 9.</p>
<p>By the way - what is the center wavelength value associated
with band 9?</p>
<p>Hint: <code>wavelengths[9]</code>.</p>
<p>How do we know this band is a green band in the visible portion of the spectrum?</p>
<p>In order to effectively subset our data, let’s first read the important
reflectance metadata stored as <em>attributes</em> in the “Reflectance_Data” dataset.</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, we need to extract the reflectance metadata:</span></span>
<span id="cb463-2"><a href="#cb463-2" aria-hidden="true" tabindex="-1"></a>reflInfo <span class="ot">&lt;-</span> <span class="fu">h5readAttributes</span>(f, <span class="st">&quot;/SJER/Reflectance/Reflectance_Data&quot;</span>)</span>
<span id="cb463-3"><a href="#cb463-3" aria-hidden="true" tabindex="-1"></a>reflInfo</span></code></pre></div>
<pre><code>## $Cloud_conditions
## [1] &quot;For cloud conditions information see Weather Quality Index dataset.&quot;
## 
## $Cloud_type
## [1] &quot;Cloud type may have been selected from multiple flight trajectories.&quot;
## 
## $Data_Ignore_Value
## [1] -9999
## 
## $Description
## [1] &quot;Atmospherically corrected reflectance.&quot;
## 
## $Dimension_Labels
## [1] &quot;Line, Sample, Wavelength&quot;
## 
## $Dimensions
## [1] 500 500 107
## 
## $Interleave
## [1] &quot;BSQ&quot;
## 
## $Scale_Factor
## [1] 10000
## 
## $Spatial_Extent_meters
## [1]  257500  258000 4112500 4113000
## 
## $Spatial_Resolution_X_Y
## [1] 1 1
## 
## $Units
## [1] &quot;Unitless.&quot;
## 
## $Units_Valid_range
## [1]     0 10000
## 
## $dim
## [1] 107 500 500</code></pre>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="#cb465-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Next, we read the different dimensions</span></span>
<span id="cb465-2"><a href="#cb465-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb465-3"><a href="#cb465-3" aria-hidden="true" tabindex="-1"></a>nRows <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Dimensions[<span class="dv">1</span>]</span>
<span id="cb465-4"><a href="#cb465-4" aria-hidden="true" tabindex="-1"></a>nCols <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Dimensions[<span class="dv">2</span>]</span>
<span id="cb465-5"><a href="#cb465-5" aria-hidden="true" tabindex="-1"></a>nBands <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Dimensions[<span class="dv">3</span>]</span>
<span id="cb465-6"><a href="#cb465-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb465-7"><a href="#cb465-7" aria-hidden="true" tabindex="-1"></a>nRows</span></code></pre></div>
<pre><code>## [1] 500</code></pre>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="#cb467-1" aria-hidden="true" tabindex="-1"></a>nCols</span></code></pre></div>
<pre><code>## [1] 500</code></pre>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1" aria-hidden="true" tabindex="-1"></a>nBands</span></code></pre></div>
<pre><code>## [1] 107</code></pre>
<p>The HDF5 read function reads data in the order: Bands, Cols, Rows. This is
different from how R reads data. We’ll adjust for this later.</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="#cb471-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract or &quot;slice&quot; data for band 9 from the HDF5 file</span></span>
<span id="cb471-2"><a href="#cb471-2" aria-hidden="true" tabindex="-1"></a>b9 <span class="ot">&lt;-</span> <span class="fu">h5read</span>(f,<span class="st">&quot;/SJER/Reflectance/Reflectance_Data&quot;</span>,<span class="at">index=</span><span class="fu">list</span>(<span class="dv">9</span>,<span class="dv">1</span><span class="sc">:</span>nCols,<span class="dv">1</span><span class="sc">:</span>nRows)) </span>
<span id="cb471-3"><a href="#cb471-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb471-4"><a href="#cb471-4" aria-hidden="true" tabindex="-1"></a><span class="co"># what type of object is b9?</span></span>
<span id="cb471-5"><a href="#cb471-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(b9)</span></code></pre></div>
<pre><code>## [1] &quot;array&quot;</code></pre>
</div>
<div id="a-note-about-data-slicing-in-hdf5" class="section level3 hasAnchor" number="6.5.2">
<h3 class="hasAnchor"><span class="header-section-number">6.5.2</span> A Note About Data Slicing in HDF5<a href="#a-note-about-data-slicing-in-hdf5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Data slicing allows us to extract and work with subsets of the data rather than
reading in the entire dataset into memory. Thus, in this case, we can extract and
plot the green band without reading in all 107 bands of information. The ability
to slice large datasets makes HDF5 ideal for working with big data.</p>
<p>Next, let’s convert our data from an array (more than 2 dimensions) to a matrix
(just 2 dimensions). We need to have our data in a matrix format to plot it.</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="#cb473-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert from array to matrix by selecting only the first band</span></span>
<span id="cb473-2"><a href="#cb473-2" aria-hidden="true" tabindex="-1"></a>b9 <span class="ot">&lt;-</span> b9[<span class="dv">1</span>,,]</span>
<span id="cb473-3"><a href="#cb473-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-4"><a href="#cb473-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check it</span></span>
<span id="cb473-5"><a href="#cb473-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(b9)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
</div>
<div id="arrays-vs.-matrices" class="section level3 hasAnchor" number="6.5.3">
<h3 class="hasAnchor"><span class="header-section-number">6.5.3</span> Arrays vs. Matrices<a href="#arrays-vs.-matrices" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Arrays are matrices with more than 2 dimensions. When we say dimension, we are
talking about the “z”
associated with the data (imagine a series of tabs in a spreadsheet). Put the other
way: matrices are arrays with only 2 dimensions. Arrays can have any number of
dimensions one, two, ten or more.</p>
<p>Here is a matrix that is 4 x 3 in size (4 rows and 3 columns):</p>
<table>
<thead>
<tr class="header">
<th>Metric</th>
<th>species 1</th>
<th>species 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>total number</td>
<td>23</td>
<td>45</td>
</tr>
<tr class="even">
<td>average weight</td>
<td>14</td>
<td>5</td>
</tr>
<tr class="odd">
<td>average length</td>
<td>2.4</td>
<td>3.5</td>
</tr>
<tr class="even">
<td>average height</td>
<td>32</td>
<td>12</td>
</tr>
</tbody>
</table>
</div>
<div id="dimensions-in-arrays" class="section level3 hasAnchor" number="6.5.4">
<h3 class="hasAnchor"><span class="header-section-number">6.5.4</span> Dimensions in Arrays<a href="#dimensions-in-arrays" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An array contains 1 or more dimensions in the “z” direction. For example, let’s
say that we collected the same set of species data for every day in a 30 day month.
We might then have a matrix like the one above for each day for a total of 30 days
making a 4 x 3 x 30 array (this dataset has more than 2 dimensions). More on R object
types <a href="http://www.statmethods.net/input/datatypes.html">here</a>
(links to external site, DataCamp).</p>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/r-skills/matrix.png" /></p>
<blockquote>
<p>A matrix has only 2 dimensions</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/r-skills/array.png" /></p>
<blockquote>
<p>An array has more than 2 dimensions.</p>
</blockquote>
<p>Next, let’s look at the metadata for the reflectance data. When we do this, take
note of 1) the scale factor and 2) the data ignore value. Then we can plot the
band 9 data. Plotting spatial data as a visual “data check” is a good idea to
make sure processing is being performed correctly and all is well with the image.</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="#cb475-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the metadata for the reflectance dataset</span></span>
<span id="cb475-2"><a href="#cb475-2" aria-hidden="true" tabindex="-1"></a><span class="fu">h5readAttributes</span>(f,<span class="st">&quot;/SJER/Reflectance/Reflectance_Data&quot;</span>)</span></code></pre></div>
<pre><code>## $Cloud_conditions
## [1] &quot;For cloud conditions information see Weather Quality Index dataset.&quot;
## 
## $Cloud_type
## [1] &quot;Cloud type may have been selected from multiple flight trajectories.&quot;
## 
## $Data_Ignore_Value
## [1] -9999
## 
## $Description
## [1] &quot;Atmospherically corrected reflectance.&quot;
## 
## $Dimension_Labels
## [1] &quot;Line, Sample, Wavelength&quot;
## 
## $Dimensions
## [1] 500 500 107
## 
## $Interleave
## [1] &quot;BSQ&quot;
## 
## $Scale_Factor
## [1] 10000
## 
## $Spatial_Extent_meters
## [1]  257500  258000 4112500 4113000
## 
## $Spatial_Resolution_X_Y
## [1] 1 1
## 
## $Units
## [1] &quot;Unitless.&quot;
## 
## $Units_Valid_range
## [1]     0 10000
## 
## $dim
## [1] 107 500 500</code></pre>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="#cb477-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the image</span></span>
<span id="cb477-2"><a href="#cb477-2" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(b9)</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/read-attributes-plot-1.png" alt="Plot of reflectance values for band 9 data. This plot shows a very washed out image lacking any detail." width="672" />
<p class="caption">
(#fig:read-attributes-plot)Plot of reflectance values for band 9 data. This plot shows a very washed out image lacking any detail.
</p>
</div>
<p>That is hard to visually interpret.
What happens if we plot a log of the data?</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(<span class="fu">log</span>(b9))</span></code></pre></div>
<p><img src="06-NEON_AOP_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>What do you notice about the first image? It’s washed out and lacking any detail. What
could be causing this? It got better when plotting the log of the values, but
still not great.</p>
<p>Let’s look at the distribution of reflectance values in
our data to figure out what is going on.</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="#cb479-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot range of reflectance values as a histogram to view range</span></span>
<span id="cb479-2"><a href="#cb479-2" aria-hidden="true" tabindex="-1"></a><span class="co"># and distribution of values.</span></span>
<span id="cb479-3"><a href="#cb479-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(b9,<span class="at">breaks=</span><span class="dv">40</span>,<span class="at">col=</span><span class="st">&quot;darkmagenta&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/hist-data-1.png" alt="Histogram of reflectance values for band 9. The x-axis represents the reflectance values and ranges from 0 to 8000. The frequency of these values is on the y-axis. The histogram shows reflectance values are skewed to the right, where the majority of the values lie between 0 and 1000. We can conclude that reflectance values are not equally distributed across the range of reflectance values, resulting in a washed out image." width="672" />
<p class="caption">
(#fig:hist-data-1)Histogram of reflectance values for band 9. The x-axis represents the reflectance values and ranges from 0 to 8000. The frequency of these values is on the y-axis. The histogram shows reflectance values are skewed to the right, where the majority of the values lie between 0 and 1000. We can conclude that reflectance values are not equally distributed across the range of reflectance values, resulting in a washed out image.
</p>
</div>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View values between 0 and 5000</span></span>
<span id="cb480-2"><a href="#cb480-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(b9,<span class="at">breaks=</span><span class="dv">40</span>,<span class="at">col=</span><span class="st">&quot;darkmagenta&quot;</span>,<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5000</span>))</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/hist-data-2.png" alt="Histogram of reflectance values between 0 and 5000 for band 9. Reflectance values are on the x-axis, and the frequency is on the y-axis. The x-axis limit has been set 5000 in order to better visualize the distribution of reflectance values. We can confirm that the majority of the values are indeed within the 0 to 4000 range." width="672" />
<p class="caption">
(#fig:hist-data-2)Histogram of reflectance values between 0 and 5000 for band 9. Reflectance values are on the x-axis, and the frequency is on the y-axis. The x-axis limit has been set 5000 in order to better visualize the distribution of reflectance values. We can confirm that the majority of the values are indeed within the 0 to 4000 range.
</p>
</div>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View higher values</span></span>
<span id="cb481-2"><a href="#cb481-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(b9, <span class="at">breaks=</span><span class="dv">40</span>,<span class="at">col=</span><span class="st">&quot;darkmagenta&quot;</span>,<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">5000</span>, <span class="dv">15000</span>),<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>))</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/hist-data-3.png" alt="Histogram of reflectance values between 5000 and 15000 for band 9. Reflectance values are on the x-axis, and the frequency is on the y-axis. Plot shows that a very few number of pixels have reflectance values larger than 5,000. These values are skewing how the image is being rendered and heavily impacting the way the image is drawn on our monitor." width="672" />
<p class="caption">
(#fig:hist-data-3)Histogram of reflectance values between 5000 and 15000 for band 9. Reflectance values are on the x-axis, and the frequency is on the y-axis. Plot shows that a very few number of pixels have reflectance values larger than 5,000. These values are skewing how the image is being rendered and heavily impacting the way the image is drawn on our monitor.
</p>
</div>
<p>As you’re examining the histograms above, keep in mind that reflectance values
range between 0-1. The <strong>data scale factor</strong> in the metadata tells us to divide
all reflectance values by 10,000. Thus, a value of 5,000 equates to a reflectance
value of 0.50. Storing data as integers (without decimal places) compared to
floating points (with decimal places) creates a smaller file. You will see this
done often when working with remote sensing data.</p>
<p>Notice in the data that there are some larger reflectance values (&gt;5,000) that
represent a smaller number of pixels. These pixels are skewing how the image
renders.</p>
</div>
<div id="data-ignore-value" class="section level3 hasAnchor" number="6.5.5">
<h3 class="hasAnchor"><span class="header-section-number">6.5.5</span> Data Ignore Value<a href="#data-ignore-value" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Image data in raster
format will often contain a data ignore value and a scale factor. The data ignore
value represents pixels where there are no data. Among other causes, no data
values may be attributed to the sensor not collecting data in that area of the
image or to processing results which yield null values.</p>
<p>Remember that the metadata for the <code>Reflectance</code> dataset designated -9999 as
<code>data ignore value</code>. Thus, let’s set all pixels with a value == -9999 to <code>NA</code>
(no value). If we do this, R won’t try to render these pixels.</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="#cb482-1" aria-hidden="true" tabindex="-1"></a><span class="co"># there is a no data value in our raster - let&#39;s define it</span></span>
<span id="cb482-2"><a href="#cb482-2" aria-hidden="true" tabindex="-1"></a>myNoDataValue <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(reflInfo<span class="sc">$</span>Data_Ignore_Value)</span>
<span id="cb482-3"><a href="#cb482-3" aria-hidden="true" tabindex="-1"></a>myNoDataValue</span></code></pre></div>
<pre><code>## [1] -9999</code></pre>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set all values equal to -9999 to NA</span></span>
<span id="cb484-2"><a href="#cb484-2" aria-hidden="true" tabindex="-1"></a>b9[b9 <span class="sc">==</span> myNoDataValue] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb484-3"><a href="#cb484-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-4"><a href="#cb484-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the image now</span></span>
<span id="cb484-5"><a href="#cb484-5" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(b9)</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/set-values-NA-1.png" alt="Plot of reflectance values for band 9 data with values equal to -9999 set to NA. Image data in raster format will often contain no data values, which may be attributed to the sensor not collecting data in that area of the image or to processing results which yield null values. Reflectance datasets designate -9999 as data ignore values. As such, we will reassign -9999 values to NA so R won't try to render these pixels." width="672" />
<p class="caption">
(#fig:set-values-NA)Plot of reflectance values for band 9 data with values equal to -9999 set to NA. Image data in raster format will often contain no data values, which may be attributed to the sensor not collecting data in that area of the image or to processing results which yield null values. Reflectance datasets designate -9999 as data ignore values. As such, we will reassign -9999 values to NA so R won’t try to render these pixels.
</p>
</div>
</div>
<div id="reflectance-values-and-image-stretch" class="section level3 hasAnchor" number="6.5.6">
<h3 class="hasAnchor"><span class="header-section-number">6.5.6</span> Reflectance Values and Image Stretch<a href="#reflectance-values-and-image-stretch" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our image still looks dark because R is trying to render all reflectance values
between 0 and 14999 as if they were distributed equally in the histogram. However
we know they are not distributed equally. There are many more values between
0-5000 then there are values &gt;5000.</p>
<p>Images have a distribution of reflectance values. A typical image viewing program
will render the values by distributing the entire range of reflectance values<br />
across a range of “shades” that the monitor can render - between 0 and 255.
However, often the distribution of reflectance values is not linear. For example,
in the case of our data, most of the reflectance values fall between 0 and 0.5.
Yet there are a few values &gt;0.8 that are heavily impacting the way the image is
drawn on our monitor. Imaging processing programs like ENVI, QGIS and ArcGIS (and
even Adobe Photoshop) allow you to adjust the stretch of the image. This is similar
to adjusting the contrast and brightness in Photoshop.</p>
<p>The proper way to adjust our data would be
what’s called an <code>image stretch</code>. We will learn how to stretch our image data,
later. For now, let’s plot the values as the log function on the pixel
reflectance values to factor out those larger values.</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="#cb485-1" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(<span class="fu">log</span>(b9))</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/plot-log-1.png" alt="Plot of log transformed reflectance values for the previous b9 image. Applying the log to the image increases the contrast making it look more like an image by factoring out those larger values. While an improvement, the image is still far from great. The proper way to adjust an image is by doing whats called an image stretch." width="672" />
<p class="caption">
(#fig:plot-log)Plot of log transformed reflectance values for the previous b9 image. Applying the log to the image increases the contrast making it look more like an image by factoring out those larger values. While an improvement, the image is still far from great. The proper way to adjust an image is by doing whats called an image stretch.
</p>
</div>
<p>The log applied to our image increases the contrast making it look more like an
image. However, look at the images below. The top one is what our log adjusted
image looks like when plotted. The bottom on is an RGB version of the same image.
Notice a difference?</p>
<img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/RGBImage_2.png"
    alt="RGB image of the SJER field site. At the top right of the image, there is dark, brakish water. Scattered throughout the image, there are several trees. At the center of the image, there is a baseball field, with low grass. At the bottom left of the image, there is a parking lot and some buildings with highly reflective surfaces, and adjacent to it is a section of a gravel lot.">
</a>
<a href="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/SJER_Flipped.png">
<img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/hyperspectral-general/SJER_Flipped.png"
    alt="Plot of log transformed reflectance values for the b9 image previously plotted. Applying the log to the image increases the contrast making it look more like an image by factoring out those larger values. While an improvement, the image is still far from great. The proper way to adjust an image is by doing whats called an image stretch. The log transformed image appears flipped because when R reads in the dataset, it reads them as: Columns x Bands x Rows, as opposed to the RGB image on the left which has dimensions as Bands x Rows x Columns.">
</a>
<figcaption>
TOP: The image as it should look. BOTTOM: the image that we outputted from the code above. Notice a difference?
</figcaption>
</div>
<div id="transpose-image" class="section level3 hasAnchor" number="6.5.7">
<h3 class="hasAnchor"><span class="header-section-number">6.5.7</span> Transpose Image<a href="#transpose-image" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Notice that there are three data dimensions for this file: Bands x Rows x
Columns. However, when R reads in the dataset, it reads them as: Columns x
Bands x Rows. The data are flipped. We can quickly transpose the data to correct
for this using the <code>t</code> or <code>transpose</code> command in R.</p>
<p>The orientation is rotated in our log adjusted image. This is because R reads
in matrices starting from the upper left hand corner. Whereas, most rasters
read pixels starting from the lower left hand corner. In the next section, we
will deal with this issue by creating a proper georeferenced (spatially located)
raster in R. The raster format will read in pixels following the same methods
as other GIS and imaging processing software like QGIS and ENVI do.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We need to transpose x and y values in order for our </span></span>
<span id="cb486-2"><a href="#cb486-2" aria-hidden="true" tabindex="-1"></a><span class="co"># final image to plot properly</span></span>
<span id="cb486-3"><a href="#cb486-3" aria-hidden="true" tabindex="-1"></a>b9 <span class="ot">&lt;-</span> <span class="fu">t</span>(b9)</span>
<span id="cb486-4"><a href="#cb486-4" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(<span class="fu">log</span>(b9), <span class="at">main=</span><span class="st">&quot;Transposed Image&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/transpose-data-1.png" alt="Plot showing the transposed image of the log transformed reflectance values of b9. The orientation of the image is rotated in our log transformed image, because R reads in the matrices starting from the upper left hand corner." width="672" />
<p class="caption">
(#fig:transpose-data)Plot showing the transposed image of the log transformed reflectance values of b9. The orientation of the image is rotated in our log transformed image, because R reads in the matrices starting from the upper left hand corner.
</p>
</div>
</div>
</div>
<div id="create-a-georeferenced-raster" class="section level2 hasAnchor" number="6.6">
<h2 class="hasAnchor"><span class="header-section-number">6.6</span> Create a Georeferenced Raster<a href="#create-a-georeferenced-raster" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next, we will create a proper raster using the <code>b9</code> matrix. The raster
format will allow us to define and manage:</p>
<ul>
<li>Image stretch</li>
<li>Coordinate reference system &amp; spatial reference</li>
<li>Resolution</li>
<li>and other raster attributes…</li>
</ul>
<p>It will also account for the orientation issue discussed above.</p>
<p>To create a raster in R, we need a few pieces of information, including:</p>
<ul>
<li>The coordinate reference system (CRS)</li>
<li>The spatial extent of the image</li>
</ul>
<div id="define-raster-crs" class="section level3 hasAnchor" number="6.6.1">
<h3 class="hasAnchor"><span class="header-section-number">6.6.1</span> Define Raster CRS<a href="#define-raster-crs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we need to define the Coordinate reference system (CRS) of the raster.
To do that, we can first grab the EPSG code from the HDF5 attributes, and covert the
EPSG to a CRS string. Then we can assign that CRS to the raster object.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="#cb487-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the EPSG from the h5 dataset</span></span>
<span id="cb487-2"><a href="#cb487-2" aria-hidden="true" tabindex="-1"></a>myEPSG <span class="ot">&lt;-</span> <span class="fu">h5read</span>(f, <span class="st">&quot;/SJER/Reflectance/Metadata/Coordinate_System/EPSG Code&quot;</span>)</span>
<span id="cb487-3"><a href="#cb487-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-4"><a href="#cb487-4" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the EPSG code to a CRS string</span></span>
<span id="cb487-5"><a href="#cb487-5" aria-hidden="true" tabindex="-1"></a>myCRS <span class="ot">&lt;-</span> <span class="fu">crs</span>(<span class="fu">paste0</span>(<span class="st">&quot;+init=epsg:&quot;</span>,myEPSG))</span>
<span id="cb487-6"><a href="#cb487-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-7"><a href="#cb487-7" aria-hidden="true" tabindex="-1"></a><span class="co"># define final raster with projection info </span></span>
<span id="cb487-8"><a href="#cb487-8" aria-hidden="true" tabindex="-1"></a><span class="co"># note that capitalization will throw errors on a MAC.</span></span>
<span id="cb487-9"><a href="#cb487-9" aria-hidden="true" tabindex="-1"></a><span class="co"># if UTM is all caps it might cause an error!</span></span>
<span id="cb487-10"><a href="#cb487-10" aria-hidden="true" tabindex="-1"></a>b9r <span class="ot">&lt;-</span> <span class="fu">raster</span>(b9, </span>
<span id="cb487-11"><a href="#cb487-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">crs=</span>myCRS)</span>
<span id="cb487-12"><a href="#cb487-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-13"><a href="#cb487-13" aria-hidden="true" tabindex="-1"></a><span class="co"># view the raster attributes</span></span>
<span id="cb487-14"><a href="#cb487-14" aria-hidden="true" tabindex="-1"></a>b9r</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 500, 500, 250000  (nrow, ncol, ncell)
## resolution : 0.002, 0.002  (x, y)
## extent     : 0, 1, 0, 1  (xmin, xmax, ymin, ymax)
## crs        : +proj=utm +zone=11 +datum=WGS84 +units=m +no_defs 
## source     : memory
## names      : layer 
## values     : 0, 9210  (min, max)</code></pre>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let&#39;s have a look at our properly oriented raster. Take note of the </span></span>
<span id="cb489-2"><a href="#cb489-2" aria-hidden="true" tabindex="-1"></a><span class="co"># coordinates on the x and y axis.</span></span>
<span id="cb489-3"><a href="#cb489-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-4"><a href="#cb489-4" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(<span class="fu">log</span>(b9r), </span>
<span id="cb489-5"><a href="#cb489-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;UTM Easting&quot;</span>, </span>
<span id="cb489-6"><a href="#cb489-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;UTM Northing&quot;</span>,</span>
<span id="cb489-7"><a href="#cb489-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">&quot;Properly Oriented Raster&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/define-CRS-1.png" alt="Plot of the properly oriented raster image of the band 9 data. In order to orient the image correctly, the coordinate reference system was defined and assigned to the raster object. X-axis represents the UTM Easting values, and the Y-axis represents the Northing values." width="672" />
<p class="caption">
(#fig:define-CRS)Plot of the properly oriented raster image of the band 9 data. In order to orient the image correctly, the coordinate reference system was defined and assigned to the raster object. X-axis represents the UTM Easting values, and the Y-axis represents the Northing values.
</p>
</div>
<p>Next we define the extents of our raster. The extents will be used to calculate
the raster’s resolution. Fortunately, the spatial extent is provided in the
HDF5 file “Reflectance_Data” group attributes that we saved before as <code>reflInfo</code>.</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="#cb490-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grab the UTM coordinates of the spatial extent</span></span>
<span id="cb490-2"><a href="#cb490-2" aria-hidden="true" tabindex="-1"></a>xMin <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Spatial_Extent_meters[<span class="dv">1</span>]</span>
<span id="cb490-3"><a href="#cb490-3" aria-hidden="true" tabindex="-1"></a>xMax <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Spatial_Extent_meters[<span class="dv">2</span>]</span>
<span id="cb490-4"><a href="#cb490-4" aria-hidden="true" tabindex="-1"></a>yMin <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Spatial_Extent_meters[<span class="dv">3</span>]</span>
<span id="cb490-5"><a href="#cb490-5" aria-hidden="true" tabindex="-1"></a>yMax <span class="ot">&lt;-</span> reflInfo<span class="sc">$</span>Spatial_Extent_meters[<span class="dv">4</span>]</span>
<span id="cb490-6"><a href="#cb490-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb490-7"><a href="#cb490-7" aria-hidden="true" tabindex="-1"></a><span class="co"># define the extent (left, right, top, bottom)</span></span>
<span id="cb490-8"><a href="#cb490-8" aria-hidden="true" tabindex="-1"></a>rasExt <span class="ot">&lt;-</span> <span class="fu">extent</span>(xMin,xMax,yMin,yMax)</span>
<span id="cb490-9"><a href="#cb490-9" aria-hidden="true" tabindex="-1"></a>rasExt</span></code></pre></div>
<pre><code>## class      : Extent 
## xmin       : 257500 
## xmax       : 258000 
## ymin       : 4112500 
## ymax       : 4113000</code></pre>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="#cb492-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign the spatial extent to the raster</span></span>
<span id="cb492-2"><a href="#cb492-2" aria-hidden="true" tabindex="-1"></a><span class="fu">extent</span>(b9r) <span class="ot">&lt;-</span> rasExt</span>
<span id="cb492-3"><a href="#cb492-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb492-4"><a href="#cb492-4" aria-hidden="true" tabindex="-1"></a><span class="co"># look at raster attributes</span></span>
<span id="cb492-5"><a href="#cb492-5" aria-hidden="true" tabindex="-1"></a>b9r</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 500, 500, 250000  (nrow, ncol, ncell)
## resolution : 1, 1  (x, y)
## extent     : 257500, 258000, 4112500, 4113000  (xmin, xmax, ymin, ymax)
## crs        : +proj=utm +zone=11 +datum=WGS84 +units=m +no_defs 
## source     : memory
## names      : layer 
## values     : 0, 9210  (min, max)</code></pre>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/raster-general/sat_image_lat_lon.png" /></p>
<blockquote>
<p>The extent of a raster represents the spatial location of each
corner. The coordinate units will be determined by the spatial projection/
coordinate reference system that the data are in. Source: National Ecological
Observatory Network (NEON)</p>
</blockquote>
<p><a href="https://www.neonscience.org/raster-data-series" target="_blank"> Learn more about raster attributes including extent, and coordinate reference systems here.</a></p>
<p>We can adjust the colors of our raster too if we want.</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let&#39;s change the colors of our raster and adjust the zlims </span></span>
<span id="cb494-2"><a href="#cb494-2" aria-hidden="true" tabindex="-1"></a>col <span class="ot">&lt;-</span> <span class="fu">terrain.colors</span>(<span class="dv">25</span>)</span>
<span id="cb494-3"><a href="#cb494-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb494-4"><a href="#cb494-4" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(b9r,  </span>
<span id="cb494-5"><a href="#cb494-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;UTM Easting&quot;</span>, </span>
<span id="cb494-6"><a href="#cb494-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;UTM Northing&quot;</span>,</span>
<span id="cb494-7"><a href="#cb494-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">main=</span> <span class="st">&quot;Raster w Custom Colors&quot;</span>,</span>
<span id="cb494-8"><a href="#cb494-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">col=</span>col, </span>
<span id="cb494-9"><a href="#cb494-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">zlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3000</span>))</span></code></pre></div>
<div class="figure">
<img src="06-NEON_AOP_files/figure-html/plot-colors-raster-1.png" alt="Plot of the properly oriented raster image of B9 with custom colors. We can adjust the colors of the image by adjusting the z limits, which in this case makes the highly reflective surfaces more vibrant. This color adjustment is more apparent in the bottom left of the image, where the parking lot, buildings and bare surfaces are located. X-axis represents the UTM Easting values, and the Y-axis represents the Northing values." width="672" />
<p class="caption">
(#fig:plot-colors-raster)Plot of the properly oriented raster image of B9 with custom colors. We can adjust the colors of the image by adjusting the z limits, which in this case makes the highly reflective surfaces more vibrant. This color adjustment is more apparent in the bottom left of the image, where the parking lot, buildings and bare surfaces are located. X-axis represents the UTM Easting values, and the Y-axis represents the Northing values.
</p>
</div>
<p>We’ve now created a raster from band 9 reflectance data. We can export the data
as a raster, using the <code>writeRaster</code> command.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="#cb495-1" aria-hidden="true" tabindex="-1"></a><span class="co"># write out the raster as a geotiff</span></span>
<span id="cb495-2"><a href="#cb495-2" aria-hidden="true" tabindex="-1"></a><span class="fu">writeRaster</span>(b9r,</span>
<span id="cb495-3"><a href="#cb495-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">file=</span><span class="fu">paste0</span>(wd,<span class="st">&quot;band9.tif&quot;</span>),</span>
<span id="cb495-4"><a href="#cb495-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">format=</span><span class="st">&quot;GTiff&quot;</span>,</span>
<span id="cb495-5"><a href="#cb495-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb495-6"><a href="#cb495-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb495-7"><a href="#cb495-7" aria-hidden="true" tabindex="-1"></a><span class="co"># It&#39;s always good practice to close the H5 connection before moving on!</span></span>
<span id="cb495-8"><a href="#cb495-8" aria-hidden="true" tabindex="-1"></a><span class="co"># close the H5 file</span></span>
<span id="cb495-9"><a href="#cb495-9" aria-hidden="true" tabindex="-1"></a><span class="fu">H5close</span>()</span></code></pre></div>
</div>
<div id="challenge-work-with-rasters" class="section level3 hasAnchor" number="6.6.2">
<h3 class="hasAnchor"><span class="header-section-number">6.6.2</span> Challenge: Work with Rasters<a href="#challenge-work-with-rasters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Try these three extensions on your own:</p>
<ol style="list-style-type: decimal">
<li><p>Create rasters using other bands in the dataset.</p></li>
<li><p>Vary the distribution of values in the image to mimic an image stretch.
e.g. <code>b9[b9 &gt; 6000 ] &lt;- 6000</code></p></li>
<li><p>Use what you know to extract ALL of the reflectance values for
ONE pixel rather than for an entire band. HINT: this will require you to pick
an x and y value and then all values in the z dimension:
<code>aPixel&lt;- h5read(f,"Reflectance",index=list(NULL,100,35))</code>. Plot the spectra
output.</p></li>
</ol>
</div>
</div>
</div>
<hr />
</div>
<div id="light-detection-and-ranging-lidar-data" class="section level2 hasAnchor" number="6.7">
<h2 class="hasAnchor"><span class="header-section-number">6.7</span> Light Detection And Ranging (LiDAR) Data<a href="#light-detection-and-ranging-lidar-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>A 6:02 introduction video on LiDAR:</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/EYbhNSUnIdU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><strong>A ~17 minute video lecture by Dr. Tristan Goulden on discrete LiDAR and LiDAT data:</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/PRE5KV2_w3Q" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><strong>A ~35 minute video on LiDAR Uncertainty:</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Cy2pAuv-eUY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="calculating-forest-structural-diversity-metrics-from-neon-lidar-data" class="section level2 hasAnchor" number="6.8">
<h2 class="hasAnchor"><span class="header-section-number">6.8</span> Calculating Forest Structural Diversity Metrics from NEON LiDAR Data<a href="#calculating-forest-structural-diversity-metrics-from-neon-lidar-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Contributors: Jeff Atkins, Keith Krause, Atticus Stovall
Authors: Elizabeth LaRue, Donal O’Leary</p>
</blockquote>
<div id="learning-objectives-4" class="section level3 hasAnchor" number="6.8.1">
<h3 class="hasAnchor"><span class="header-section-number">6.8.1</span> Learning Objectives<a href="#learning-objectives-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After completing this tutorial, you will be able to:</p>
<ul>
<li>Read a NEON LiDAR file (laz) into R</li>
<li>Visualize a spatial subset of the LiDAR tile</li>
<li>Correct a spatial subset of the LiDAR tile for topographic varation</li>
<li>Calculate 13 structural diversity metrics described in <a href="https://doi.org/10.3390/rs12091407" target="_blank">LaRue, Wagner, et al. (2020) </a></li>
</ul>
</div>
<div id="r-libraries-to-install-1" class="section level3 hasAnchor" number="6.8.2">
<h3 class="hasAnchor"><span class="header-section-number">6.8.2</span> R Libraries to Install:<a href="#r-libraries-to-install-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>lidR</strong>: <code>install.packages('lidR')</code></li>
<li><strong>gstat</strong>: <code>install.packages('gstat')</code></li>
</ul>
<p><strong>Important Note:</strong>
If you have R version 3.6 or above you’ll need to update <code>data.table</code>:</p>
<pre><code>data.table::update.dev.pkg()</code></pre>
</div>
<div id="data-to-download-1" class="section level3 hasAnchor" number="6.8.3">
<h3 class="hasAnchor"><span class="header-section-number">6.8.3</span> Data to Download<a href="#data-to-download-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For this tutorial, we will be using two .laz files containing NEON
AOP point clouds for 1km tiles from the <a href="https://www.neonscience.org/field-sites/field-sites-map/HARV" target="_blank">Harvard Forest (HARV)</a> and
<a href="https://www.neonscience.org/field-sites/field-sites-map/TEAK" target="_blank">Lower Teakettle (TEAK)</a> sites.</p>
<p><a href="https://drive.google.com/open?id=1Aemh0IVKvC-LoMj2AXr9k8rDQk77l8k7" target="_blank"> <strong>Link to download .laz files on Google Drive Here.</strong></a></p>
</div>
<div id="recommended-skills" class="section level3 hasAnchor" number="6.8.4">
<h3 class="hasAnchor"><span class="header-section-number">6.8.4</span> Recommended Skills<a href="#recommended-skills" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For this tutorial, you should have an understanding of Light Detection
And Ranging (LiDAR) technology, specifically how discrete return lidar
data are collected and represented in las/laz files. For more information
on how lidar works, please see NEON’s
<a href="https://www.neonscience.org/intro-lidar-r-series" target="_blank"> Introduction to Lidar Tutorial Series.</a></p>
</div>
<div id="additional-resources-2" class="section level3 hasAnchor" number="6.8.5">
<h3 class="hasAnchor"><span class="header-section-number">6.8.5</span> Additional Resources<a href="#additional-resources-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Jean-Romain Roussel, Tristan R.H. Goodbody, Piotr Tompalski have written a fantastic <code>gitbook</code> on their <code>lidR</code> package <a href="https://jean-romain.github.io/lidRbook/index.html"><strong>which can be found here.</strong></a></p>
<p><img src="images/lidR_logo.png" width="226" /></p>
<p>If loading some of the packages needed for this tutorial results in non-stop errors, I strongly suggest you run this section using a Docker container,<em>(e.g. Rocker Project’s Geospatial image)</em>, or one from CyVerse: <a href="https://hub.docker.com/r/cyversevice/rstudio-geospatial" class="uri">https://hub.docker.com/r/cyversevice/rstudio-geospatial</a></p>
<p><img src="images/cyverse_logo.png" width="1042" /></p>
</div>
</div>
<div id="introduction-to-structural-diversity-metrics" class="section level2 hasAnchor" number="6.9">
<h2 class="hasAnchor"><span class="header-section-number">6.9</span> Introduction to Structural Diversity Metrics<a href="#introduction-to-structural-diversity-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Forest structure influences many important ecological processes, including:</p>
<ul>
<li>biogeochemical cycling,</li>
<li>wildfires,</li>
<li>species richness and diversity,</li>
<li>and many others.</li>
</ul>
<p>Quantifying forest structure, hereafter referred to as “<em>structural
diversity</em>,” presents a challenge for many reasons, including difficulty in
measuring individual trees, limbs, and leaves across large areas. In order
to overcome this challenge, today’s researchers use Light Detection And
Ranging (LiDAR) technology to measure large areas of forest. It is also
challenging to calculate meaningful summary metrics of a forest’s structure
that 1) are ecologically relevant and 2) can be used to compare different
forested locations. In this tutorial, you will be introduced to a few tools
that will help you to explore and quantify forest structure using LiDAR data
collected at two field sites of the
<a href="https://www.neonscience.org/" target="_blank">
National Ecological Observatory Network</a>.</p>
</div>
<div id="neon-aop-discrete-return-lidar" class="section level2 hasAnchor" number="6.10">
<h2 class="hasAnchor"><span class="header-section-number">6.10</span> NEON AOP Discrete Return LIDAR<a href="#neon-aop-discrete-return-lidar" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://www.neonscience.org/data-collection/airborne-remote-sensing" target="_blank"> The NEON Airborne Observation Platform (AOP) </a>.
has several sensors including discrete-return LiDAR, which is useful for measuring forest structural diversity that can be summarized into four categories of metrics: (1) canopy height, (2) canopy cover and openness, and (3) canopy heterogeneity (internal and external), and (4) vegetation area.</p>
<p>We will be comparing the structural diversity of two NEON sites that vary in their structural characteristics.</p>
<p>First, we will look at <a href="https://www.neonscience.org/field-sites/field-sites-map/HARV" target="_blank">Harvard Forest (HARV)</a>, which is located in Massachusetts. It is a lower elevation, mixed deciduous and evergreen forest dominated by Quercus rubra, Acer rubrum, and Aralia nudicaulis.</p>
<p>Second, we will look at <a href="https://www.neonscience.org/field-sites/field-sites-map/TEAK" target="_blank">Lower Teakettle (TEAK)</a>, which is a high elevation forested NEON site in California. TEAK is an evergreen forest dominated by Abies magnifica, Abies concolor, Pinus jeffreyi, and Pinus contorta.</p>
<p>As you can imagine, these two forest types will have both similarities and differences in their structural attributes. We can quantify these attributes by calculating several different structural diversity metrics, and comparing
the results.</p>
<div id="loading-the-lidar-products" class="section level3 hasAnchor" number="6.10.1">
<h3 class="hasAnchor"><span class="header-section-number">6.10.1</span> Loading the LIDAR Products<a href="#loading-the-lidar-products" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To begin, we first need to load our required R packages, and set our working
directory to the location where we saved the input LiDAR .laz files that can be
downloaded from the NEON Data Portal.</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="#cb497-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lidR)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lidR&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:raster&#39;:
## 
##     projection, projection&lt;-</code></pre>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="#cb500-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gstat)</span>
<span id="cb500-2"><a href="#cb500-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:raster&#39;:
## 
##     shift</code></pre>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="#cb503-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code></pre></div>
<p>Next, we will read in the LiDAR data using the <code>lidR::readLAS()</code> function.
Note that this function can read in both <code>.las</code> and <code>.laz</code> file formats.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="#cb504-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in LiDAR data </span></span>
<span id="cb504-2"><a href="#cb504-2" aria-hidden="true" tabindex="-1"></a><span class="co">#2017 1 km2 tile .laz file type for HARV and TEAK</span></span>
<span id="cb504-3"><a href="#cb504-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb504-4"><a href="#cb504-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Watch out for outlier Z points - this function also allows for the</span></span>
<span id="cb504-5"><a href="#cb504-5" aria-hidden="true" tabindex="-1"></a><span class="co">#ability to filter outlier points well above or below the landscape</span></span>
<span id="cb504-6"><a href="#cb504-6" aria-hidden="true" tabindex="-1"></a><span class="co">#(-drop_z_blow and -drop_z_above). See how we have done this here </span></span>
<span id="cb504-7"><a href="#cb504-7" aria-hidden="true" tabindex="-1"></a><span class="co">#for you.</span></span>
<span id="cb504-8"><a href="#cb504-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb504-9"><a href="#cb504-9" aria-hidden="true" tabindex="-1"></a>HARV <span class="ot">&lt;-</span> lidR<span class="sc">::</span><span class="fu">readLAS</span>(<span class="st">&#39;/Users/rohan/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data/data/NEON_D01_HARV_DP1_727000_4702000_classified_point_cloud_colorized.laz&#39;</span>,<span class="at">filter =</span> <span class="st">&quot;-drop_z_below 150 -drop_z_above 325&quot;</span>)</span>
<span id="cb504-10"><a href="#cb504-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb504-11"><a href="#cb504-11" aria-hidden="true" tabindex="-1"></a>TEAK <span class="ot">&lt;-</span> lidR<span class="sc">::</span><span class="fu">readLAS</span>(<span class="st">&#39;/Users/rohan/Environmental-Informatics-Using-Research-Infrastructures-and-their-Data/data/NEON_D17_TEAK_DP1_316000_4091000_classified_point_cloud_colorized.laz&#39;</span>,<span class="at">filter =</span> <span class="st">&quot;-drop_z_below 1694 -drop_z_above 2500&quot;</span>)</span></code></pre></div>
<p>Let’s check out:</p>
<ol style="list-style-type: decimal">
<li>the extent,</li>
<li>coordinate system,</li>
<li>and a 3D plot of each .laz file.</li>
</ol>
<p><em>Note that on Mac computers you may need to install
XQuartz for 3D plots - see xquartz.org</em></p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="#cb505-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(HARV)</span>
<span id="cb505-2"><a href="#cb505-2" aria-hidden="true" tabindex="-1"></a>lidR<span class="sc">::</span><span class="fu">plot</span>(HARV)</span></code></pre></div>
<pre><code>class        : LAS (v1.3 format 3)
memory       : 521.6 Mb 
extent       : 727000, 728000, 4702000, 4703000 (xmin, xmax, ymin, ymax)
coord. ref.  : +proj=utm +zone=18 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0 
area         : 1 km²
points       : 5.94 million points
density      : 5.94 points/m²
File signature:           LASF� 
File source ID:           211 
Global encoding:
 - GPS Time Type: GPS Week Time 
 - Synthetic Return Numbers: no 
 - Well Know Text: CRS is GeoTIFF 
 - Aggregate Model: false 
Project ID - GUID:        00000000-0000-0000-0000-000000000000 
Version:                  1.3
System identifier:        LAStools (c) by rapidlasso GmbH 
Generating software:      lascolor (190812) commercial 
File creation d/y:        278/2019
header size:              235 
Offset to point data:     329 
Num. var. length record:  1 
Point data format:        3 
Point data record length: 34 
Num. of point records:    5944282 
Num. of points by return: 4581566 1255117 104991 2608 0 
Scale factor X Y Z:       0.01 0.01 0.01 
Offset X Y Z:             7e+05 4700000 0 
min X Y Z:                727000 4702000 223.2 
max X Y Z:                728000 4703000 324.99 
Variable length records: 
   Variable length record 1 of 1 
       Description:  
       Tags:
          Key 1024 value 1 
          Key 1025 value 2 
          Key 3072 value 32618 
          Key 4099 value 9001 </code></pre>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/lidar-point-clouds/HARV1km2.JPG" /></p>
<blockquote>
<p>1 km-squared point cloud from Harvard Forest showing a gentle slope covered in a continuous canopy of mixed forest.</p>
</blockquote>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="#cb507-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(TEAK)</span>
<span id="cb507-2"><a href="#cb507-2" aria-hidden="true" tabindex="-1"></a>lidR<span class="sc">::</span><span class="fu">plot</span>(TEAK)</span></code></pre></div>
<pre><code>class        : LAS (v1.3 format 3)
memory       : 439.2 Mb 
extent       : 316000, 317000, 4091231, 4092000 (xmin, xmax, ymin, ymax)
coord. ref.  : +proj=utm +zone=11 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0 
area         : 0.75 km²
points       : 5.01 million points
density      : 6.7 points/m²
File signature:           LASF� 
File source ID:           211 
Global encoding:
 - GPS Time Type: GPS Week Time 
 - Synthetic Return Numbers: no 
 - Well Know Text: CRS is GeoTIFF 
 - Aggregate Model: false 
Project ID - GUID:        00000000-0000-0000-0000-000000000000 
Version:                  1.3
System identifier:        LAStools (c) by rapidlasso GmbH 
Generating software:      lascolor (190812) commercial 
File creation d/y:        206/2019
header size:              235 
Offset to point data:     329 
Num. var. length record:  1 
Point data format:        3 
Point data record length: 34 
Num. of point records:    5006002 
Num. of points by return: 3315380 1182992 416154 91476 0 
Scale factor X Y Z:       0.01 0.01 0.01 
Offset X Y Z:             3e+05 4e+06 0 
min X Y Z:                316000 4091231 2117.03 
max X Y Z:                317000 4092000 2376.98 
Variable length records: 
   Variable length record 1 of 1 
       Description:  
       Tags:
          Key 1024 value 1 
          Key 1025 value 2 
          Key 3072 value 32611 
          Key 4099 value 9001</code></pre>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/lidar-point-clouds/TEAK1km2.JPG" /></p>
<blockquote>
<p>1 km-squared point cloud from Lower Teakettle showing mountainous terrain covered in a patchy conifer forest, with tall, skinny conifers clearly visible emerging from the discontinuous canopy.</p>
</blockquote>
</div>
<div id="normalizing-tree-height-to-ground" class="section level3 hasAnchor" number="6.10.2">
<h3 class="hasAnchor"><span class="header-section-number">6.10.2</span> Normalizing Tree Height to Ground<a href="#normalizing-tree-height-to-ground" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To begin, we will take a look at the structural diversity of the dense mixed deciduous/evergreen
forest of HARV. We’re going to choose a 40 x 40 m spatial extent for our analysis, but first we
need to normalize the height values of this LiDAR point cloud from an absolute elevation
above mean sea level to height above the ground using the <code>lidR::normalize_height()</code> function.</p>
<p>This function relies on spatial interpolation, and therefore we want to perform this step on an area
that is quite a bit larger than our area of interest to avoid edge effects.</p>
<p>To be safe, we will clip out an area of 200 x 200 m, normalize it, and then clip out our smaller area of interest.</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="#cb509-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct for elevation </span></span>
<span id="cb509-2"><a href="#cb509-2" aria-hidden="true" tabindex="-1"></a><span class="co">#We&#39;re going to choose a 40 x 40 m spatial extent, which is the</span></span>
<span id="cb509-3"><a href="#cb509-3" aria-hidden="true" tabindex="-1"></a><span class="co">#extent for NEON base plots. </span></span>
<span id="cb509-4"><a href="#cb509-4" aria-hidden="true" tabindex="-1"></a><span class="co">#First set the center of where you want the plot to be (note easting </span></span>
<span id="cb509-5"><a href="#cb509-5" aria-hidden="true" tabindex="-1"></a><span class="co">#and northing works in units of m because these data are in a UTM </span></span>
<span id="cb509-6"><a href="#cb509-6" aria-hidden="true" tabindex="-1"></a><span class="co">#proejction as shown in the summary above).</span></span>
<span id="cb509-7"><a href="#cb509-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">727500</span> <span class="co">#easting </span></span>
<span id="cb509-8"><a href="#cb509-8" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">4702500</span> <span class="co">#northing</span></span>
<span id="cb509-9"><a href="#cb509-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-10"><a href="#cb509-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Cut out a 200 x 200 m buffer by adding 100 m to easting and </span></span>
<span id="cb509-11"><a href="#cb509-11" aria-hidden="true" tabindex="-1"></a><span class="co">#northing coordinates (x,y).</span></span>
<span id="cb509-12"><a href="#cb509-12" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.200</span>m <span class="ot">&lt;-</span> </span>
<span id="cb509-13"><a href="#cb509-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clip_rectangle</span>(HARV,</span>
<span id="cb509-14"><a href="#cb509-14" aria-hidden="true" tabindex="-1"></a>                    <span class="at">xleft =</span> (x <span class="sc">-</span> <span class="dv">100</span>), <span class="at">ybottom =</span> (y <span class="sc">-</span> <span class="dv">100</span>),</span>
<span id="cb509-15"><a href="#cb509-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">xright =</span> (x <span class="sc">+</span> <span class="dv">100</span>), <span class="at">ytop =</span> (y <span class="sc">+</span> <span class="dv">100</span>))</span>
<span id="cb509-16"><a href="#cb509-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-17"><a href="#cb509-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Correct for ground height using a kriging function to interpolate </span></span>
<span id="cb509-18"><a href="#cb509-18" aria-hidden="true" tabindex="-1"></a><span class="co">#elevation from ground points in the .laz file.</span></span>
<span id="cb509-19"><a href="#cb509-19" aria-hidden="true" tabindex="-1"></a><span class="co">#If the function will not run, then you may need to checkfor outliers</span></span>
<span id="cb509-20"><a href="#cb509-20" aria-hidden="true" tabindex="-1"></a><span class="co">#by adjusting the &#39;drop_z_&#39; arguments when reading in the .laz files.</span></span>
<span id="cb509-21"><a href="#cb509-21" aria-hidden="true" tabindex="-1"></a>dtm <span class="ot">&lt;-</span> <span class="fu">grid_terrain</span>(data<span class="fl">.200</span>m, <span class="dv">1</span>, <span class="fu">kriging</span>(<span class="at">k =</span> 10L))</span>
<span id="cb509-22"><a href="#cb509-22" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.200</span>m <span class="ot">&lt;-</span> <span class="fu">normalize_height</span>(data<span class="fl">.200</span>m, dtm)</span>
<span id="cb509-23"><a href="#cb509-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-24"><a href="#cb509-24" aria-hidden="true" tabindex="-1"></a><span class="co">#Will often give a warning if not all points could be corrected, </span></span>
<span id="cb509-25"><a href="#cb509-25" aria-hidden="true" tabindex="-1"></a><span class="co">#but visually check to see if it corrected for ground height. </span></span>
<span id="cb509-26"><a href="#cb509-26" aria-hidden="true" tabindex="-1"></a>lidR<span class="sc">::</span><span class="fu">plot</span>(data<span class="fl">.200</span>m)</span>
<span id="cb509-27"><a href="#cb509-27" aria-hidden="true" tabindex="-1"></a><span class="co">#There&#39;s only a few uncorrected points and we&#39;ll fix these in </span></span>
<span id="cb509-28"><a href="#cb509-28" aria-hidden="true" tabindex="-1"></a><span class="co">#the next step. </span></span>
<span id="cb509-29"><a href="#cb509-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-30"><a href="#cb509-30" aria-hidden="true" tabindex="-1"></a><span class="co">#Clip 20 m out from each side of the easting and northing </span></span>
<span id="cb509-31"><a href="#cb509-31" aria-hidden="true" tabindex="-1"></a><span class="co">#coordinates (x,y).</span></span>
<span id="cb509-32"><a href="#cb509-32" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.40</span>m <span class="ot">&lt;-</span> </span>
<span id="cb509-33"><a href="#cb509-33" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clip_rectangle</span>(data<span class="fl">.200</span>m, </span>
<span id="cb509-34"><a href="#cb509-34" aria-hidden="true" tabindex="-1"></a>                    <span class="at">xleft =</span> (x <span class="sc">-</span> <span class="dv">20</span>), <span class="at">ybottom =</span> (y <span class="sc">-</span> <span class="dv">20</span>),</span>
<span id="cb509-35"><a href="#cb509-35" aria-hidden="true" tabindex="-1"></a>                    <span class="at">xright =</span> (x <span class="sc">+</span> <span class="dv">20</span>), <span class="at">ytop =</span> (y <span class="sc">+</span> <span class="dv">20</span>))</span>
<span id="cb509-36"><a href="#cb509-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-37"><a href="#cb509-37" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.40</span>m<span class="sc">@</span>data<span class="sc">$</span>Z[data<span class="fl">.40</span>m<span class="sc">@</span>data<span class="sc">$</span>Z <span class="sc">&lt;=</span> .<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span>  </span>
<span id="cb509-38"><a href="#cb509-38" aria-hidden="true" tabindex="-1"></a><span class="co">#This line filters out all z_vals below .5 m as we are less </span></span>
<span id="cb509-39"><a href="#cb509-39" aria-hidden="true" tabindex="-1"></a><span class="co">#interested in shrubs/trees. </span></span>
<span id="cb509-40"><a href="#cb509-40" aria-hidden="true" tabindex="-1"></a><span class="co">#You could change it to zero or another height depending on interests. </span></span>
<span id="cb509-41"><a href="#cb509-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-42"><a href="#cb509-42" aria-hidden="true" tabindex="-1"></a><span class="co">#visualize the clipped plot point cloud</span></span>
<span id="cb509-43"><a href="#cb509-43" aria-hidden="true" tabindex="-1"></a>lidR<span class="sc">::</span><span class="fu">plot</span>(data<span class="fl">.40</span>m) </span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/lidar-point-clouds/HARV40mx40m.JPG" /></p>
<blockquote>
<p>40 meter by 40 meter point cloud from Harvard Forest showing a cross-section of the forest structure with a complex canopy- and sub-canopy structure with many rounded crowns, characteristic of a deciduous-dominated section of forest.</p>
</blockquote>
</div>
</div>
<div id="calculating-structural-diversity-metrics" class="section level2 hasAnchor" number="6.11">
<h2 class="hasAnchor"><span class="header-section-number">6.11</span> Calculating Structural Diversity Metrics<a href="#calculating-structural-diversity-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we have our area of interest normalized and clipped, we can proceed with calculating
our structural diversity metrics.</p>
<div id="generate-canopy-height-model-chm" class="section level3 hasAnchor" number="6.11.1">
<h3 class="hasAnchor"><span class="header-section-number">6.11.1</span> GENERATE CANOPY HEIGHT MODEL (CHM)<a href="#generate-canopy-height-model-chm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>(i.e. a 1 m2 raster grid of vegetations heights)</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb510-1"><a href="#cb510-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Structural diversity metrics</span></span>
<span id="cb510-2"><a href="#cb510-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb510-3"><a href="#cb510-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb510-4"><a href="#cb510-4" aria-hidden="true" tabindex="-1"></a><span class="co">#res argument specifies pixel size in meters and dsmtin is </span></span>
<span id="cb510-5"><a href="#cb510-5" aria-hidden="true" tabindex="-1"></a><span class="co">#for raster interpolation</span></span>
<span id="cb510-6"><a href="#cb510-6" aria-hidden="true" tabindex="-1"></a>chm <span class="ot">&lt;-</span> <span class="fu">grid_canopy</span>(data<span class="fl">.40</span>m, <span class="at">res =</span> <span class="dv">1</span>, <span class="fu">dsmtin</span>())  </span>
<span id="cb510-7"><a href="#cb510-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb510-8"><a href="#cb510-8" aria-hidden="true" tabindex="-1"></a><span class="co">#visualize CHM</span></span>
<span id="cb510-9"><a href="#cb510-9" aria-hidden="true" tabindex="-1"></a>lidR<span class="sc">::</span><span class="fu">plot</span>(chm) </span></code></pre></div>
<div id="mean-outer-canopy-height-moch" class="section level4 hasAnchor" number="6.11.1.1">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.1</span> MEAN OUTER CANOPY HEIGHT (MOCH)<a href="#mean-outer-canopy-height-moch" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="#cb511-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate MOCH, the mean CHM height value</span></span>
<span id="cb511-2"><a href="#cb511-2" aria-hidden="true" tabindex="-1"></a>mean.max.canopy.ht <span class="ot">&lt;-</span> <span class="fu">mean</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
</div>
<div id="max-canopy-height" class="section level4 hasAnchor" number="6.11.1.2">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.2</span> MAX CANOPY HEIGHT<a href="#max-canopy-height" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb512"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb512-1"><a href="#cb512-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate HMAX, the maximum CHM height value</span></span>
<span id="cb512-2"><a href="#cb512-2" aria-hidden="true" tabindex="-1"></a>max.canopy.ht <span class="ot">&lt;-</span> <span class="fu">max</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values, <span class="at">na.rm=</span><span class="cn">TRUE</span>) </span></code></pre></div>
</div>
<div id="rumple" class="section level4 hasAnchor" number="6.11.1.3">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.3</span> RUMPLE<a href="#rumple" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="#cb513-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate rumple, a ratio of outer canopy surface area to </span></span>
<span id="cb513-2"><a href="#cb513-2" aria-hidden="true" tabindex="-1"></a><span class="co">#ground surface area (1600 m^2)</span></span>
<span id="cb513-3"><a href="#cb513-3" aria-hidden="true" tabindex="-1"></a>rumple <span class="ot">&lt;-</span> <span class="fu">rumple_index</span>(chm) </span></code></pre></div>
</div>
<div id="top-rugosity" class="section level4 hasAnchor" number="6.11.1.4">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.4</span> TOP RUGOSITY<a href="#top-rugosity" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb514-1"><a href="#cb514-1" aria-hidden="true" tabindex="-1"></a><span class="co">#top rugosity, the standard deviation of pixel values in chm and </span></span>
<span id="cb514-2"><a href="#cb514-2" aria-hidden="true" tabindex="-1"></a><span class="co">#is a measure of outer canopy roughness</span></span>
<span id="cb514-3"><a href="#cb514-3" aria-hidden="true" tabindex="-1"></a>top.rugosity <span class="ot">&lt;-</span> <span class="fu">sd</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
</div>
<div id="deep-gaps-deep-gap-fraction" class="section level4 hasAnchor" number="6.11.1.5">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.5</span> DEEP GAPS &amp; DEEP GAP FRACTION<a href="#deep-gaps-deep-gap-fraction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="#cb515-1" aria-hidden="true" tabindex="-1"></a><span class="co">#number of cells in raster (also area in m2)</span></span>
<span id="cb515-2"><a href="#cb515-2" aria-hidden="true" tabindex="-1"></a>cells <span class="ot">&lt;-</span> <span class="fu">length</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values) </span>
<span id="cb515-3"><a href="#cb515-3" aria-hidden="true" tabindex="-1"></a>chm<span class="fl">.0</span> <span class="ot">&lt;-</span> chm</span>
<span id="cb515-4"><a href="#cb515-4" aria-hidden="true" tabindex="-1"></a>chm<span class="fl">.0</span>[<span class="fu">is.na</span>(chm<span class="fl">.0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#replace NAs with zeros in CHM</span></span>
<span id="cb515-5"><a href="#cb515-5" aria-hidden="true" tabindex="-1"></a><span class="co">#create variable for the number of deep gaps, 1 m^2 canopy gaps</span></span>
<span id="cb515-6"><a href="#cb515-6" aria-hidden="true" tabindex="-1"></a>zeros <span class="ot">&lt;-</span> <span class="fu">which</span>(chm<span class="fl">.0</span><span class="sc">@</span>data<span class="sc">@</span>values <span class="sc">==</span> <span class="dv">0</span>) </span>
<span id="cb515-7"><a href="#cb515-7" aria-hidden="true" tabindex="-1"></a>deepgaps <span class="ot">&lt;-</span> <span class="fu">length</span>(zeros) <span class="co">#number of deep gaps</span></span>
<span id="cb515-8"><a href="#cb515-8" aria-hidden="true" tabindex="-1"></a><span class="co">#deep gap fraction, the number of deep gaps in the chm relative </span></span>
<span id="cb515-9"><a href="#cb515-9" aria-hidden="true" tabindex="-1"></a><span class="co">#to total number of chm pixels</span></span>
<span id="cb515-10"><a href="#cb515-10" aria-hidden="true" tabindex="-1"></a>deepgap.fraction <span class="ot">&lt;-</span> deepgaps<span class="sc">/</span>cells </span></code></pre></div>
</div>
<div id="cover-fraction" class="section level4 hasAnchor" number="6.11.1.6">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.6</span> COVER FRACTION<a href="#cover-fraction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb516"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb516-1"><a href="#cb516-1" aria-hidden="true" tabindex="-1"></a><span class="co">#cover fraction, the inverse of deep gap fraction</span></span>
<span id="cb516-2"><a href="#cb516-2" aria-hidden="true" tabindex="-1"></a>cover.fraction <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> deepgap.fraction </span></code></pre></div>
</div>
<div id="height-sd" class="section level4 hasAnchor" number="6.11.1.7">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.7</span> HEIGHT SD<a href="#height-sd" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The standard deviation of height values for all points in the plot point cloud</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="#cb517-1" aria-hidden="true" tabindex="-1"></a><span class="co">#height SD, the standard deviation of height values for all points</span></span>
<span id="cb517-2"><a href="#cb517-2" aria-hidden="true" tabindex="-1"></a><span class="co">#in the plot point cloud</span></span>
<span id="cb517-3"><a href="#cb517-3" aria-hidden="true" tabindex="-1"></a>vert.sd <span class="ot">&lt;-</span> <span class="fu">cloud_metrics</span>(data<span class="fl">.40</span>m, <span class="fu">sd</span>(Z, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb517-4"><a href="#cb517-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-5"><a href="#cb517-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-6"><a href="#cb517-6" aria-hidden="true" tabindex="-1"></a><span class="co">#SD of VERTICAL SD of HEIGHT</span></span>
<span id="cb517-7"><a href="#cb517-7" aria-hidden="true" tabindex="-1"></a><span class="co">#rasterize plot point cloud and calculate the standard deviation </span></span>
<span id="cb517-8"><a href="#cb517-8" aria-hidden="true" tabindex="-1"></a><span class="co">#of height values at a resolution of 1 m^2</span></span>
<span id="cb517-9"><a href="#cb517-9" aria-hidden="true" tabindex="-1"></a>sd<span class="fl">.1</span>m2 <span class="ot">&lt;-</span> <span class="fu">grid_metrics</span>(data<span class="fl">.40</span>m, <span class="fu">sd</span>(Z), <span class="dv">1</span>)</span>
<span id="cb517-10"><a href="#cb517-10" aria-hidden="true" tabindex="-1"></a><span class="co">#standard deviation of the calculated standard deviations </span></span>
<span id="cb517-11"><a href="#cb517-11" aria-hidden="true" tabindex="-1"></a><span class="co">#from previous line </span></span>
<span id="cb517-12"><a href="#cb517-12" aria-hidden="true" tabindex="-1"></a><span class="co">#This is a measure of internal and external canopy complexity</span></span>
<span id="cb517-13"><a href="#cb517-13" aria-hidden="true" tabindex="-1"></a>sd.sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(sd<span class="fl">.1</span>m2[,<span class="dv">3</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb517-14"><a href="#cb517-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-15"><a href="#cb517-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-16"><a href="#cb517-16" aria-hidden="true" tabindex="-1"></a><span class="co">#some of the next few functions won&#39;t handle NAs, so we need </span></span>
<span id="cb517-17"><a href="#cb517-17" aria-hidden="true" tabindex="-1"></a><span class="co">#to filter these out of a vector of Z points</span></span>
<span id="cb517-18"><a href="#cb517-18" aria-hidden="true" tabindex="-1"></a>Zs <span class="ot">&lt;-</span> data<span class="fl">.40</span>m<span class="sc">@</span>data<span class="sc">$</span>Z</span>
<span id="cb517-19"><a href="#cb517-19" aria-hidden="true" tabindex="-1"></a>Zs <span class="ot">&lt;-</span> Zs[<span class="sc">!</span><span class="fu">is.na</span>(Zs)]</span></code></pre></div>
</div>
<div id="entropy" class="section level4 hasAnchor" number="6.11.1.8">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.8</span> ENTROPY<a href="#entropy" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Quantifies diversity &amp; evenness of point cloud heights</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb518-1"><a href="#cb518-1" aria-hidden="true" tabindex="-1"></a><span class="co">#by = 1 partitions point cloud in 1 m tall horizontal slices </span></span>
<span id="cb518-2"><a href="#cb518-2" aria-hidden="true" tabindex="-1"></a><span class="co">#ranges from 0-1, with 1 being more evenly distributed points </span></span>
<span id="cb518-3"><a href="#cb518-3" aria-hidden="true" tabindex="-1"></a><span class="co">#across the 1 m tall slices </span></span>
<span id="cb518-4"><a href="#cb518-4" aria-hidden="true" tabindex="-1"></a>entro <span class="ot">&lt;-</span> <span class="fu">entropy</span>(Zs, <span class="at">by =</span> <span class="dv">1</span>) </span></code></pre></div>
</div>
<div id="gap-fraction-profile" class="section level4 hasAnchor" number="6.11.1.9">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.9</span> GAP FRACTION PROFILE<a href="#gap-fraction-profile" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Gap fraction profile, assesses the distribution of gaps in the canopy volume</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="#cb519-1" aria-hidden="true" tabindex="-1"></a><span class="co">#dz = 1 partitions point cloud in 1 m horizontal slices </span></span>
<span id="cb519-2"><a href="#cb519-2" aria-hidden="true" tabindex="-1"></a><span class="co">#z0 is set to a reasonable height based on the age and height of </span></span>
<span id="cb519-3"><a href="#cb519-3" aria-hidden="true" tabindex="-1"></a><span class="co">#the study sites </span></span>
<span id="cb519-4"><a href="#cb519-4" aria-hidden="true" tabindex="-1"></a>gap_frac <span class="ot">&lt;-</span> <span class="fu">gap_fraction_profile</span>(Zs, <span class="at">dz =</span> <span class="dv">1</span>, <span class="at">z0=</span><span class="dv">3</span>) </span>
<span id="cb519-5"><a href="#cb519-5" aria-hidden="true" tabindex="-1"></a><span class="co">#defines gap fraction profile as the average gap fraction in each </span></span>
<span id="cb519-6"><a href="#cb519-6" aria-hidden="true" tabindex="-1"></a><span class="co">#1 m horizontal slice assessed in the previous line</span></span>
<span id="cb519-7"><a href="#cb519-7" aria-hidden="true" tabindex="-1"></a>GFP.AOP <span class="ot">&lt;-</span> <span class="fu">mean</span>(gap_frac<span class="sc">$</span>gf) </span></code></pre></div>
</div>
<div id="vai" class="section level4 hasAnchor" number="6.11.1.10">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.10</span> VAI<a href="#vai" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Leaf area density, assesses leaf area in the canopy volume</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb520-1"><a href="#cb520-1" aria-hidden="true" tabindex="-1"></a><span class="co">#k = 0.5 is a standard extinction coefficient for foliage </span></span>
<span id="cb520-2"><a href="#cb520-2" aria-hidden="true" tabindex="-1"></a><span class="co">#dz = 1 partitions point cloud in 1 m horizontal slices </span></span>
<span id="cb520-3"><a href="#cb520-3" aria-hidden="true" tabindex="-1"></a><span class="co">#z0 is set to the same height as gap fraction profile above</span></span>
<span id="cb520-4"><a href="#cb520-4" aria-hidden="true" tabindex="-1"></a>LADen<span class="ot">&lt;-</span><span class="fu">LAD</span>(Zs, <span class="at">dz =</span> <span class="dv">1</span>, <span class="at">k=</span><span class="fl">0.5</span>, <span class="at">z0=</span><span class="dv">3</span>) </span>
<span id="cb520-5"><a href="#cb520-5" aria-hidden="true" tabindex="-1"></a><span class="co">#vegetation area index, sum of leaf area density values for </span></span>
<span id="cb520-6"><a href="#cb520-6" aria-hidden="true" tabindex="-1"></a><span class="co">#all horizontal slices assessed in previous line</span></span>
<span id="cb520-7"><a href="#cb520-7" aria-hidden="true" tabindex="-1"></a>VAI.AOP <span class="ot">&lt;-</span> <span class="fu">sum</span>(LADen<span class="sc">$</span>lad, <span class="at">na.rm=</span><span class="cn">TRUE</span>) </span></code></pre></div>
</div>
<div id="vci" class="section level4 hasAnchor" number="6.11.1.11">
<h4 class="hasAnchor"><span class="header-section-number">6.11.1.11</span> VCI<a href="#vci" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A vertical complexity index, fixed normalization of entropy metric calculated above</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="#cb521-1" aria-hidden="true" tabindex="-1"></a><span class="co">#set zmax comofortably above maximum canopy height</span></span>
<span id="cb521-2"><a href="#cb521-2" aria-hidden="true" tabindex="-1"></a><span class="co">#by = 1 assesses the metric based on 1 m horizontal slices in </span></span>
<span id="cb521-3"><a href="#cb521-3" aria-hidden="true" tabindex="-1"></a><span class="co">#the canopy</span></span>
<span id="cb521-4"><a href="#cb521-4" aria-hidden="true" tabindex="-1"></a>VCI.AOP <span class="ot">&lt;-</span> <span class="fu">VCI</span>(Zs, <span class="at">by =</span> <span class="dv">1</span>, <span class="at">zmax=</span><span class="dv">100</span>) </span></code></pre></div>
<p>We now have 13 different structural diversity metrics. Let’s organize them into a new dataframe:</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb522-1"><a href="#cb522-1" aria-hidden="true" tabindex="-1"></a><span class="co">#OUTPUT CALCULATED METRICS INTO A TABLE</span></span>
<span id="cb522-2"><a href="#cb522-2" aria-hidden="true" tabindex="-1"></a><span class="co">#creates a dataframe row, out.plot, containing plot descriptors </span></span>
<span id="cb522-3"><a href="#cb522-3" aria-hidden="true" tabindex="-1"></a><span class="co">#and calculated metrics</span></span>
<span id="cb522-4"><a href="#cb522-4" aria-hidden="true" tabindex="-1"></a>HARV_structural_diversity <span class="ot">&lt;-</span> </span>
<span id="cb522-5"><a href="#cb522-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(x, y, mean.max.canopy.ht, max.canopy.ht, </span>
<span id="cb522-6"><a href="#cb522-6" aria-hidden="true" tabindex="-1"></a>                       rumple, deepgaps,deepgap.fraction,</span>
<span id="cb522-7"><a href="#cb522-7" aria-hidden="true" tabindex="-1"></a>                       cover.fraction,top.rugosity, vert.sd, </span>
<span id="cb522-8"><a href="#cb522-8" aria-hidden="true" tabindex="-1"></a>                       sd.sd, entro,GFP.AOP, VAI.AOP, VCI.AOP),</span>
<span id="cb522-9"><a href="#cb522-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ncol =</span> <span class="dv">15</span>)) </span>
<span id="cb522-10"><a href="#cb522-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb522-11"><a href="#cb522-11" aria-hidden="true" tabindex="-1"></a><span class="co">#provide descriptive names for the calculated metrics</span></span>
<span id="cb522-12"><a href="#cb522-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(HARV_structural_diversity) <span class="ot">&lt;-</span> </span>
<span id="cb522-13"><a href="#cb522-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">c</span>(<span class="st">&quot;easting&quot;</span>, <span class="st">&quot;northing&quot;</span>, <span class="st">&quot;mean.max.canopy.ht.aop&quot;</span>,</span>
<span id="cb522-14"><a href="#cb522-14" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;max.canopy.ht.aop&quot;</span>, <span class="st">&quot;rumple.aop&quot;</span>, <span class="st">&quot;deepgaps.aop&quot;</span>,</span>
<span id="cb522-15"><a href="#cb522-15" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;deepgap.fraction.aop&quot;</span>,<span class="st">&quot;cover.fraction.aop&quot;</span>, </span>
<span id="cb522-16"><a href="#cb522-16" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;top.rugosity.aop&quot;</span>, <span class="st">&quot;vert.sd.aop&quot;</span>, <span class="st">&quot;sd.sd.aop&quot;</span>, </span>
<span id="cb522-17"><a href="#cb522-17" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;entropy.aop&quot;</span>, <span class="st">&quot;GFP.AOP.aop&quot;</span>, <span class="st">&quot;VAI.AOP.aop&quot;</span>, <span class="st">&quot;VCI.AOP.aop&quot;</span>) </span>
<span id="cb522-18"><a href="#cb522-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb522-19"><a href="#cb522-19" aria-hidden="true" tabindex="-1"></a><span class="co">#View the results</span></span>
<span id="cb522-20"><a href="#cb522-20" aria-hidden="true" tabindex="-1"></a>HARV_structural_diversity </span></code></pre></div>
</div>
</div>
<div id="combining-everything-into-one-function" class="section level3 hasAnchor" number="6.11.2">
<h3 class="hasAnchor"><span class="header-section-number">6.11.2</span> Combining Everything Into One Function<a href="#combining-everything-into-one-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we have run through how to measure each structural diversity metric, let’s create a
convenient function to run these a little faster on the TEAK site for a comparison of structural
diversity with HARV.</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="#cb523-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Let&#39;s correct for elevation and measure structural diversity for TEAK</span></span>
<span id="cb523-2"><a href="#cb523-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">316400</span> </span>
<span id="cb523-3"><a href="#cb523-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">4091700</span></span>
<span id="cb523-4"><a href="#cb523-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb523-5"><a href="#cb523-5" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.200</span>m <span class="ot">&lt;-</span> <span class="fu">clip_rectangle</span>(TEAK, </span>
<span id="cb523-6"><a href="#cb523-6" aria-hidden="true" tabindex="-1"></a>                              <span class="at">xleft =</span> (x <span class="sc">-</span> <span class="dv">100</span>), <span class="at">ybottom =</span> (y <span class="sc">-</span> <span class="dv">100</span>),</span>
<span id="cb523-7"><a href="#cb523-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">xright =</span> (x <span class="sc">+</span> <span class="dv">100</span>), <span class="at">ytop =</span> (y <span class="sc">+</span> <span class="dv">100</span>))</span>
<span id="cb523-8"><a href="#cb523-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb523-9"><a href="#cb523-9" aria-hidden="true" tabindex="-1"></a>dtm <span class="ot">&lt;-</span> <span class="fu">grid_terrain</span>(data<span class="fl">.200</span>m, <span class="dv">1</span>, <span class="fu">kriging</span>(<span class="at">k =</span> 10L))</span>
<span id="cb523-10"><a href="#cb523-10" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.200</span>m <span class="ot">&lt;-</span> <span class="fu">normalize_height</span>(data<span class="fl">.200</span>m, dtm)</span>
<span id="cb523-11"><a href="#cb523-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb523-12"><a href="#cb523-12" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.40</span>m <span class="ot">&lt;-</span> <span class="fu">clip_rectangle</span>(data<span class="fl">.200</span>m, </span>
<span id="cb523-13"><a href="#cb523-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">xleft =</span> (x <span class="sc">-</span> <span class="dv">20</span>), <span class="at">ybottom =</span> (y <span class="sc">-</span> <span class="dv">20</span>),</span>
<span id="cb523-14"><a href="#cb523-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">xright =</span> (x <span class="sc">+</span> <span class="dv">20</span>), <span class="at">ytop =</span> (y <span class="sc">+</span> <span class="dv">20</span>))</span>
<span id="cb523-15"><a href="#cb523-15" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.40</span>m<span class="sc">@</span>data<span class="sc">$</span>Z[data<span class="fl">.40</span>m<span class="sc">@</span>data<span class="sc">$</span>Z <span class="sc">&lt;=</span> .<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">0</span>  </span>
<span id="cb523-16"><a href="#cb523-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(data<span class="fl">.40</span>m)</span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/NEONScience/NEON-Data-Skills/dev-aten/graphics/lidar-point-clouds/TEAK40mx40m.JPG" /></p>
<blockquote>
<p>40 meter by 40 meter point cloud from Lower Teakettle showing a cross-section of the forest structure with several tall, pointed conifers separated by deep gaps in the canopy.</p>
</blockquote>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb524-1"><a href="#cb524-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Zip up all the code we previously used and write function to </span></span>
<span id="cb524-2"><a href="#cb524-2" aria-hidden="true" tabindex="-1"></a><span class="co">#run all 13 metrics in a single function. </span></span>
<span id="cb524-3"><a href="#cb524-3" aria-hidden="true" tabindex="-1"></a>structural_diversity_metrics <span class="ot">&lt;-</span> <span class="cf">function</span>(data<span class="fl">.40</span>m) {</span>
<span id="cb524-4"><a href="#cb524-4" aria-hidden="true" tabindex="-1"></a>   chm <span class="ot">&lt;-</span> <span class="fu">grid_canopy</span>(data<span class="fl">.40</span>m, <span class="at">res =</span> <span class="dv">1</span>, <span class="fu">dsmtin</span>()) </span>
<span id="cb524-5"><a href="#cb524-5" aria-hidden="true" tabindex="-1"></a>   mean.max.canopy.ht <span class="ot">&lt;-</span> <span class="fu">mean</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb524-6"><a href="#cb524-6" aria-hidden="true" tabindex="-1"></a>   max.canopy.ht <span class="ot">&lt;-</span> <span class="fu">max</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values, <span class="at">na.rm=</span><span class="cn">TRUE</span>) </span>
<span id="cb524-7"><a href="#cb524-7" aria-hidden="true" tabindex="-1"></a>   rumple <span class="ot">&lt;-</span> <span class="fu">rumple_index</span>(chm) </span>
<span id="cb524-8"><a href="#cb524-8" aria-hidden="true" tabindex="-1"></a>   top.rugosity <span class="ot">&lt;-</span> <span class="fu">sd</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb524-9"><a href="#cb524-9" aria-hidden="true" tabindex="-1"></a>   cells <span class="ot">&lt;-</span> <span class="fu">length</span>(chm<span class="sc">@</span>data<span class="sc">@</span>values) </span>
<span id="cb524-10"><a href="#cb524-10" aria-hidden="true" tabindex="-1"></a>   chm<span class="fl">.0</span> <span class="ot">&lt;-</span> chm</span>
<span id="cb524-11"><a href="#cb524-11" aria-hidden="true" tabindex="-1"></a>   chm<span class="fl">.0</span>[<span class="fu">is.na</span>(chm<span class="fl">.0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb524-12"><a href="#cb524-12" aria-hidden="true" tabindex="-1"></a>   zeros <span class="ot">&lt;-</span> <span class="fu">which</span>(chm<span class="fl">.0</span><span class="sc">@</span>data<span class="sc">@</span>values <span class="sc">==</span> <span class="dv">0</span>) </span>
<span id="cb524-13"><a href="#cb524-13" aria-hidden="true" tabindex="-1"></a>   deepgaps <span class="ot">&lt;-</span> <span class="fu">length</span>(zeros) </span>
<span id="cb524-14"><a href="#cb524-14" aria-hidden="true" tabindex="-1"></a>   deepgap.fraction <span class="ot">&lt;-</span> deepgaps<span class="sc">/</span>cells </span>
<span id="cb524-15"><a href="#cb524-15" aria-hidden="true" tabindex="-1"></a>   cover.fraction <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> deepgap.fraction </span>
<span id="cb524-16"><a href="#cb524-16" aria-hidden="true" tabindex="-1"></a>   vert.sd <span class="ot">&lt;-</span> <span class="fu">cloud_metrics</span>(data<span class="fl">.40</span>m, <span class="fu">sd</span>(Z, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb524-17"><a href="#cb524-17" aria-hidden="true" tabindex="-1"></a>   sd<span class="fl">.1</span>m2 <span class="ot">&lt;-</span> <span class="fu">grid_metrics</span>(data<span class="fl">.40</span>m, <span class="fu">sd</span>(Z), <span class="dv">1</span>) </span>
<span id="cb524-18"><a href="#cb524-18" aria-hidden="true" tabindex="-1"></a>   sd.sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(sd<span class="fl">.1</span>m2[,<span class="dv">3</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb524-19"><a href="#cb524-19" aria-hidden="true" tabindex="-1"></a>   Zs <span class="ot">&lt;-</span> data<span class="fl">.40</span>m<span class="sc">@</span>data<span class="sc">$</span>Z</span>
<span id="cb524-20"><a href="#cb524-20" aria-hidden="true" tabindex="-1"></a>   Zs <span class="ot">&lt;-</span> Zs[<span class="sc">!</span><span class="fu">is.na</span>(Zs)]</span>
<span id="cb524-21"><a href="#cb524-21" aria-hidden="true" tabindex="-1"></a>   entro <span class="ot">&lt;-</span> <span class="fu">entropy</span>(Zs, <span class="at">by =</span> <span class="dv">1</span>) </span>
<span id="cb524-22"><a href="#cb524-22" aria-hidden="true" tabindex="-1"></a>   gap_frac <span class="ot">&lt;-</span> <span class="fu">gap_fraction_profile</span>(Zs, <span class="at">dz =</span> <span class="dv">1</span>, <span class="at">z0=</span><span class="dv">3</span>)</span>
<span id="cb524-23"><a href="#cb524-23" aria-hidden="true" tabindex="-1"></a>   GFP.AOP <span class="ot">&lt;-</span> <span class="fu">mean</span>(gap_frac<span class="sc">$</span>gf) </span>
<span id="cb524-24"><a href="#cb524-24" aria-hidden="true" tabindex="-1"></a>   LADen<span class="ot">&lt;-</span><span class="fu">LAD</span>(Zs, <span class="at">dz =</span> <span class="dv">1</span>, <span class="at">k=</span><span class="fl">0.5</span>, <span class="at">z0=</span><span class="dv">3</span>) </span>
<span id="cb524-25"><a href="#cb524-25" aria-hidden="true" tabindex="-1"></a>   VAI.AOP <span class="ot">&lt;-</span> <span class="fu">sum</span>(LADen<span class="sc">$</span>lad, <span class="at">na.rm=</span><span class="cn">TRUE</span>) </span>
<span id="cb524-26"><a href="#cb524-26" aria-hidden="true" tabindex="-1"></a>   VCI.AOP <span class="ot">&lt;-</span> <span class="fu">VCI</span>(Zs, <span class="at">by =</span> <span class="dv">1</span>, <span class="at">zmax=</span><span class="dv">100</span>) </span>
<span id="cb524-27"><a href="#cb524-27" aria-hidden="true" tabindex="-1"></a>   out.plot <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb524-28"><a href="#cb524-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">matrix</span>(<span class="fu">c</span>(x, y, mean.max.canopy.ht,max.canopy.ht, </span>
<span id="cb524-29"><a href="#cb524-29" aria-hidden="true" tabindex="-1"></a>               rumple,deepgaps, deepgap.fraction, </span>
<span id="cb524-30"><a href="#cb524-30" aria-hidden="true" tabindex="-1"></a>               cover.fraction, top.rugosity, vert.sd, </span>
<span id="cb524-31"><a href="#cb524-31" aria-hidden="true" tabindex="-1"></a>               sd.sd, entro, GFP.AOP, VAI.AOP,VCI.AOP),</span>
<span id="cb524-32"><a href="#cb524-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol =</span> <span class="dv">15</span>)) </span>
<span id="cb524-33"><a href="#cb524-33" aria-hidden="true" tabindex="-1"></a>   <span class="fu">colnames</span>(out.plot) <span class="ot">&lt;-</span> </span>
<span id="cb524-34"><a href="#cb524-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">&quot;easting&quot;</span>, <span class="st">&quot;northing&quot;</span>, <span class="st">&quot;mean.max.canopy.ht.aop&quot;</span>,</span>
<span id="cb524-35"><a href="#cb524-35" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;max.canopy.ht.aop&quot;</span>, <span class="st">&quot;rumple.aop&quot;</span>, <span class="st">&quot;deepgaps.aop&quot;</span>,</span>
<span id="cb524-36"><a href="#cb524-36" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;deepgap.fraction.aop&quot;</span>, <span class="st">&quot;cover.fraction.aop&quot;</span>,</span>
<span id="cb524-37"><a href="#cb524-37" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;top.rugosity.aop&quot;</span>,<span class="st">&quot;vert.sd.aop&quot;</span>,<span class="st">&quot;sd.sd.aop&quot;</span>, </span>
<span id="cb524-38"><a href="#cb524-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;entropy.aop&quot;</span>, <span class="st">&quot;GFP.AOP.aop&quot;</span>,</span>
<span id="cb524-39"><a href="#cb524-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;VAI.AOP.aop&quot;</span>, <span class="st">&quot;VCI.AOP.aop&quot;</span>) </span>
<span id="cb524-40"><a href="#cb524-40" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span>(out.plot)</span>
<span id="cb524-41"><a href="#cb524-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb524-42"><a href="#cb524-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb524-43"><a href="#cb524-43" aria-hidden="true" tabindex="-1"></a>TEAK_structural_diversity <span class="ot">&lt;-</span> <span class="fu">structural_diversity_metrics</span>(data<span class="fl">.40</span>m)</span></code></pre></div>
</div>
<div id="comparing-metrics-between-forests" class="section level3 hasAnchor" number="6.11.3">
<h3 class="hasAnchor"><span class="header-section-number">6.11.3</span> Comparing Metrics Between Forests<a href="#comparing-metrics-between-forests" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How does the structural diversity of the evergreen TEAK forest compare to the mixed deciduous/evergreen forest from HARV? Let’s combine the result data.frames for a direct comparison:</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="#cb525-1" aria-hidden="true" tabindex="-1"></a>combined_results<span class="ot">=</span><span class="fu">rbind</span>(HARV_structural_diversity, </span>
<span id="cb525-2"><a href="#cb525-2" aria-hidden="true" tabindex="-1"></a>                       TEAK_structural_diversity)</span>
<span id="cb525-3"><a href="#cb525-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb525-4"><a href="#cb525-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add row names for clarity</span></span>
<span id="cb525-5"><a href="#cb525-5" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(combined_results)<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;HARV&quot;</span>,<span class="st">&quot;TEAK&quot;</span>)</span>
<span id="cb525-6"><a href="#cb525-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb525-7"><a href="#cb525-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Take a look to compare</span></span>
<span id="cb525-8"><a href="#cb525-8" aria-hidden="true" tabindex="-1"></a>combined_results</span></code></pre></div>
</div>
</div>
<div id="matching-gedi-waveforms-with-neon-aop-lidar-pointclouds" class="section level2 hasAnchor" number="6.12">
<h2 class="hasAnchor"><span class="header-section-number">6.12</span> Matching GEDI waveforms with NEON AOP LiDAR pointclouds<a href="#matching-gedi-waveforms-with-neon-aop-lidar-pointclouds" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>author: Donal O’Leary</p>
</blockquote>
<p><em>GEDI has amazing coverage around the globe, but is limited in its spatial resolution. Here, we extract NEON pointcloud data corresponding to individual GEDI waveforms to better understand how the GEDI return waveform gets its shape.</em></p>
<div id="ds-objectives" markdown="1">

<div id="learning-objectives-5" class="section level3 hasAnchor" number="6.12.1">
<h3 class="hasAnchor"><span class="header-section-number">6.12.1</span> Learning Objectives<a href="#learning-objectives-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After completing this section you will be able to:</p>
<ul>
<li>Search for GEDI data based on a NEON site bounding box</li>
<li>Extract NEON LiDAR pointcloud data corresponding to a specific GEDI footprint</li>
<li>Visualize NEON and GEDI LiDAR data together in 3D</li>
</ul>
</div>
<div id="things-youll-need-to-complete-this-gedi-section" class="section level3 hasAnchor" number="6.12.2">
<h3 class="hasAnchor"><span class="header-section-number">6.12.2</span> Things You’ll Need To Complete This GEDI Section<a href="#things-youll-need-to-complete-this-gedi-section" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="r-packages-to-install" class="section level3 hasAnchor" number="6.12.3">
<h3 class="hasAnchor"><span class="header-section-number">6.12.3</span> R Packages to Install<a href="#r-packages-to-install" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Prior to starting the tutorial ensure that the following packages are installed.</p>
<ul>
<li><strong>raster:</strong> <code>install.packages("raster")</code></li>
<li><strong>rGEDI:</strong> <code>install.packages("rGEDI")</code></li>
<li><strong>sp:</strong> <code>install.packages("sp")</code></li>
<li><strong>sf:</strong> <code>install.packages("sf")</code></li>
<li><strong>lidR:</strong> <code>install.packages("lidR")</code></li>
<li><strong>neonUtilities:</strong> <code>install.packages("neonUtilities")</code></li>
<li><strong>viridis:</strong> <code>install.packages("viridis")</code></li>
<li><strong>maptools:</strong> <code>install.packages("maptools")</code></li>
</ul>
</div>
<div id="example-data-set" class="section level3 hasAnchor" number="6.12.4">
<h3 class="hasAnchor"><span class="header-section-number">6.12.4</span> Example Data Set<a href="#example-data-set" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="gedi-example-data-subset" class="section level4 hasAnchor" number="6.12.4.1">
<h4 class="hasAnchor"><span class="header-section-number">6.12.4.1</span> GEDI Example Data Subset<a href="#gedi-example-data-subset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This dataset has been subset from a full GEDI orbit retaining only the ‘shots’ that correspond to a single 1km AOP tile, and only the ‘datasets’ (attributes) that are needed to visualize the GEDI waveform as shown below.
<a href="https://ndownloader.figshare.com/files/24978809" class="link--button link--arrow">
Download GEDI Example Dataset</a></p>
</div>
<div id="datum-difference-between-wgs84-and-nad83" class="section level4 hasAnchor" number="6.12.4.2">
<h4 class="hasAnchor"><span class="header-section-number">6.12.4.2</span> Datum difference between WGS84 and NAD83<a href="#datum-difference-between-wgs84-and-nad83" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This dataset describes the differences between the common WGS84 and NAD83 standards for vertical data in North America.
<a href="https://ndownloader.figshare.com/files/24994703" class="link--button link--arrow">
Download Dataset</a></p>
</div>
<div id="datum-difference-between-geoid12a-and-nad83" class="section level4 hasAnchor" number="6.12.4.3">
<h4 class="hasAnchor"><span class="header-section-number">6.12.4.3</span> Datum difference between GEOID12A and NAD83<a href="#datum-difference-between-geoid12a-and-nad83" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This dataset describes the differences between the GEOID12A and NAD83 standards for vertical data in North America.
<a href="https://ndownloader.figshare.com/files/24994697" class="link--button link--arrow">
Download Dataset</a></p>
</div>
</div>
<div id="getting-started" class="section level3 hasAnchor" number="6.12.5">
<h3 class="hasAnchor"><span class="header-section-number">6.12.5</span> Getting Started<a href="#getting-started" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section we will compare NEON and GEDI LiDAR data by comparing the information that they both capture in the same location. NEON data are actually one of the datasets used by the GEDI mission to calibrate and validate GEDI waveforms, so this makes for a valuable comparison!</p>
<p>In order to compare these data, we will need to download GEDI data that overlap a NEON site. Fortunately, Carlos Silva et al. have made a convenient R package clled <code>rGEDI</code> and <a href="https://cran.r-project.org/web/packages/rGEDI/vignettes/tutorial.html">this excellent tutorial hosted on CRAN</a> desribing how to work with GEDI data in R.</p>
<p>However, GEDI data are currently only available to download per complete orbit, which means that the vast majority of the orbit’s data does not fall within a NEON site. The GEDI orbit datasets come in HDF5 data format, and contain about 7Gb of data, so you may want to run the first few sections of this tutorial to get the GEDI download started, and refresh your memory of HDF5 files with NEON’s <a href="https://www.neonscience.org/intro-hdf5-r-series">Intro to HDF5 series</a>.</p>
<p>First, we will load the required libraries and set our working directory:</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb526-1"><a href="#cb526-1" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_git(&quot;https://github.com/carlos-alberto-silva/rGEDI&quot;, dependencies = TRUE)</span></span>
<span id="cb526-2"><a href="#cb526-2" aria-hidden="true" tabindex="-1"></a><span class="co"># library(rGEDI)</span></span>
<span id="cb526-3"><a href="#cb526-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb526-4"><a href="#cb526-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)</span>
<span id="cb526-5"><a href="#cb526-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code></pre></div>
<pre><code>## Linking to GEOS 3.9.1, GDAL 3.4.3, PROJ 7.2.1; sf_use_s2() is TRUE</code></pre>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb528-1"><a href="#cb528-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgl)</span>
<span id="cb528-2"><a href="#cb528-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lidR)</span>
<span id="cb528-3"><a href="#cb528-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neonUtilities)</span>
<span id="cb528-4"><a href="#cb528-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span></code></pre></div>
<pre><code>## Loading required package: viridisLite</code></pre>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb530-1"><a href="#cb530-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maptools)</span></code></pre></div>
<pre><code>## Checking rgeos availability: TRUE
## Please note that &#39;maptools&#39; will be retired by the end of 2023,
## plan transition at your earliest convenience;
## some functionality will be moved to &#39;sp&#39;.</code></pre>
<div class="sourceCode" id="cb532"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb532-1"><a href="#cb532-1" aria-hidden="true" tabindex="-1"></a><span class="co">#wd &lt;- &quot;./data&quot; # This will depend on your local environment</span></span>
<span id="cb532-2"><a href="#cb532-2" aria-hidden="true" tabindex="-1"></a><span class="co">#setwd(wd)</span></span></code></pre></div>
<p>Next, we will download a Canopy Height Model (CHM) tile from the Wind River Experiemental Forest (WREF) using the <code>byTileAOP()</code> function to use as a preliminary map on which to overlay the GEDI data. There is one particularly interesting mosaic tile which we will select using the <code>easting</code> and <code>northing</code> arguments. We then load the raster into R and make a simple plot. For more information about CHMs, please see our tutorial <a href="https://www.neonscience.org/chm-dsm-dtm-gridded-lidar-data">What is a CHM?</a></p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="#cb533-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the SITECODE as a variable because</span></span>
<span id="cb533-2"><a href="#cb533-2" aria-hidden="true" tabindex="-1"></a><span class="co"># we will use it several times in this tutorial</span></span>
<span id="cb533-3"><a href="#cb533-3" aria-hidden="true" tabindex="-1"></a>SITECODE <span class="ot">&lt;-</span> <span class="st">&quot;WREF&quot;</span></span>
<span id="cb533-4"><a href="#cb533-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb533-5"><a href="#cb533-5" aria-hidden="true" tabindex="-1"></a><span class="fu">byTileAOP</span>(<span class="at">dpID =</span> <span class="st">&quot;DP3.30015.001&quot;</span>, <span class="at">site =</span> SITECODE, <span class="at">year =</span> <span class="dv">2017</span>, </span>
<span id="cb533-6"><a href="#cb533-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">easting =</span> <span class="dv">580000</span>, <span class="at">northing =</span> <span class="dv">5075000</span>, <span class="at">check.size =</span> F,</span>
<span id="cb533-7"><a href="#cb533-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">savepath =</span> <span class="st">&#39;./data&#39;</span>)</span></code></pre></div>
<pre><code>## Downloading files totaling approximately 4.035953 MB 
## Downloading 6 files
## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |============================                                          |  40%
  |                                                                            
  |==========================================                            |  60%
  |                                                                            
  |========================================================              |  80%
  |                                                                            
  |======================================================================| 100%
## Successfully downloaded  6  files.
## NEON_D16_WREF_DP3_580000_5075000_CHM.tif downloaded to ./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/L3/DiscreteLidar/CanopyHeightModelGtif
## NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.prj downloaded to ./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps
## NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.dbf downloaded to ./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps
## NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.shp downloaded to ./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps
## NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.kml downloaded to ./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/kmls
## NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.shx downloaded to ./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps</code></pre>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="#cb535-1" aria-hidden="true" tabindex="-1"></a>chm <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&#39;./data/DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/L3/DiscreteLidar/CanopyHeightModelGtif/NEON_D16_WREF_DP3_580000_5075000_CHM.tif&#39;</span>)</span>
<span id="cb535-2"><a href="#cb535-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb535-3"><a href="#cb535-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(chm)</span></code></pre></div>
<p><img src="06-NEON_AOP_files/figure-html/download-chm-1.png" width="672" /></p>
<p>As you can see, this particular CHM is showing a conspicuous, triangle-shaped clearcut in this section of the experimental forest, where the tree canopy is much shorter than the towering 60m+ trees in the undisturbed areas. This variation will give us a variety of forest structures to investigate.</p>
</div>
<div id="downloading-gedi-data" class="section level3 hasAnchor" number="6.12.6">
<h3 class="hasAnchor"><span class="header-section-number">6.12.6</span> Downloading GEDI data<a href="#downloading-gedi-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This next section on downloading and working with GEDI data is loosely based on the excellent <code>rGEDI</code> package tutorial <a href="https://cran.r-project.org/web/packages/rGEDI/vignettes/tutorial.html">posted on CRAN here</a>. If you would prefer to avoid a large download (&gt;7Gb) of a full GEDI orbit, you can forego these steps and use the <a href="https://ndownloader.figshare.com/files/24978809">
example GEDI dataset here</a>, and skip to the <code>readLevel1B()</code> function below.</p>
<p>The Global Ecosystem Dynamics Investigation (GEDI) is a NASA mission with the primary data collection being performed by a novel waveform lidar instrument mounted on the International Space Station (ISS). Please see <a href="https://www.sciencedirect.com/science/article/pii/S2666017220300018">this open-access paper</a> published in Science of Remote Sensing that describes this mission in detail. The ISS orbits around the world every 90 minutes, and can be tracked <a href="https://spotthestation.nasa.gov/tracking_map.cfm">on this cool NASA website</a>.</p>
<p>As described <a href="https://lpdaac.usgs.gov/data/get-started-data/collection-overview/missions/gedi-overview/">here</a> on the Land Processes Distributed Active Archive Center (LP DAAC), “the sole GEDI observable is the waveform from which all other data products are derived. Each waveform is captured with a nominal ~30 m diameter.” As of the date of publication, GEDI data are only offered in HDF5 format, with each file containing the data for a full orbit. The LP DAAC has developed a tool that allows researchers to input a bounding box, which will return a list of every orbit that has a “shot” (waveform return) that falls within that box. Unfortunately, at this time, the tool will not subset out the specific shots that fall within that bounding box; you must download the entire orbit (~7Gb). This functionality may be improved in the future.</p>
<p>Our next few steps involve defining our bounding box, requesting the list of GEDI orbits that contain data relevant to that bounding box, and downloading those data. Let’s focus on the extent of our CHM that we downloaded above - but we will first need to re-project the CHM from its UTM projection into WGS84. To do so, we will refer to the EPSG code for WGS84. To look up any of these codes, please see the amazing resource <a href="https://spatialreference.org/ref/epsg/4326/">spatialrerference.org</a>.</p>
<div class="sourceCode" id="cb536"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb536-1"><a href="#cb536-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Project CHM to WGS84</span></span>
<span id="cb536-2"><a href="#cb536-2" aria-hidden="true" tabindex="-1"></a>chm_WGS <span class="ot">=</span> <span class="fu">projectRaster</span>(chm, <span class="at">crs=</span><span class="fu">CRS</span>(<span class="st">&quot;+init=epsg:4326&quot;</span>))</span>
<span id="cb536-3"><a href="#cb536-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb536-4"><a href="#cb536-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Study area boundary box coordinates</span></span>
<span id="cb536-5"><a href="#cb536-5" aria-hidden="true" tabindex="-1"></a>ul_lat<span class="ot">&lt;-</span> <span class="fu">extent</span>(chm_WGS)[<span class="dv">4</span>]</span>
<span id="cb536-6"><a href="#cb536-6" aria-hidden="true" tabindex="-1"></a>lr_lat<span class="ot">&lt;-</span> <span class="fu">extent</span>(chm_WGS)[<span class="dv">3</span>]</span>
<span id="cb536-7"><a href="#cb536-7" aria-hidden="true" tabindex="-1"></a>ul_lon<span class="ot">&lt;-</span> <span class="fu">extent</span>(chm_WGS)[<span class="dv">1</span>]</span>
<span id="cb536-8"><a href="#cb536-8" aria-hidden="true" tabindex="-1"></a>lr_lon<span class="ot">&lt;-</span> <span class="fu">extent</span>(chm_WGS)[<span class="dv">2</span>]</span></code></pre></div>
<p>Next, we use that bounding box information as an input to the <code>gedifinder()</code> funciton.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="#cb537-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specifying the optional date range, if desired</span></span>
<span id="cb537-2"><a href="#cb537-2" aria-hidden="true" tabindex="-1"></a>daterange<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;2019-03-25&quot;</span>, <span class="co">#first date of GEDI availability</span></span>
<span id="cb537-3"><a href="#cb537-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;2020-07-15&quot;</span>)</span>
<span id="cb537-4"><a href="#cb537-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb537-5"><a href="#cb537-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Get path to GEDI data</span></span>
<span id="cb537-6"><a href="#cb537-6" aria-hidden="true" tabindex="-1"></a><span class="co"># These lines use an API request to determine which orbits are available </span></span>
<span id="cb537-7"><a href="#cb537-7" aria-hidden="true" tabindex="-1"></a><span class="co"># that intersect the bounding box of interest.</span></span>
<span id="cb537-8"><a href="#cb537-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that you still must download the entire orbit and then subset to </span></span>
<span id="cb537-9"><a href="#cb537-9" aria-hidden="true" tabindex="-1"></a><span class="co"># your area of interest!</span></span>
<span id="cb537-10"><a href="#cb537-10" aria-hidden="true" tabindex="-1"></a>gLevel1B <span class="ot">&lt;-</span> <span class="fu">gedifinder</span>(<span class="at">product=</span><span class="st">&quot;GEDI01_B&quot;</span>,</span>
<span id="cb537-11"><a href="#cb537-11" aria-hidden="true" tabindex="-1"></a>                      ul_lat, ul_lon, lr_lat,lr_lon,</span>
<span id="cb537-12"><a href="#cb537-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">version=</span><span class="st">&quot;001&quot;</span>,<span class="at">daterange=</span><span class="cn">NULL</span>)</span>
<span id="cb537-13"><a href="#cb537-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb537-14"><a href="#cb537-14" aria-hidden="true" tabindex="-1"></a><span class="co"># # View list of available data</span></span>
<span id="cb537-15"><a href="#cb537-15" aria-hidden="true" tabindex="-1"></a> gLevel1B</span></code></pre></div>
<p>Great! There are several GEDI orbits available that have at least 1 ‘shot’ within our bounding box of interest. For more information about GEDI filename conventions, and other valuable information about GEDI data, <a href="https://lpdaac.usgs.gov/data/get-started-data/collection-overview/missions/gedi-overview/#gedi-temporal-and-spatial-resolution">see this page on the LP DAAC</a>. However, as mentioned before, each of these files are quite large (~7Gb), so let’s focus on just the first one for now.</p>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb538-1"><a href="#cb538-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Downloading GEDI data, if you haven&#39;t already</span></span>
<span id="cb538-2"><a href="#cb538-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that this will download a large file (&gt;7Gb) which</span></span>
<span id="cb538-3"><a href="#cb538-3" aria-hidden="true" tabindex="-1"></a><span class="co"># can be avoided by using the example dataset provided above.</span></span>
<span id="cb538-4"><a href="#cb538-4" aria-hidden="true" tabindex="-1"></a><span class="co"># wd=&#39;./data/&#39;</span></span>
<span id="cb538-5"><a href="#cb538-5" aria-hidden="true" tabindex="-1"></a><span class="co"># if(!file.exists(paste0(&quot;./data/&quot;,basename(gLevel1B[2])))){</span></span>
<span id="cb538-6"><a href="#cb538-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   gediDownload(filepath=gLevel1B[2],outdir=&quot;./data/&quot;)</span></span>
<span id="cb538-7"><a href="#cb538-7" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span></code></pre></div>
<p>Next, we use the rGEDI package to read in the GEDI data. First, we need to make a ‘gedi.level1b’ object using the <code>readLevel1B()</code> function. Next, we extract the geographic position of the center of each shot from the ‘gedi.level1b’ object using the <code>getLevel1BGeo()</code> function, and display the head of the resulting table.</p>
<p>From this point on, we will be using the (much smaller) example subset of GEDI data linked at the top of this section. All functions and processes should also work with a full GEDI dataset downloaded above, if you choose to pursue this research on your own!</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="#cb539-1" aria-hidden="true" tabindex="-1"></a>gedilevel1b<span class="ot">&lt;-</span><span class="fu">readLevel1B</span>(<span class="at">level1Bpath =</span> <span class="fu">file.path</span>(<span class="st">&#39;./data/NEON_WREF_GEDI_subset.h5&#39;</span>))</span>
<span id="cb539-2"><a href="#cb539-2" aria-hidden="true" tabindex="-1"></a><span class="co">#gedilevel1b&lt;-readLevel1B(level1Bpath = file.path(wd, &quot;GEDI01_B_2019206022612_O03482_T00370_02_003_01.h5&quot;))</span></span>
<span id="cb539-3"><a href="#cb539-3" aria-hidden="true" tabindex="-1"></a>level1bGeo<span class="ot">&lt;-</span><span class="fu">getLevel1BGeo</span>(<span class="at">level1b=</span>gedilevel1b,<span class="at">select=</span><span class="fu">c</span>(<span class="st">&quot;elevation_bin0&quot;</span>))</span>
<span id="cb539-4"><a href="#cb539-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(level1bGeo)</span></code></pre></div>
</div>
<div id="plot-gedi-footprints-on-chm" class="section level3 hasAnchor" number="6.12.7">
<h3 class="hasAnchor"><span class="header-section-number">6.12.7</span> Plot GEDI footprints on CHM<a href="#plot-gedi-footprints-on-chm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s visualize where the GEDI footprints are located on the CHM tile. To do so, we will need to first convert the GEDI data into a spatial object. For this example, we will use a ‘spatial features’ object type from the ‘sp’ package:</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb540-1"><a href="#cb540-1" aria-hidden="true" tabindex="-1"></a><span class="co"># drop any shots with missing latitude/longitude values</span></span>
<span id="cb540-2"><a href="#cb540-2" aria-hidden="true" tabindex="-1"></a>level1bGeo <span class="ot">=</span> level1bGeo[<span class="sc">!</span><span class="fu">is.na</span>(level1bGeo<span class="sc">$</span>latitude_bin0)<span class="sc">&amp;</span></span>
<span id="cb540-3"><a href="#cb540-3" aria-hidden="true" tabindex="-1"></a>                          <span class="sc">!</span><span class="fu">is.na</span>(level1bGeo<span class="sc">$</span>longitude_bin0),]</span>
<span id="cb540-4"><a href="#cb540-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-5"><a href="#cb540-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the GEDI data.frame into an &#39;sf&#39; object</span></span>
<span id="cb540-6"><a href="#cb540-6" aria-hidden="true" tabindex="-1"></a>level1bGeo_spdf<span class="ot">&lt;-</span><span class="fu">st_as_sf</span>(level1bGeo, </span>
<span id="cb540-7"><a href="#cb540-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;longitude_bin0&quot;</span>, <span class="st">&quot;latitude_bin0&quot;</span>),</span>
<span id="cb540-8"><a href="#cb540-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">crs=</span><span class="fu">CRS</span>(<span class="st">&quot;+init=epsg:4326&quot;</span>))</span>
<span id="cb540-9"><a href="#cb540-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-10"><a href="#cb540-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-11"><a href="#cb540-11" aria-hidden="true" tabindex="-1"></a><span class="co"># crop to the CHM that is in WGS84</span></span>
<span id="cb540-12"><a href="#cb540-12" aria-hidden="true" tabindex="-1"></a>level1bgeo_WREF<span class="ot">=</span><span class="fu">st_crop</span>(level1bGeo_spdf, chm_WGS)</span></code></pre></div>
<p>Next, project the GEDI geospatial data into the UTM zone that the CHM is within (Zone 10 North). These data come as the point location at the center of the GEDI footprint, so we next convert the GEDI footprint center (lat/long) into a circle using the <code>buffer()</code> function. Finally, we can plot the CHM and overlay the GEDI footprint circles, and label with the last three digits of the ‘shot’ number.</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="#cb541-1" aria-hidden="true" tabindex="-1"></a><span class="co"># project to UTM</span></span>
<span id="cb541-2"><a href="#cb541-2" aria-hidden="true" tabindex="-1"></a>level1bgeo_WREF_UTM<span class="ot">=</span><span class="fu">st_transform</span>(</span>
<span id="cb541-3"><a href="#cb541-3" aria-hidden="true" tabindex="-1"></a>  level1bgeo_WREF, <span class="at">crs=</span>chm<span class="sc">$</span>NEON_D16_WREF_DP3_580000_5075000_CHM<span class="sc">@</span>crs)</span>
<span id="cb541-4"><a href="#cb541-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb541-5"><a href="#cb541-5" aria-hidden="true" tabindex="-1"></a><span class="co"># buffer the GEDI shot center by a radius of 12.5m </span></span>
<span id="cb541-6"><a href="#cb541-6" aria-hidden="true" tabindex="-1"></a><span class="co"># to represent the full 25m diameter GEDI footprint</span></span>
<span id="cb541-7"><a href="#cb541-7" aria-hidden="true" tabindex="-1"></a>level1bgeo_WREF_UTM_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(level1bgeo_WREF_UTM, <span class="at">dist=</span><span class="fl">12.5</span>)</span>
<span id="cb541-8"><a href="#cb541-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb541-9"><a href="#cb541-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plot CHM and overlay GEDI data</span></span>
<span id="cb541-10"><a href="#cb541-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(chm)</span>
<span id="cb541-11"><a href="#cb541-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(level1bgeo_WREF_UTM_buffer, <span class="at">add=</span>T, <span class="at">col=</span><span class="st">&quot;transparent&quot;</span>)</span>
<span id="cb541-12"><a href="#cb541-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb541-13"><a href="#cb541-13" aria-hidden="true" tabindex="-1"></a><span class="co"># add labes with the last three digits of the GEDI shot_number</span></span>
<span id="cb541-14"><a href="#cb541-14" aria-hidden="true" tabindex="-1"></a><span class="fu">pointLabel</span>(<span class="fu">st_coordinates</span>(level1bgeo_WREF_UTM),</span>
<span id="cb541-15"><a href="#cb541-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">labels=</span>level1bgeo_WREF_UTM<span class="sc">$</span>shot_number, <span class="at">cex=</span><span class="dv">1</span>)</span></code></pre></div>
</div>
<div id="extract-waveform-for-a-single-shot" class="section level3 hasAnchor" number="6.12.8">
<h3 class="hasAnchor"><span class="header-section-number">6.12.8</span> Extract Waveform for a single Shot<a href="#extract-waveform-for-a-single-shot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s take a look at a waveform for a single GEDI shot. We can select a shot by using its <code>shot_number</code> as shown below. Note, however, that the example data subset shots have been re-numbered, and those numbers will not correspond with full orbit GEDI data.</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb542-1"><a href="#cb542-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extracting GEDI full-waveform for a given shot_number</span></span>
<span id="cb542-2"><a href="#cb542-2" aria-hidden="true" tabindex="-1"></a>wf <span class="ot">&lt;-</span> <span class="fu">getLevel1BWF</span>(gedilevel1b,<span class="at">shot_number =</span> <span class="dv">20</span>)</span>
<span id="cb542-3"><a href="#cb542-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb542-4"><a href="#cb542-4" aria-hidden="true" tabindex="-1"></a><span class="co"># or, if using a full GEDI dataset,</span></span>
<span id="cb542-5"><a href="#cb542-5" aria-hidden="true" tabindex="-1"></a><span class="co"># wf &lt;- getLevel1BWF(gedilevel1b,shot_number = level1bgeo_WREF_UTM_buffer$shot_number[which(level1bgeo_WREF_UTM_buffer$shot_number==1786)])</span></span>
<span id="cb542-6"><a href="#cb542-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb542-7"><a href="#cb542-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Save current plotting parameters to revert to</span></span>
<span id="cb542-8"><a href="#cb542-8" aria-hidden="true" tabindex="-1"></a>oldpar <span class="ot">&lt;-</span> <span class="fu">par</span>()</span>
<span id="cb542-9"><a href="#cb542-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb542-10"><a href="#cb542-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up plotting paramters</span></span>
<span id="cb542-11"><a href="#cb542-11" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">cex.axis =</span> <span class="fl">1.5</span>)</span>
<span id="cb542-12"><a href="#cb542-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb542-13"><a href="#cb542-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot filled-in waveform </span></span>
<span id="cb542-14"><a href="#cb542-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(wf, <span class="at">relative=</span><span class="cn">FALSE</span>, <span class="at">polygon=</span><span class="cn">TRUE</span>, <span class="at">type=</span><span class="st">&quot;l&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>, <span class="at">col=</span><span class="st">&quot;forestgreen&quot;</span>,</span>
<span id="cb542-15"><a href="#cb542-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Waveform Amplitude&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Elevation (m)&quot;</span>)</span>
<span id="cb542-16"><a href="#cb542-16" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>() <span class="co">#add a grid to the plot</span></span>
<span id="cb542-17"><a href="#cb542-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb542-18"><a href="#cb542-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a simple line with no fill</span></span>
<span id="cb542-19"><a href="#cb542-19" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(wf, <span class="at">relative=</span><span class="cn">TRUE</span>, <span class="at">polygon=</span><span class="cn">FALSE</span>, <span class="at">type=</span><span class="st">&quot;l&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>, <span class="at">col=</span><span class="st">&quot;forestgreen&quot;</span>,</span>
<span id="cb542-20"><a href="#cb542-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Waveform Amplitude (%)&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Elevation (m)&quot;</span>)</span>
<span id="cb542-21"><a href="#cb542-21" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()<span class="co">#add a grid to the plot</span></span>
<span id="cb542-22"><a href="#cb542-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb542-23"><a href="#cb542-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Revert plotting parameters to previous values.</span></span>
<span id="cb542-24"><a href="#cb542-24" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(oldpar)</span></code></pre></div>
<p>This waveform shows some noise above and below the main ecosystem return, with a fairly dense canopy around 370m elevation, and a characteristic ground return spike at about 340m. While the GEDI data are extremely valuable and offer a near-global coverage, it is hard to get a good sense of what the ecosystem really looks like from this GEDI waveform. Let’s download some NEON AOP pointcloud data to pair up with this waveform to get a better sense of what GEDI is reporting.</p>
</div>
<div id="download-and-plot-neon-aop-lidar-pointcloud-data" class="section level3 hasAnchor" number="6.12.9">
<h3 class="hasAnchor"><span class="header-section-number">6.12.9</span> Download and Plot NEON AOP LiDAR pointcloud data<a href="#download-and-plot-neon-aop-lidar-pointcloud-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here, we will use the <code>byTileAOP()</code> function from the ‘neonUtilities’ package to download the classified pointcloud mosaic data (DP1.30003.001). Since this is a mosaic tile like the CHM, we can just pass this function the lower left corner of the CHM tile to get the corresponding lidar pointcloud mosaic tile for our analysis.</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="#cb543-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download the pointcloud data if you don&#39;t have it already</span></span>
<span id="cb543-2"><a href="#cb543-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">&#39;./data/DP1.30003.001/2017/FullSite/D16/2017_WREF_1/L1/DiscreteLidar/ClassifiedPointCloud/NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.laz&#39;</span>)){</span>
<span id="cb543-3"><a href="#cb543-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">byTileAOP</span>(<span class="at">dpID =</span> <span class="st">&quot;DP1.30003.001&quot;</span>, <span class="at">site =</span> SITECODE, <span class="at">year =</span> <span class="dv">2017</span>, </span>
<span id="cb543-4"><a href="#cb543-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">easting =</span> <span class="fu">extent</span>(chm)[<span class="dv">1</span>], <span class="at">northing=</span><span class="fu">extent</span>(chm)[<span class="dv">3</span>], </span>
<span id="cb543-5"><a href="#cb543-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">check.size =</span> F, <span class="at">savepath =</span> <span class="st">&#39;./data/&#39;</span>) <span class="co"># Edit savepath as needed</span></span>
<span id="cb543-6"><a href="#cb543-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>After downloading the point cloud data, let’s read them into our R session using the <code>readLAS()</code> function from the <code>lidaR</code> package, and plot them in 3D. Note, you may need to update your ‘XQuartz’ if you are using a Mac.</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb544-1"><a href="#cb544-1" aria-hidden="true" tabindex="-1"></a>WREF_LAS<span class="ot">=</span><span class="fu">readLAS</span>(<span class="st">&quot;./data/DP1.30003.001/2017/FullSite/D16/2017_WREF_1/L1/DiscreteLidar/ClassifiedPointCloud/NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.laz&quot;</span>)</span>
<span id="cb544-2"><a href="#cb544-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb544-3"><a href="#cb544-3" aria-hidden="true" tabindex="-1"></a>lidR<span class="sc">::</span><span class="fu">plot</span>(WREF_LAS)</span></code></pre></div>
<p><img src="images/GEDI_AOP1.png" width="768" />
Oh, yikes! There are a lot of outliers above the actual forest, and a few below. Let’s use some simple statistics to throw out those outliers. We will first calculate the mean and standard deviation for the verical axis, and then use the ‘filter’ options of the <code>readLAS()</code> function to eliminate the vertical outliers.</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="#cb545-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">###</span><span class="co"> remove outlier lidar point outliers using mean and sd statistics</span></span>
<span id="cb545-2"><a href="#cb545-2" aria-hidden="true" tabindex="-1"></a>Z_sd<span class="ot">=</span><span class="fu">sd</span>(WREF_LAS<span class="sc">@</span>data<span class="sc">$</span>Z)</span>
<span id="cb545-3"><a href="#cb545-3" aria-hidden="true" tabindex="-1"></a>Z_mean<span class="ot">=</span><span class="fu">mean</span>(WREF_LAS<span class="sc">@</span>data<span class="sc">$</span>Z)</span>
<span id="cb545-4"><a href="#cb545-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb545-5"><a href="#cb545-5" aria-hidden="true" tabindex="-1"></a><span class="co"># make filter string in form filter = &quot;-drop_z_below 50 -drop_z_above 1000&quot;</span></span>
<span id="cb545-6"><a href="#cb545-6" aria-hidden="true" tabindex="-1"></a><span class="co"># You can increase or decrease (from 4) the number of sd&#39;s to filter outliers</span></span>
<span id="cb545-7"><a href="#cb545-7" aria-hidden="true" tabindex="-1"></a>f <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">&quot;-drop_z_below&quot;</span>,(Z_mean<span class="dv">-4</span><span class="sc">*</span>Z_sd),<span class="st">&quot;-drop_z_above&quot;</span>,(Z_mean<span class="sc">+</span><span class="dv">4</span><span class="sc">*</span>Z_sd))</span>
<span id="cb545-8"><a href="#cb545-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb545-9"><a href="#cb545-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in LAS file, trimming off vertical outlier points</span></span>
<span id="cb545-10"><a href="#cb545-10" aria-hidden="true" tabindex="-1"></a>WREF_LAS<span class="ot">=</span><span class="fu">readLAS</span>(<span class="st">&quot;./data/DP1.30003.001/2017/FullSite/D16/2017_WREF_1/L1/DiscreteLidar/ClassifiedPointCloud/NEON_D16_WREF_DP1_580000_5075000_classified_point_cloud.laz&quot;</span>,</span>
<span id="cb545-11"><a href="#cb545-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">filter =</span> f)</span>
<span id="cb545-12"><a href="#cb545-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb545-13"><a href="#cb545-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot the full LiDAR point cloud mosaic tile (1km^2)</span></span>
<span id="cb545-14"><a href="#cb545-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(WREF_LAS)</span></code></pre></div>
<p><img src="images/GEDI_AOP2.png" width="479" /></p>
<p>Ahhh, that’s better.</p>
</div>
<div id="clip-aop-lidar-pointcloud-to-gedi-footprints" class="section level3 hasAnchor" number="6.12.10">
<h3 class="hasAnchor"><span class="header-section-number">6.12.10</span> Clip AOP LiDAR Pointcloud to GEDI footprints<a href="#clip-aop-lidar-pointcloud-to-gedi-footprints" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can now use the GEDI footprint circles (that we made using the <code>buffer()</code> function) to clip out the NEON AOP LiDAR points that correspond with the GEDI footprints:</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="#cb546-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clip the pointcloud by the GEDI footprints created by buffering above. </span></span>
<span id="cb546-2"><a href="#cb546-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This makes a &#39;list&#39; of LAS objects</span></span>
<span id="cb546-3"><a href="#cb546-3" aria-hidden="true" tabindex="-1"></a>WREF_GEDI_footprints<span class="ot">=</span><span class="fu">lasclip</span>(WREF_LAS, <span class="at">geometry =</span> level1bgeo_WREF_UTM_buffer)</span>
<span id="cb546-4"><a href="#cb546-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb546-5"><a href="#cb546-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we can now plot individual footprint clips</span></span>
<span id="cb546-6"><a href="#cb546-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(WREF_GEDI_footprints[[<span class="dv">8</span>]])</span></code></pre></div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ERdy6-bqiZI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="plot-gedi-waveform-with-aop-pointcloud-in-3d-space" class="section level3 hasAnchor" number="6.12.11">
<h3 class="hasAnchor"><span class="header-section-number">6.12.11</span> Plot GEDI Waveform with AOP Pointcloud in 3D space<a href="#plot-gedi-waveform-with-aop-pointcloud-in-3d-space" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we can extract individual waveforms, and the AOP LiDAR pointcloud that corresponds with each GEDI waveform, let’s see if we can plot them both in 3D space. We already know how to plot the AOP LiDAR points, so let’s write a function to draw the GEDI waveform, too, using the <code>points3d()</code> function:</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="#cb547-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(shot_n <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">20</span>)){</span>
<span id="cb547-2"><a href="#cb547-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb547-3"><a href="#cb547-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># First, plot the NEON AOP LiDAR clipped to the GEDI footprint</span></span>
<span id="cb547-4"><a href="#cb547-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We save the plot as an object &#39;p&#39; which gives the (x,y) offset for the lower</span></span>
<span id="cb547-5"><a href="#cb547-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># left corner of the plot. The &#39;rgl&#39; package offsets all (x,y) locations </span></span>
<span id="cb547-6"><a href="#cb547-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to this point, so we will need to subtract these values from any other </span></span>
<span id="cb547-7"><a href="#cb547-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (x,y) points that we want to add to the plot</span></span>
<span id="cb547-8"><a href="#cb547-8" aria-hidden="true" tabindex="-1"></a>  p<span class="ot">=</span><span class="fu">plot</span>(WREF_GEDI_footprints[[shot_n]])</span>
<span id="cb547-9"><a href="#cb547-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb547-10"><a href="#cb547-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the specific waveform from the GEDI data</span></span>
<span id="cb547-11"><a href="#cb547-11" aria-hidden="true" tabindex="-1"></a>  wf <span class="ot">&lt;-</span> <span class="fu">getLevel1BWF</span>(gedilevel1b,<span class="at">shot_number =</span> level1bgeo_WREF<span class="sc">$</span>shot_number[shot_n])</span>
<span id="cb547-12"><a href="#cb547-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb547-13"><a href="#cb547-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make a new data.frame &#39;d&#39; to convert the waveform data coordinates into 3D space</span></span>
<span id="cb547-14"><a href="#cb547-14" aria-hidden="true" tabindex="-1"></a>  d<span class="ot">=</span>wf<span class="sc">@</span>dt</span>
<span id="cb547-15"><a href="#cb547-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb547-16"><a href="#cb547-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># normalize rxwaveform to 0-1</span></span>
<span id="cb547-17"><a href="#cb547-17" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>rxwaveform<span class="ot">=</span>d<span class="sc">$</span>rxwaveform<span class="sc">-</span><span class="fu">min</span>(d<span class="sc">$</span>rxwaveform)</span>
<span id="cb547-18"><a href="#cb547-18" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>rxwaveform<span class="ot">=</span>d<span class="sc">$</span>rxwaveform<span class="sc">/</span><span class="fu">max</span>(d<span class="sc">$</span>rxwaveform)</span>
<span id="cb547-19"><a href="#cb547-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb547-20"><a href="#cb547-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add xy data in UTMs, and offset lower left corner of &#39;p&#39;</span></span>
<span id="cb547-21"><a href="#cb547-21" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>x<span class="ot">=</span><span class="fu">st_coordinates</span>(level1bgeo_WREF_UTM[shot_n,])[<span class="dv">1</span>]<span class="sc">-</span>p[<span class="dv">1</span>]</span>
<span id="cb547-22"><a href="#cb547-22" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>y<span class="ot">=</span><span class="fu">st_coordinates</span>(level1bgeo_WREF_UTM[shot_n,])[<span class="dv">2</span>]<span class="sc">-</span>p[<span class="dv">2</span>]</span>
<span id="cb547-23"><a href="#cb547-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb547-24"><a href="#cb547-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make a new column &#39;x_wf&#39; where we place the GEDI waveform in space with the </span></span>
<span id="cb547-25"><a href="#cb547-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># NEON AOP LiDAR data, we scale the waveform to 30m in the x-dimension, and </span></span>
<span id="cb547-26"><a href="#cb547-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># offset by 12.5m (the radius of the GEDI footprint) in the x-dimension.</span></span>
<span id="cb547-27"><a href="#cb547-27" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>x_wf<span class="ot">=</span>d<span class="sc">$</span>x<span class="sc">+</span>d<span class="sc">$</span>rxwaveform<span class="sc">*</span><span class="dv">30</span><span class="fl">+12.5</span></span>
<span id="cb547-28"><a href="#cb547-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb547-29"><a href="#cb547-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add GEDI points to 3D space in &#39;green&#39; color</span></span>
<span id="cb547-30"><a href="#cb547-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">points3d</span>(<span class="at">x=</span>d<span class="sc">$</span>x_wf, <span class="at">y=</span>d<span class="sc">$</span>y, <span class="at">z=</span>d<span class="sc">$</span>elevation, <span class="at">col=</span><span class="st">&quot;green&quot;</span>, <span class="at">add=</span>T)</span>
<span id="cb547-31"><a href="#cb547-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb547-32"><a href="#cb547-32" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DnqbPPVSwTg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Whoa, it looks like there is a bad vertical mismatch between those two data sources. This is because the two data sources have a different vertical datum. The NEON AOP data are delivered in the GEOID12A datum, while the GEDI data are delivered in the WGS84 native datum. We will need to convert one to the other to get them to line up correctly.</p>
</div>
<div id="datum-geoid-and-how-to-best-measure-the-earth" class="section level3 hasAnchor" number="6.12.12">
<h3 class="hasAnchor"><span class="header-section-number">6.12.12</span> Datum, Geoid, and how to best measure the Earth<a href="#datum-geoid-and-how-to-best-measure-the-earth" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are seeing a vertical mismatch between the NEON and GEDI LiDAR data sources because they are using different standards for measuring the Earth. Here, we will briefly describe the main differences between these two datum models, and then show how to correct for this discrepancy.</p>
<div id="wgs84" class="section level4 hasAnchor" number="6.12.12.1">
<h4 class="hasAnchor"><span class="header-section-number">6.12.12.1</span> WGS84<a href="#wgs84" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As described in <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">this great Wikipedia article</a> the World Geodedic System (WGS) is a global standard for cartography, geodesy, and navigation including GPS. Most people refer to “WGS84,” which is the latest revision to this system in 1984. To describe elevation, WGS84 uses an idealized mathematical model to describe the ‘oblate spheroid’ of the Earth (basically, it looks kind of like a sphere that is wider around the equator and shorter from pole to pole). This model, called a ‘datum,’ defines the relative elevational surface of the Earth. However, the Earth isn’t exactly this idealized shape - it has a lot of undulations caused by topogrophy and local differences in its gravitational field. In the locations where the natural variations of the Earth do not coencide with the mathematical model, it can be harder to accurately describe the elevation of certain landforms and structures. Still, for a global datum, WGS84 does a great job overall.</p>
</div>
<div id="geoid12a" class="section level4 hasAnchor" number="6.12.12.2">
<h4 class="hasAnchor"><span class="header-section-number">6.12.12.2</span> GEOID12A<a href="#geoid12a" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>While WGS84 is a convenient global standard, precisely describing location information is a common problem in geography, and is often remedied by using a local datum or projection. For latitude and longitude spatial information in North America, this is often done by using the <a href="https://www.ngs.noaa.gov/datums/horizontal/north-american-datum-1983.shtml">North American Datum (NAD83)</a> or various Universal Transverse Mercator (UTM) or State Plane projections based on the NAD83 datum. The NAD83 Datum was developed in 1983 as the horizontal and geometric control datum for the United States, Canada, Mexico, and Central America. This is the official datum for the government of the United States of America, and therefore many public datasets that are specific to this geographic region use this datum. In order to further refine the vertical precision over a wide geographic area, we can model the gravitational field of the Earth - this surface is called a “Geoid”. <a href="https://geodesy.noaa.gov/GEOID/geoid_def.html">According to NOAA</a>, a geoid can be defined as “the equipotential surface of the Earth’s gravity field which best fits, in a least squares sense, global mean sea level.” For a nice description of the North American geoid, please <a href="https://geodesy.noaa.gov/GEOID/geophysics.shtml">see this page on the NOAA website</a> written by Dr. Allen Joel Anderson. As described by Dr. Anderson, this gravitational field is changing all the time, as can global mean sea level (due to melting glaciers, etc.). Therefore local and regional geoids must be updated regularly to reflect these changes, as shown <a href="https://geodesy.noaa.gov/GEOID/models.shtml">in this list of NOAA geoids</a>. One recent standard from 2012 is &lt;<a href="https://geodesy.noaa.gov/GEOID/GEOID12A/">GEOID12A</a> - this is the geoid selected by NEON as the vertical reference for the Z-dimension of our LiDAR data. Note that GEOID12B superscedes GEOID12A, however they are identical everywhere except for Puerto Rico and the US Virgin Islands <a href="https://geodesy.noaa.gov/GEOID/GEOID12B/">according to NOAA</a>. If you are working with any NEON data from Puerto Rico, please be aware that these data are delivered in GEOID12A format and may need to be converted to GEOID12B for some purposes.</p>
<p>For more information about these standards, please see <a href="https://desktop.arcgis.com/en/arcmap/10.3/guide-books/map-projections/about-the-geoid-ellipsoid-spheroid-and-datum-and-h.htm">this ESRI help document</a>.</p>
</div>
</div>
<div id="aligning-the-vertical-datum" class="section level3 hasAnchor" number="6.12.13">
<h3 class="hasAnchor"><span class="header-section-number">6.12.13</span> Aligning the Vertical Datum<a href="#aligning-the-vertical-datum" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>AOP data have a relatively small area of coverage, and are therefore delivered with the coordinate reference system (CRS) in the UTM zone in which they were collected, set to the GEOID12A vertical datum (roughly equaling mean sea level). Meanwhile, GEDI data are global, so they are delivered with the common WGS84 ellipsoidal refrence datum. We need to align these vertical datums to ensure that the two data products line up correctly. However, this is not a trivial step, nor as simple as a reprojection. In this example, we will keep the NEON LiDAR data in its current datum, and convert the vertical position of the GEDI data from WGS84 into GEOID12A vertical position.</p>
<p>NOAA has a useful <a href="https://www.ngs.noaa.gov/INFO/facts/vdatum.shtml">tool called Vdatum</a> that will convert from one datum to another. For this example, we will use Vdatum to convert from WGS84 to NAD83. Seeing as GEOID12A is based on the NAD83 datum, we can first convert the GEDI data’s vertical position from WGS84 to NAD83 datum, then apply the offset between NAD83 and GEOID12A. Rather than use the Vdatum tool for each point, we will use a raster created by NEON scientists that reports the vertical difference between WGS84 and NAD83 for all points in the conterminous USA.</p>
<p>You can access this dataset by <a href="https://ndownloader.figshare.com/files/24994703">clicking here to download the WGS84-NAD83 datum offset raster</a>.</p>
</div>
<div id="geoid12a-height-model" class="section level3 hasAnchor" number="6.12.14">
<h3 class="hasAnchor"><span class="header-section-number">6.12.14</span> GEOID12A Height Model<a href="#geoid12a-height-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>GEOID12A is a surface model that is described in terms of its relative height compared to NAD83. You can use <a href="https://www.ngs.noaa.gov/cgi-bin/GEOID_STUFF/geoid12A_prompt1.prl">this interactive webpage</a> to find the geoid height for any location within North America. However, that would be combersome to have to use this webpage for every location. Instead, you can download a &lt;a href=“<a href="https://www.ngs.noaa.gov/GEOID/GEOID12A/GEOID12A_CONUS.shtml" class="uri">https://www.ngs.noaa.gov/GEOID/GEOID12A/GEOID12A_CONUS.shtml</a>&gt;binary file from the NOAA website</a> that describes this geoid’s height, and convert that into a raster similar to the one that we just downloaded above. To simplify things here, we have already gone through the process of downloading the binary file and converting it to a raster for you to download, which can now easily be read into your R environment.</p>
<p>You can access this dataset by <a href="https://ndownloader.figshare.com/files/24994697">clicking here to download the GEOID12A-NAD83 datum offset raster</a>.</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="#cb548-1" aria-hidden="true" tabindex="-1"></a>GEOID12A_diff_rast<span class="ot">=</span><span class="fu">raster</span>(<span class="st">&quot;./data/GEOID12A_NAD83_offset.tif&quot;</span>)</span>
<span id="cb548-2"><a href="#cb548-2" aria-hidden="true" tabindex="-1"></a>WGS84_diff_rast<span class="ot">=</span><span class="fu">raster</span>(<span class="st">&quot;./data/WGS84_NAD83_offset.tif&quot;</span>)</span></code></pre></div>
<p>Now that we have the two offset rasters, let’s plot them together to compare their spatial patterns.</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="#cb549-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>,<span class="fl">2.5</span>, <span class="fl">3.5</span>,<span class="dv">1</span>))</span>
<span id="cb549-2"><a href="#cb549-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(GEOID12A_diff_rast, <span class="at">col=</span><span class="fu">viridis</span>(<span class="dv">100</span>),<span class="at">main=</span><span class="st">&quot;GEOID12A minus NAD83 (m)&quot;</span>)</span>
<span id="cb549-3"><a href="#cb549-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(WGS84_diff_rast, <span class="at">main=</span><span class="st">&quot;WGS84 minus NAD83 (m)&quot;</span>)</span></code></pre></div>
<p>As you can see, the differences between the GEOID12A geoid, and the NAD83 sphereoid vary quite a lot across space, especially in mountainous areas. The magnitude of these differences is also large, upwards of 35m in some areas. Meanwhile, the differences between the NAD83 and WGS84 sphereoids shows a smooth gradient that is relatively small, with total difference less than 2m across the Conterminous USA.</p>
</div>
<div id="extract-vertical-offset-for-gedi-shots" class="section level3 hasAnchor" number="6.12.15">
<h3 class="hasAnchor"><span class="header-section-number">6.12.15</span> Extract vertical offset for GEDI shots<a href="#extract-vertical-offset-for-gedi-shots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we know the relative vertical offsets between WGS84, NAD83, and GEOID12A for all of the conterminous USA, we can use the <code>extract()</code> function to retrieve those relative offsets for any location. By combining those offsets together, we can finally rectify the vertical position of the NEON and GEDI LiDAR data.</p>
<p>***** DO I need to convert GEDI x/y locations from WGS84 to NAD83?? *****</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="#cb550-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a new DF to store the GEDI footprint (x,y) locations, and the relative datum/geoid offsets</span></span>
<span id="cb550-2"><a href="#cb550-2" aria-hidden="true" tabindex="-1"></a>footprint_df<span class="ot">=</span><span class="fu">as.data.frame</span>(</span>
<span id="cb550-3"><a href="#cb550-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(level1bgeo_WREF<span class="sc">$</span>longitude_lastbin, level1bgeo_WREF<span class="sc">$</span>latitude_lastbin))</span>
<span id="cb550-4"><a href="#cb550-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb550-5"><a href="#cb550-5" aria-hidden="true" tabindex="-1"></a>WGS_NAD_diff <span class="ot">&lt;-</span> <span class="fu">extract</span>(WGS84_diff_rast, footprint_df)</span>
<span id="cb550-6"><a href="#cb550-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb550-7"><a href="#cb550-7" aria-hidden="true" tabindex="-1"></a>GEOID12A_NAD_diff <span class="ot">&lt;-</span> <span class="fu">extract</span>(GEOID12A_diff_rast,footprint_df)</span>
<span id="cb550-8"><a href="#cb550-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb550-9"><a href="#cb550-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add together the offsets to calculate a vector of net differences in elevation</span></span>
<span id="cb550-10"><a href="#cb550-10" aria-hidden="true" tabindex="-1"></a>net_diff<span class="ot">=</span>WGS_NAD_diff<span class="sc">+</span>GEOID12A_NAD_diff</span></code></pre></div>
</div>
<div id="plot-vertically-corrected-gedi-waveform-in-3d" class="section level3 hasAnchor" number="6.12.16">
<h3 class="hasAnchor"><span class="header-section-number">6.12.16</span> Plot vertically corrected GEDI waveform in 3D<a href="#plot-vertically-corrected-gedi-waveform-in-3d" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we have a vertical offset for each of the GEDI footprints, let’s try again to plot the NEON AOP pointcloud data with the GEDI waveform.</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="#cb551-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can enter whichever shots that you want to plot in the for loop here</span></span>
<span id="cb551-2"><a href="#cb551-2" aria-hidden="true" tabindex="-1"></a><span class="co">#for(shot_n in 1:length(WREF_GEDI_footprints)){</span></span>
<span id="cb551-3"><a href="#cb551-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(shot_n <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">20</span>)){</span>
<span id="cb551-4"><a href="#cb551-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb551-5"><a href="#cb551-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># First, plot the NEON AOP LiDAR clipped to the GEDI footprint</span></span>
<span id="cb551-6"><a href="#cb551-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We save the plot as an object &#39;p&#39; which gives the (x,y) offset for the lower</span></span>
<span id="cb551-7"><a href="#cb551-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># left corner of the plot. The &#39;rgl&#39; package offsets all (x,y) locations </span></span>
<span id="cb551-8"><a href="#cb551-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to this point, so we will need to subtract these values from any other </span></span>
<span id="cb551-9"><a href="#cb551-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (x,y) points that we want to add to the plot</span></span>
<span id="cb551-10"><a href="#cb551-10" aria-hidden="true" tabindex="-1"></a>  p<span class="ot">=</span><span class="fu">plot</span>(WREF_GEDI_footprints[[shot_n]])</span>
<span id="cb551-11"><a href="#cb551-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-12"><a href="#cb551-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the specific waveform from the GEDI data</span></span>
<span id="cb551-13"><a href="#cb551-13" aria-hidden="true" tabindex="-1"></a>  wf <span class="ot">&lt;-</span> <span class="fu">getLevel1BWF</span>(gedilevel1b,<span class="at">shot_number =</span> level1bgeo_WREF<span class="sc">$</span>shot_number[shot_n])</span>
<span id="cb551-14"><a href="#cb551-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-15"><a href="#cb551-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make a new data.frame &#39;d&#39; to convert the waveform data coordinates into 3D space</span></span>
<span id="cb551-16"><a href="#cb551-16" aria-hidden="true" tabindex="-1"></a>  d<span class="ot">=</span>wf<span class="sc">@</span>dt</span>
<span id="cb551-17"><a href="#cb551-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-18"><a href="#cb551-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># normalize rxwaveform to 0-1</span></span>
<span id="cb551-19"><a href="#cb551-19" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>rxwaveform<span class="ot">=</span>d<span class="sc">$</span>rxwaveform<span class="sc">-</span><span class="fu">min</span>(d<span class="sc">$</span>rxwaveform)</span>
<span id="cb551-20"><a href="#cb551-20" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>rxwaveform<span class="ot">=</span>d<span class="sc">$</span>rxwaveform<span class="sc">/</span><span class="fu">max</span>(d<span class="sc">$</span>rxwaveform)</span>
<span id="cb551-21"><a href="#cb551-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-22"><a href="#cb551-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add xy data in UTMs, and offset lower left corner of &#39;p&#39;</span></span>
<span id="cb551-23"><a href="#cb551-23" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>x<span class="ot">=</span><span class="fu">st_coordinates</span>(level1bgeo_WREF_UTM[shot_n,])[<span class="dv">1</span>]<span class="sc">-</span>p[<span class="dv">1</span>]</span>
<span id="cb551-24"><a href="#cb551-24" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>y<span class="ot">=</span><span class="fu">st_coordinates</span>(level1bgeo_WREF_UTM[shot_n,])[<span class="dv">2</span>]<span class="sc">-</span>p[<span class="dv">2</span>]</span>
<span id="cb551-25"><a href="#cb551-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-26"><a href="#cb551-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make a new column &#39;x_wf&#39; where we place the GEDI waveform in space with the </span></span>
<span id="cb551-27"><a href="#cb551-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># NEON AOP LiDAR data, we scale the waveform to 30m in the x-dimension, and </span></span>
<span id="cb551-28"><a href="#cb551-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># offset by 12.5m (the radius of the GEDI footprint) in the x-dimension.</span></span>
<span id="cb551-29"><a href="#cb551-29" aria-hidden="true" tabindex="-1"></a>  d<span class="sc">$</span>x_wf<span class="ot">=</span>d<span class="sc">$</span>x<span class="sc">+</span>d<span class="sc">$</span>rxwaveform<span class="sc">*</span><span class="dv">30</span><span class="fl">+12.5</span></span>
<span id="cb551-30"><a href="#cb551-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-31"><a href="#cb551-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add GEDI points to 3D space in &#39;green&#39; color</span></span>
<span id="cb551-32"><a href="#cb551-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This time, subtracting the elevation difference for that shot</span></span>
<span id="cb551-33"><a href="#cb551-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">points3d</span>(<span class="at">x=</span>d<span class="sc">$</span>x_wf, <span class="at">y=</span>d<span class="sc">$</span>y, <span class="at">z=</span>d<span class="sc">$</span>elevation<span class="sc">-</span>net_diff[shot_n], <span class="at">col=</span><span class="st">&quot;green&quot;</span>, <span class="at">add=</span>T)</span>
<span id="cb551-34"><a href="#cb551-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb551-35"><a href="#cb551-35" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="optional---neon-base-plots" class="section level3 hasAnchor" number="6.12.17">
<h3 class="hasAnchor"><span class="header-section-number">6.12.17</span> Optional - NEON base plots<a href="#optional---neon-base-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You may also be interested to see if any of the GEDI footprints intersect a NEON base plot, which would allow for a direct comparison of the GEDI waveform with many of the datasets which are collected within the base plots, such as the vegetation structure data product containing height, DBH, and species identification of all trees &gt;10cm DBH. While it is statistically pretty unlikely that a GEDI footprint will intersect with your base plot of interest, it is possible that <em>some</em> GEDI footprint will intersetc with <em>some</em> base plot in your study area, so we may as well take a look:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="#cb552-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;./data/&quot;</span>) <span class="co"># This will depend upon your local environment</span></span>
<span id="cb552-2"><a href="#cb552-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb552-3"><a href="#cb552-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Download the NEON TOS plots polygons directly from the NEON website</span></span>
<span id="cb552-4"><a href="#cb552-4" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url=</span><span class="st">&quot;https://data.neonscience.org/api/v0/documents/All_NEON_TOS_Plots_V8&quot;</span>, </span>
<span id="cb552-5"><a href="#cb552-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile=</span><span class="st">&quot;All_NEON_TOS_Plots_V8.zip&quot;</span>, <span class="at">mode =</span> <span class="st">&#39;wb&#39;</span>)</span>
<span id="cb552-6"><a href="#cb552-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="st">&quot;All_NEON_TOS_Plots_V8.zip&quot;</span>)</span>
<span id="cb552-7"><a href="#cb552-7" aria-hidden="true" tabindex="-1"></a>NEON_all_plots <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&#39;All_NEON_TOS_Plots_V8/All_NEON_TOS_Plot_Polygons_V8.shp&#39;</span>)</span></code></pre></div>
<pre><code>## Reading layer `All_NEON_TOS_Plot_Polygons_V8&#39; from data source 
##   `C:\Users\rohan\Environmental-Informatics-Using-Research-Infrastructures-and-their-Data\data\All_NEON_TOS_Plots_V8\All_NEON_TOS_Plot_Polygons_V8.shp&#39; 
##   using driver `ESRI Shapefile&#39;
## Simple feature collection with 3841 features and 36 fields
## Geometry type: POLYGON
## Dimension:     XY
## Bounding box:  xmin: -156.6516 ymin: 17.9514 xmax: -66.82358 ymax: 71.3169
## Geodetic CRS:  WGS 84</code></pre>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="#cb554-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select just the WREF site</span></span>
<span id="cb554-2"><a href="#cb554-2" aria-hidden="true" tabindex="-1"></a>SITECODE <span class="ot">=</span> <span class="st">&#39;WREF&#39;</span></span>
<span id="cb554-3"><a href="#cb554-3" aria-hidden="true" tabindex="-1"></a>base_plots_SPDF <span class="ot">&lt;-</span> NEON_all_plots[</span>
<span id="cb554-4"><a href="#cb554-4" aria-hidden="true" tabindex="-1"></a>  (NEON_all_plots<span class="sc">$</span>siteID <span class="sc">==</span> SITECODE)<span class="sc">&amp;</span></span>
<span id="cb554-5"><a href="#cb554-5" aria-hidden="true" tabindex="-1"></a>    (NEON_all_plots<span class="sc">$</span>subtype <span class="sc">==</span> <span class="st">&#39;basePlot&#39;</span>),]</span>
<span id="cb554-6"><a href="#cb554-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(NEON_all_plots)</span>
<span id="cb554-7"><a href="#cb554-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb554-8"><a href="#cb554-8" aria-hidden="true" tabindex="-1"></a>base_crop<span class="ot">=</span><span class="fu">st_crop</span>(base_plots_SPDF, <span class="fu">extent</span>(chm_WGS))</span></code></pre></div>
<pre><code>## Warning: attribute variables are assumed to be spatially constant throughout all
## geometries</code></pre>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="#cb556-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(chm_WGS)</span>
<span id="cb556-2"><a href="#cb556-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(base_crop<span class="sc">$</span>geometry, <span class="at">border =</span> <span class="st">&#39;blue&#39;</span>, <span class="at">add=</span>T)</span></code></pre></div>
<p><img src="06-NEON_AOP_files/figure-html/import%20and%20plot%20base%20plots-1.png" width="672" /></p>
</div>
</div>
<div id="neon-aop-written-questions" class="section level2 hasAnchor" number="6.13">
<h2 class="hasAnchor"><span class="header-section-number">6.13</span> NEON AOP Written Questions:<a href="#neon-aop-written-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>Reminder: these questions are largely based on the assigned video lectures. I highly recommend you watching or re-watching them before tackling these questions.</em></p>
<ol style="list-style-type: decimal">
<li><p>What is the overlap in the type of data generated by NEON AOP and PhenoCam. What metrics from PhenoCam could you apply to NEON AOP data, especially once there are &gt;10 years of aerial data?</p></li>
<li><p>List 4 challenges to timing AOP flight campaigns.</p></li>
<li><p>When using NEON AOP data, when should you use <code>byTileAOP</code> versus <code>byFileAOP</code>? What additional processing might you need to do if you worked with the <code>byFileAOP</code> data?
<em>Hint: try pulling the data in both formats (this will take a while)</em></p></li>
<li><p>How do the additional bands in NEON AOP improve our contraint of Biodiversity and Ecosystem Structure relative to satelite-derived data?</p></li>
<li><p>What role do campaigns such as NEON AOP play in ‘filling the sampling gap’ of essential <em>in situ</em> data such as FLUXNET (Eddy Co-Variance) data?</p></li>
<li><p>List 3 attributes of NEON AOP data that are unique to other publicly served data.
<em>Hints: Band width? Resolution? Something else?</em></p></li>
<li><p>Which data product(s) derived from the NEON AOP campaign align with remotely-sensed products from NASA?<br />
<em>Hint: start with vegetation indices</em></p></li>
</ol>
</div>
<div id="neon-aop-coding-lab" class="section level2 hasAnchor" number="6.14">
<h2 class="hasAnchor"><span class="header-section-number">6.14</span> NEON AOP Coding Lab<a href="#neon-aop-coding-lab" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For the purpose of this coding lab we will evaluate 2 different forested sites in 2018:</p>
<ol style="list-style-type: decimal">
<li>Guanica (GUAN) in Puerto Rico:</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Rz9kgfPgLPo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<ol start="2" style="list-style-type: decimal">
<li>Bartlett Experimental Forest (BART) in New Hampshire:</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zK4cEEs-8tQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><strong>1:</strong> How are these two forests similar? How are they different? <em>(3-5 sentences)</em></p>
<p><em>A few places to start if you need them. You don’t have to address these, just in case you need some hints:</em>
<em>Climate? How that could affect vegetation structure?</em>
<em>Heterogeniety of the ecossytems?</em>
<em>How seasonal are they? (hint:PhenoCam)</em>
<em>Something else?</em></p>
<p><strong>2:</strong> Using this NEON tutorial and the tutorials we’ve covered in this textbook <em>(hint: you did half of this workflow in your very first coding lab)</em> pull the NEON AOP derived Canopy Height Model (CHM, <code>DP3.30015.001</code>) and High-resolution orthorectified camera imagery mosaic
<code>DP3.30010.001</code> for each forest and overlay the NEON TOS Woody Vegetation Structure <code>DP1.10098.001</code> basal diameter data product to evaluate how well AOP captures trees in each forest.<br />
<strong>Generate a labeled 2x2 plot panel including:</strong></p>
<ul>
<li><p><strong>Each RGB image with basal diameter overlaid</strong></p></li>
<li><p><strong>Each CHM with basal diameter overlaid</strong></p></li>
</ul>
<p><em>Hints/reminders from section 2.9:</em></p>
<pre><code>&lt;- loadByProduct
&lt;- getLocTOS
&lt;- merge</code></pre>
<p><strong>Write 2-3 sentences summarizing your findings and thoughts.</strong></p>
<p><strong>3:</strong> Use the <code>byTileAOP</code> function of the <code>neonUtilities</code> package to pull a subset of the descrete LiDAR pointcloud for each forest (<em>Hint: You can feed <code>byTileAOP</code> Easting and Northing from your <code>Vegetation Structure</code> dataframe(s)</em>). Use the <code>structural_diversity_metrics</code> function that you defined in section 6.5 of the textbook to process discrete return LiDAR for each site and generte structural diversity metrics.</p>
<ul>
<li>Using <code>lidR</code> generate a labeled 2-panel plot of your canopy height model for each forest</li>
<li>Using <code>lidR</code> generate a labeled 2-panel plot of a cross-section for each forest</li>
<li>Use section <code>6.5.3 Comparing Metrics Between Forests</code> to compare each forest and generate a a clean summary table via <code>kable</code></li>
<li>Using <strong>Table 2</strong> from <a href="https://doi.org/10.3390/rs12091407" target="_blank">LaRue, Wagner, et al. (2020) </a> as a reference, write 1-2 paragraphs summarizing the differences in forest structural diversity between the two forests and how they may relate to your answers to <strong>Question 1</strong>.</li>
</ul>
</div>
<div id="neon-aop-culmination-write-up" class="section level2 hasAnchor" number="6.15">
<h2 class="hasAnchor"><span class="header-section-number">6.15</span> NEON AOP Culmination Write Up<a href="#neon-aop-culmination-write-up" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Write up a 1-page <strong>derived data product or research pipeline proposal</strong> summary of a project that you might want to explore using NEON AOP data. Include the types of NEON (and other data) that you would need to implement this project. Save this summary as you will be refining and adding to your ideas over the course of the semester.</p>
<p>Suggestions:</p>
<ol style="list-style-type: decimal">
<li><p>Tables or bullet lists of <strong>specific</strong> data products</p></li>
<li><p>An <strong>overarching high-quality figure</strong> to show how these data align</p></li>
<li><p>One paragraph summarizing <em>how</em> this data or analysis is useful to <strong>you and/or the infrastructure</strong>.</p></li>
</ol>
<!--chapter:end:06-NEON_AOP.Rmd-->
</div>
</div>
<div id="nasas-earth-observing-system-eos" class="section level1 hasAnchor" number="7">
<h1 class="hasAnchor"><span class="header-section-number">7</span> NASA’s Earth Observing System (EOS)<a href="#nasas-earth-observing-system-eos" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>Estimated Time: 3 hours</p>
</blockquote>
<div id="learning-objectives-6" class="section level2 hasAnchor" number="7.1">
<h2 class="hasAnchor"><span class="header-section-number">7.1</span> Learning Objectives<a href="#learning-objectives-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Describe the mission of NASA EOS</li>
<li>Describe the roles of DAACs in distributing data</li>
<li>Interact with the AppEEARS API to query the list of available products</li>
<li>Submit and download submitting a point and area sample requests, download the request</li>
<li>Filter data based on quality</li>
</ul>
<p><img src="images/CURRENT-Earth-Missions10_2019.png" width="400" /></p>
</div>
<div id="nasa-eos-project-mission-design" class="section level2 hasAnchor" number="7.2">
<h2 class="hasAnchor"><span class="header-section-number">7.2</span> NASA EOS Project Mission &amp; Design<a href="#nasa-eos-project-mission-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>NASA’s Earth Observing System (EOS) is a coordinated series of polar-orbiting and low inclination satellites for long-term global observations of the land surface, biosphere, solid Earth, atmosphere, and oceans. As a major component of the Earth Science Division of NASA’s Science Mission Directorate, EOS enables an improved understanding of the Earth as an integrated system.</p>
<p><a href="https://eospso.nasa.gov/files/mission_profile.pdf"><strong>Review NASA EOS’s Mission Profile</strong></a></p>
<ul>
<li><p>Completed Missions</p></li>
<li><p>Current Missions</p></li>
<li><p>Future Missions</p></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pDvRE0iF9ME" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>Credit: NASA’s Goddard Space Flight Center</p>
</blockquote>
</div>
<div id="nasa-eos-earth-data-account" class="section level2 hasAnchor" number="7.3">
<h2 class="hasAnchor"><span class="header-section-number">7.3</span> NASA EOS Earth Data Account:<a href="#nasa-eos-earth-data-account" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The EOSDIS Earthdata Login provides a centralized and simplified mechanism for user registration and profile management for all EOSDIS system components. End users may register and edit their profile information in one location allowing them access to the wide array of EOSDIS data and services. The EOSDIS Earthdata Login also helps the EOSDIS program better understand the user demographics and access patterns in support of planning for new value-added features and customized services that can be directed to specific users or user groups resulting in better user experience.</p>
<p>Earthdata Login provides user registration and authentication services and a common set of user information to all EOSDIS data centers in a manner that permits the data center to integrate their additional requirements with the Earthdata Login services. Below is a brief description of services provided by the Earthdata Login.</p>
</div>
<div id="nasa-eos-coding-assignment-1" class="section level2 hasAnchor" number="7.4">
<h2 class="hasAnchor"><span class="header-section-number">7.4</span> <strong>NASA EOS Coding Assignment 1</strong><a href="#nasa-eos-coding-assignment-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>Suggested completion: following lecture 1 on NASA EOS</em></p>
<p><strong>To submit via BBLearn:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Follow the <a href="https://urs.earthdata.nasa.gov/documentation">steps in the NASA EOSDIS documentation</a> to sign up for an Earth Data account.</p></li>
<li><p>Write an R script that stores your <code>user</code> and <code>password</code> called <code>EARTHDATA_Token.R</code> and submit the following line of code via .Rmd and PDF:</p></li>
</ol>
<pre><code>source(&#39;./Tokens/EARTHDATA_Token.R&#39;) #path will change based on where you stored it
exists(&#39;user&#39;)</code></pre>
</div>
<div id="distributed-active-archive-centers" class="section level2 hasAnchor" number="7.5">
<h2 class="hasAnchor"><span class="header-section-number">7.5</span> Distributed Active Archive Centers<a href="#distributed-active-archive-centers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="lp-daac" class="section level3 hasAnchor" number="7.5.1">
<h3 class="hasAnchor"><span class="header-section-number">7.5.1</span> LP DAAC<a href="#lp-daac" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <a href="https://lpdaac.usgs.gov/about/">Land Processes Distributed Active Archive Center (LP DAAC)</a> is one of several discipline-specific data centers within the NASA EOS Data and Information System <a href="https://earthdata.nasa.gov/about-eosdis?_ga=2.174168546.1999623198.1596733217-204014717.1592177507">(EOSDIS)</a>. The LP DAAC operates as a partnership between the U.S. Geological Survey (USGS) and the National Aeronautics and Space Administration (NASA). Data specialists, system engineers, user service representatives, and science communicators work in collaboration to support LP DAAC activities.</p>
<p><strong>Watch this 4:02 minute video on LP DAAC’s 2019-2021 Prosectus</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pCuE007qEqI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
</div>
<div id="the-lpdaac-mission-process-archive-distribute-apply" class="section level2 hasAnchor" number="7.6">
<h2 class="hasAnchor"><span class="header-section-number">7.6</span> The LPDAAC Mission: Process, Archive, Distribute, Apply<a href="#the-lpdaac-mission-process-archive-distribute-apply" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The LP DAAC processes, archives, and distributes land data products to hundreds of thousands of users in the earth science community. Land data products are made universally accessible and support the ongoing monitoring of Earth’s land dynamics and environmental systems to facilitate interdisciplinary research, education, and decision-making.</p>
<p><strong>Process:</strong> Raw data collected from specific satellite sensors, such as ASTER onboard NASA’s Terra satellite, are received and processed into a readable and interpretable format here at the LP DAAC, while other data undergo processing in other facilities around the country before arriving to the LP DAAC to be archived and distributed to the public.</p>
<p><strong>Archive:</strong> The LP DAAC continually archives a wide variety of land remote sensing data products collected by sensors onboard satellites, aircraft, and the International Space Station (ISS). The archive currently totals more than 3.5 petabytes of data, the equivalent of listening to 800 million songs, and distributes data to over 200,000 global users.</p>
<p><strong>Distribute:</strong> All data products in the archive are distributed free of charge through NASA <a href="https://search.earthdata.nasa.gov/search">Earthdata Search</a> and <a href="https://earthexplorer.usgs.gov/">USGS EarthExplorer</a> search and download clients. The LP DAAC also supports tools and services, like the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/">Application for Extracting and Exploring Analysis Ready Samples (AppEEARS)</a>, which allows users to transform and visualize data before download while offering enhanced subsetting and reprojecting capabilities.</p>
<div id="how-you-can-use-lp-daacs-data" class="section level3 hasAnchor" number="7.6.1">
<h3 class="hasAnchor"><span class="header-section-number">7.6.1</span> How you can use LP DAAC’s data<a href="#how-you-can-use-lp-daacs-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Watch this 2:13 minute long video on searching for data at the LP DAAC</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zX-cuTWeh8Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
</div>
<div id="appeears" class="section level2 hasAnchor" number="7.7">
<h2 class="hasAnchor"><span class="header-section-number">7.7</span> AppEEARS<a href="#appeears" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The Application for Extracting and Exploring Analysis Ready Samples (<a href="https://lpdaacsvc.cr.usgs.gov/appeears/">AppEEARS</a>) offers a simple and efficient way to access and transform <a href="https://lpdaacsvc.cr.usgs.gov/appeears/products">geospatial data</a> from a variety of federal data archives in an easy-to-use web application interface. AppEEARS enables users to subset geospatial data spatially, temporally, and by band/layer for point and area samples. AppEEARS returns not only the requested data, but also the associated quality values, and offers interactive visualizations with summary statistics in the web interface. The <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">AppEEARS API</a> offers users <strong>programmatic access</strong> to all features available in AppEEARS, with the exception of visualizations. The API features are demonstrated in this tutorial.</p>
</div>
<div id="hands-on-pulling-appeears-data-via-the-api" class="section level2 hasAnchor" number="7.8">
<h2 class="hasAnchor"><span class="header-section-number">7.8</span> Hands on: Pulling AppEEARS Data via the API<a href="#hands-on-pulling-appeears-data-via-the-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>The following section was adapted from <a href="https://lpdaac.usgs.gov/resources/e-learning/getting-started-appeears-api-r-point-request/">LPDAAC’s E-Learning Tutorials on the AppEEARS API</a> and modified to request data for NEON sites.</em></p>
<blockquote>
<p>Contributing Authors:
Material written by Mahsa Jami<sup>1</sup> and Cole Krehbiel<sup>1</sup><br />
Contact: <a href="mailto:LPDAAC@usgs.gov" class="email">LPDAAC@usgs.gov</a><br />
Voice: +1-866-573-3222<br />
Organization: Land Processes Distributed Active Archive Center (LP DAAC)<br />
Website: <a href="https://lpdaac.usgs.gov/" class="uri">https://lpdaac.usgs.gov/</a><br />
Date last modified: 06-12-2020</p>
</blockquote>
<blockquote>
<p><sup>1</sup> KBR, Inc., contractor to the U.S. Geological Survey, Earth Resources Observation and Science (EROS) Center,<br />
Sioux Falls, South Dakota, USA. Work performed under USGS contract G15PD00467 for LP DAAC<sup>2</sup>.</p>
</blockquote>
<blockquote>
<p><sup>2</sup> LP DAAC Work performed under NASA contract NNG14HH33I.</p>
</blockquote>
<p>Run the following chunk to install any packages you will need for this section:</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="#cb559-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages you will need for AppEEARS API Tutorials</span></span>
<span id="cb559-2"><a href="#cb559-2" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;getPass&#39;</span>,<span class="st">&#39;httr&#39;</span>,<span class="st">&#39;jsonlite&#39;</span>,<span class="st">&#39;ggplot2&#39;</span>,<span class="st">&#39;dplyr&#39;</span>,<span class="st">&#39;tidyr&#39;</span>,<span class="st">&#39;readr&#39;</span>,<span class="st">&#39;geojsonio&#39;</span>,<span class="st">&#39;geojsonR&#39;</span>,<span class="st">&#39;rgdal&#39;</span>,<span class="st">&#39;sp&#39;</span>, <span class="st">&#39;raster&#39;</span>, <span class="st">&#39;rasterVis&#39;</span>, <span class="st">&#39;RColorBrewer&#39;</span>, <span class="st">&#39;jsonlite&#39;</span>)</span>
<span id="cb559-3"><a href="#cb559-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-4"><a href="#cb559-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-5"><a href="#cb559-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-6"><a href="#cb559-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify missing packages</span></span>
<span id="cb559-7"><a href="#cb559-7" aria-hidden="true" tabindex="-1"></a>new.packages <span class="ot">=</span> packages[<span class="sc">!</span>(packages <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[,<span class="st">&quot;Package&quot;</span>])]</span>
<span id="cb559-8"><a href="#cb559-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-9"><a href="#cb559-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through and download the required packages</span></span>
<span id="cb559-10"><a href="#cb559-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(new.packages)[<span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>){</span>
<span id="cb559-11"><a href="#cb559-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">&#39;All packages already installed&#39;</span>)</span>
<span id="cb559-12"><a href="#cb559-12" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb559-13"><a href="#cb559-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(new.packages)){</span>
<span id="cb559-14"><a href="#cb559-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">paste0</span>(<span class="st">&#39;Installing: &#39;</span>, new.packages))</span>
<span id="cb559-15"><a href="#cb559-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">install.packages</span>(new.packages[i])</span>
<span id="cb559-16"><a href="#cb559-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb559-17"><a href="#cb559-17" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
</div>
<div id="getting-started-with-the-appeears-api-point-request" class="section level2 hasAnchor" number="7.9">
<h2 class="hasAnchor"><span class="header-section-number">7.9</span> Getting Started with the AppEEARS API (Point Request)<a href="#getting-started-with-the-appeears-api-point-request" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<p><strong>This section demonstrates how to use R to connect to the AppEEARS API</strong>
The Application for Extracting and Exploring Analysis Ready Samples (<a href="https://lpdaacsvc.cr.usgs.gov/appeears/">AppEEARS</a>) offers a simple and efficient way to access and transform <a href="https://lpdaacsvc.cr.usgs.gov/appeears/products">geospatial data</a> from a variety of federal data archives in an easy-to-use web application interface. AppEEARS enables users to subset geospatial data spatially, temporally, and by band/layer for point and area samples. AppEEARS returns not only the requested data, but also the associated quality values, and offers interactive visualizations with summary statistics in the web interface. The <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">AppEEARS API</a> offers users <strong>programmatic access</strong> to all features available in AppEEARS, with the exception of visualizations. The API features are demonstrated in this tutorial.</p>
<hr />
<div id="example-submit-a-point-request-for-multiple-neon-sites-to-extract-vegetation-and-land-surface-temperature-data" class="section level3 hasAnchor" number="7.9.1">
<h3 class="hasAnchor"><span class="header-section-number">7.9.1</span> Example: Submit a point request for multiple NEON sites to extract vegetation and land surface temperature data<a href="#example-submit-a-point-request-for-multiple-neon-sites-to-extract-vegetation-and-land-surface-temperature-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this tutorial, Connecting to the AppEEARS API, querying the list of available products, submitting a point sample request, downloading the request, working with the AppEEARS Quality API, and loading the results into R for visualization are covered. AppEEARS point requests allow users to subset their desired data using latitude/longitude geographic coordinate pairs (points) for a time period of interest, and for specific data layers within data products. AppEEARS returns the valid data from the parameters defined within the sample request.</p>
<div id="data-used-in-the-example" class="section level4 hasAnchor" number="7.9.1.1">
<h4 class="hasAnchor"><span class="header-section-number">7.9.1.1</span> Data Used in the Example:<a href="#data-used-in-the-example" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Data layers:
<ul>
<li>Combined MODIS Leaf Area Index (LAI)
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MCD15A3H.006">MCD15A3H.006</a>, 500m, 4 day: ‘Lai_500m’<br />
</li>
</ul></li>
<li>Terra MODIS Land Surface Temperature
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MOD11A2.006">MOD11A2.006</a>, 1000m, 8 day: ‘LST_Day_1km’, ‘LST_Night_1km’</li>
</ul></li>
</ul></li>
</ul>
<hr />
</div>
</div>
</div>
<div id="topics-covered-in-this-section" class="section level2 hasAnchor" number="7.10">
<h2 class="hasAnchor"><span class="header-section-number">7.10</span> Topics Covered in this section:<a href="#topics-covered-in-this-section" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p><strong>Getting Started</strong></p>
<p>1a. Load Packages</p>
<p>1b. Set Up the Output Directory</p>
<p>1c. Login</p></li>
<li><p><strong>Query Available Products</strong></p>
<p>2a. Search and Explore Available Products</p>
<p>2b. Search and Explore Available Layers</p></li>
<li><p><strong>Submit a Point Request</strong></p>
<p>3a. Compile a JSON Object</p>
<p>3b. Submit a Task Request</p>
<p>3c. Retrieve Task Status</p></li>
<li><p><strong>Download a Request</strong></p>
<p>4a. Explore Files in Request Output</p>
<p>4b. Download Files in a Request (Automation)</p></li>
<li><p><strong>Explore AppEEARS Quality API</strong></p>
<p>5a. List Quality Layers</p>
<p>5b. Show Quality Values</p>
<p>5c. Decode Quality Values</p></li>
<li><p><strong>BONUS: Load Request Output and Visualize</strong></p>
<p>6a. Load CSV</p>
<p>6b. Plot Results (Line/Scatter Plots)</p></li>
</ol>
<hr />
<div id="prerequisites" class="section level3 hasAnchor" number="7.10.1">
<h3 class="hasAnchor"><span class="header-section-number">7.10.1</span> Prerequisites:<a href="#prerequisites" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>A <a href="https://urs.earthdata.nasa.gov/">NASA Earthdata Login</a> account is required to login to the AppEEARS API and submit a request . You can create an account at the link provided.</p></li>
<li><p>R and RStudio.
These tutorials have been tested on Windows and MAC systems using R Version 4.0.0, RStudio version 1.1.463, and the specifications listed below.</p>
<ul>
<li>Required packages:
<ul>
<li><code>getPass</code><br />
</li>
<li><code>httr</code><br />
</li>
<li><code>jsonlite</code><br />
</li>
<li><code>warnings</code></li>
</ul></li>
<li>To read and visualize the tabular data:
<ul>
<li><code>dplyr</code><br />
</li>
<li><code>tidyr</code></li>
<li><code>readr</code><br />
</li>
<li><code>ggplot2</code></li>
</ul></li>
</ul></li>
</ul>
<hr />
<div id="getting-started-1" class="section level4 hasAnchor" number="7.10.1.1">
<h4 class="hasAnchor"><span class="header-section-number">7.10.1.1</span> Getting Started:<a href="#getting-started-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p>Clone/download <a href="https://git.earthdata.nasa.gov/rest/api/latest/projects/LPDUR/repos/appeears-api-getting-started_r/archive?format=zip">AppEEARS API Getting Started in R Repository</a> from the LP DAAC Data User Resources Repository or pull code from this textbook.</p></li>
<li><p>If you opted to clone LP DAAC’s repo open the <code>AppEEARS_API_R.Rproj</code> file to directly open the project. Next, select the <code>AppEEARS_API_Point_R.Rmd</code> from the files list and open it.</p></li>
</ol>
<hr />
</div>
</div>
<div id="appeears-information" class="section level3 hasAnchor" number="7.10.2">
<h3 class="hasAnchor"><span class="header-section-number">7.10.2</span> AppEEARS Information:<a href="#appeears-information" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To access AppEEARS, visit: <a href="https://lpdaacsvc.cr.usgs.gov/appeears/" class="uri">https://lpdaacsvc.cr.usgs.gov/appeears/</a>.</p>
<p>For comprehensive documentation of the full functionality of the AppEEARS API, please see the AppEEARS <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">API Documentation</a>.</p>
<hr />
</div>
</div>
<div id="getting-started-with-the-appeears-api" class="section level2 hasAnchor" number="7.11">
<h2 class="hasAnchor"><span class="header-section-number">7.11</span> Getting Started with the AppEEARS API<a href="#getting-started-with-the-appeears-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="load-packages" class="section level3 hasAnchor" number="7.11.1">
<h3 class="hasAnchor"><span class="header-section-number">7.11.1</span> Load Packages<a href="#load-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, load the R packages necessary to run the tutorial.</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="#cb560-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary packages into R                                               </span></span>
<span id="cb560-2"><a href="#cb560-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(getPass)            <span class="co"># A micro-package for reading passwords</span></span>
<span id="cb560-3"><a href="#cb560-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)               <span class="co"># To send a request to the server/receive a response from the server</span></span>
<span id="cb560-4"><a href="#cb560-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)           <span class="co"># Implements a bidirectional mapping between JSON data and the most important R data types</span></span>
<span id="cb560-5"><a href="#cb560-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)            <span class="co"># Functions for graphing and mapping</span></span>
<span id="cb560-6"><a href="#cb560-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)              <span class="co"># Function for working with tabular data</span></span>
<span id="cb560-7"><a href="#cb560-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)              <span class="co"># Function for working with tabular data</span></span>
<span id="cb560-8"><a href="#cb560-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)              <span class="co"># Read rectangular data like CSV</span></span></code></pre></div>
<hr />
</div>
<div id="set-up-the-output-directory" class="section level3 hasAnchor" number="7.11.2">
<h3 class="hasAnchor"><span class="header-section-number">7.11.2</span> Set Up the Output Directory<a href="#set-up-the-output-directory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Set your input directory, and create an output directory for the results.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="#cb561-1" aria-hidden="true" tabindex="-1"></a>outDir <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="st">&#39;./data/&#39;</span>)                 <span class="co"># Create an output directory if it doesn&#39;t exist</span></span>
<span id="cb561-2"><a href="#cb561-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>(<span class="fu">dir.create</span>(outDir))                 </span></code></pre></div>
<hr />
</div>
<div id="login-to-earth-data" class="section level3 hasAnchor" number="7.11.3">
<h3 class="hasAnchor"><span class="header-section-number">7.11.3</span> Login to Earth Data<a href="#login-to-earth-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To submit a request, you must first login to the AppEEARS API. Use your private <code>R Script</code> to enter your NASA Earthdata login Username and Password.</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="#cb562-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;EARTHDATA_Token.R&#39;</span>) <span class="co">#path will change based on where you stored it</span></span>
<span id="cb562-2"><a href="#cb562-2" aria-hidden="true" tabindex="-1"></a><span class="fu">exists</span>(<span class="st">&#39;user&#39;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Decode the username and password to be used to post login request.</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="#cb564-1" aria-hidden="true" tabindex="-1"></a>secret <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">base64_enc</span>(<span class="fu">paste</span>(user, password, <span class="at">sep =</span> <span class="st">&quot;:&quot;</span>))  <span class="co"># Encode the string of username and password</span></span></code></pre></div>
<p>Next, assign the AppEEARS API URL to a static variable.</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="#cb565-1" aria-hidden="true" tabindex="-1"></a>API_URL <span class="ot">=</span> <span class="st">&quot;https://appeears.earthdatacloud.nasa.gov/api/&quot;</span>  <span class="co"># Set the AppEEARS API to a variable</span></span></code></pre></div>
<p>Use the <code>httr</code> package to post your username and password. A successful login will provide you with a token to be used later in this tutorial to submit a request. For more information or if you are experiencing difficulties, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#login">API Documentation</a>.</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="#cb566-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert API URL, call login service, set the component of HTTP header, and post the request to the server</span></span>
<span id="cb566-2"><a href="#cb566-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">POST</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;login&quot;</span>), </span>
<span id="cb566-3"><a href="#cb566-3" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">add_headers</span>(<span class="st">&quot;Authorization&quot;</span> <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">&quot;Basic&quot;</span>, <span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="st">&quot;&quot;</span>, secret)),</span>
<span id="cb566-4"><a href="#cb566-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">&quot;Content-Type&quot;</span> <span class="ot">=</span><span class="st">&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;</span>),</span>
<span id="cb566-5"><a href="#cb566-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">body =</span> <span class="st">&quot;grant_type=client_credentials&quot;</span>)</span>
<span id="cb566-6"><a href="#cb566-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb566-7"><a href="#cb566-7" aria-hidden="true" tabindex="-1"></a>response_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response)                          <span class="co"># Retrieve the content of the request</span></span>
<span id="cb566-8"><a href="#cb566-8" aria-hidden="true" tabindex="-1"></a>token_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)  <span class="co"># Convert the response to the JSON object</span></span>
<span id="cb566-9"><a href="#cb566-9" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(user, password, secret, response)                       <span class="co"># Remove the variables that are not needed anymore </span></span>
<span id="cb566-10"><a href="#cb566-10" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(token_response)                                       <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;token_type&quot;: &quot;Bearer&quot;,
##     &quot;token&quot;: &quot;-UXsO38C8yKtS2dkEQr0dpbk397Oa-s8d2MtqzdYmHkzkLAg9hZ9Sx445pu8MqqnGcm_VYFpvHdEaEmJSlhE8g&quot;,
##     &quot;expiration&quot;: &quot;2022-10-14T19:16:11Z&quot;
## }
## </code></pre>
<p><strong>Above, you should see a Bearer token. Notice that this token will expire approximately 48 hours after being acquired.</strong></p>
<hr />
</div>
</div>
<div id="query-available-products" class="section level2 hasAnchor" number="7.12">
<h2 class="hasAnchor"><span class="header-section-number">7.12</span> Query Available Products<a href="#query-available-products" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The product API provides details about all of the products and layers available in AppEEARS. For more information, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#product">API Documentation</a>.</p>
<p>Below, call the product API to list all of the products available in AppEEARS.</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="#cb568-1" aria-hidden="true" tabindex="-1"></a>prods_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;product&quot;</span>))             <span class="co"># Request the info of all products from product service</span></span>
<span id="cb568-2"><a href="#cb568-2" aria-hidden="true" tabindex="-1"></a>prods_content <span class="ot">&lt;-</span> <span class="fu">content</span>(prods_req)                      <span class="co"># Retrieve the content of request </span></span>
<span id="cb568-3"><a href="#cb568-3" aria-hidden="true" tabindex="-1"></a>all_Prods <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(prods_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)    <span class="co"># Convert the info to JSON object</span></span>
<span id="cb568-4"><a href="#cb568-4" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(prods_req, prods_content)                         <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb568-5"><a href="#cb568-5" aria-hidden="true" tabindex="-1"></a><span class="co"># prettify(all_Prods)                                      # Print the prettified product response</span></span></code></pre></div>
<hr />
</div>
<div id="search-and-explore-available-products" class="section level2 hasAnchor" number="7.13">
<h2 class="hasAnchor"><span class="header-section-number">7.13</span> Search and Explore Available Products<a href="#search-and-explore-available-products" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create a list indexed by product name to make it easier to query a specific product.</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="#cb569-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Divides information from each product.</span></span>
<span id="cb569-2"><a href="#cb569-2" aria-hidden="true" tabindex="-1"></a>divided_products <span class="ot">&lt;-</span> <span class="fu">split</span>(<span class="fu">fromJSON</span>(all_Prods), <span class="fu">seq</span>(<span class="fu">nrow</span>(<span class="fu">fromJSON</span>(all_Prods))))</span>
<span id="cb569-3"><a href="#cb569-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list indexed by the product name and version</span></span>
<span id="cb569-4"><a href="#cb569-4" aria-hidden="true" tabindex="-1"></a>products <span class="ot">&lt;-</span> <span class="fu">setNames</span>(divided_products,<span class="fu">fromJSON</span>(all_Prods)<span class="sc">$</span>ProductAndVersion)</span>
<span id="cb569-5"><a href="#cb569-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print no. products available in AppEEARS</span></span>
<span id="cb569-6"><a href="#cb569-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;AppEEARS currently supports %i products.&quot;</span> ,<span class="fu">length</span>(products))   </span></code></pre></div>
<pre><code>## [1] &quot;AppEEARS currently supports 159 products.&quot;</code></pre>
<p>Next, look at the product’s names and descriptions. Below, the ‘ProductAndVersion’ and ‘Description’ are printed for all products.</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="#cb571-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through the products in the list and print the product name and description</span></span>
<span id="cb571-2"><a href="#cb571-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> products){                                   </span>
<span id="cb571-3"><a href="#cb571-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(p<span class="sc">$</span>ProductAndVersion,<span class="st">&quot; is &quot;</span>,p<span class="sc">$</span>Description,<span class="st">&quot; from &quot;</span>,p<span class="sc">$</span>Source))  </span>
<span id="cb571-4"><a href="#cb571-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;GPW_DataQualityInd.411 is Quality of Input Data for Population Count and Density Grids from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopCount.411 is UN-adjusted Population Count from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopDensity.411 is UN-adjusted Population Density from SEDAC&quot;
## [1] &quot;MCD12Q1.006 is Land Cover Type from LP DAAC&quot;
## [1] &quot;MCD12Q2.006 is Land Cover Dynamics from LP DAAC&quot;
## [1] &quot;MCD12Q1.061 is Land Cover Type from LP DAAC&quot;
## [1] &quot;MCD12Q2.061 is Land Cover Dynamics from LP DAAC&quot;
## [1] &quot;MCD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A2H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A3H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A3H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD43A1.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A1.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A2.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A3.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A3.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A4.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A4.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD64A1.006 is Burned Area (fire) from LP DAAC&quot;
## [1] &quot;MCD64A1.061 is Burned Area (fire) from LP DAAC&quot;
## [1] &quot;MOD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09A1.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GA.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09GQ.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09Q1.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MOD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A1.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A2.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A2.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A3.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13Q1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MOD14A2.061 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MOD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MOD15A2H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MOD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2.061 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A3GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2H.061 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2HGF.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2HGF.061 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MOD17A3HGF.061 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MOD21A1D.061 is Temperature and Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD21A1N.061 is Temperature and Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD21A2.061 is Temperature and Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD44B.006 is Vegetation Continuous Fields (VCF) from LP DAAC&quot;
## [1] &quot;MOD44W.006 is Land/Water Mask from LP DAAC&quot;
## [1] &quot;MODOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MODTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;MYD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09A1.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GA.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09GQ.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09Q1.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MYD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A1.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A2.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A2.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A3.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13Q1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MYD14A2.061 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MYD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MYD15A2H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MYD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2.061 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A3GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MYD17A2H.061 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MYD17A2HGF.006 is Gross Primary Productivity (GPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A2HGF.061 is Gross Primary Productivity (GPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A3HGF.061 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD21A1D.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1D.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1N.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1N.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A2.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYDOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MYDTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;NASADEM_NC.001 is Elevation from LP DAAC&quot;
## [1] &quot;NASADEM_NUMNC.001 is Source from LP DAAC&quot;
## [1] &quot;SPL3SMP_E.005 is Enhanced L3 Radiometer Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3SMP.008 is Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL4CMDL.006 is Carbon Net Ecosystem Exchange from NSIDC DAAC&quot;
## [1] &quot;SPL4SMGP.006 is Surface and Root Zone Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3FTP.003 is Freeze/Thaw State from NSIDC DAAC&quot;
## [1] &quot;SRTMGL1_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL1_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;ASTGTM_NC.003 is Elevation from LP DAAC&quot;
## [1] &quot;ASTGTM_NUMNC.003 is Source from LP DAAC&quot;
## [1] &quot;ASTWBD_ATTNC.001 is Water Bodies Database Attributes from LP DAAC&quot;
## [1] &quot;ASTWBD_NC.001 is Water Bodies Database Elevation from LP DAAC&quot;
## [1] &quot;VNP09H1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP09A1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP09GA.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP13A1.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A2.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A3.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP14A1.001 is Thermal Anomalies/Fire from LP DAAC&quot;
## [1] &quot;VNP15A2H.001 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;VNP21A1D.001 is Land Surface Temperature &amp; Emissivity Day (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A1N.001 is Land Surface Temperature &amp; Emissivity Night (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A2.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP22Q2.001 is Global Land Surface Phenology (GLSP) from LP DAAC&quot;
## [1] &quot;VNP43IA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43IA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43IA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43IA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;VNP43MA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43MA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43MA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43MA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;DAYMET.004 is Daily Surface Weather Data for North America from ORNL&quot;
## [1] &quot;ECO2LSTE.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;ECO2CLD.001 is Cloud Mask from LP DAAC&quot;
## [1] &quot;ECO3ETPTJPL.001 is Evapotranspiration PT-JPL from LP DAAC&quot;
## [1] &quot;ECO3ANCQA.001 is L3/L4 Ancillary Data Quality Assurance (QA) Flags from LP DAAC&quot;
## [1] &quot;ECO4ESIPTJPL.001 is Evaporative Stress Index PT-JPL from LP DAAC&quot;
## [1] &quot;ECO4WUE.001 is Water Use Efficiency from LP DAAC&quot;
## [1] &quot;ECO1BGEO.001 is Geolocation from LP DAAC&quot;
## [1] &quot;ECO1BMAPRAD.001 is Resampled Radiance from LP DAAC&quot;
## [1] &quot;ECO3ETALEXI.001 is Evapotranspiration dis-ALEXI from LP DAAC&quot;
## [1] &quot;ECO4ESIALEXI.001 is Evaporative Stress Index dis-ALEXI from LP DAAC&quot;
## [1] &quot;HLSS30.020 is Land Surface Reflectance from LP DAAC&quot;
## [1] &quot;HLSL30.020 is Land Surface Reflectance from LP DAAC&quot;</code></pre>
<p>The product service provides many useful details, including if a product is currently available in AppEEARS, a description, and information on the spatial and temporal resolution. Below, the product details are retrieved using ‘ProductAndVersion’.</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="#cb573-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the MCD15A3H.006 info to JSON object and print the prettified info</span></span>
<span id="cb573-2"><a href="#cb573-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(<span class="fu">toJSON</span>(products<span class="sc">$</span><span class="st">&quot;MCD15A3H.006&quot;</span>)) </span></code></pre></div>
<pre><code>## [
##     {
##         &quot;Product&quot;: &quot;MCD15A3H&quot;,
##         &quot;Platform&quot;: &quot;Combined MODIS&quot;,
##         &quot;Description&quot;: &quot;Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR)&quot;,
##         &quot;RasterType&quot;: &quot;Tile&quot;,
##         &quot;Resolution&quot;: &quot;500m&quot;,
##         &quot;TemporalGranularity&quot;: &quot;4 day&quot;,
##         &quot;Version&quot;: &quot;006&quot;,
##         &quot;Available&quot;: true,
##         &quot;DocLink&quot;: &quot;https://doi.org/10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;Source&quot;: &quot;LP DAAC&quot;,
##         &quot;TemporalExtentStart&quot;: &quot;2002-07-04&quot;,
##         &quot;TemporalExtentEnd&quot;: &quot;Present&quot;,
##         &quot;Deleted&quot;: false,
##         &quot;DOI&quot;: &quot;10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;
##     }
## ]
## </code></pre>
<p>Also, the products can be searched using their description. Below, search for products containing Leaf Area Index in their description and make a list of their productAndVersion.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="#cb575-1" aria-hidden="true" tabindex="-1"></a>LAI_Products <span class="ot">&lt;-</span> <span class="fu">list</span>()                                        <span class="co"># Create an empty list </span></span>
<span id="cb575-2"><a href="#cb575-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> products){                                          <span class="co"># Loop through the product list</span></span>
<span id="cb575-3"><a href="#cb575-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">grepl</span>(<span class="st">&#39;Leaf Area Index&#39;</span>, p<span class="sc">$</span>Description )){              <span class="co"># Look through the product description for a keyword </span></span>
<span id="cb575-4"><a href="#cb575-4" aria-hidden="true" tabindex="-1"></a>    LAI_Products <span class="ot">&lt;-</span> <span class="fu">append</span>(LAI_Products, p<span class="sc">$</span>ProductAndVersion) <span class="co"># Append the LAI products to the list</span></span>
<span id="cb575-5"><a href="#cb575-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb575-6"><a href="#cb575-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb575-7"><a href="#cb575-7" aria-hidden="true" tabindex="-1"></a>LAI_Products</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;MCD15A2H.006&quot;
## 
## [[2]]
## [1] &quot;MCD15A2H.061&quot;
## 
## [[3]]
## [1] &quot;MCD15A3H.006&quot;
## 
## [[4]]
## [1] &quot;MCD15A3H.061&quot;
## 
## [[5]]
## [1] &quot;MOD15A2H.006&quot;
## 
## [[6]]
## [1] &quot;MOD15A2H.061&quot;
## 
## [[7]]
## [1] &quot;MYD15A2H.006&quot;
## 
## [[8]]
## [1] &quot;MYD15A2H.061&quot;
## 
## [[9]]
## [1] &quot;VNP15A2H.001&quot;</code></pre>
<p>Using the info above, Create a list of desired products.</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="#cb577-1" aria-hidden="true" tabindex="-1"></a>desired_products <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;MCD15A3H.006&#39;</span>,<span class="st">&#39;MOD11A2.006&#39;</span>)   <span class="co"># Create a vector of desired products </span></span>
<span id="cb577-2"><a href="#cb577-2" aria-hidden="true" tabindex="-1"></a>desired_products</span></code></pre></div>
<pre><code>## [1] &quot;MCD15A3H.006&quot; &quot;MOD11A2.006&quot;</code></pre>
<hr />
</div>
<div id="search-and-explore-available-layers" class="section level2 hasAnchor" number="7.14">
<h2 class="hasAnchor"><span class="header-section-number">7.14</span> Search and Explore Available Layers<a href="#search-and-explore-available-layers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will list all of the layers available for a given product. Each product is referenced by its <code>ProductAndVersion</code> property which is also referred to as the product_id. First, request the layers for the <code>MCD15A3H.006</code> product.</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="#cb579-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request layers for the 1st product in the list: MCD15A3H.006</span></span>
<span id="cb579-2"><a href="#cb579-2" aria-hidden="true" tabindex="-1"></a>MCD15A3H_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">1</span>]))  <span class="co"># Request the info of a product from product URL</span></span>
<span id="cb579-3"><a href="#cb579-3" aria-hidden="true" tabindex="-1"></a>MCD15A3H_content <span class="ot">&lt;-</span> <span class="fu">content</span>(MCD15A3H_req)                             <span class="co"># Retrieve content of the request </span></span>
<span id="cb579-4"><a href="#cb579-4" aria-hidden="true" tabindex="-1"></a>MCD15A3H_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(MCD15A3H_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></span>
<span id="cb579-5"><a href="#cb579-5" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(MCD15A3H_req, MCD15A3H_content)                                <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb579-6"><a href="#cb579-6" aria-hidden="true" tabindex="-1"></a><span class="co">#prettify(MCD15A3H_response)                                          # Print the prettified response</span></span>
<span id="cb579-7"><a href="#cb579-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">fromJSON</span>(MCD15A3H_response))                                    <span class="co"># print the layer&#39;s names    </span></span></code></pre></div>
<pre><code>## [1] &quot;FparExtra_QC&quot;    &quot;FparLai_QC&quot;      &quot;FparStdDev_500m&quot; &quot;Fpar_500m&quot;      
## [5] &quot;LaiStdDev_500m&quot;  &quot;Lai_500m&quot;</code></pre>
<p>Next, request the layers for the <code>MOD11A2.006</code> product.</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="#cb581-1" aria-hidden="true" tabindex="-1"></a>MOD11_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">2</span>]))  <span class="co"># Request the info of a product from product URL</span></span>
<span id="cb581-2"><a href="#cb581-2" aria-hidden="true" tabindex="-1"></a>MOD11_content <span class="ot">&lt;-</span> <span class="fu">content</span>(MOD11_req)                                <span class="co"># Retrieve content of the request</span></span>
<span id="cb581-3"><a href="#cb581-3" aria-hidden="true" tabindex="-1"></a>MOD11_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(MOD11_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)         <span class="co"># Convert the content to JSON object</span></span>
<span id="cb581-4"><a href="#cb581-4" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(MOD11_req, MOD11_content)                                   <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb581-5"><a href="#cb581-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">fromJSON</span>(MOD11_response))                                    <span class="co"># print the layer names</span></span></code></pre></div>
<pre><code>##  [1] &quot;Clear_sky_days&quot;   &quot;Clear_sky_nights&quot; &quot;Day_view_angl&quot;    &quot;Day_view_time&quot;   
##  [5] &quot;Emis_31&quot;          &quot;Emis_32&quot;          &quot;LST_Day_1km&quot;      &quot;LST_Night_1km&quot;   
##  [9] &quot;Night_view_angl&quot;  &quot;Night_view_time&quot;  &quot;QC_Day&quot;           &quot;QC_Night&quot;</code></pre>
<p>Lastly, select the desired layers and pertinent products and make a data frame using this information. This data frame will be inserted into the nested data frame that will be used to create a JSON object to submit a request in <a href="#section3">Section 3</a>.</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="#cb583-1" aria-hidden="true" tabindex="-1"></a>desired_layers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;LST_Day_1km&quot;</span>,<span class="st">&quot;LST_Night_1km&quot;</span>,<span class="st">&quot;Lai_500m&quot;</span>)   <span class="co"># Create a vector of desired layers</span></span>
<span id="cb583-2"><a href="#cb583-2" aria-hidden="true" tabindex="-1"></a>desired_prods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MCD15A3H.006&quot;</span>)  <span class="co"># Create a vector of products including the desired layers</span></span>
<span id="cb583-3"><a href="#cb583-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame including the desired data products and layers</span></span>
<span id="cb583-4"><a href="#cb583-4" aria-hidden="true" tabindex="-1"></a>layers <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">product =</span> desired_prods, <span class="at">layer =</span> desired_layers) </span></code></pre></div>
<hr />
</div>
<div id="submit-a-point-request" class="section level2 hasAnchor" number="7.15">
<h2 class="hasAnchor"><span class="header-section-number">7.15</span> Submit a Point Request<a href="#submit-a-point-request" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The Submit task API call provides a way to submit a new request to be processed. It can accept data via JSON or query string. In the example below, create a JSON object and submit a request. Tasks in AppEEARS correspond to each request associated with your user account. Therefore, each of the calls to this service requires an authentication token.</p>
<hr />
<div id="compile-a-json-object" class="section level3 hasAnchor" number="7.15.1">
<h3 class="hasAnchor"><span class="header-section-number">7.15.1</span> Compile a JSON Object<a href="#compile-a-json-object" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, begin by setting up the information needed for a nested data frame that will be later converted to a JSON object for submitting an AppEEARS point request.
For detailed information on required JSON parameters, see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#tasks">API Documentation</a>.</p>
<p>For point requests, beside the date range and desired layers information, the coordinates property must also be inside the task object. Optionally, set <code>id</code> and <code>category</code> properties to further identify your selected coordinates.</p>
<p>We’ll start by requesting point-based data for <code>NEON.D17.SOAP</code> and <code>NEON.D17.SJER</code>:</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="#cb584-1" aria-hidden="true" tabindex="-1"></a>startDate <span class="ot">&lt;-</span> <span class="st">&quot;01-01-2020&quot;</span>       <span class="co"># Start of the date range for  which to extract data: MM-DD-YYYY</span></span>
<span id="cb584-2"><a href="#cb584-2" aria-hidden="true" tabindex="-1"></a>endDate <span class="ot">&lt;-</span> <span class="st">&quot;10-01-2020&quot;</span>         <span class="co"># End of the date range for  which to extract data: MM-DD-YYYY</span></span>
<span id="cb584-3"><a href="#cb584-3" aria-hidden="true" tabindex="-1"></a>recurring <span class="ot">&lt;-</span> <span class="cn">FALSE</span>              <span class="co"># Specify True for a recurring date range</span></span>
<span id="cb584-4"><a href="#cb584-4" aria-hidden="true" tabindex="-1"></a><span class="co">#yearRange &lt;- [2000,2016]       # If recurring = True, set yearRange, change start/end date to MM-DD</span></span>
<span id="cb584-5"><a href="#cb584-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb584-6"><a href="#cb584-6" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">37.0334</span>, <span class="fl">37.1088</span>)        <span class="co"># Latitude of the point sites </span></span>
<span id="cb584-7"><a href="#cb584-7" aria-hidden="true" tabindex="-1"></a>lon <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">119.2622</span>, <span class="sc">-</span><span class="fl">119.7323</span>)    <span class="co"># Longitude of the point sites</span></span>
<span id="cb584-8"><a href="#cb584-8" aria-hidden="true" tabindex="-1"></a>id <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;0&quot;</span>,<span class="st">&quot;1&quot;</span>)                      <span class="co"># ID for the point sites</span></span>
<span id="cb584-9"><a href="#cb584-9" aria-hidden="true" tabindex="-1"></a>category <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;SOAP&quot;</span>, <span class="st">&quot;SJER&quot;</span>) <span class="co"># Category for point sites</span></span>
<span id="cb584-10"><a href="#cb584-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb584-11"><a href="#cb584-11" aria-hidden="true" tabindex="-1"></a>taskName <span class="ot">&lt;-</span> <span class="st">&#39;NEON SOAP SJER Vegetation&#39;</span>           <span class="co"># Enter name of the task here</span></span>
<span id="cb584-12"><a href="#cb584-12" aria-hidden="true" tabindex="-1"></a>taskType <span class="ot">&lt;-</span> <span class="st">&#39;point&#39;</span>                    <span class="co"># Specify the task type, it can be either &quot;area&quot; or &quot;point&quot;</span></span></code></pre></div>
<p>To be able to successfully submit a task, the JSON object should be structured in a certain way. The code chunk below uses the information from the previous chunk to create a nested data frame. This nested data frame will be converted to JSON object that can be used to complete the request.</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="#cb585-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame including the date range for the request</span></span>
<span id="cb585-2"><a href="#cb585-2" aria-hidden="true" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">startDate =</span> startDate, <span class="at">endDate =</span> endDate)</span>
<span id="cb585-3"><a href="#cb585-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame including lat and long coordinates. ID and category name is optional.</span></span>
<span id="cb585-4"><a href="#cb585-4" aria-hidden="true" tabindex="-1"></a>coordinates <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> id, <span class="at">longitude =</span> lon, <span class="at">latitude =</span> lat, <span class="at">category =</span> category)</span>
<span id="cb585-5"><a href="#cb585-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb585-6"><a href="#cb585-6" aria-hidden="true" tabindex="-1"></a>task_info <span class="ot">&lt;-</span> <span class="fu">list</span>(date,layers, coordinates)               <span class="co"># Create a list of data frames </span></span>
<span id="cb585-7"><a href="#cb585-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(task_info) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dates&quot;</span>, <span class="st">&quot;layers&quot;</span>, <span class="st">&quot;coordinates&quot;</span>)   <span class="co"># Assign names</span></span>
<span id="cb585-8"><a href="#cb585-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb585-9"><a href="#cb585-9" aria-hidden="true" tabindex="-1"></a>task <span class="ot">&lt;-</span> <span class="fu">list</span>(task_info, taskName, taskType)               <span class="co"># Create a nested list </span></span>
<span id="cb585-10"><a href="#cb585-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(task) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;params&quot;</span>, <span class="st">&quot;task_name&quot;</span>, <span class="st">&quot;task_type&quot;</span>)      <span class="co"># Assign names </span></span>
<span id="cb585-11"><a href="#cb585-11" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(date, layers, coordinates, task_info)              <span class="co"># Remove the variables that are not needed anymore</span></span></code></pre></div>
<p><code>toJSON</code> function from <code>jsonlite</code> package converts the type of data frame to a string that can be recognized as a JSON object to be submitted as a point request.</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="#cb586-1" aria-hidden="true" tabindex="-1"></a>task_json <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(task,<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)   <span class="co"># Convert to JSON object</span></span></code></pre></div>
<hr />
</div>
<div id="submit-a-task-request" class="section level3 hasAnchor" number="7.15.2">
<h3 class="hasAnchor"><span class="header-section-number">7.15.2</span> Submit a Task Request<a href="#submit-a-task-request" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Token information is needed to submit a request. Below the login token is assigned to a variable.</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="#cb587-1" aria-hidden="true" tabindex="-1"></a>token <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Bearer&quot;</span>, <span class="fu">fromJSON</span>(token_response)<span class="sc">$</span>token)     <span class="co"># Save login token to a variable</span></span></code></pre></div>
<p>Below, post a call to the API <strong>task service</strong>, using the <code>task_json</code> created above.</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="#cb588-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Post the point request to the API task service</span></span>
<span id="cb588-2"><a href="#cb588-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">POST</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;task&quot;</span>), </span>
<span id="cb588-3"><a href="#cb588-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">body =</span> task_json , </span>
<span id="cb588-4"><a href="#cb588-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">encode =</span> <span class="st">&quot;json&quot;</span>, </span>
<span id="cb588-5"><a href="#cb588-5" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token, <span class="st">&quot;Content-Type&quot;</span> <span class="ot">=</span> <span class="st">&quot;application/json&quot;</span>))</span>
<span id="cb588-6"><a href="#cb588-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb588-7"><a href="#cb588-7" aria-hidden="true" tabindex="-1"></a>task_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response)                                 <span class="co"># Retrieve content of the request </span></span>
<span id="cb588-8"><a href="#cb588-8" aria-hidden="true" tabindex="-1"></a>task_response <span class="ot">&lt;-</span> <span class="fu">prettify</span>(<span class="fu">toJSON</span>(task_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>))<span class="co"># Convert the content to JSON object</span></span>
<span id="cb588-9"><a href="#cb588-9" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(response, task_content)                                    <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb588-10"><a href="#cb588-10" aria-hidden="true" tabindex="-1"></a>task_response                                                     <span class="co"># Print the prettified task response</span></span></code></pre></div>
<pre><code>## {
##     &quot;task_id&quot;: &quot;239d2148-6e07-4f78-b137-2bfbae15f6a6&quot;,
##     &quot;status&quot;: &quot;pending&quot;
## }
## </code></pre>
<hr />
</div>
<div id="retrieve-task-status" class="section level3 hasAnchor" number="7.15.3">
<h3 class="hasAnchor"><span class="header-section-number">7.15.3</span> Retrieve Task Status<a href="#retrieve-task-status" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This API call will list all of the requests associated with your user account, automatically sorted by date descending with the most recent requests listed first.
The AppEEARS API contains some helpful formatting resources. Below, limit the API response to 2 entries for the last 2 requests and set pretty to True to format the response as an organized JSON object to make it easier to read. Additional information on AppEEARS API
<a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#retrieve-task">retrieve task</a>, <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#pagination">pagination</a>, and <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#formatting">formatting</a> can be found in the API documentation.</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="#cb590-1" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">limit =</span> <span class="dv">2</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)                            <span class="co"># Set up query parameters</span></span>
<span id="cb590-2"><a href="#cb590-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the task status of last 2 requests from task URL</span></span>
<span id="cb590-3"><a href="#cb590-3" aria-hidden="true" tabindex="-1"></a>response_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;task&quot;</span>), <span class="at">query =</span> params, <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb590-4"><a href="#cb590-4" aria-hidden="true" tabindex="-1"></a>response_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response_req)                           <span class="co"># Retrieve content of the request</span></span>
<span id="cb590-5"><a href="#cb590-5" aria-hidden="true" tabindex="-1"></a>status_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></span>
<span id="cb590-6"><a href="#cb590-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(response_req, response_content)                              <span class="co"># Remove the variables that are not needed anymore                         </span></span>
<span id="cb590-7"><a href="#cb590-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(status_response)                                           <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## [
##     {
##         &quot;params&quot;: {
##             &quot;dates&quot;: [
##                 {
##                     &quot;endDate&quot;: &quot;10-01-2020&quot;,
##                     &quot;startDate&quot;: &quot;01-01-2020&quot;
##                 }
##             ],
##             &quot;layers&quot;: [
##                 {
##                     &quot;layer&quot;: &quot;LST_Day_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;LST_Night_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;Lai_500m&quot;,
##                     &quot;product&quot;: &quot;MCD15A3H.006&quot;
##                 }
##             ]
##         },
##         &quot;status&quot;: &quot;pending&quot;,
##         &quot;created&quot;: &quot;2022-10-09T21:34:28.475495&quot;,
##         &quot;task_id&quot;: &quot;239d2148-6e07-4f78-b137-2bfbae15f6a6&quot;,
##         &quot;updated&quot;: &quot;2022-10-09T21:34:28.642196&quot;,
##         &quot;user_id&quot;: &quot;rdb273@nau.edu&quot;,
##         &quot;estimate&quot;: {
##             &quot;request_size&quot;: 204
##         },
##         &quot;has_swath&quot;: false,
##         &quot;task_name&quot;: &quot;NEON SOAP SJER Vegetation&quot;,
##         &quot;task_type&quot;: &quot;point&quot;,
##         &quot;api_version&quot;: &quot;v1&quot;,
##         &quot;svc_version&quot;: &quot;3.13&quot;,
##         &quot;web_version&quot;: {
## 
##         },
##         &quot;has_nsidc_daac&quot;: false,
##         &quot;expires_on&quot;: &quot;2022-11-08T21:34:28.642196&quot;
##     },
##     {
##         &quot;error&quot;: {
## 
##         },
##         &quot;params&quot;: {
##             &quot;dates&quot;: [
##                 {
##                     &quot;endDate&quot;: &quot;10-01-2020&quot;,
##                     &quot;startDate&quot;: &quot;01-01-2020&quot;
##                 }
##             ],
##             &quot;layers&quot;: [
##                 {
##                     &quot;layer&quot;: &quot;LST_Day_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;LST_Night_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;Lai_500m&quot;,
##                     &quot;product&quot;: &quot;MCD15A3H.006&quot;
##                 }
##             ]
##         },
##         &quot;status&quot;: &quot;done&quot;,
##         &quot;created&quot;: &quot;2022-09-29T00:01:49.833402&quot;,
##         &quot;task_id&quot;: &quot;f6cd3e97-1424-4401-9440-434a19b53c5c&quot;,
##         &quot;updated&quot;: &quot;2022-09-29T00:10:11.803810&quot;,
##         &quot;user_id&quot;: &quot;rdb273@nau.edu&quot;,
##         &quot;attempts&quot;: 1,
##         &quot;estimate&quot;: {
##             &quot;request_size&quot;: 204
##         },
##         &quot;retry_at&quot;: {
## 
##         },
##         &quot;completed&quot;: &quot;2022-09-29T00:10:11.792231&quot;,
##         &quot;has_swath&quot;: false,
##         &quot;task_name&quot;: &quot;NEON SOAP SJER Vegetation&quot;,
##         &quot;task_type&quot;: &quot;point&quot;,
##         &quot;api_version&quot;: &quot;v1&quot;,
##         &quot;svc_version&quot;: &quot;3.12&quot;,
##         &quot;web_version&quot;: {
## 
##         },
##         &quot;size_category&quot;: &quot;0&quot;,
##         &quot;has_nsidc_daac&quot;: false,
##         &quot;expires_on&quot;: &quot;2022-10-29T00:10:11.803810&quot;
##     }
## ]
## </code></pre>
<p>The task_id that was generated when submitting your request can also be used to retrieve a task status.</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="#cb592-1" aria-hidden="true" tabindex="-1"></a>task_id <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(task_response)<span class="sc">$</span>task_id                 <span class="co"># Extract the task_id of submitted point request</span></span>
<span id="cb592-2"><a href="#cb592-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the task status of a task with the provided task_id from task URL</span></span>
<span id="cb592-3"><a href="#cb592-3" aria-hidden="true" tabindex="-1"></a>status_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;task/&quot;</span>, task_id), <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token)) </span>
<span id="cb592-4"><a href="#cb592-4" aria-hidden="true" tabindex="-1"></a>status_content <span class="ot">&lt;-</span> <span class="fu">content</span>(status_req)                       <span class="co"># Retrieve content of the request       </span></span>
<span id="cb592-5"><a href="#cb592-5" aria-hidden="true" tabindex="-1"></a>statusResponse <span class="ot">&lt;-</span><span class="fu">toJSON</span>(status_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)  <span class="co"># Convert the content to JSON object</span></span>
<span id="cb592-6"><a href="#cb592-6" aria-hidden="true" tabindex="-1"></a>stat <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(statusResponse)<span class="sc">$</span>status                     <span class="co"># Assign the task status to a variable  </span></span>
<span id="cb592-7"><a href="#cb592-7" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(status_req, status_content)                          <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb592-8"><a href="#cb592-8" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(statusResponse)                                    <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;params&quot;: {
##         &quot;dates&quot;: [
##             {
##                 &quot;endDate&quot;: &quot;10-01-2020&quot;,
##                 &quot;startDate&quot;: &quot;01-01-2020&quot;
##             }
##         ],
##         &quot;layers&quot;: [
##             {
##                 &quot;layer&quot;: &quot;LST_Day_1km&quot;,
##                 &quot;product&quot;: &quot;MOD11A2.006&quot;
##             },
##             {
##                 &quot;layer&quot;: &quot;LST_Night_1km&quot;,
##                 &quot;product&quot;: &quot;MOD11A2.006&quot;
##             },
##             {
##                 &quot;layer&quot;: &quot;Lai_500m&quot;,
##                 &quot;product&quot;: &quot;MCD15A3H.006&quot;
##             }
##         ],
##         &quot;coordinates&quot;: [
##             {
##                 &quot;id&quot;: &quot;0&quot;,
##                 &quot;category&quot;: &quot;SOAP&quot;,
##                 &quot;latitude&quot;: 37.0334,
##                 &quot;longitude&quot;: -119.2622
##             },
##             {
##                 &quot;id&quot;: &quot;1&quot;,
##                 &quot;category&quot;: &quot;SJER&quot;,
##                 &quot;latitude&quot;: 37.1088,
##                 &quot;longitude&quot;: -119.7323
##             }
##         ]
##     },
##     &quot;status&quot;: &quot;pending&quot;,
##     &quot;created&quot;: &quot;2022-10-09T21:34:28.475495&quot;,
##     &quot;task_id&quot;: &quot;239d2148-6e07-4f78-b137-2bfbae15f6a6&quot;,
##     &quot;updated&quot;: &quot;2022-10-09T21:34:28.642196&quot;,
##     &quot;user_id&quot;: &quot;rdb273@nau.edu&quot;,
##     &quot;estimate&quot;: {
##         &quot;request_size&quot;: 204
##     },
##     &quot;has_swath&quot;: false,
##     &quot;task_name&quot;: &quot;NEON SOAP SJER Vegetation&quot;,
##     &quot;task_type&quot;: &quot;point&quot;,
##     &quot;api_version&quot;: &quot;v1&quot;,
##     &quot;svc_version&quot;: &quot;3.13&quot;,
##     &quot;web_version&quot;: {
## 
##     },
##     &quot;has_nsidc_daac&quot;: false,
##     &quot;expires_on&quot;: &quot;2022-11-08T21:34:28.642196&quot;
## }
## </code></pre>
<p>Retrieve the task status every 5 seconds. The task status should be <code>done</code> to be able to download the output.</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (stat <span class="sc">!=</span> <span class="st">&#39;done&#39;</span>) {</span>
<span id="cb594-2"><a href="#cb594-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.sleep</span>(<span class="dv">5</span>)</span>
<span id="cb594-3"><a href="#cb594-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Request the task status and retrieve content of request from task URL</span></span>
<span id="cb594-4"><a href="#cb594-4" aria-hidden="true" tabindex="-1"></a>  stat_content <span class="ot">&lt;-</span> <span class="fu">content</span>(<span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;task/&quot;</span>, task_id), <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token)))</span>
<span id="cb594-5"><a href="#cb594-5" aria-hidden="true" tabindex="-1"></a>  stat <span class="ot">&lt;-</span><span class="fu">fromJSON</span>(<span class="fu">toJSON</span>(stat_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>))<span class="sc">$</span>status    <span class="co"># Get the status</span></span>
<span id="cb594-6"><a href="#cb594-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove</span>(stat_content) </span>
<span id="cb594-7"><a href="#cb594-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(stat)</span>
<span id="cb594-8"><a href="#cb594-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<hr />
</div>
</div>
<div id="download-a-request" class="section level2 hasAnchor" number="7.16">
<h2 class="hasAnchor"><span class="header-section-number">7.16</span> Download a Request<a href="#download-a-request" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="explore-files-in-request-output" class="section level3 hasAnchor" number="7.16.1">
<h3 class="hasAnchor"><span class="header-section-number">7.16.1</span> Explore Files in Request Output<a href="#explore-files-in-request-output" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before downloading the request output, examine the files contained in the request output.</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="#cb595-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the task bundle info from API bundle URL</span></span>
<span id="cb595-2"><a href="#cb595-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id), <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb595-3"><a href="#cb595-3" aria-hidden="true" tabindex="-1"></a>response_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response)                          <span class="co"># Retrieve content of the request</span></span>
<span id="cb595-4"><a href="#cb595-4" aria-hidden="true" tabindex="-1"></a>bundle_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)  <span class="co"># Convert the content to JSON object</span></span>
<span id="cb595-5"><a href="#cb595-5" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(bundle_response)                                       <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;message&quot;: &quot;Document not found: {&#39;task_id&#39;: &#39;239d2148-6e07-4f78-b137-2bfbae15f6a6&#39;}&quot;
## }
## </code></pre>
<hr />
</div>
</div>
<div id="download-files-in-a-request-automation" class="section level2 hasAnchor" number="7.17">
<h2 class="hasAnchor"><span class="header-section-number">7.17</span> Download Files in a Request (Automation)<a href="#download-files-in-a-request-automation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The bundle API provides information about completed tasks. For any completed task, a bundle can be queried to return the files contained as a part of the task request. Below, call the bundle API and return all of the output files. Next, read the contents of the bundle in JSON format and loop through file_id to automate downloading all of the output files into the output directory. For more information, please see <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#bundle">AppEEARS API Documentation</a>.</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="#cb597-1" aria-hidden="true" tabindex="-1"></a>bundle <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(bundle_response)<span class="sc">$</span>files</span>
<span id="cb597-2"><a href="#cb597-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (id <span class="cf">in</span> bundle<span class="sc">$</span>file_id){</span>
<span id="cb597-3"><a href="#cb597-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># retrieve the filename from the file_id</span></span>
<span id="cb597-4"><a href="#cb597-4" aria-hidden="true" tabindex="-1"></a>  filename <span class="ot">&lt;-</span> bundle[bundle<span class="sc">$</span>file_id <span class="sc">==</span> id,]<span class="sc">$</span>file_name     </span>
<span id="cb597-5"><a href="#cb597-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a destination directory to store the file in</span></span>
<span id="cb597-6"><a href="#cb597-6" aria-hidden="true" tabindex="-1"></a>  filepath <span class="ot">&lt;-</span> <span class="fu">paste</span>(outDir,filename, <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>)</span>
<span id="cb597-7"><a href="#cb597-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressWarnings</span>(<span class="fu">dir.create</span>(<span class="fu">dirname</span>(filepath)))</span>
<span id="cb597-8"><a href="#cb597-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># write the file to disk using the destination directory and file name </span></span>
<span id="cb597-9"><a href="#cb597-9" aria-hidden="true" tabindex="-1"></a>  response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id, <span class="st">&quot;/&quot;</span>, id),</span>
<span id="cb597-10"><a href="#cb597-10" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">write_disk</span>(filepath, <span class="at">overwrite =</span> <span class="cn">TRUE</span>),</span>
<span id="cb597-11"><a href="#cb597-11" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">progress</span>(),</span>
<span id="cb597-12"><a href="#cb597-12" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb597-13"><a href="#cb597-13" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<hr />
</div>
<div id="explore-appeears-quality-service" class="section level2 hasAnchor" number="7.18">
<h2 class="hasAnchor"><span class="header-section-number">7.18</span> Explore AppEEARS Quality Service<a href="#explore-appeears-quality-service" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The quality API provides quality details about all of the data products available in AppEEARS. Below are examples of how to query the quality API for listing quality products, layers, and values. The final example (<a href="#decode">Section 5c.</a>) demonstrates how AppEEARS quality services can be leveraged to decode pertinent quality values for your data. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a>.</p>
<p>First, reset pagination to include offset which allows you to set the number of results to skip before starting to return entries. Next, make a call to list all of the data product layers and the associated quality product and layer information.</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="#cb598-1" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">limit =</span> <span class="dv">6</span>, <span class="at">offset =</span> <span class="dv">20</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)     <span class="co"># Set up the query parameters</span></span>
<span id="cb598-2"><a href="#cb598-2" aria-hidden="true" tabindex="-1"></a>q_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality&quot;</span>), <span class="at">query =</span> params)  <span class="co"># Request the quality info from quality API_URL</span></span>
<span id="cb598-3"><a href="#cb598-3" aria-hidden="true" tabindex="-1"></a>q_content <span class="ot">&lt;-</span> <span class="fu">content</span>(q_req)                               <span class="co"># Retrieve the content of request</span></span>
<span id="cb598-4"><a href="#cb598-4" aria-hidden="true" tabindex="-1"></a>q_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(q_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)        <span class="co"># Convert the info to JSON object</span></span>
<span id="cb598-5"><a href="#cb598-5" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(params, q_req, q_content)                          <span class="co"># Remove the variables that are not needed </span></span>
<span id="cb598-6"><a href="#cb598-6" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(q_response)                                      <span class="co"># Print the prettified quality information</span></span></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;Layer&quot;: &quot;B10&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;Fmask&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;Layer&quot;: &quot;B11&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;Fmask&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;Layer&quot;: &quot;B12&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;Fmask&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;ASTGTM_NC.003&quot;,
##         &quot;Layer&quot;: &quot;ASTER_GDEM_DEM&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;ASTGTM_NUMNC.003&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;ASTER_GDEM_NUM&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;Layer&quot;: &quot;SRB1&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;Layer&quot;: &quot;SRB2&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     }
## ]
## </code></pre>
<hr />
<div id="list-quality-layers" class="section level3 hasAnchor" number="7.18.1">
<h3 class="hasAnchor"><span class="header-section-number">7.18.1</span> List Quality Layers<a href="#list-quality-layers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This API call will list all of the quality layer information for a product. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a></p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="#cb600-1" aria-hidden="true" tabindex="-1"></a>productAndVersion <span class="ot">&lt;-</span> <span class="st">&#39;MCD15A3H.006&#39;</span>                            <span class="co"># Assign ProductAndVersion to a variable </span></span>
<span id="cb600-2"><a href="#cb600-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the quality info from quality API for a specific product</span></span>
<span id="cb600-3"><a href="#cb600-3" aria-hidden="true" tabindex="-1"></a>MCD15A3H_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion))</span>
<span id="cb600-4"><a href="#cb600-4" aria-hidden="true" tabindex="-1"></a>MCD15A3H_content <span class="ot">&lt;-</span> <span class="fu">content</span>(MCD15A3H_req)                      <span class="co"># Retrieve the content of request</span></span>
<span id="cb600-5"><a href="#cb600-5" aria-hidden="true" tabindex="-1"></a>MCD15A3H_quality <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(MCD15A3H_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)<span class="co"># Convert the info to JSON object</span></span>
<span id="cb600-6"><a href="#cb600-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(MCD15A3H_req, MCD15A3H_content)                         <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb600-7"><a href="#cb600-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(MCD15A3H_quality)                                     <span class="co"># Print the prettified quality information</span></span></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Fpar_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;FparStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Lai_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;LaiStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="inspect-quality-values" class="section level3 hasAnchor" number="7.18.2">
<h3 class="hasAnchor"><span class="header-section-number">7.18.2</span> Inspect Quality Values<a href="#inspect-quality-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This API call will list all of the values for a given quality layer.</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="#cb602-1" aria-hidden="true" tabindex="-1"></a>quality_layer <span class="ot">&lt;-</span> <span class="st">&#39;FparLai_QC&#39;</span>                                 <span class="co"># assign a quality layer to a variable</span></span>
<span id="cb602-2"><a href="#cb602-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the specified quality layer info from quality API</span></span>
<span id="cb602-3"><a href="#cb602-3" aria-hidden="true" tabindex="-1"></a>quality_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>,  productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>))</span>
<span id="cb602-4"><a href="#cb602-4" aria-hidden="true" tabindex="-1"></a>quality_content <span class="ot">&lt;-</span> <span class="fu">content</span>(quality_req)                        <span class="co"># Retrieve the content of request</span></span>
<span id="cb602-5"><a href="#cb602-5" aria-hidden="true" tabindex="-1"></a>quality_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(quality_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>) <span class="co"># Convert the info to JSON object</span></span>
<span id="cb602-6"><a href="#cb602-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(quality_req, quality_content)                           <span class="co"># Remove the variables that are not needed </span></span>
<span id="cb602-7"><a href="#cb602-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(quality_response)                                     <span class="co"># Print the quality response as a data frame</span></span></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Good quality (main algorithm with or without saturation)&quot;,
##         &quot;Acceptable&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;,
##         &quot;Acceptable&quot;: false
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Terra&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Aqua&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Dead detectors caused &gt;50% adjacent detector retrieval&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Significant clouds NOT present (clear)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Significant clouds WERE present&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Mixed cloud present in pixel&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Cloud state not defined, assumed clear&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Main (RT) method used with saturation. Good, very usable&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to bad geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to problems other than geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 4,
##         &quot;Description&quot;: &quot;Pixel not produced at all, value couldn&#39;t be retrieved (possible reasons: bad L1B data, unusable MOD09GA data)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     }
## ]
## </code></pre>
<hr />
</div>
</div>
<div id="decode-quality-values" class="section level2 hasAnchor" number="7.19">
<h2 class="hasAnchor"><span class="header-section-number">7.19</span> Decode Quality Values<a href="#decode-quality-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will decode the bits for a given quality value.</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="#cb604-1" aria-hidden="true" tabindex="-1"></a>quality_value <span class="ot">&lt;-</span> <span class="dv">1</span>                        <span class="co"># Assign a quality value to a variable </span></span>
<span id="cb604-2"><a href="#cb604-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request and retrieve information for provided quality value from quality API URL </span></span>
<span id="cb604-3"><a href="#cb604-3" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">content</span>(<span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="st">&quot;/&quot;</span>, quality_value)))</span>
<span id="cb604-4"><a href="#cb604-4" aria-hidden="true" tabindex="-1"></a>q_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)     <span class="co"># Convert the info to JSON object</span></span>
<span id="cb604-5"><a href="#cb604-5" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(response)                                      <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb604-6"><a href="#cb604-6" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(q_response)                                  <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;Binary Representation&quot;: &quot;0b00000001&quot;,
##     &quot;MODLAND&quot;: {
##         &quot;bits&quot;: &quot;0b1&quot;,
##         &quot;description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;
##     },
##     &quot;Sensor&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Terra&quot;
##     },
##     &quot;DeadDetector&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;
##     },
##     &quot;CloudState&quot;: {
##         &quot;bits&quot;: &quot;0b00&quot;,
##         &quot;description&quot;: &quot;Significant clouds NOT present (clear)&quot;
##     },
##     &quot;SCF_QC&quot;: {
##         &quot;bits&quot;: &quot;0b000&quot;,
##         &quot;description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;
##     }
## }
## </code></pre>
<hr />
</div>
<div id="load-request-output-and-visualize" class="section level2 hasAnchor" number="7.20">
<h2 class="hasAnchor"><span class="header-section-number">7.20</span> Load Request Output and Visualize<a href="#load-request-output-and-visualize" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here, load the CSV file containing the results from your request using <code>readr</code> package, and create some basic visualizations using the <code>ggplot2</code> package.</p>
</div>
<div id="load-a-csv" class="section level2 hasAnchor" number="7.21">
<h2 class="hasAnchor"><span class="header-section-number">7.21</span> Load a CSV<a href="#load-a-csv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Use the <code>readr</code> package to load the CSV file containing the results from the AppEEARS request.</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="#cb606-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a list of csv files in the output directory</span></span>
<span id="cb606-2"><a href="#cb606-2" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(outDir, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">MOD11A2-006-results.csv$&quot;</span>) </span>
<span id="cb606-3"><a href="#cb606-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the MOD11A2 results</span></span>
<span id="cb606-4"><a href="#cb606-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste0</span>(outDir,<span class="st">&quot;/&quot;</span>, files))</span></code></pre></div>
<p>Select the MOD11A2.006 LST Day column for the data from <code>SOAP</code> using the <code>dplyr</code> package.</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="#cb607-1" aria-hidden="true" tabindex="-1"></a>lst_SOAP <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb607-2"><a href="#cb607-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter df</span></span>
<span id="cb607-3"><a href="#cb607-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Category <span class="sc">==</span> <span class="st">&quot;SOAP&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb607-4"><a href="#cb607-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select desired columns</span></span>
<span id="cb607-5"><a href="#cb607-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Latitude, Longitude, Date ,MOD11A2_006_LST_Day_1km, MOD11A2_006_LST_Night_1km) </span></code></pre></div>
<p>Extract information for LST_DAY_1KM from MOD11_response of product service call from earlier in the tutorial.</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="#cb608-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fromJSON(MOD11_response)$LST_Day_1km                        # Extract all the info for LST_Day_1km layer</span></span>
<span id="cb608-2"><a href="#cb608-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb608-3"><a href="#cb608-3" aria-hidden="true" tabindex="-1"></a>fillValue <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(MOD11_response)<span class="sc">$</span>LST_Day_1km<span class="sc">$</span>FillValue  <span class="co"># Assign fill value to a variable</span></span>
<span id="cb608-4"><a href="#cb608-4" aria-hidden="true" tabindex="-1"></a>unit <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(MOD11_response)<span class="sc">$</span>LST_Day_1km<span class="sc">$</span>Units           <span class="co"># Assign unit to a variable</span></span>
<span id="cb608-5"><a href="#cb608-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;Fill value for LST_DAY_1KM is: %i&quot;</span> ,fillValue)      <span class="co"># Print LST_DAY_1KM fill value</span></span></code></pre></div>
<pre><code>## [1] &quot;Fill value for LST_DAY_1KM is: 0&quot;</code></pre>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="#cb610-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;Unit for LST_DAY_1KM is: %s&quot;</span> ,unit)                 <span class="co"># Print LST_DAY_1KM unit </span></span></code></pre></div>
<pre><code>## [1] &quot;Unit for LST_DAY_1KM is: Kelvin&quot;</code></pre>
<hr />
</div>
<div id="plot-results-linescatter-plots" class="section level2 hasAnchor" number="7.22">
<h2 class="hasAnchor"><span class="header-section-number">7.22</span> Plot Results (Line/Scatter Plots)<a href="#plot-results-linescatter-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next, plot a time series of daytime LST for the selected point. Below, filter the LST data to exclude fill values.</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="#cb612-1" aria-hidden="true" tabindex="-1"></a>lst_SOAP <span class="ot">&lt;-</span> lst_SOAP <span class="sc">%&gt;%</span></span>
<span id="cb612-2"><a href="#cb612-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># exclude NoData</span></span>
<span id="cb612-3"><a href="#cb612-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(MOD11A2_006_LST_Day_1km <span class="sc">!=</span> fillValue)<span class="sc">%&gt;%</span></span>
<span id="cb612-4"><a href="#cb612-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(MOD11A2_006_LST_Night_1km <span class="sc">!=</span> fillValue)</span></code></pre></div>
<p>Next, plot LST Day as a time series with some additional formatting using <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="#cb613-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lst_SOAP)<span class="sc">+</span></span>
<span id="cb613-2"><a href="#cb613-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span> Date, <span class="at">y =</span> MOD11A2_006_LST_Day_1km), <span class="at">size=</span><span class="dv">1</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>)<span class="sc">+</span></span>
<span id="cb613-3"><a href="#cb613-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span> Date, <span class="at">y =</span> MOD11A2_006_LST_Day_1km), <span class="at">shape=</span><span class="dv">18</span> , <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>)<span class="sc">+</span></span>
<span id="cb613-4"><a href="#cb613-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Time Series&quot;</span>,</span>
<span id="cb613-5"><a href="#cb613-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb613-6"><a href="#cb613-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">sprintf</span>( <span class="st">&quot;LST_Day_1km (%s)&quot;</span>, unit))<span class="sc">+</span></span>
<span id="cb613-7"><a href="#cb613-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;16 day&quot;</span>)<span class="sc">+</span> </span>
<span id="cb613-8"><a href="#cb613-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">325</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">250</span>, <span class="dv">325</span>, <span class="dv">10</span>))<span class="sc">+</span></span>
<span id="cb613-9"><a href="#cb613-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">2.5</span>),<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb613-10"><a href="#cb613-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb613-11"><a href="#cb613-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb613-12"><a href="#cb613-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span><span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">angle=</span> <span class="dv">315</span> , <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb613-13"><a href="#cb613-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span><span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">angle=</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb613-14"><a href="#cb613-14" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="07-NASA_EOS_files/figure-html/unnamed-chunk-36-1.png" width="1152" /></p>
<p>Using the <code>tidyr</code> package, the LST Day and Night values for Grand Canyon NP are being gathered in a single column to be used to make a plot including both <code>LST_Day_1km</code> and <code>LST_Night_1km</code>.</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="#cb614-1" aria-hidden="true" tabindex="-1"></a>lst_SOAP_DN <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">gather</span>(lst_SOAP, <span class="at">key =</span> Tstat , <span class="at">value =</span> LST, MOD11A2_006_LST_Day_1km, MOD11A2_006_LST_Night_1km)</span>
<span id="cb614-2"><a href="#cb614-2" aria-hidden="true" tabindex="-1"></a>lst_SOAP_DN[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,]                     <span class="co"># print the five first observations </span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##   Latitude Longitude Date       Tstat                     LST
##      &lt;dbl&gt;     &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;                   &lt;dbl&gt;
## 1     37.0     -119. 2019-12-27 MOD11A2_006_LST_Day_1km  278.
## 2     37.0     -119. 2020-01-01 MOD11A2_006_LST_Day_1km  283.
## 3     37.0     -119. 2020-01-09 MOD11A2_006_LST_Day_1km  280.
## 4     37.0     -119. 2020-01-17 MOD11A2_006_LST_Day_1km  283.
## 5     37.0     -119. 2020-01-25 MOD11A2_006_LST_Day_1km  285.</code></pre>
<p>Next, plot LST Day and Night as a time series with some additional formatting.</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="#cb616-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lst_SOAP_DN)<span class="sc">+</span></span>
<span id="cb616-2"><a href="#cb616-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span> Date, <span class="at">y =</span> LST, <span class="at">color =</span> Tstat), <span class="at">size=</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb616-3"><a href="#cb616-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span> Date, <span class="at">y =</span> LST, <span class="at">color =</span> Tstat), <span class="at">shape=</span><span class="dv">18</span> , <span class="at">size =</span> <span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb616-4"><a href="#cb616-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>))<span class="sc">+</span></span>
<span id="cb616-5"><a href="#cb616-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;red&#39;</span>,<span class="st">&#39;blue&#39;</span>))<span class="sc">+</span></span>
<span id="cb616-6"><a href="#cb616-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Time Series&quot;</span>,</span>
<span id="cb616-7"><a href="#cb616-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb616-8"><a href="#cb616-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">sprintf</span>( <span class="st">&quot;LST_Day_1km (%s)&quot;</span>,unit))<span class="sc">+</span></span>
<span id="cb616-9"><a href="#cb616-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;16 day&quot;</span>)<span class="sc">+</span>  </span>
<span id="cb616-10"><a href="#cb616-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">325</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">250</span>, <span class="dv">325</span>, <span class="dv">10</span>))<span class="sc">+</span></span>
<span id="cb616-11"><a href="#cb616-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">2.5</span>), <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb616-12"><a href="#cb616-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb616-13"><a href="#cb616-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb616-14"><a href="#cb616-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span><span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">angle=</span> <span class="dv">315</span> , <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb616-15"><a href="#cb616-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span><span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">angle=</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb616-16"><a href="#cb616-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb616-17"><a href="#cb616-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb616-18"><a href="#cb616-18" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="07-NASA_EOS_files/figure-html/unnamed-chunk-38-1.png" width="1152" /></p>
<p>Finally, bring in the daytime LST data from <code>SJER</code> , and compare with daytime LST at <code>SOAP</code> , shown below in a scatterplot using <code>ggplot2</code> package.
Here, the <code>dplyr</code> is used to extract the LST_DAY_1km for <code>SJER</code>.</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="#cb617-1" aria-hidden="true" tabindex="-1"></a>lst_SJER <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb617-2"><a href="#cb617-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(MOD11A2_006_LST_Day_1km <span class="sc">!=</span> fillValue) <span class="sc">%&gt;%</span>        <span class="co"># Filter fill value </span></span>
<span id="cb617-3"><a href="#cb617-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Category <span class="sc">==</span> <span class="st">&quot;SJER&quot;</span>)<span class="sc">%&gt;%</span>                           <span class="co"># Filter SJER national park</span></span>
<span id="cb617-4"><a href="#cb617-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, MOD11A2_006_LST_Day_1km)                   <span class="co"># Select desired columns</span></span></code></pre></div>
<p>Make a scatterplot.</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb618-2"><a href="#cb618-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>lst_SOAP<span class="sc">$</span>MOD11A2_006_LST_Day_1km, <span class="at">y=</span>lst_SJER<span class="sc">$</span>MOD11A2_006_LST_Day_1km[<span class="sc">-</span><span class="dv">11</span>]), <span class="at">shape=</span><span class="dv">18</span> , <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>)<span class="sc">+</span></span>
<span id="cb618-3"><a href="#cb618-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MODIS LST: SOAP vs. SJER, 2020&quot;</span>,</span>
<span id="cb618-4"><a href="#cb618-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="fu">sprintf</span>(<span class="st">&quot;SOAP: LST_Day_1km (%s)&quot;</span>,unit),</span>
<span id="cb618-5"><a href="#cb618-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">sprintf</span>( <span class="st">&quot;SJER: LST_Day_1km (%s)&quot;</span>,unit))<span class="sc">+</span></span>
<span id="cb618-6"><a href="#cb618-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>), <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb618-7"><a href="#cb618-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb618-8"><a href="#cb618-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb618-9"><a href="#cb618-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span><span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb618-10"><a href="#cb618-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span><span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb618-11"><a href="#cb618-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>This example can provide a template to use for your own research workflows. Leveraging the AppEEARS API for searching, extracting, and formatting analysis ready data, and loading it directly into R means that you can keep your entire research workflow in a single software program, from start to finish.</p>
</div>
<div id="submit-an-area-request" class="section level2 hasAnchor" number="7.23">
<h2 class="hasAnchor"><span class="header-section-number">7.23</span> Submit an Area Request<a href="#submit-an-area-request" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>The following section was adapted from <a href="https://lpdaac.usgs.gov/resources/e-learning/getting-started-appeears-api-r-area-request/">LPDAAC’s E-Learning Tutorials on the AppEEARS API</a> and modified to request data for NEON sites.</em></p>
<blockquote>
<p>Contributing Authors:</p>
</blockquote>
<blockquote>
<p>Contact Information<br />
Material written by Mahsa Jami<sup>1</sup> and Cole Krehbiel<sup>1</sup><br />
Contact: <a href="mailto:LPDAAC@usgs.gov" class="email">LPDAAC@usgs.gov</a><br />
Voice: +1-866-573-3222<br />
Organization: Land Processes Distributed Active Archive Center (LP DAAC)<br />
Website: <a href="https://lpdaac.usgs.gov/" class="uri">https://lpdaac.usgs.gov/</a><br />
Date last modified: 06-12-2020</p>
</blockquote>
<blockquote>
<p><sup>1</sup> KBR, Inc., contractor to the U.S. Geological Survey, Earth Resources Observation and Science (EROS) Center,<br />
Sioux Falls, South Dakota, USA. Work performed under USGS contract G15PD00467 for LP DAAC<sup>2</sup>.</p>
</blockquote>
<blockquote>
<p><sup>2</sup> LP DAAC Work performed under NASA contract NNG14HH33I.</p>
</blockquote>
<p><strong>This tutorial demonstrates how to use R to connect to the AppEEARS API</strong>
The Application for Extracting and Exploring Analysis Ready Samples (<a href="https://lpdaacsvc.cr.usgs.gov/appeears/">AppEEARS</a>) offers a simple and efficient way to access and transform <a href="https://lpdaacsvc.cr.usgs.gov/appeears/products">geospatial data</a> from a variety of federal data archives in an easy-to-use web application interface. AppEEARS enables users to subset geospatial data spatially, temporally, and by band/layer for point and area samples. AppEEARS returns not only the requested data, but also the associated quality values, and offers interactive visualizations with summary statistics in the web interface. The <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">AppEEARS API</a> offers users <strong>programmatic access</strong> to all features available in AppEEARS, with the exception of visualizations. The API features are demonstrated in this tutorial.</p>
</div>
<div id="submit-an-area-request-using-a-neon-site-boundary-as-the-region-of-interest-for-extracting-elevation-vegetation-and-land-surface-temperature-data" class="section level2 hasAnchor" number="7.24">
<h2 class="hasAnchor"><span class="header-section-number">7.24</span> Submit an area request using a NEON site boundary as the region of interest for extracting elevation, vegetation and land surface temperature data<a href="#submit-an-area-request-using-a-neon-site-boundary-as-the-region-of-interest-for-extracting-elevation-vegetation-and-land-surface-temperature-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section:
* Connecting to the AppEEARS API,
* Querying the list of available products,
* Submitting an area sample request, downloading the request,
* Working with the AppEEARS Quality API, and
* Loading the results into R for visualization.</p>
<p>AppEEARS area sample requests allow users to subset their desired data by spatial area via vector polygons (shapefiles or GeoJSONs). Users can also reproject and reformat the output data. AppEEARS returns the valid data from the parameters defined within the sample request.</p>
<div id="data-used-in-this-example" class="section level4 hasAnchor" number="7.24.0.1">
<h4 class="hasAnchor"><span class="header-section-number">7.24.0.1</span> Data Used in this Example:<a href="#data-used-in-this-example" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Data layers:
<ul>
<li>NASA MEaSUREs Shuttle Radar Topography Mission (SRTM) Version 3 Digital Elevation Model
<ul>
<li><a href="https://doi.org/10.5067/MEaSUREs/SRTM/SRTMGL1.003">SRTMGL1_NC.003</a>, 30m, static: ‘SRTM_DEM’</li>
</ul></li>
<li>Combined MODIS Leaf Area Index (LAI)
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MCD15A3H.006">MCD15A3H.006</a>, 500m, 4 day: ‘Lai_500m’<br />
</li>
</ul></li>
<li>Terra MODIS Land Surface Temperature
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MOD11A2.006">MOD11A2.006</a>, 1000m, 8 day: ‘LST_Day_1km’, ‘LST_Night_1km’</li>
</ul></li>
</ul></li>
</ul>
<hr />
</div>
<div id="topics-covered-in-this-tutorial" class="section level3 hasAnchor" number="7.24.1">
<h3 class="hasAnchor"><span class="header-section-number">7.24.1</span> Topics Covered in this Tutorial<a href="#topics-covered-in-this-tutorial" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Getting Started</strong><br />
* Load Packages<br />
* Login</p>
<p><strong>Query Available Products</strong><br />
* Search and Explore Available Products<br />
* Search and Explore Available Layers</p>
<p><strong>Submit an Area Request</strong><br />
* Load a Shapefile<br />
* Search and Explore Available Projections<br />
* Compile a JSON Object<br />
* Submit a Task Request<br />
* Retrieve Task Status<br />
<strong>Download a Request</strong><br />
* Explore Files in Request Output<br />
* Download Files in a Request (Automation)<br />
<strong>Explore AppEEARS Quality Service</strong><br />
* List Quality Layers<br />
* Show Quality Values<br />
* Decode Quality Values<br />
<strong>BONUS: Load Request Output and Visualize</strong><br />
* Load a GeoTIFF<br />
* Plot a GeoTIFF</p>
<hr />
</div>
<div id="prerequisites-1" class="section level3 hasAnchor" number="7.24.2">
<h3 class="hasAnchor"><span class="header-section-number">7.24.2</span> Prerequisites:<a href="#prerequisites-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>A <a href="https://urs.earthdata.nasa.gov/">NASA Earthdata Login</a> account is required to login to the AppEEARS API and submit a request . You can create an account at the link provided.</p></li>
<li><p>Install R and RStudio.
These tutorials have been tested on Windows and Mac systems using R Version 4.0.0, RStudio version 1.1.463, and the specifications listed below.</p>
<ul>
<li>Required packages:
<ul>
<li><code>getPass</code><br />
</li>
<li><code>httr</code><br />
</li>
<li><code>jsonlite</code><br />
</li>
<li><code>geojsonio</code><br />
</li>
<li><code>geojsonR</code><br />
</li>
<li><code>rgdal</code></li>
<li><code>sp</code></li>
<li><code>warnings</code></li>
</ul></li>
<li>To read and visualize the GeoTIFF:
<ul>
<li><code>raster</code><br />
</li>
<li><code>rasterVis</code><br />
</li>
<li><code>RColorBrewer</code><br />
</li>
<li><code>ggplot2</code></li>
</ul></li>
</ul></li>
</ul>
<hr />
</div>
<div id="procedures" class="section level3 hasAnchor" number="7.24.3">
<h3 class="hasAnchor"><span class="header-section-number">7.24.3</span> Procedures:<a href="#procedures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="getting-started-2" class="section level4 hasAnchor" number="7.24.3.1">
<h4 class="hasAnchor"><span class="header-section-number">7.24.3.1</span> Getting Started:<a href="#getting-started-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p>Clone/download <a href="https://git.earthdata.nasa.gov/rest/api/latest/projects/LPDUR/repos/appeears-api-getting-started_r/archive?format=zip">AppEEARS API Getting Started in R Repository</a> from the LP DAAC Data User Resources Repository or use the code in this textbook.</p></li>
<li><p>Open the <code>AppEEARS_API_R.Rproj</code> file to directly open the project. Next, select the <code>AppEEARS_API_AREA_R.Rmd</code> from the files list and open it.</p></li>
</ol>
<hr />
</div>
</div>
<div id="appeears-information-1" class="section level3 hasAnchor" number="7.24.4">
<h3 class="hasAnchor"><span class="header-section-number">7.24.4</span> AppEEARS Information:<a href="#appeears-information-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To access AppEEARS, visit: <a href="https://lpdaacsvc.cr.usgs.gov/appeears/" class="uri">https://lpdaacsvc.cr.usgs.gov/appeears/</a>.</p>
<p>For comprehensive documentation of the full functionality of the AppEEARS API, please see the AppEEARS <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">API Documentation</a>.</p>
<hr />
</div>
</div>
<div id="getting-started-with-an-area-request" class="section level2 hasAnchor" number="7.25">
<h2 class="hasAnchor"><span class="header-section-number">7.25</span> Getting Started with an Area Request<a href="#getting-started-with-an-area-request" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="load-packages-for-an-area-request" class="section level3 hasAnchor" number="7.25.1">
<h3 class="hasAnchor"><span class="header-section-number">7.25.1</span> Load Packages for an Area Request<a href="#load-packages-for-an-area-request" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, load the R packages necessary to run the tutorial.</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="#cb619-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary packages into R                                               </span></span>
<span id="cb619-2"><a href="#cb619-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)              <span class="co"># To send a request to the server/receive a response from the server</span></span>
<span id="cb619-3"><a href="#cb619-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)          <span class="co"># Implements a bidirectional mapping between JSON data and the most important R data types</span></span>
<span id="cb619-4"><a href="#cb619-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geojsonio)         <span class="co"># Convert data from various R classes to &#39;GeoJSON&#39; </span></span>
<span id="cb619-5"><a href="#cb619-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geojsonR)          <span class="co"># Functions for processing GeoJSON objects</span></span>
<span id="cb619-6"><a href="#cb619-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgdal)             <span class="co"># Functions for spatial data input/output</span></span>
<span id="cb619-7"><a href="#cb619-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)                <span class="co"># classes and methods for spatial data types</span></span>
<span id="cb619-8"><a href="#cb619-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)            <span class="co"># Classes and methods for raster data</span></span>
<span id="cb619-9"><a href="#cb619-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rasterVis)         <span class="co"># Advanced plotting functions for raster objects </span></span>
<span id="cb619-10"><a href="#cb619-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)           <span class="co"># Functions for graphing and mapping</span></span>
<span id="cb619-11"><a href="#cb619-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)      <span class="co"># Creates nice color schemes</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="set-up-the-output-directory-1" class="section level2 hasAnchor" number="7.26">
<h2 class="hasAnchor"><span class="header-section-number">7.26</span> Set Up the Output Directory<a href="#set-up-the-output-directory-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create an output directory for the results.</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="#cb620-1" aria-hidden="true" tabindex="-1"></a>outDir <span class="ot">&lt;-</span> <span class="st">&#39;./data/&#39;</span>               <span class="co"># Create an output directory if it doesn&#39;t exist</span></span></code></pre></div>
<p>Next, assign the AppEEARS API URL to a static variable.</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="#cb621-1" aria-hidden="true" tabindex="-1"></a>API_URL <span class="ot">=</span> <span class="st">&#39;https://lpdaacsvc.cr.usgs.gov/appeears/api/&#39;</span>  <span class="co"># Set the AppEEARS API to a variable</span></span></code></pre></div>
<hr />
</div>
<div id="load-your-earth-data-token" class="section level2 hasAnchor" number="7.27">
<h2 class="hasAnchor"><span class="header-section-number">7.27</span> Load your Earth Data Token<a href="#load-your-earth-data-token" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To submit a request, you must first login to the AppEEARS API. Use your <code>token</code> script to import your credentials.</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="#cb622-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;EARTHDATA_Token.R&#39;</span>) <span class="co">#path will change based on where you stored it</span></span></code></pre></div>
<p>Decode the username and password to be used to post login request.</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="#cb623-1" aria-hidden="true" tabindex="-1"></a>secret <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">base64_enc</span>(<span class="fu">paste</span>(user, password, <span class="at">sep =</span> <span class="st">&quot;:&quot;</span>))  <span class="co"># Encode the string of username and password</span></span></code></pre></div>
<p>Next, assign the AppEEARS API URL to a static variable.</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="#cb624-1" aria-hidden="true" tabindex="-1"></a>API_URL <span class="ot">=</span> <span class="st">&#39;https://appeears.earthdatacloud.nasa.gov/api/&#39;</span>     <span class="co"># Set the AppEEARS API to a variable</span></span></code></pre></div>
<p>Use the <code>httr</code> package to post your username and password. A successful login will provide you with a token to be used later in this tutorial to submit a request. For more information or if you are experiencing difficulties, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#login">API Documentation</a>.</p>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert API URL, call login service, set the component of HTTP header, and post the request to the server</span></span>
<span id="cb625-2"><a href="#cb625-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">POST</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;login&quot;</span>), <span class="fu">add_headers</span>(<span class="st">&quot;Authorization&quot;</span> <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">&quot;Basic&quot;</span>, <span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="st">&quot;&quot;</span>, secret)),</span>
<span id="cb625-3"><a href="#cb625-3" aria-hidden="true" tabindex="-1"></a>                                                 <span class="st">&quot;Content-Type&quot;</span> <span class="ot">=</span></span>
<span id="cb625-4"><a href="#cb625-4" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;</span>), </span>
<span id="cb625-5"><a href="#cb625-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">body =</span> <span class="st">&quot;grant_type=client_credentials&quot;</span>)</span>
<span id="cb625-6"><a href="#cb625-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb625-7"><a href="#cb625-7" aria-hidden="true" tabindex="-1"></a>response_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response)                          <span class="co"># Retrieve the content of the request</span></span>
<span id="cb625-8"><a href="#cb625-8" aria-hidden="true" tabindex="-1"></a>token_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)  <span class="co"># Convert the response to the JSON object</span></span>
<span id="cb625-9"><a href="#cb625-9" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(user, password, secret, response)                       <span class="co"># Remove the variables that are not needed anymore </span></span>
<span id="cb625-10"><a href="#cb625-10" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(token_response)                                       <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;token_type&quot;: &quot;Bearer&quot;,
##     &quot;token&quot;: &quot;-UXsO38C8yKtS2dkEQr0dpbk397Oa-s8d2MtqzdYmHkzkLAg9hZ9Sx445pu8MqqnGcm_VYFpvHdEaEmJSlhE8g&quot;,
##     &quot;expiration&quot;: &quot;2022-10-14T19:16:11Z&quot;
## }
## </code></pre>
<p><strong>Above, you should see a Bearer token. Notice that this token will expire approximately 48 hours after being acquired.</strong></p>
<hr />
</div>
<div id="query-available-products-1" class="section level2 hasAnchor" number="7.28">
<h2 class="hasAnchor"><span class="header-section-number">7.28</span> Query Available Products<a href="#query-available-products-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The product API provides details about all of the products and layers available in AppEEARS. For more information, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#product">API Documentation</a>.</p>
<p>Below, call the product API to list all of the products available in AppEEARS.</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="#cb627-1" aria-hidden="true" tabindex="-1"></a>prods_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;product&quot;</span>))             <span class="co"># Request the info of all products from product service</span></span>
<span id="cb627-2"><a href="#cb627-2" aria-hidden="true" tabindex="-1"></a>prods_content <span class="ot">&lt;-</span> <span class="fu">content</span>(prods_req)                      <span class="co"># Retrieve the content of request </span></span>
<span id="cb627-3"><a href="#cb627-3" aria-hidden="true" tabindex="-1"></a>all_Prods <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(prods_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)    <span class="co"># Convert the info to JSON object</span></span>
<span id="cb627-4"><a href="#cb627-4" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(prods_req, prods_content)                         <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb627-5"><a href="#cb627-5" aria-hidden="true" tabindex="-1"></a><span class="co"># prettify(all_Prods)                                      # Print the prettified product response</span></span></code></pre></div>
<hr />
</div>
<div id="search-and-explore-available-products-1" class="section level2 hasAnchor" number="7.29">
<h2 class="hasAnchor"><span class="header-section-number">7.29</span> Search and Explore Available Products<a href="#search-and-explore-available-products-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create a list indexed by product name to make it easier to query a specific product.</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="#cb628-1" aria-hidden="true" tabindex="-1"></a><span class="co"># divides information from each product.</span></span>
<span id="cb628-2"><a href="#cb628-2" aria-hidden="true" tabindex="-1"></a>divided_products <span class="ot">&lt;-</span> <span class="fu">split</span>(<span class="fu">fromJSON</span>(all_Prods), <span class="fu">seq</span>(<span class="fu">nrow</span>(<span class="fu">fromJSON</span>(all_Prods))))</span>
<span id="cb628-3"><a href="#cb628-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list indexed by the product name and version</span></span>
<span id="cb628-4"><a href="#cb628-4" aria-hidden="true" tabindex="-1"></a>products <span class="ot">&lt;-</span> <span class="fu">setNames</span>(divided_products,<span class="fu">fromJSON</span>(all_Prods)<span class="sc">$</span>ProductAndVersion)</span>
<span id="cb628-5"><a href="#cb628-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print no. products available in AppEEARS</span></span>
<span id="cb628-6"><a href="#cb628-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;AppEEARS currently supports %i products.&quot;</span> ,<span class="fu">length</span>(products))   </span></code></pre></div>
<pre><code>## [1] &quot;AppEEARS currently supports 159 products.&quot;</code></pre>
<p>Next, look at the product’s names and descriptions. Below, the ‘ProductAndVersion’ and ‘Description’ are printed for all products.</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="#cb630-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through the products in the list and Print the product name and description</span></span>
<span id="cb630-2"><a href="#cb630-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> products){                                   </span>
<span id="cb630-3"><a href="#cb630-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(p<span class="sc">$</span>ProductAndVersion,<span class="st">&quot; is &quot;</span>,p<span class="sc">$</span>Description,<span class="st">&quot; from &quot;</span>,p<span class="sc">$</span>Source))  </span>
<span id="cb630-4"><a href="#cb630-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;GPW_DataQualityInd.411 is Quality of Input Data for Population Count and Density Grids from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopCount.411 is UN-adjusted Population Count from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopDensity.411 is UN-adjusted Population Density from SEDAC&quot;
## [1] &quot;MCD12Q1.006 is Land Cover Type from LP DAAC&quot;
## [1] &quot;MCD12Q2.006 is Land Cover Dynamics from LP DAAC&quot;
## [1] &quot;MCD12Q1.061 is Land Cover Type from LP DAAC&quot;
## [1] &quot;MCD12Q2.061 is Land Cover Dynamics from LP DAAC&quot;
## [1] &quot;MCD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A2H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A3H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A3H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD43A1.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A1.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A2.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A3.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A3.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A4.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A4.061 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD64A1.006 is Burned Area (fire) from LP DAAC&quot;
## [1] &quot;MCD64A1.061 is Burned Area (fire) from LP DAAC&quot;
## [1] &quot;MOD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09A1.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GA.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09GQ.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09Q1.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MOD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A1.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A2.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A2.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A3.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13Q1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MOD14A2.061 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MOD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MOD15A2H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MOD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2.061 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A3GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2H.061 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2HGF.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2HGF.061 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MOD17A3HGF.061 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MOD21A1D.061 is Temperature and Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD21A1N.061 is Temperature and Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD21A2.061 is Temperature and Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD44B.006 is Vegetation Continuous Fields (VCF) from LP DAAC&quot;
## [1] &quot;MOD44W.006 is Land/Water Mask from LP DAAC&quot;
## [1] &quot;MODOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MODTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;MYD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09A1.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GA.061 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09GQ.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09Q1.061 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MYD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A1.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A2.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A2.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A3.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13Q1.061 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MYD14A2.061 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MYD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MYD15A2H.061 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MYD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2.061 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A3GF.061 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MYD17A2H.061 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MYD17A2HGF.006 is Gross Primary Productivity (GPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A2HGF.061 is Gross Primary Productivity (GPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A3HGF.061 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD21A1D.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1D.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1N.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1N.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A2.061 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYDOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MYDTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;NASADEM_NC.001 is Elevation from LP DAAC&quot;
## [1] &quot;NASADEM_NUMNC.001 is Source from LP DAAC&quot;
## [1] &quot;SPL3SMP_E.005 is Enhanced L3 Radiometer Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3SMP.008 is Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL4CMDL.006 is Carbon Net Ecosystem Exchange from NSIDC DAAC&quot;
## [1] &quot;SPL4SMGP.006 is Surface and Root Zone Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3FTP.003 is Freeze/Thaw State from NSIDC DAAC&quot;
## [1] &quot;SRTMGL1_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL1_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;ASTGTM_NC.003 is Elevation from LP DAAC&quot;
## [1] &quot;ASTGTM_NUMNC.003 is Source from LP DAAC&quot;
## [1] &quot;ASTWBD_ATTNC.001 is Water Bodies Database Attributes from LP DAAC&quot;
## [1] &quot;ASTWBD_NC.001 is Water Bodies Database Elevation from LP DAAC&quot;
## [1] &quot;VNP09H1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP09A1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP09GA.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP13A1.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A2.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A3.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP14A1.001 is Thermal Anomalies/Fire from LP DAAC&quot;
## [1] &quot;VNP15A2H.001 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;VNP21A1D.001 is Land Surface Temperature &amp; Emissivity Day (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A1N.001 is Land Surface Temperature &amp; Emissivity Night (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A2.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP22Q2.001 is Global Land Surface Phenology (GLSP) from LP DAAC&quot;
## [1] &quot;VNP43IA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43IA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43IA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43IA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;VNP43MA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43MA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43MA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43MA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;DAYMET.004 is Daily Surface Weather Data for North America from ORNL&quot;
## [1] &quot;ECO2LSTE.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;ECO2CLD.001 is Cloud Mask from LP DAAC&quot;
## [1] &quot;ECO3ETPTJPL.001 is Evapotranspiration PT-JPL from LP DAAC&quot;
## [1] &quot;ECO3ANCQA.001 is L3/L4 Ancillary Data Quality Assurance (QA) Flags from LP DAAC&quot;
## [1] &quot;ECO4ESIPTJPL.001 is Evaporative Stress Index PT-JPL from LP DAAC&quot;
## [1] &quot;ECO4WUE.001 is Water Use Efficiency from LP DAAC&quot;
## [1] &quot;ECO1BGEO.001 is Geolocation from LP DAAC&quot;
## [1] &quot;ECO1BMAPRAD.001 is Resampled Radiance from LP DAAC&quot;
## [1] &quot;ECO3ETALEXI.001 is Evapotranspiration dis-ALEXI from LP DAAC&quot;
## [1] &quot;ECO4ESIALEXI.001 is Evaporative Stress Index dis-ALEXI from LP DAAC&quot;
## [1] &quot;HLSS30.020 is Land Surface Reflectance from LP DAAC&quot;
## [1] &quot;HLSL30.020 is Land Surface Reflectance from LP DAAC&quot;</code></pre>
<p>The product service provides many useful details, including if a product is currently available in AppEEARS, a description, and information on the spatial and temporal resolution. Below, the product details are retrieved using ‘ProductAndVersion’.</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="#cb632-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the MCD15A3H.006 info to JSON object and print the prettified info</span></span>
<span id="cb632-2"><a href="#cb632-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(<span class="fu">toJSON</span>(products<span class="sc">$</span><span class="st">&quot;MCD15A3H.006&quot;</span>)) </span></code></pre></div>
<pre><code>## [
##     {
##         &quot;Product&quot;: &quot;MCD15A3H&quot;,
##         &quot;Platform&quot;: &quot;Combined MODIS&quot;,
##         &quot;Description&quot;: &quot;Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR)&quot;,
##         &quot;RasterType&quot;: &quot;Tile&quot;,
##         &quot;Resolution&quot;: &quot;500m&quot;,
##         &quot;TemporalGranularity&quot;: &quot;4 day&quot;,
##         &quot;Version&quot;: &quot;006&quot;,
##         &quot;Available&quot;: true,
##         &quot;DocLink&quot;: &quot;https://doi.org/10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;Source&quot;: &quot;LP DAAC&quot;,
##         &quot;TemporalExtentStart&quot;: &quot;2002-07-04&quot;,
##         &quot;TemporalExtentEnd&quot;: &quot;Present&quot;,
##         &quot;Deleted&quot;: false,
##         &quot;DOI&quot;: &quot;10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;
##     }
## ]
## </code></pre>
<p>Below, search for products containing Leaf Area Index in their description.</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="#cb634-1" aria-hidden="true" tabindex="-1"></a>LAI_Products <span class="ot">&lt;-</span> <span class="fu">list</span>()                                        <span class="co"># Create an empty list </span></span>
<span id="cb634-2"><a href="#cb634-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> products){                                          <span class="co"># Loop through the product list</span></span>
<span id="cb634-3"><a href="#cb634-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">grepl</span>(<span class="st">&#39;Leaf Area Index&#39;</span>, p<span class="sc">$</span>Description )){              <span class="co"># Look through the product description for a keyword </span></span>
<span id="cb634-4"><a href="#cb634-4" aria-hidden="true" tabindex="-1"></a>    LAI_Products <span class="ot">&lt;-</span> <span class="fu">append</span>(LAI_Products, p<span class="sc">$</span>ProductAndVersion) <span class="co"># Append the LAI products to the list</span></span>
<span id="cb634-5"><a href="#cb634-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb634-6"><a href="#cb634-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb634-7"><a href="#cb634-7" aria-hidden="true" tabindex="-1"></a>LAI_Products</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;MCD15A2H.006&quot;
## 
## [[2]]
## [1] &quot;MCD15A2H.061&quot;
## 
## [[3]]
## [1] &quot;MCD15A3H.006&quot;
## 
## [[4]]
## [1] &quot;MCD15A3H.061&quot;
## 
## [[5]]
## [1] &quot;MOD15A2H.006&quot;
## 
## [[6]]
## [1] &quot;MOD15A2H.061&quot;
## 
## [[7]]
## [1] &quot;MYD15A2H.006&quot;
## 
## [[8]]
## [1] &quot;MYD15A2H.061&quot;
## 
## [[9]]
## [1] &quot;VNP15A2H.001&quot;</code></pre>
<p>Using the info above, Create a list of desired products.</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="#cb636-1" aria-hidden="true" tabindex="-1"></a>desired_products <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;MCD15A3H.006&#39;</span>,<span class="st">&#39;MOD11A2.006&#39;</span>,<span class="st">&#39;SRTMGL1_NC.003&#39;</span>)   <span class="co"># Create a list of desired products </span></span>
<span id="cb636-2"><a href="#cb636-2" aria-hidden="true" tabindex="-1"></a>desired_products</span></code></pre></div>
<pre><code>## [1] &quot;MCD15A3H.006&quot;   &quot;MOD11A2.006&quot;    &quot;SRTMGL1_NC.003&quot;</code></pre>
<hr />
</div>
<div id="search-and-explore-available-layers-1" class="section level2 hasAnchor" number="7.30">
<h2 class="hasAnchor"><span class="header-section-number">7.30</span> Search and Explore Available Layers<a href="#search-and-explore-available-layers-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will list all of the layers available for a given product. Each product is referenced by its <code>ProductAndVersion</code> property which is also referred to as the product_id. First, request the layers for the <code>MCD15A3H.006</code> product.</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="#cb638-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request layers for the 1st product in the list: MCD15A3H.006</span></span>
<span id="cb638-2"><a href="#cb638-2" aria-hidden="true" tabindex="-1"></a>MCD15A3H_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">1</span>]))  <span class="co"># Request the info of a product from product URL</span></span>
<span id="cb638-3"><a href="#cb638-3" aria-hidden="true" tabindex="-1"></a>MCD15A3H_content <span class="ot">&lt;-</span> <span class="fu">content</span>(MCD15A3H_req)                             <span class="co"># Retrieve content of the request </span></span>
<span id="cb638-4"><a href="#cb638-4" aria-hidden="true" tabindex="-1"></a>MCD15A3H_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(MCD15A3H_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></span>
<span id="cb638-5"><a href="#cb638-5" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(MCD15A3H_req, MCD15A3H_content)                                <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb638-6"><a href="#cb638-6" aria-hidden="true" tabindex="-1"></a><span class="co">#prettify(MCD15A3H_response)                                          # Print the prettified response</span></span>
<span id="cb638-7"><a href="#cb638-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">fromJSON</span>(MCD15A3H_response))                                    <span class="co"># print the layer&#39;s names    </span></span></code></pre></div>
<pre><code>## [1] &quot;FparExtra_QC&quot;    &quot;FparLai_QC&quot;      &quot;FparStdDev_500m&quot; &quot;Fpar_500m&quot;      
## [5] &quot;LaiStdDev_500m&quot;  &quot;Lai_500m&quot;</code></pre>
<p>Next, request the layers for the <code>MOD11A2.006</code> product.</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="#cb640-1" aria-hidden="true" tabindex="-1"></a>MOD11_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">2</span>]))  <span class="co"># Request the info of a product from product URL</span></span>
<span id="cb640-2"><a href="#cb640-2" aria-hidden="true" tabindex="-1"></a>MOD11_content <span class="ot">&lt;-</span> <span class="fu">content</span>(MOD11_req)                                <span class="co"># Retrieve content of the request</span></span>
<span id="cb640-3"><a href="#cb640-3" aria-hidden="true" tabindex="-1"></a>MOD11_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(MOD11_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)         <span class="co"># Convert the content to JSON object</span></span>
<span id="cb640-4"><a href="#cb640-4" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(MOD11_req, MOD11_content)                                   <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb640-5"><a href="#cb640-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">fromJSON</span>(MOD11_response))                                    <span class="co"># print the layer names</span></span></code></pre></div>
<pre><code>##  [1] &quot;Clear_sky_days&quot;   &quot;Clear_sky_nights&quot; &quot;Day_view_angl&quot;    &quot;Day_view_time&quot;   
##  [5] &quot;Emis_31&quot;          &quot;Emis_32&quot;          &quot;LST_Day_1km&quot;      &quot;LST_Night_1km&quot;   
##  [9] &quot;Night_view_angl&quot;  &quot;Night_view_time&quot;  &quot;QC_Day&quot;           &quot;QC_Night&quot;</code></pre>
<p>Next, request the layers for the<code>SRTMGL1_NC.003</code> product.</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="#cb642-1" aria-hidden="true" tabindex="-1"></a>SRTMGL1_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">3</span>]))<span class="co"># Request the info of a product from product URL</span></span>
<span id="cb642-2"><a href="#cb642-2" aria-hidden="true" tabindex="-1"></a>SRTMGL1_content <span class="ot">&lt;-</span> <span class="fu">content</span>(SRTMGL1_req)                            <span class="co"># Retrieve content of the request  </span></span>
<span id="cb642-3"><a href="#cb642-3" aria-hidden="true" tabindex="-1"></a>SRTMGL1_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(SRTMGL1_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)     <span class="co"># Convert the content to JSON object</span></span>
<span id="cb642-4"><a href="#cb642-4" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(SRTMGL1_req, SRTMGL1_content)                               <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb642-5"><a href="#cb642-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">fromJSON</span>(SRTMGL1_response))</span></code></pre></div>
<pre><code>## [1] &quot;SRTMGL1_DEM&quot;</code></pre>
<p>Lastly, select the desired layers and pertinent products and make a data frame using this information. This list will be inserted into the JSON file used to submit a request.</p>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector of desired layers</span></span>
<span id="cb644-2"><a href="#cb644-2" aria-hidden="true" tabindex="-1"></a>desired_layers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;LST_Day_1km&quot;</span>,<span class="st">&quot;LST_Night_1km&quot;</span>,<span class="st">&quot;Lai_500m&quot;</span>,<span class="st">&quot;SRTMGL1_DEM&quot;</span>)     </span>
<span id="cb644-3"><a href="#cb644-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector of products including the desired layers</span></span>
<span id="cb644-4"><a href="#cb644-4" aria-hidden="true" tabindex="-1"></a>desired_prods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MCD15A3H.006&quot;</span>,<span class="st">&quot;SRTMGL1_NC.003&quot;</span>) </span>
<span id="cb644-5"><a href="#cb644-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame including the desired data products and layers</span></span>
<span id="cb644-6"><a href="#cb644-6" aria-hidden="true" tabindex="-1"></a>layers <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">product =</span> desired_prods, <span class="at">layer =</span> desired_layers)              </span></code></pre></div>
<hr />
</div>
<div id="submit-an-area-request-1" class="section level2 hasAnchor" number="7.31">
<h2 class="hasAnchor"><span class="header-section-number">7.31</span> Submit an Area Request<a href="#submit-an-area-request-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The Submit task API call provides a way to submit a new request to be processed. It can accept data via JSON or query string. In the example below, create a JSON object and submit a request. Tasks in AppEEARS correspond to each request associated with your user account. Therefore, each of the calls to this service requires an authentication token.</p>
<hr />
<div id="load-a-shapefile" class="section level3 hasAnchor" number="7.31.1">
<h3 class="hasAnchor"><span class="header-section-number">7.31.1</span> Load a Shapefile<a href="#load-a-shapefile" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, begin by loading a shapefile using the <code>rgdal</code> package. The shapefile is publicly available for download from the <a href="https://irma.nps.gov/DataStore/Reference/Profile/2224545?lnv=True">NPS website</a>.</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="#cb645-1" aria-hidden="true" tabindex="-1"></a>onaq <span class="ot">&lt;-</span> <span class="fu">readOGR</span>(<span class="at">dsn=</span> <span class="st">&quot;./ONAQ_extent&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;D15_ONAQ_C1_P1_v2&quot;</span>)</span></code></pre></div>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;C:\Users\rohan\Environmental-Informatics-Using-Research-Infrastructures-and-their-Data\ONAQ_extent&quot;, layer: &quot;D15_ONAQ_C1_P1_v2&quot;
## with 1 features
## It has 1 fields</code></pre>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="#cb647-1" aria-hidden="true" tabindex="-1"></a>onaq_wgs84 <span class="ot">&lt;-</span> <span class="fu">spTransform</span>(onaq, <span class="fu">CRS</span>(<span class="st">&quot;+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>))</span></code></pre></div>
<p>convert the Spatial data frame to GeoJSON using <code>geojson_json</code> from <code>geojsonio</code> package, which makes it easy to create the geospatial data in and out of GeoJSON format.</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="#cb648-1" aria-hidden="true" tabindex="-1"></a>onaq_json <span class="ot">&lt;-</span> geojsonio<span class="sc">::</span><span class="fu">geojson_json</span>(onaq_wgs84, <span class="at">geometry =</span> <span class="st">&quot;polygon&quot;</span>)    <span class="co"># Convert the data frame to GeoJSON</span></span></code></pre></div>
<pre><code>## Warning: &#39;geojsonlint&#39; not installed, skipping GeoJSON linting</code></pre>
<p>Next, the GeoJSON object can be read as a list using the <code>FROM_GeoJson</code> function from <code>geojsonR</code> package.</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="#cb650-1" aria-hidden="true" tabindex="-1"></a>onaq_js <span class="ot">&lt;-</span> geojsonR<span class="sc">::</span><span class="fu">FROM_GeoJson</span>(onaq_json)                    <span class="co"># Read the GeoJSON </span></span></code></pre></div>
<hr />
</div>
</div>
<div id="search-and-explore-available-projections" class="section level2 hasAnchor" number="7.32">
<h2 class="hasAnchor"><span class="header-section-number">7.32</span> Search and Explore Available Projections<a href="#search-and-explore-available-projections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The spatial API provides some helper services used to support submitting area task requests. The call below will retrieve the list of supported projections in AppEEARS. For more information, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#spatial">AppEEARS API</a></p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="#cb651-1" aria-hidden="true" tabindex="-1"></a>proj_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;spatial/proj&quot;</span>))          <span class="co"># Request the projection info from API_URL            </span></span>
<span id="cb651-2"><a href="#cb651-2" aria-hidden="true" tabindex="-1"></a>proj_content <span class="ot">&lt;-</span> <span class="fu">content</span>(proj_req)                         <span class="co"># Retrieve content of the request</span></span>
<span id="cb651-3"><a href="#cb651-3" aria-hidden="true" tabindex="-1"></a>proj_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(proj_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)  <span class="co"># Convert the content to JSON object</span></span>
<span id="cb651-4"><a href="#cb651-4" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(proj_req, proj_content)                            <span class="co"># Remove the variables that are not needed </span></span>
<span id="cb651-5"><a href="#cb651-5" aria-hidden="true" tabindex="-1"></a>projs <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(proj_response)                          <span class="co"># Read the projects as a R object</span></span>
<span id="cb651-6"><a href="#cb651-6" aria-hidden="true" tabindex="-1"></a>projection <span class="ot">&lt;-</span> projs[projs<span class="sc">$</span>Name<span class="sc">==</span><span class="st">&quot;geographic&quot;</span>,]            <span class="co"># Choose the projection for your output</span></span></code></pre></div>
<hr />
</div>
<div id="compile-a-json-object-1" class="section level2 hasAnchor" number="7.33">
<h2 class="hasAnchor"><span class="header-section-number">7.33</span> Compile a JSON Object<a href="#compile-a-json-object-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, begin by setting up the information needed for a nested data list that will be later converted to a JSON object for submitting an AppEEARS area request.For detailed information on required JSON parameters, see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#tasks">API Documentation</a>.</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="#cb652-1" aria-hidden="true" tabindex="-1"></a>taskName <span class="ot">&lt;-</span> <span class="st">&#39;NEON-ONAQ&#39;</span>    <span class="co"># Enter name of the task, &#39;ONAQ&#39; used here</span></span>
<span id="cb652-2"><a href="#cb652-2" aria-hidden="true" tabindex="-1"></a>taskType <span class="ot">&lt;-</span> <span class="st">&#39;area&#39;</span>            <span class="co"># Type of task, it can be either &quot;area&quot; or &quot;point&quot;</span></span>
<span id="cb652-3"><a href="#cb652-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-4"><a href="#cb652-4" aria-hidden="true" tabindex="-1"></a>projection <span class="ot">&lt;-</span> projection<span class="sc">$</span>Name <span class="co"># Set output projection </span></span>
<span id="cb652-5"><a href="#cb652-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-6"><a href="#cb652-6" aria-hidden="true" tabindex="-1"></a>outFormat <span class="ot">&lt;-</span> <span class="st">&#39;geotiff&#39;</span>        <span class="co"># Set output file format type. it can be either &#39;geotiff&#39; or &#39;netcdf4&#39;</span></span>
<span id="cb652-7"><a href="#cb652-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-8"><a href="#cb652-8" aria-hidden="true" tabindex="-1"></a>startDate <span class="ot">&lt;-</span> <span class="st">&#39;01-01-2018&#39;</span>     <span class="co"># Start of the date range for which to extract data: MM-DD-YYYY</span></span>
<span id="cb652-9"><a href="#cb652-9" aria-hidden="true" tabindex="-1"></a>endDate <span class="ot">&lt;-</span> <span class="st">&#39;12-31-2019&#39;</span>       <span class="co"># End of the date range for which to extract data: MM-DD-YYYY</span></span>
<span id="cb652-10"><a href="#cb652-10" aria-hidden="true" tabindex="-1"></a>recurring <span class="ot">&lt;-</span> <span class="cn">FALSE</span>            <span class="co"># Specify True for a recurring date range</span></span>
<span id="cb652-11"><a href="#cb652-11" aria-hidden="true" tabindex="-1"></a><span class="co">#yearRange = [2000,2016]      # If recurring = True, set yearRange, change start/end date to MM-DD</span></span></code></pre></div>
<p>To be able to successfully submit a task, the JSON object should be structured in a certain way. The code chunk below uses the information from the previous chunk to create a nested data frame. This nested data frame will be converted to JSON object that can be used to complete the request.</p>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="#cb653-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame including the date range for the request</span></span>
<span id="cb653-2"><a href="#cb653-2" aria-hidden="true" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">startDate =</span> startDate, <span class="at">endDate =</span> endDate)</span>
<span id="cb653-3"><a href="#cb653-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb653-4"><a href="#cb653-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list including the projection and add the output format info</span></span>
<span id="cb653-5"><a href="#cb653-5" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">list</span>(projection )</span>
<span id="cb653-6"><a href="#cb653-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(out) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;projection&quot;</span>)</span>
<span id="cb653-7"><a href="#cb653-7" aria-hidden="true" tabindex="-1"></a>out<span class="sc">$</span>format<span class="sc">$</span>type <span class="ot">&lt;-</span> outFormat</span>
<span id="cb653-8"><a href="#cb653-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb653-9"><a href="#cb653-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the GeoJSON format for successful task submission</span></span>
<span id="cb653-10"><a href="#cb653-10" aria-hidden="true" tabindex="-1"></a>onaq_js<span class="sc">$</span>features[[<span class="dv">1</span>]]<span class="sc">$</span>geometry<span class="sc">$</span>coordinates <span class="ot">&lt;-</span> <span class="fu">list</span>(onaq_js<span class="sc">$</span>features[[<span class="dv">1</span>]]<span class="sc">$</span>geometry<span class="sc">$</span>coordinates)</span>
<span id="cb653-11"><a href="#cb653-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb653-12"><a href="#cb653-12" aria-hidden="true" tabindex="-1"></a>task_info <span class="ot">&lt;-</span> <span class="fu">list</span>(date, layers, out, onaq_js)                 <span class="co"># Create a list of data frames </span></span>
<span id="cb653-13"><a href="#cb653-13" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(task_info) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dates&quot;</span>, <span class="st">&quot;layers&quot;</span>, <span class="st">&quot;output&quot;</span>, <span class="st">&quot;geo&quot;</span>)       <span class="co"># Assign names</span></span>
<span id="cb653-14"><a href="#cb653-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb653-15"><a href="#cb653-15" aria-hidden="true" tabindex="-1"></a>task <span class="ot">&lt;-</span> <span class="fu">list</span>(task_info, taskName, taskType)                     <span class="co"># Create a nested list </span></span>
<span id="cb653-16"><a href="#cb653-16" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(task) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;params&quot;</span>, <span class="st">&quot;task_name&quot;</span>, <span class="st">&quot;task_type&quot;</span>)            <span class="co"># Assign names  </span></span></code></pre></div>
<p><code>toJSON</code> function from <code>jsonlite</code> package converts the type of data frame to a string that can be recognized as a JSON object to be submitted as an area request.</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="#cb654-1" aria-hidden="true" tabindex="-1"></a>task_json <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(task,<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>, <span class="at">digits =</span> <span class="dv">10</span>)</span></code></pre></div>
<hr />
</div>
<div id="submit-a-task-request-1" class="section level2 hasAnchor" number="7.34">
<h2 class="hasAnchor"><span class="header-section-number">7.34</span> Submit a Task Request<a href="#submit-a-task-request-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Token information is needed to submit a request. Below the login token is assigned to a variable.</p>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="#cb655-1" aria-hidden="true" tabindex="-1"></a>token <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Bearer&quot;</span>, <span class="fu">fromJSON</span>(token_response)<span class="sc">$</span>token)     <span class="co"># Save login token to a variable</span></span></code></pre></div>
<p>Below, post a call to the API task service, using the <code>task_json</code> created above.</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="#cb656-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Post the point request to the API task service</span></span>
<span id="cb656-2"><a href="#cb656-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">POST</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;task&quot;</span>), <span class="at">body =</span> task_json , <span class="at">encode =</span> <span class="st">&quot;json&quot;</span>, </span>
<span id="cb656-3"><a href="#cb656-3" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token, <span class="st">&quot;Content-Type&quot;</span> <span class="ot">=</span> <span class="st">&quot;application/json&quot;</span>))</span>
<span id="cb656-4"><a href="#cb656-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb656-5"><a href="#cb656-5" aria-hidden="true" tabindex="-1"></a>task_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response)                           <span class="co"># Retrieve content of the request </span></span>
<span id="cb656-6"><a href="#cb656-6" aria-hidden="true" tabindex="-1"></a>task_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(task_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)    <span class="co"># Convert the content to JSON and prettify it</span></span>
<span id="cb656-7"><a href="#cb656-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(task_response)                                     <span class="co"># Print the task response</span></span></code></pre></div>
<p>A JSON downloaded from a previous request containing the information from that request can also be used if available</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="#cb657-1" aria-hidden="true" tabindex="-1"></a><span class="co"># task &lt;- jsonlite::toJSON(jsonlite::read_json(&quot;LST-request.json&quot;), digits = 10, auto_unbox = TRUE)</span></span>
<span id="cb657-2"><a href="#cb657-2" aria-hidden="true" tabindex="-1"></a><span class="co"># response &lt;- POST(paste0(API_URL,&quot;task&quot;), body = task, encode = &quot;json&quot;, </span></span>
<span id="cb657-3"><a href="#cb657-3" aria-hidden="true" tabindex="-1"></a><span class="co">#                        add_headers(Authorization = token, &quot;Content-Type&quot; = &quot;application/json&quot;))</span></span>
<span id="cb657-4"><a href="#cb657-4" aria-hidden="true" tabindex="-1"></a><span class="co"># task_response &lt;- prettify(toJSON(content(response), auto_unbox = TRUE))</span></span>
<span id="cb657-5"><a href="#cb657-5" aria-hidden="true" tabindex="-1"></a><span class="co"># task_response</span></span></code></pre></div>
<hr />
</div>
<div id="retrieve-task-status-1" class="section level2 hasAnchor" number="7.35">
<h2 class="hasAnchor"><span class="header-section-number">7.35</span> Retrieve Task Status<a href="#retrieve-task-status-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will list all of the requests associated with your user account, automatically sorted by date, with the most recent requests listed first.</p>
<p>The AppEEARS API contains some helpful formatting resources. Below, limit the API response to 2 entries for the last 2 requests and set pretty to True to format the response as an organized JSON, making it easier to read. Additional information on AppEEARS API
<a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#retrieve-task">retrieve task</a>, <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#pagination">pagination</a>, and <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#formatting">formatting</a> can be found in the API documentation.</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="#cb658-1" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">limit =</span> <span class="dv">2</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)                            <span class="co"># Set up query parameters</span></span>
<span id="cb658-2"><a href="#cb658-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the task status of last 2 requests from task URL</span></span>
<span id="cb658-3"><a href="#cb658-3" aria-hidden="true" tabindex="-1"></a>response_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;task&quot;</span>), <span class="at">query =</span> params, <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb658-4"><a href="#cb658-4" aria-hidden="true" tabindex="-1"></a>response_content <span class="ot">&lt;-</span> <span class="fu">content</span>(response_req)                           <span class="co"># Retrieve content of the request</span></span>
<span id="cb658-5"><a href="#cb658-5" aria-hidden="true" tabindex="-1"></a>status_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></span>
<span id="cb658-6"><a href="#cb658-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(response_req, response_content)                              <span class="co"># Remove the variables that are not needed anymore     </span></span>
<span id="cb658-7"><a href="#cb658-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(status_response)                                           <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;message&quot;: &quot;You don&#39;t have the permission to access the requested resource. It is either read-protected or not readable by the server.&quot;
## }
## </code></pre>
<p>The task_id that was generated when submitting your request can also be used to retrieve a task status.
Notice, this could get longer because of the number of vertices in the shapefile that will be printed.</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="#cb660-1" aria-hidden="true" tabindex="-1"></a><span class="co"># task_id &lt;- fromJSON(task_response)$task_id                 # Extract the task_id of submitted point request</span></span>
<span id="cb660-2"><a href="#cb660-2" aria-hidden="true" tabindex="-1"></a><span class="co"># # Request the task status of a task with the provided task_id from task URL</span></span>
<span id="cb660-3"><a href="#cb660-3" aria-hidden="true" tabindex="-1"></a><span class="co"># status_req &lt;- GET(paste0(API_URL,&quot;task/&quot;, task_id), add_headers(Authorization = token)) </span></span>
<span id="cb660-4"><a href="#cb660-4" aria-hidden="true" tabindex="-1"></a><span class="co"># status_content &lt;- content(status_req)                       # Retrieve content of the request       </span></span>
<span id="cb660-5"><a href="#cb660-5" aria-hidden="true" tabindex="-1"></a><span class="co"># statusResponse &lt;-toJSON(status_content, auto_unbox = TRUE)  # Convert the content to JSON object</span></span>
<span id="cb660-6"><a href="#cb660-6" aria-hidden="true" tabindex="-1"></a><span class="co"># remove(status_req, status_content)                          # Remove the variables that are not needed </span></span>
<span id="cb660-7"><a href="#cb660-7" aria-hidden="true" tabindex="-1"></a><span class="co"># prettify(statusResponse)                                    # Print the prettified response</span></span></code></pre></div>
<p>Retrieve the task status every 60 seconds. The task status should be <code>done</code> to be able to download the output.</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="#cb661-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the task status of last request from task URL</span></span>
<span id="cb661-2"><a href="#cb661-2" aria-hidden="true" tabindex="-1"></a>stat_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL,<span class="st">&quot;task&quot;</span>), <span class="at">query =</span> <span class="fu">list</span>(<span class="at">limit =</span> <span class="dv">1</span>), <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb661-3"><a href="#cb661-3" aria-hidden="true" tabindex="-1"></a>stat_content <span class="ot">&lt;-</span> <span class="fu">content</span>(stat_req)                           <span class="co"># Retrieve content of the request</span></span>
<span id="cb661-4"><a href="#cb661-4" aria-hidden="true" tabindex="-1"></a>stat_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(stat_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)    <span class="co"># Convert the content to JSON object</span></span>
<span id="cb661-5"><a href="#cb661-5" aria-hidden="true" tabindex="-1"></a>stat <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(stat_response)<span class="sc">$</span>status                      <span class="co"># Assign the task status to a variable</span></span>
<span id="cb661-6"><a href="#cb661-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(stat_req, stat_content)                              <span class="co"># Remove the variables that are not needed      </span></span></code></pre></div>
<hr />
</div>
<div id="download-a-request-1" class="section level2 hasAnchor" number="7.36">
<h2 class="hasAnchor"><span class="header-section-number">7.36</span> Download a Request<a href="#download-a-request-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="explore-files-in-request-output-1" class="section level3 hasAnchor" number="7.36.1">
<h3 class="hasAnchor"><span class="header-section-number">7.36.1</span> Explore Files in Request Output<a href="#explore-files-in-request-output-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before downloading the request output, examine the files contained in the request output.</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb662-1"><a href="#cb662-1" aria-hidden="true" tabindex="-1"></a>task_id <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(task_response)[[<span class="dv">1</span>]]</span>
<span id="cb662-2"><a href="#cb662-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id), <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb662-3"><a href="#cb662-3" aria-hidden="true" tabindex="-1"></a>bundle_response <span class="ot">&lt;-</span> <span class="fu">prettify</span>(<span class="fu">toJSON</span>(<span class="fu">content</span>(response), <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<hr />
</div>
</div>
<div id="download-files-in-a-request-automation-1" class="section level2 hasAnchor" number="7.37">
<h2 class="hasAnchor"><span class="header-section-number">7.37</span> Download Files in a Request (Automation)<a href="#download-files-in-a-request-automation-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The bundle API provides information about completed tasks. For any completed task, a bundle can be queried to return the files contained as a part of the task request. Below, call the bundle API and return all of the output files. Next, read the contents of the bundle in JSON format and loop through file_id to automate downloading all of the output files into the output directory. For more information, please see <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#bundle">AppEEARS API Documentation</a>.</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="#cb663-1" aria-hidden="true" tabindex="-1"></a>bundle <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(bundle_response)<span class="sc">$</span>files</span>
<span id="cb663-2"><a href="#cb663-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (id <span class="cf">in</span> bundle<span class="sc">$</span>file_id){</span>
<span id="cb663-3"><a href="#cb663-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># retrieve the filename from the file_id</span></span>
<span id="cb663-4"><a href="#cb663-4" aria-hidden="true" tabindex="-1"></a>  filename <span class="ot">&lt;-</span> bundle[bundle<span class="sc">$</span>file_id <span class="sc">==</span> id,]<span class="sc">$</span>file_name           </span>
<span id="cb663-5"><a href="#cb663-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a destination directory to store the file in</span></span>
<span id="cb663-6"><a href="#cb663-6" aria-hidden="true" tabindex="-1"></a>  filepath <span class="ot">&lt;-</span> <span class="fu">paste</span>(outDir,filename, <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>)</span>
<span id="cb663-7"><a href="#cb663-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressWarnings</span>(<span class="fu">dir.create</span>(<span class="fu">dirname</span>(filepath)))</span>
<span id="cb663-8"><a href="#cb663-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># write the file to disk using the destination directory and file name </span></span>
<span id="cb663-9"><a href="#cb663-9" aria-hidden="true" tabindex="-1"></a>  response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id, <span class="st">&quot;/&quot;</span>, id), </span>
<span id="cb663-10"><a href="#cb663-10" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">write_disk</span>(filepath, <span class="at">overwrite =</span> <span class="cn">TRUE</span>), <span class="fu">progress</span>(),</span>
<span id="cb663-11"><a href="#cb663-11" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">add_headers</span>(<span class="at">Authorization =</span> token))</span>
<span id="cb663-12"><a href="#cb663-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now, take a look at “R_output” directory. Separate folders are made for each product and the outputs are saved in these folders.</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="#cb664-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of directories in the R_output directory</span></span>
<span id="cb664-2"><a href="#cb664-2" aria-hidden="true" tabindex="-1"></a><span class="fu">list.dirs</span>(outDir)</span></code></pre></div>
<pre><code>##  [1] &quot;./data/&quot;                                                                                                       
##  [2] &quot;./data//__MACOSX&quot;                                                                                              
##  [3] &quot;./data//__MACOSX/All_NEON_TOS_Plots_V8&quot;                                                                        
##  [4] &quot;./data//All_NEON_TOS_Plots_V8&quot;                                                                                 
##  [5] &quot;./data//AOPTerrestrial&quot;                                                                                        
##  [6] &quot;./data//DP3.30015.001&quot;                                                                                         
##  [7] &quot;./data//DP3.30015.001/neon-aop-products&quot;                                                                       
##  [8] &quot;./data//DP3.30015.001/neon-aop-products/2017&quot;                                                                  
##  [9] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite&quot;                                                         
## [10] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16&quot;                                                     
## [11] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1&quot;                                         
## [12] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/L3&quot;                                      
## [13] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/L3/DiscreteLidar&quot;                        
## [14] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/L3/DiscreteLidar/CanopyHeightModelGtif&quot;  
## [15] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata&quot;                                
## [16] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar&quot;                  
## [17] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary&quot;     
## [18] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/kmls&quot;
## [19] &quot;./data//DP3.30015.001/neon-aop-products/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps&quot;
## [20] &quot;./data//filesToStack00200&quot;                                                                                     
## [21] &quot;./data//pointreyes&quot;                                                                                            
## [22] &quot;./data//pointreyesclear&quot;                                                                                       
## [23] &quot;./data//pointreyesfoggy&quot;                                                                                       
## [24] &quot;./data//SJER&quot;                                                                                                  
## [25] &quot;./data//SOAP&quot;</code></pre>
<p>Below, the list of relative path and file names is assigned to a variable and part of the list is printed.</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="#cb666-1" aria-hidden="true" tabindex="-1"></a>relative_path <span class="ot">&lt;-</span> bundle<span class="sc">$</span>file_name            <span class="co"># Assign relative path to a variable</span></span></code></pre></div>
<p>Later in this tutorial, the <code>SRTMGL1_NC</code> GeoTIFF is loaded for visulalization. Below, the directory to this file is assigned to a variable.</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="#cb667-1" aria-hidden="true" tabindex="-1"></a>SRTMGL1_NC_dir <span class="ot">&lt;-</span> (<span class="st">&#39;./data/NASADEM_NC.001_NASADEM_HGT_doy2000042_aid0001.tif&#39;</span>)           <span class="co"># Assign absolute path to a variable</span></span>
<span id="cb667-2"><a href="#cb667-2" aria-hidden="true" tabindex="-1"></a>SRTMGL1_NC_dir                                                             <span class="co"># Print the absolute path</span></span></code></pre></div>
<pre><code>## [1] &quot;./data/NASADEM_NC.001_NASADEM_HGT_doy2000042_aid0001.tif&quot;</code></pre>
<hr />
</div>
<div id="explore-appeears-quality-service-1" class="section level2 hasAnchor" number="7.38">
<h2 class="hasAnchor"><span class="header-section-number">7.38</span> Explore AppEEARS Quality Service<a href="#explore-appeears-quality-service-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The quality API provides quality details about all of the data products available in AppEEARS. Below are examples of how to query the quality API for listing quality products, layers, and values. The final example demonstrates how AppEEARS quality services can be leveraged to decode pertinent quality values for your data. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a></p>
<p>First, reset pagination to include offset which allows you to set the number of results to skip before starting to return entries. Next, make a call to list all of the data product layers and the associated quality product and layer information.</p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="#cb669-1" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">limit =</span> <span class="dv">6</span>, <span class="at">offset =</span> <span class="dv">20</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)          <span class="co"># Assign query to a variable</span></span>
<span id="cb669-2"><a href="#cb669-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the specified quality layer info from quality API</span></span>
<span id="cb669-3"><a href="#cb669-3" aria-hidden="true" tabindex="-1"></a>quality_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality&quot;</span>), <span class="at">query =</span> params)</span>
<span id="cb669-4"><a href="#cb669-4" aria-hidden="true" tabindex="-1"></a>quality_content <span class="ot">&lt;-</span> <span class="fu">content</span>(quality_req)                        <span class="co"># Retrieve the content of request</span></span>
<span id="cb669-5"><a href="#cb669-5" aria-hidden="true" tabindex="-1"></a>quality_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(quality_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>) <span class="co"># Convert the info to JSON object</span></span>
<span id="cb669-6"><a href="#cb669-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(quality_req, quality_content)                           <span class="co"># Remove the variables that are not needed </span></span>
<span id="cb669-7"><a href="#cb669-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(quality_response)</span></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;Layer&quot;: &quot;B10&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;Fmask&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;Layer&quot;: &quot;B11&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;Fmask&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;Layer&quot;: &quot;B12&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;HLSS30.020&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;Fmask&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;ASTGTM_NC.003&quot;,
##         &quot;Layer&quot;: &quot;ASTER_GDEM_DEM&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;ASTGTM_NUMNC.003&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;ASTER_GDEM_NUM&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;Layer&quot;: &quot;SRB1&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;Layer&quot;: &quot;SRB2&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LC08.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ],
##         &quot;Continuous&quot;: false,
##         &quot;VisibleToWorker&quot;: true
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="list-quality-layers-1" class="section level2 hasAnchor" number="7.39">
<h2 class="hasAnchor"><span class="header-section-number">7.39</span> List Quality Layers<a href="#list-quality-layers-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will list all of the quality layer information for a product. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a></p>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="#cb671-1" aria-hidden="true" tabindex="-1"></a>productAndVersion <span class="ot">&lt;-</span> <span class="st">&#39;MCD15A3H.006&#39;</span>                                  <span class="co"># Assign productAndVersion to a variable</span></span>
<span id="cb671-2"><a href="#cb671-2" aria-hidden="true" tabindex="-1"></a>MCD15A3H_q_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion))<span class="co"># Request quality info for a product</span></span>
<span id="cb671-3"><a href="#cb671-3" aria-hidden="true" tabindex="-1"></a>MCD15A3H_q_content <span class="ot">&lt;-</span> <span class="fu">content</span>(MCD15A3H_q_req)                        <span class="co"># Retrieve the content of request</span></span>
<span id="cb671-4"><a href="#cb671-4" aria-hidden="true" tabindex="-1"></a>MCD15A3H_quality <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(MCD15A3H_q_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)    <span class="co"># Convert the info to JSON object</span></span>
<span id="cb671-5"><a href="#cb671-5" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(MCD15A3H_q_req, MCD15A3H_q_content)</span>
<span id="cb671-6"><a href="#cb671-6" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(MCD15A3H_quality)</span></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Fpar_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;FparStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Lai_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;LaiStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ],
##         &quot;VisibleToWorker&quot;: true
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="show-quality-values" class="section level2 hasAnchor" number="7.40">
<h2 class="hasAnchor"><span class="header-section-number">7.40</span> Show Quality Values<a href="#show-quality-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will list all of the values for a given quality layer.</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="#cb673-1" aria-hidden="true" tabindex="-1"></a>quality_layer <span class="ot">&lt;-</span> <span class="st">&#39;FparLai_QC&#39;</span>                                 <span class="co"># assign a quality layer to a variable</span></span>
<span id="cb673-2"><a href="#cb673-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request the specified quality layer info from quality API</span></span>
<span id="cb673-3"><a href="#cb673-3" aria-hidden="true" tabindex="-1"></a>quality_req <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>,  productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>))</span>
<span id="cb673-4"><a href="#cb673-4" aria-hidden="true" tabindex="-1"></a>quality_content <span class="ot">&lt;-</span> <span class="fu">content</span>(quality_req)                        <span class="co"># Retrieve the content of request</span></span>
<span id="cb673-5"><a href="#cb673-5" aria-hidden="true" tabindex="-1"></a>quality_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(quality_content, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>) <span class="co"># Convert the info to JSON object</span></span>
<span id="cb673-6"><a href="#cb673-6" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(quality_req, quality_content)                           <span class="co"># Remove the variables that are not needed </span></span>
<span id="cb673-7"><a href="#cb673-7" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(quality_response)                                     <span class="co"># Print the quality response as a data frame</span></span></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Good quality (main algorithm with or without saturation)&quot;,
##         &quot;Acceptable&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;,
##         &quot;Acceptable&quot;: false
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Terra&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Aqua&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Dead detectors caused &gt;50% adjacent detector retrieval&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Significant clouds NOT present (clear)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Significant clouds WERE present&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Mixed cloud present in pixel&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Cloud state not defined, assumed clear&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Main (RT) method used with saturation. Good, very usable&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to bad geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to problems other than geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 4,
##         &quot;Description&quot;: &quot;Pixel not produced at all, value couldn&#39;t be retrieved (possible reasons: bad L1B data, unusable MOD09GA data)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="decode-quality-values-1" class="section level2 hasAnchor" number="7.41">
<h2 class="hasAnchor"><span class="header-section-number">7.41</span> Decode Quality Values<a href="#decode-quality-values-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This API call will decode the bits for a given quality value.</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="#cb675-1" aria-hidden="true" tabindex="-1"></a>quality_value <span class="ot">&lt;-</span> <span class="dv">1</span>                        <span class="co"># Assign a quality value to a variable </span></span>
<span id="cb675-2"><a href="#cb675-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Request and retrieve information for provided quality value from quality API URL </span></span>
<span id="cb675-3"><a href="#cb675-3" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">content</span>(<span class="fu">GET</span>(<span class="fu">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="st">&quot;/&quot;</span>, quality_value)))</span>
<span id="cb675-4"><a href="#cb675-4" aria-hidden="true" tabindex="-1"></a>q_response <span class="ot">&lt;-</span> <span class="fu">toJSON</span>(response, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)     <span class="co"># Convert the info to JSON object</span></span>
<span id="cb675-5"><a href="#cb675-5" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(response)                                      <span class="co"># Remove the variables that are not needed anymore</span></span>
<span id="cb675-6"><a href="#cb675-6" aria-hidden="true" tabindex="-1"></a><span class="fu">prettify</span>(q_response)                                  <span class="co"># Print the prettified response</span></span></code></pre></div>
<pre><code>## {
##     &quot;Binary Representation&quot;: &quot;0b00000001&quot;,
##     &quot;MODLAND&quot;: {
##         &quot;bits&quot;: &quot;0b1&quot;,
##         &quot;description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;
##     },
##     &quot;Sensor&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Terra&quot;
##     },
##     &quot;DeadDetector&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;
##     },
##     &quot;CloudState&quot;: {
##         &quot;bits&quot;: &quot;0b00&quot;,
##         &quot;description&quot;: &quot;Significant clouds NOT present (clear)&quot;
##     },
##     &quot;SCF_QC&quot;: {
##         &quot;bits&quot;: &quot;0b000&quot;,
##         &quot;description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;
##     }
## }
## </code></pre>
<hr />
</div>
<div id="bonus-load-request-output-and-visualize" class="section level2 hasAnchor" number="7.42">
<h2 class="hasAnchor"><span class="header-section-number">7.42</span> BONUS: Load Request Output and Visualize<a href="#bonus-load-request-output-and-visualize" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here, load one of the output GeoTIFFs and show some basic visualizations using the <code>rasterVis</code> and <code>ggplot2</code> packages.</p>
</div>
<div id="load-a-geotiff" class="section level2 hasAnchor" number="7.43">
<h2 class="hasAnchor"><span class="header-section-number">7.43</span> Load a GeoTIFF<a href="#load-a-geotiff" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, created a raster object by calling the raster() function from the <code>raster</code> package.</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="#cb677-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a raster object using the directory previously extracted</span></span>
<span id="cb677-2"><a href="#cb677-2" aria-hidden="true" tabindex="-1"></a>dem <span class="ot">&lt;-</span> <span class="fu">raster</span>(SRTMGL1_NC_dir)</span></code></pre></div>
<hr />
</div>
<div id="plot-a-geotiff" class="section level2 hasAnchor" number="7.44">
<h2 class="hasAnchor"><span class="header-section-number">7.44</span> Plot a GeoTIFF<a href="#plot-a-geotiff" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Make a plot of DEM data and add some additional parameters to the plot.</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="#cb678-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gplot</span>(dem) <span class="sc">+</span></span>
<span id="cb678-2"><a href="#cb678-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>(<span class="fu">aes</span>(<span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb678-3"><a href="#cb678-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(<span class="at">name =</span> <span class="st">&quot;Elevation (m)&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;BrBG&quot;</span>, <span class="at">na.value=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb678-4"><a href="#cb678-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">expand =</span> F, <span class="at">ratio =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb678-5"><a href="#cb678-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;SRTM DEM: NEON SOAP&quot;</span>)<span class="sc">+</span></span>
<span id="cb678-6"><a href="#cb678-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>),<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb678-7"><a href="#cb678-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb678-8"><a href="#cb678-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb678-9"><a href="#cb678-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span> , <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">0.8</span>),</span>
<span id="cb678-10"><a href="#cb678-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;#6D9EC1&quot;</span>,<span class="at">size =</span> <span class="dv">2</span>, <span class="at">linetype =</span> <span class="st">&quot;solid&quot;</span>),</span>
<span id="cb678-11"><a href="#cb678-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="fl">0.001</span>, <span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>,<span class="at">colour =</span> <span class="st">&quot;gray&quot;</span>),</span>
<span id="cb678-12"><a href="#cb678-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="fl">0.001</span>, <span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>,<span class="at">colour =</span> <span class="st">&quot;gray&quot;</span>))</span></code></pre></div>
<p>This example can provide a template to use for your own research workflows. Leveraging the AppEEARS API for searching, extracting, and formatting analysis ready data, and loading it directly into R means that you can keep your entire research workflow in a single software program, from start to finish.</p>
</div>
<div id="nasa-eos-coding-lab-2" class="section level2 hasAnchor" number="7.45">
<h2 class="hasAnchor"><span class="header-section-number">7.45</span> NASA EOS Coding Lab #2<a href="#nasa-eos-coding-lab-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Choose two NEON sites in <em>different</em> ecoregions. Then complete the following for <strong>each</strong> of your two NEON sites:</p></li>
<li><p>Using your Earth Data account submit a point-based request to AppEEARS to pull 250m NDVI from AQUA and TERA for 2017, 2018, &amp; 2019.</p></li>
</ol>
<p><em>Hint: How might you decide on the lat/lon to submit? Metadata for the site? NEON TOS data?</em></p>
<ol start="3" style="list-style-type: decimal">
<li>Use QA/QC values to filter out ‘poor quality’.</li>
</ol>
<p><em>Hint: Look at the QA/QC files that accompany your request</em></p>
<ol start="4" style="list-style-type: decimal">
<li><p>Plot 3 years of NDVI from MODIS AQUA and TERA as a timeseries.</p></li>
<li><p>Constrain a 3-week window for ‘peak greeness’ from MODIS and highlight it on your timeseries plot.</p></li>
<li><p>Pull the canopy-level gcc90 from PhenoCam for the same site and the same time period as above.</p></li>
</ol>
<p><em>Hint: Check the numbering of your PhenoCam on the <a href="https://phenocam.sr.unh.edu/webcam/gallery/">PhenoCam gallery</a> </em></p>
<ol start="7" style="list-style-type: decimal">
<li><p>Plot the PhenoCam and MODIS timeseries on the same plot.</p></li>
<li><p>Constrain a 3-week window for ‘peak greeness’ from PhenoCam and highlight it on your timeseries.
<em>Hint: Remember our PhenoCam discussions regarding early ‘extra green’ leaves? You’ll need to use some logic for this, not just a <code>max</code> </em></p></li>
<li><p>Find the timing of the AOP flights that have occured at your sites over the same time period. Add those dates as a vertical line.</p></li>
</ol>
<p><strong>BONUS:</strong> If you’d like to submit an area-based request instead you can do so using the shapefiles for each NEON site <a href="https://drive.google.com/drive/folders/19MJee-UKY-McbxDuYYCINhWRbqn4bbGO?usp=sharing">in this folder</a></p>
</div>
<div id="nasa-eos-written-questions" class="section level2 hasAnchor" number="7.46">
<h2 class="hasAnchor"><span class="header-section-number">7.46</span> NASA EOS Written Questions<a href="#nasa-eos-written-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>How does the scientific method of Earth Science differ from that of traditional/classical labratory sciences?</li>
</ol>
</div>
<div id="nasa-eos-culmination-write-up" class="section level2 hasAnchor" number="7.47">
<h2 class="hasAnchor"><span class="header-section-number">7.47</span> NASA EOS Culmination Write Up<a href="#nasa-eos-culmination-write-up" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Write up a 1-page <strong>derived data product or research pipeline proposal</strong> summary of a project that you might want to explore using NASA EOS data. Include the types of data that you would need to implement this project and how you would retrieve them. Save this summary as you will be refining and adding to your ideas over the course of the semester.</p>
<p>Suggestions:</p>
<ol style="list-style-type: decimal">
<li><p>Tables or bullet lists of <strong>specific</strong> data products</p></li>
<li><p>An <strong>overarching high-quality figure</strong> to show how these data align</p></li>
<li><p>One paragraph summarizing <em>how</em> this data or analysis is useful to <strong>you and/or the infrastructure</strong>.</p></li>
</ol>
<!--chapter:end:07-NASA_EOS.Rmd-->
</div>
</div>
<div id="usgs-national-water-information-system-nwis" class="section level1 hasAnchor" number="8">
<h1 class="hasAnchor"><span class="header-section-number">8</span> USGS National Water Information System (NWIS)<a href="#usgs-national-water-information-system-nwis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>United States Geological Survey’s National Water Information System (NWIS)</strong></p>
<div id="usgs-mission" class="section level2 hasAnchor" number="8.1">
<h2 class="hasAnchor"><span class="header-section-number">8.1</span> USGS Mission:<a href="#usgs-mission" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Changes to the natural world combined with growing human demands put our health and safety, national security, and economy at risk. We are focused on some of the most significant issues society faces, and our science is making a substantial contribution to the well-being of the Nation and the world.</p>
</blockquote>
<p>You can explore <a href="https://www.usgs.gov/science/mission-areas">USGS Missions and programs here.</a></p>
<p><img src="images/usgs_missions.png" width="738" /></p>
</div>
<div id="usgs-water-resources-mission" class="section level2 hasAnchor" number="8.2">
<h2 class="hasAnchor"><span class="header-section-number">8.2</span> USGS Water Resources Mission:<a href="#usgs-water-resources-mission" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Water information is fundamental to national and local economic well-being, protection of life and property, and effective management of the Nation’s water resources. The USGS works with partners to monitor, assess, conduct targeted research, and deliver information on a wide range of water resources and conditions including streamflow, groundwater, water quality, and water use and availability.</p>
</blockquote>
<p>The United States Geological Survey (USGS) has collected water-resources data at approximately 1.5 million sites in <strong>all 50 States, the District of Columbia, Puerto Rico, the Virgin Islands, Guam, American Samoa and the Commonwealth of the Northern Mariana Islands</strong>.</p>
<p><img src="images/NWIS_sites.png" width="1913" /></p>
<p>A map of collection sites <a href="https://maps.waterdata.usgs.gov/mapper/index.html">can be found here</a></p>
</div>
<div id="types-of-usgs-nwis-data" class="section level2 hasAnchor" number="8.3">
<h2 class="hasAnchor"><span class="header-section-number">8.3</span> Types of USGS NWIS Data<a href="#types-of-usgs-nwis-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The types of data collected are varied, but generally fit into the broad categories of surface water and groundwater.</p>
<p><strong>Surface-water data</strong>, such as gage height (stage) and streamflow (discharge), are collected at major rivers, lakes, and reservoirs.</p>
<p><strong>Groundwater data</strong>, such as water level, are collected at wells and springs.</p>
<p><strong>Water-quality data</strong> are available for both surface water and groundwater. Examples of water-quality data collected are temperature, specific conductance, pH, nutrients, pesticides, and volatile organic compounds.</p>
<p>The <a href="https://waterdata.usgs.gov/nwis">NWIS web site</a> serves current and historical data. Data are retrieved by category of data, such as surface water, groundwater, or water quality, and by geographic area.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Tv3tzbv5OBs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="usgs-r-packages-collaborative-and-reproducible-data-analysis-using-r" class="section level2 hasAnchor" number="8.4">
<h2 class="hasAnchor"><span class="header-section-number">8.4</span> USGS R Packages: Collaborative and reproducible data analysis using R<a href="#usgs-r-packages-collaborative-and-reproducible-data-analysis-using-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Contributors: Jordan Read, Lindsay Carr
Adapted from USGS <a href="https://owi.usgs.gov/R/training-curriculum/usgs-packages/GettingStartedUSGS/">‘Getting Started with USGS R Packages’ course materials</a></p>
</blockquote>
<p>Recently, the USGS has built a suite of software packages and tutorials for R users to to interact with their data and streamline workflows. Here we have adapted course materials from thier USGS R packages course materials written and developed by Lindsay R. Carr.</p>
<p>The common workflow for completing the data processing pipeline is subject to human error at every step: accessing data, analyzing data, and producing final figures. Multi-site analyses are especially error-prone because the same workflow needs to be repeated many times. This course teaches a modular approach to the common data analysis workflow by building on basic R data analysis skills and leveraging existing USGS R packages that can create advanced, reproducible workflows, such as for accessing gridded climate data, analyzing high frequency water observations, and for taking full advantage of the USGS ScienceBase repository. The USGS packages covered in this course span a variety of applications: accessing web data, accessing personally stored data, and releasing data for publication.</p>
<p>The modular workflows taught in this section will prepare researchers to create automated, robust data processing workflows through more efficient code development. Following the course, students will be capable of integrating these packages into their own scientific workflows.</p>
<div id="suggested-prerequisite-knowledge" class="section level3 hasAnchor" number="8.4.1">
<h3 class="hasAnchor"><span class="header-section-number">8.4.1</span> Suggested prerequisite knowledge<a href="#suggested-prerequisite-knowledge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This course assumes a moderate to advanced knowledge of the statistical programming language R. If you’re interested in using USGS packages for data analysis but have no R experience, please visit the <a href="/intro-curriculum">Introduction to R curriculum</a> available at this site.</p>
<ol style="list-style-type: decimal">
<li>Experience using R to import, view, and summarize data</li>
<li>Recommended: experience creating simple plots in R</li>
<li>Recommended: familiarity with RStudio</li>
</ol>
</div>
<div id="course-outline" class="section level3 hasAnchor" number="8.4.2">
<h3 class="hasAnchor"><span class="header-section-number">8.4.2</span> Course outline<a href="#course-outline" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="3" style="text-align: left;">
<caption>
Summary of Modules
</caption>
</td>
</tr>
<tr>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Module
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Description
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Duration
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
dataRetrieval
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Accessing time series data.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
2 hours
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
geoknife
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Accessing gridded data.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
1 hour
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; border-bottom: 2px solid grey; text-align: left;">
Application
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; border-bottom: 2px solid grey; text-align: left;">
Use the packages introduced in previous modules to create and use a robust modular workflow.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; border-bottom: 2px solid grey; text-align: left;">
1.5 hour
</td>
</tr>
</tbody>
</table>
</div>
<div id="software-requirements" class="section level3 hasAnchor" number="8.4.3">
<h3 class="hasAnchor"><span class="header-section-number">8.4.3</span> Software requirements<a href="#software-requirements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>See the <a href="/installr">R installation instructions page</a> for how to install/upgrade R and RStudio, add GRAN to your settings, and install some basic packages. Then, execute these lines so that you have the most up-to-date version of the packages used in this course.</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="#cb679-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&#39;dataRetrieval&#39;</span>, <span class="st">&#39;geoknife&#39;</span>))</span></code></pre></div>
</div>
<div id="lesson-summary" class="section level3 hasAnchor" number="8.4.4">
<h3 class="hasAnchor"><span class="header-section-number">8.4.4</span> Lesson Summary<a href="#lesson-summary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This lesson will focus on finding and retrieving hydrologic time series data using the USGS R package, <code>dataRetrieval</code>. The package was created to make querying and downloading hydrologic data from the web easier, less error-prone, and reproducible. The package allows users to easily access data stored in the USGS National Water Information System (NWIS) and the multi-agency database, Water Quality Portal (WQP). NWIS only contains data collected by or for the USGS. Conversely, WQP is a database that aggregates water quality data from multiple agencies, including USGS, Environmental Protection Agency (EPA), US Department of Agriculture (USDA), and many state, tribal, and local agencies.</p>
<p><code>dataRetrieval</code> functions take user-defined arguments and construct web service calls. The web service returns the data as XML (a standard data structure), and <code>dataRetrieval</code> takes care of parsing that into a useable R data.frame, complete with metadata. When web services change, <code>dataRetrieval</code> users aren’t affected because the package maintainers will update the functions to handle these modifications. This is what makes <code>dataRetrieval</code> so user-friendly.</p>
<p>Neither NWIS nor WQP are static databases. Users should be aware that data is constantly being added, so a query one week might return differing amounts of data from the next. For more information about NWIS, please visit <a href="waterdata.usgs.gov/nwis">waterdata.usgs.gov/nwis</a>. For more information about WQP, visit their site www.waterqualitydata.us or read about WQP for aquatic research applications in the publication, <em><a href="http://onlinelibrary.wiley.com/doi/10.1002/2016WR019993/abstract">Water quality data for national-scale aquatic research: The Water Quality Portal</a></em>.</p>
</div>
<div id="lesson-objectives" class="section level3 hasAnchor" number="8.4.5">
<h3 class="hasAnchor"><span class="header-section-number">8.4.5</span> Lesson Objectives<a href="#lesson-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Learn about data available in the National Water Information System (NWIS) and Water Quality Portal (WQP). Discover how to construct your retrieval calls to get exactly what you are looking for, and access information stored as metadata in the R object.</p>
<p>By the end of this lesson, the learner will be able to:</p>
<ol style="list-style-type: decimal">
<li>Investigate what data are available in National Water Information System (NWIS) and Water Quality Portal (WQP) through package functions.</li>
<li>Construct function calls to pull a variety of NWIS and WQP data.</li>
<li>Access metadata information from retrieval call output.</li>
</ol>
</div>
<div id="lesson-resources" class="section level3 hasAnchor" number="8.4.6">
<h3 class="hasAnchor"><span class="header-section-number">8.4.6</span> Lesson Resources<a href="#lesson-resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>USGS publication: <a href="https://pubs.usgs.gov/tm/04/a10/pdf/tm4A10_appendix_1.pdf">The dataRetrieval R package</a></li>
<li>Source code: <a href="https://github.com/USGS-R/dataRetrieval">dataRetrieval on GitHub</a></li>
<li>Report a bug or suggest a feature: <a href="https://github.com/USGS-R/dataRetrieval/issues">dataRetrieval issues on GitHub</a></li>
<li>USGS Presentation: <a href="https://owi.usgs.gov/R/dataRetrieval.html#1">dataRetrieval Tutorial</a></li>
</ul>
</div>
<div id="lesson-slide-deck" class="section level3 hasAnchor" number="8.4.7">
<h3 class="hasAnchor"><span class="header-section-number">8.4.7</span> Lesson Slide Deck<a href="#lesson-slide-deck" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure">
<embed src="https://owi.usgs.gov/R/dataRetrieval.html#1" />
<p class="caption">Browse the slide deck here</p>
</div>
</div>
</div>
<div id="introduction-to-usgs-r-packages" class="section level2 hasAnchor" number="8.5">
<h2 class="hasAnchor"><span class="header-section-number">8.5</span> Introduction to USGS R Packages<a href="#introduction-to-usgs-r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before continuing with this lesson, you should make sure that the <code>dataRetrieval</code> package is installed and loaded. If you haven’t recently updated, you could reinstall the package by running <code>install.packages('dataRetrieval')</code> or go to the “Update” button in the “Packages” tab in RStudio.</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the dataRetrival package</span></span>
<span id="cb680-2"><a href="#cb680-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dataRetrieval)</span></code></pre></div>
<p>There is an overwhelming amount of data and information stored in the National Water Information System (NWIS). This lesson will attempt to give an overview of what you can access. If you need more detail on a subject or have a question that is not answered here, please visit the <a href="https://help.waterdata.usgs.gov/">NWIS help system</a>.</p>
</div>
<div id="data-available" class="section level2 hasAnchor" number="8.6">
<h2 class="hasAnchor"><span class="header-section-number">8.6</span> Data available<a href="#data-available" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Data types:</strong> NWIS and WQP store a lot of water information. NWIS contains streamflow, peak flow, rating curves, groundwater, and water quality data. As can be assumed from the name, WQP only contains water quality data.</p>
<p><strong>Time series types:</strong> the databases store water data at various reporting frequencies, and have different language to describe these. There are 3 main types: unit value, daily value, and discrete. WQP only contains discrete data.</p>
<ol style="list-style-type: decimal">
<li><em>instantaneous value</em> (sometimes called <em>unit value</em>) data is reported at the frequency in which it was collected, and includes real-time data. It is generally available from 2007-present.</li>
<li><em>daily value</em> data aggregated to a daily statistic (e.g. mean daily, minimum daily, or maximum daily).
This is available for streamflow, groundwater levels, and water quality sensors.</li>
<li><em>discrete</em> data collected at a specific point in time, and is not a continuous time series. This includes most water quality data, groundwater levels, rating curves, surface water measurements, and peak flow.</li>
</ol>
<p><strong>Metadata types:</strong> both NWIS and WQP contain metadata describing the site at which the data was collected (e.g. latitude, longitude, elevation, etc), and include information about the type of data being used (e.g. units, dissolved or not, collection method, etc).</p>
</div>
<div id="common-nwis-function-arguments" class="section level2 hasAnchor" number="8.7">
<h2 class="hasAnchor"><span class="header-section-number">8.7</span> Common NWIS function arguments<a href="#common-nwis-function-arguments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em><em><code>siteNumber</code></em></em> All NWIS data are stored based on the geographic location of the equipment used to collected the data. These are known as streamgages and they take continuous timeseries measurements for a number of water quality and quantity parameters. Streamgages are identified based on an 8-digit (surface water) or 15-digit (groundwater) code. In <code>dataRetrieval</code>, we refer to this as the <code>siteNumber</code>. Any time you use a <code>siteNumber</code> in <code>dataRetrieval</code>, make sure it is a string and not numeric. Oftentimes, NWIS sites have leading zeroes which are dropped when treated as a numeric value.</p>
<p><em><em><code>parameterCd</code></em></em> NWIS uses 5-digit codes to refer to specific data of interest called parameter codes, <code>parameterCd</code> in <code>dataRetrieval</code>. For example, you use the code ‘00060’ to specify discharge data. If you’d like to explore the full list, see the <a href="https://help.waterdata.usgs.gov/code/parameter_cd_query?fmt=rdb&amp;inline=true&amp;group_cd=%">Parameter Groups Table</a>. The package also has a built in parameter code table that you can use by executing <code>parameterCdFile</code> in your console.</p>
<p><em><em><code>service</code></em></em> Identifier referring to the time series frequencies explained above, or the type of data that should be returned. For more information, visit the <a href="https://waterservices.usgs.gov/rest/Site-Service.html#outputDataTypeCd">Water Services website</a>.</p>
<ul>
<li>instaneous = “iv”</li>
<li>daily values = “dv”</li>
<li>groundwater levels = “gwlevels”</li>
<li>water quality = “qw”</li>
<li>statistics = “stat”</li>
<li>site = “site”</li>
</ul>
<p><em><em><code>startDate</code></em></em> and <em><em><code>endDate</code></em></em> Strings in the format “YYYY-MM-DDTHH:SS:MM”, either as a date or character class. The start and end date-times are inclusive.</p>
<p><em><em><code>stateCd</code></em></em> Two character abbreviation for a US state or territory. Execute <code>state.abb</code> in the console to get a vector of US state abbreviations. Territories include:</p>
<ul>
<li>AS (American Samoa)</li>
<li>GU (Guam)</li>
<li>MP (Northern Mariana Islands)</li>
<li>PR (Puerto Rico)</li>
<li>VI (U.S. Virgin Islands)</li>
</ul>
<p>For more query parameters, visit <a href="https://waterservices.usgs.gov/rest/Site-Service.html#Service">NWIS service documentation</a>.</p>
</div>
<div id="discovering-nwis-data" class="section level2 hasAnchor" number="8.8">
<h2 class="hasAnchor"><span class="header-section-number">8.8</span> Discovering NWIS data<a href="#discovering-nwis-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In some cases, users might have specific sites and data that they are pulling with <code>dataRetrieval</code> but what if you wanted to know what data exists in the database before trying to download it? You can use the function <code>whatNWISdata</code>, described below. Another option is to download the data using <code>readNWISdata</code>, and see the first and last available dates of that data with the arguments <code>seriesCatalogOutput=TRUE</code> and <code>service="site"</code>. Downloading data will be covered in the next section, <a href="/usgs-packages/dataRetrieval-readNWIS">readNWIS</a>.</p>
<div id="whatnwisdata" class="section level3 hasAnchor" number="8.8.1">
<h3 class="hasAnchor"><span class="header-section-number">8.8.1</span> whatNWISdata<a href="#whatnwisdata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>whatNWISdata</code> will return a data.frame specifying the types of data available for a specified major filter that fits your querying criteria. You can add queries by the data service, USGS parameter code, or statistics code. You need at least one “major filter” in order for the query to work. “Major filters” include <code>siteNumber</code>, <code>stateCd</code>, <code>huc</code>, <code>bBox</code>, or <code>countyCd</code>.</p>
<p>In this example, let’s find South Carolina stream temperature data. We specify the state, South Carolina, using the <code>stateCd</code> argument and South Carolina’s two letter abbreviation, SC.</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="#cb681-1" aria-hidden="true" tabindex="-1"></a>data_sc <span class="ot">&lt;-</span> <span class="fu">whatNWISdata</span>(<span class="at">stateCd=</span><span class="st">&quot;SC&quot;</span>)</span>
<span id="cb681-2"><a href="#cb681-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_sc)</span></code></pre></div>
<pre><code>## [1] 203526</code></pre>
<p>Let’s look at the dataframe returned from <code>whatNWISdata</code>:</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="#cb683-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_sc)</span></code></pre></div>
<pre><code>##   agency_cd  site_no                station_nm site_tp_cd dec_lat_va
## 1      USGS 02110400 BUCK CREEK NEAR LONGS, SC         ST    33.9535
## 2      USGS 02110400 BUCK CREEK NEAR LONGS, SC         ST    33.9535
## 3      USGS 02110400 BUCK CREEK NEAR LONGS, SC         ST    33.9535
## 4      USGS 02110400 BUCK CREEK NEAR LONGS, SC         ST    33.9535
## 5      USGS 02110400 BUCK CREEK NEAR LONGS, SC         ST    33.9535
## 6      USGS 02110400 BUCK CREEK NEAR LONGS, SC         ST    33.9535
##   dec_long_va coord_acy_cd dec_coord_datum_cd alt_va alt_acy_va alt_datum_cd
## 1   -78.71974            S              NAD83    5.3       0.01       NAVD88
## 2   -78.71974            S              NAD83    5.3       0.01       NAVD88
## 3   -78.71974            S              NAD83    5.3       0.01       NAVD88
## 4   -78.71974            S              NAD83    5.3       0.01       NAVD88
## 5   -78.71974            S              NAD83    5.3       0.01       NAVD88
## 6   -78.71974            S              NAD83    5.3       0.01       NAVD88
##     huc_cd data_type_cd parm_cd stat_cd  ts_id loc_web_ds medium_grp_cd
## 1 03040206           ad    &lt;NA&gt;    &lt;NA&gt;      0       &lt;NA&gt;           wat
## 2 03040206           dv   00010   00001 124327       &lt;NA&gt;           wat
## 3 03040206           dv   00010   00002 124328       &lt;NA&gt;           wat
## 4 03040206           dv   00010   00003 124329       &lt;NA&gt;           wat
## 5 03040206           dv   00045   00006 124351       &lt;NA&gt;           wat
## 6 03040206           dv   00060   00001 124348       &lt;NA&gt;           wat
##   parm_grp_cd  srs_id access_cd begin_date   end_date count_nu
## 1        &lt;NA&gt;       0         0 2006-01-01 2021-01-01       16
## 2        &lt;NA&gt; 1645597         0 2005-10-01 2022-10-09     6110
## 3        &lt;NA&gt; 1645597         0 2005-10-01 2022-10-09     6110
## 4        &lt;NA&gt; 1645597         0 2005-10-01 2022-10-09     6110
## 5        &lt;NA&gt; 1644459         0 2006-01-06 2022-10-08     5886
## 6        &lt;NA&gt; 1645423         0 2005-11-17 2019-08-17     4394</code></pre>
<p>The data returned from this query can give you information about the data available for each site including, date of first and last record (<code>begin_date</code>, <code>end_date</code>), number of records (<code>count_nu</code>), site altitude (<code>alt_va</code>), corresponding hydrologic unit code (<code>huc_cd</code>), and parameter units (<code>parameter_units</code>). These columns allow even more specification of data requirements before actually downloading the data. This function returns one row per unique combination of site number, dates, parameter, etc. In order to just get the sites, use <code>unique</code>:</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="#cb685-1" aria-hidden="true" tabindex="-1"></a>sites_sc <span class="ot">&lt;-</span> <span class="fu">unique</span>(data_sc<span class="sc">$</span>site_no)</span>
<span id="cb685-2"><a href="#cb685-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(sites_sc)</span></code></pre></div>
<pre><code>## [1] 10168</code></pre>
<p>To be more specific, let’s say we only want stream sites. This requires the <code>siteType</code> argument and the abbreviation “ST” for stream. See other siteTypes <a href="https://help.waterdata.usgs.gov/code/site_tp_query?fmt=html">here</a>. We also only want to use sites that have temperature data (USGS parameter code is 00010). Use the argument <code>parameterCd</code> and enter the code as a character string, otherwise leading zeroes will be dropped. Recall that you can see a table of all parameter codes by executing <code>parameterCdFile</code> in your console.</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="#cb687-1" aria-hidden="true" tabindex="-1"></a>data_sc_stream_temp <span class="ot">&lt;-</span> <span class="fu">whatNWISdata</span>(<span class="at">stateCd=</span><span class="st">&quot;SC&quot;</span>, <span class="at">siteType=</span><span class="st">&quot;ST&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00010&quot;</span>)</span>
<span id="cb687-2"><a href="#cb687-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_sc_stream_temp)</span></code></pre></div>
<pre><code>## [1] 683</code></pre>
<p>We are now down to just 683 rows of data, much less than our original 203,526 rows. Downloading NWIS data will be covered in the next section, <a href="/usgs-packages/dataRetrieval-readNWIS">readNWIS</a>.</p>
<p>The <code>whatNWISdata</code> function can also be very useful for making quick maps with site locations, see the columns <code>dec_lat_va</code> and <code>dec_long_va</code> (decimal latitude and longitude value). For instance,</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="#cb689-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SC stream temperature sites</span></span>
<span id="cb689-2"><a href="#cb689-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb689-3"><a href="#cb689-3" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(<span class="st">&#39;state&#39;</span>, <span class="at">regions=</span><span class="st">&#39;south carolina&#39;</span>)</span>
<span id="cb689-4"><a href="#cb689-4" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main=</span><span class="st">&quot;South Carolina Stream Temp Sites&quot;</span>)</span>
<span id="cb689-5"><a href="#cb689-5" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="at">x=</span>data_sc_stream_temp<span class="sc">$</span>dec_long_va, </span>
<span id="cb689-6"><a href="#cb689-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span>data_sc_stream_temp<span class="sc">$</span>dec_lat_va)</span></code></pre></div>
<div class="figure">
<img src="08-USGS_files/figure-html/sc_streamtemp_data_map-1.png" alt="Geographic locations of NWIS South Carolina stream sites with temperature data" width="672" />
<p class="caption">
(#fig:sc_streamtemp_data_map)Geographic locations of NWIS South Carolina stream sites with temperature data
</p>
</div>
<p>Continuing with the South Carolina temperature data example, let’s look for the mean daily stream temperature.</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="#cb690-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Average daily SC stream temperature data</span></span>
<span id="cb690-2"><a href="#cb690-2" aria-hidden="true" tabindex="-1"></a>data_sc_stream_temp_avg <span class="ot">&lt;-</span> <span class="fu">whatNWISdata</span>(</span>
<span id="cb690-3"><a href="#cb690-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">stateCd=</span><span class="st">&quot;SC&quot;</span>, </span>
<span id="cb690-4"><a href="#cb690-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">siteType=</span><span class="st">&quot;ST&quot;</span>,</span>
<span id="cb690-5"><a href="#cb690-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">parameterCd=</span><span class="st">&quot;00010&quot;</span>,</span>
<span id="cb690-6"><a href="#cb690-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">service=</span><span class="st">&quot;dv&quot;</span>,</span>
<span id="cb690-7"><a href="#cb690-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">statCd=</span><span class="st">&quot;00003&quot;</span>)</span>
<span id="cb690-8"><a href="#cb690-8" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_sc_stream_temp_avg)</span></code></pre></div>
<pre><code>## [1] 99</code></pre>
<p>Let’s apply an additional filter to these data using the <code>filter</code> function from <code>dplyr</code>. Imagine that the trend analysis you are conducting requires a minimum of 300 records and the most recent data needs to be no earlier than 1975.</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="#cb692-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Useable average daily SC stream temperature data</span></span>
<span id="cb692-2"><a href="#cb692-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb692-3"><a href="#cb692-3" aria-hidden="true" tabindex="-1"></a>data_sc_stream_temp_avg_applicable <span class="ot">&lt;-</span> data_sc_stream_temp_avg <span class="sc">%&gt;%</span> </span>
<span id="cb692-4"><a href="#cb692-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(count_nu <span class="sc">&gt;=</span> <span class="dv">300</span>, end_date <span class="sc">&gt;=</span> <span class="st">&quot;1975-01-01&quot;</span>)</span>
<span id="cb692-5"><a href="#cb692-5" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_sc_stream_temp_avg_applicable)</span></code></pre></div>
<pre><code>## [1] 97</code></pre>
<p>This means you would have 97 sites to work with for your study.</p>
</div>
</div>
<div id="common-wqp-function-arguments" class="section level2 hasAnchor" number="8.9">
<h2 class="hasAnchor"><span class="header-section-number">8.9</span> Common WQP function arguments<a href="#common-wqp-function-arguments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em><em><code>countrycode</code></em></em>, <em><em><code>statecode</code></em></em>, and <em><em><code>countycode</code></em></em> These geopolitical filters can be specified by a two letter abbreviation, state name, or Federal Information Processing Standard (FIPS) code. If you are using the FIPS code for a state or county, it must be preceded by the FIPS code of the larger geopolitical filter. For example, the FIPS code for the United States is <code>US</code>, and the FIPS code for South Carolina is <code>45</code>. When querying with the statecode, you can enter <code>statecode="US:45"</code>. The same rule extends to county FIPS; for example, you can use <code>countycode="45:001"</code> to query Abbeville County, South Carolina. You can find all state and county codes and abbreviations by executing <code>stateCd</code> or <code>countyCd</code> in your console.</p>
<p><em><em><code>siteType</code></em></em> Specify the hydrologic location the sample was taken, e.g. streams, lakes, groundwater sources. These should be listed as a string. Available types can be found <a href="https://www.waterqualitydata.us/Codes/Sitetype?mimeType=xml">here</a>.</p>
<p><em><em><code>organization</code></em></em> The ID of the reporting organization. All USGS science centers are written “USGS-” and then the two-letter state abbrevation. For example, the Wisconsin Water Science Center would be written “USGS-WI”. For all available organization IDs, please see <a href="https://www.waterqualitydata.us/Codes/Organization?mimeType=xml">this list of org ids</a>. The id is listed in the “value” field, but they are accompanied by the organization name in the “desc” (description) field.
<em><em><code>siteid</code></em></em> This is the unique identification number associated with a data collection station. Site IDs for the same location may differ depending on the reporting organization. The site ID string is written as the agency code then the site number separated by a hyphen. For example, the USGS site 01594440 would be written as “USGS-01594440”.</p>
<p><em><em><code>characteristicName</code></em></em> and <em><em><code>characteristicType</code></em></em> Unlike NWIS, WQP does not have codes for each parameter. Instead, you need to search based on the name of the water quality constituent (referred to as <code>characteristicName</code> in <code>dataRetrieval</code>) or a group of parameters (<code>characteristicType</code> in <code>dataRetrieval</code>). For example, “Nitrate” is a <code>characteristicName</code> and “Nutrient” is the <code>characteristicType</code> that it fits into. For a complete list of water quality types and names, see <a href="https://www.waterqualitydata.us/Codes/Characteristictype?mimeType=xml">characteristicType list</a> and <a href="https://www.waterqualitydata.us/Codes/Characteristicname?mimeType=xml">characteristicName list</a>.</p>
<p><em><em><code>startDate</code></em></em> and <em><em><code>endDate</code></em></em> Arguments specifying the beginning and ending of the period of record you are interested in. For the <code>dataRetrieval</code> functions, these can be a date or character class in the form YYYY-MM-DD. For example, <code>startDate = as.Date("2010-01-01")</code> or <code>startDate = "2010-01-01"</code> could both be your input arguments.</p>
</div>
<div id="discovering-wqp-data" class="section level2 hasAnchor" number="8.10">
<h2 class="hasAnchor"><span class="header-section-number">8.10</span> Discovering WQP data<a href="#discovering-wqp-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>WQP has millions of records, and if you aren’t careful, your query could take hours because of the amount of data that met your criteria. To avoid this, you can query just for the number of records and number of sites that meet your criteria using the argument <code>querySummary=TRUE</code> in the function, <code>readWQPdata</code>. See the <a href="/usgs-packages/readWQP">lesson on downloading WQP data</a> to learn more about getting data. You can also use <code>whatWQPsites</code> to get the site information that matches your criteria.</p>
<p>Let’s follow a similar pattern to NWIS data discovery sections and explore available stream temperature data in South Carolina.</p>
<div id="readwqpdata-querysummary" class="section level3 hasAnchor" number="8.10.1">
<h3 class="hasAnchor"><span class="header-section-number">8.10.1</span> readWQPdata + querySummary<a href="#readwqpdata-querysummary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>readWQPdata</code> is the function used to actually download WQP data. In this application, we are just querying for a count of sites and results that match our criteria. Since WQP expect state and county codes as their FIPS code, you will need to use the string “US:45” for South Carolina.</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="#cb694-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">statecode=</span><span class="st">&quot;US:45&quot;</span>, <span class="at">querySummary =</span> <span class="cn">TRUE</span>)</span>
<span id="cb694-2"><a href="#cb694-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(wqpcounts_sc)</span></code></pre></div>
<pre><code>##  [1] &quot;content-type&quot;              &quot;content-length&quot;           
##  [3] &quot;connection&quot;                &quot;server&quot;                   
##  [5] &quot;date&quot;                      &quot;content-disposition&quot;      
##  [7] &quot;total-site-count&quot;          &quot;nwis-site-count&quot;          
##  [9] &quot;storet-site-count&quot;         &quot;total-activity-count&quot;     
## [11] &quot;nwis-activity-count&quot;       &quot;storet-activity-count&quot;    
## [13] &quot;total-result-count&quot;        &quot;nwis-result-count&quot;        
## [15] &quot;storet-result-count&quot;       &quot;x-frame-options&quot;          
## [17] &quot;x-content-type-options&quot;    &quot;x-xss-protection&quot;         
## [19] &quot;strict-transport-security&quot; &quot;x-cache&quot;                  
## [21] &quot;via&quot;                       &quot;x-amz-cf-pop&quot;             
## [23] &quot;x-amz-cf-id&quot;</code></pre>
<p>This returns a list with 23 different items, including total number of sites, breakdown of the number of sites by source (BioData, NWIS, STORET), total number of records, and breakdown of records count by source. Let’s just look at total number of sites and total number of records.</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="#cb696-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc[[<span class="st">&#39;total-site-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 7607</code></pre>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="#cb698-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc[[<span class="st">&#39;total-result-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 4018586</code></pre>
<p>This doesn’t provide any information about the sites, just the total number. I know that with 4,018,586 results, I will want to add more criteria before trying to download. Let’s continue to add query parameters before moving to <code>whatWQPsites</code>.</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="#cb700-1" aria-hidden="true" tabindex="-1"></a><span class="co"># specify that you only want data from streams</span></span>
<span id="cb700-2"><a href="#cb700-2" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">statecode=</span><span class="st">&quot;US:45&quot;</span>, <span class="at">siteType=</span><span class="st">&quot;Stream&quot;</span>,</span>
<span id="cb700-3"><a href="#cb700-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">querySummary =</span> <span class="cn">TRUE</span>)</span>
<span id="cb700-4"><a href="#cb700-4" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream[[<span class="st">&#39;total-site-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 2257</code></pre>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="#cb702-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream[[<span class="st">&#39;total-result-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 2011036</code></pre>
<p>2,011,036 results are still a lot to download. Let’s add more levels of criteria:</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="#cb704-1" aria-hidden="true" tabindex="-1"></a><span class="co"># specify that you want water temperature data and it should be from 1975 or later</span></span>
<span id="cb704-2"><a href="#cb704-2" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream_temp <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">statecode=</span><span class="st">&quot;US:45&quot;</span>, <span class="at">siteType=</span><span class="st">&quot;Stream&quot;</span>,</span>
<span id="cb704-3"><a href="#cb704-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">characteristicName=</span><span class="st">&quot;Temperature, water&quot;</span>,</span>
<span id="cb704-4"><a href="#cb704-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">startDate=</span><span class="st">&quot;1975-01-01&quot;</span>,</span>
<span id="cb704-5"><a href="#cb704-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">querySummary =</span> <span class="cn">TRUE</span>)</span>
<span id="cb704-6"><a href="#cb704-6" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream_temp[[<span class="st">&#39;total-site-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 1683</code></pre>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="#cb706-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream_temp[[<span class="st">&#39;total-result-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 148463</code></pre>
<p>148,463 is little more manageble. We can also easily compare avilable stream temperature and lake temperature data.</p>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb708-1"><a href="#cb708-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_lake_temp <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">statecode=</span><span class="st">&quot;US:45&quot;</span>, </span>
<span id="cb708-2"><a href="#cb708-2" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">siteType=</span><span class="st">&quot;Lake, Reservoir, Impoundment&quot;</span>,</span>
<span id="cb708-3"><a href="#cb708-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">characteristicName=</span><span class="st">&quot;Temperature, water&quot;</span>,</span>
<span id="cb708-4"><a href="#cb708-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">startDate=</span><span class="st">&quot;1975-01-01&quot;</span>,</span>
<span id="cb708-5"><a href="#cb708-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">querySummary =</span> <span class="cn">TRUE</span>)</span>
<span id="cb708-6"><a href="#cb708-6" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing site counts</span></span>
<span id="cb708-7"><a href="#cb708-7" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream_temp[[<span class="st">&#39;total-site-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 1683</code></pre>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="#cb710-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_lake_temp[[<span class="st">&#39;total-site-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 712</code></pre>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="#cb712-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing result counts</span></span>
<span id="cb712-2"><a href="#cb712-2" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_stream_temp[[<span class="st">&#39;total-result-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 148463</code></pre>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="#cb714-1" aria-hidden="true" tabindex="-1"></a>wqpcounts_sc_lake_temp[[<span class="st">&#39;total-result-count&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 60607</code></pre>
<p>From these query results, it looks like South Carolina has much more stream data than it does lake data.</p>
<p>Now, let’s try our South Carolina stream temperature query with <code>whatWQPsites</code> and see if we can narrow the results at all.</p>
</div>
<div id="whatwqpsites" class="section level3 hasAnchor" number="8.10.2">
<h3 class="hasAnchor"><span class="header-section-number">8.10.2</span> whatWQPsites<a href="#whatwqpsites" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>whatWQPsites</code> gives back site information that matches your search criteria. You can use any of the regular WQP web service arguments here. We are going to use <code>whatWQPsites</code> with the final criteria of the last query summary call - state, site type, parameter, and the earliest start date. This should return the same amount of sites as the last <code>readWQPdata</code> query did, 1,683.</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="#cb716-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting the number of sites and results for stream </span></span>
<span id="cb716-2"><a href="#cb716-2" aria-hidden="true" tabindex="-1"></a><span class="co"># temperature measurements in South Carolina after 1975.</span></span>
<span id="cb716-3"><a href="#cb716-3" aria-hidden="true" tabindex="-1"></a>wqpsites_sc_stream_temp <span class="ot">&lt;-</span> <span class="fu">whatWQPsites</span>(<span class="at">statecode=</span><span class="st">&quot;US:45&quot;</span>, <span class="at">siteType=</span><span class="st">&quot;Stream&quot;</span>,</span>
<span id="cb716-4"><a href="#cb716-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">characteristicName=</span><span class="st">&quot;Temperature, water&quot;</span>,</span>
<span id="cb716-5"><a href="#cb716-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">startDate=</span><span class="st">&quot;1975-01-01&quot;</span>)</span>
<span id="cb716-6"><a href="#cb716-6" aria-hidden="true" tabindex="-1"></a><span class="co"># number of sites</span></span>
<span id="cb716-7"><a href="#cb716-7" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(wqpsites_sc_stream_temp)</span></code></pre></div>
<pre><code>## [1] 1683</code></pre>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="#cb718-1" aria-hidden="true" tabindex="-1"></a><span class="co"># names of available columns</span></span>
<span id="cb718-2"><a href="#cb718-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(wqpsites_sc_stream_temp)</span></code></pre></div>
<pre><code>##  [1] &quot;OrganizationIdentifier&quot;                         
##  [2] &quot;OrganizationFormalName&quot;                         
##  [3] &quot;MonitoringLocationIdentifier&quot;                   
##  [4] &quot;MonitoringLocationName&quot;                         
##  [5] &quot;MonitoringLocationTypeName&quot;                     
##  [6] &quot;MonitoringLocationDescriptionText&quot;              
##  [7] &quot;HUCEightDigitCode&quot;                              
##  [8] &quot;DrainageAreaMeasure.MeasureValue&quot;               
##  [9] &quot;DrainageAreaMeasure.MeasureUnitCode&quot;            
## [10] &quot;ContributingDrainageAreaMeasure.MeasureValue&quot;   
## [11] &quot;ContributingDrainageAreaMeasure.MeasureUnitCode&quot;
## [12] &quot;LatitudeMeasure&quot;                                
## [13] &quot;LongitudeMeasure&quot;                               
## [14] &quot;SourceMapScaleNumeric&quot;                          
## [15] &quot;HorizontalAccuracyMeasure.MeasureValue&quot;         
## [16] &quot;HorizontalAccuracyMeasure.MeasureUnitCode&quot;      
## [17] &quot;HorizontalCollectionMethodName&quot;                 
## [18] &quot;HorizontalCoordinateReferenceSystemDatumName&quot;   
## [19] &quot;VerticalMeasure.MeasureValue&quot;                   
## [20] &quot;VerticalMeasure.MeasureUnitCode&quot;                
## [21] &quot;VerticalAccuracyMeasure.MeasureValue&quot;           
## [22] &quot;VerticalAccuracyMeasure.MeasureUnitCode&quot;        
## [23] &quot;VerticalCollectionMethodName&quot;                   
## [24] &quot;VerticalCoordinateReferenceSystemDatumName&quot;     
## [25] &quot;CountryCode&quot;                                    
## [26] &quot;StateCode&quot;                                      
## [27] &quot;CountyCode&quot;                                     
## [28] &quot;AquiferName&quot;                                    
## [29] &quot;LocalAqfrName&quot;                                  
## [30] &quot;FormationTypeText&quot;                              
## [31] &quot;AquiferTypeName&quot;                                
## [32] &quot;ConstructionDateText&quot;                           
## [33] &quot;WellDepthMeasure.MeasureValue&quot;                  
## [34] &quot;WellDepthMeasure.MeasureUnitCode&quot;               
## [35] &quot;WellHoleDepthMeasure.MeasureValue&quot;              
## [36] &quot;WellHoleDepthMeasure.MeasureUnitCode&quot;           
## [37] &quot;ProviderName&quot;</code></pre>
<p>Similar to what we did with the NWIS functions, we can filter the sites further using the available metadata in <code>wqpsites_sc_stream_temp</code>. We are going to imagine that for our study the sites must have an associated drainage area and cannot be below sea level. Using <code>dplyr::filter</code>:</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="#cb720-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering the number of sites and results for stream temperature </span></span>
<span id="cb720-2"><a href="#cb720-2" aria-hidden="true" tabindex="-1"></a><span class="co"># measurements in South Carolina after 1975 to also have an</span></span>
<span id="cb720-3"><a href="#cb720-3" aria-hidden="true" tabindex="-1"></a><span class="co"># associated drainage area and collected above sea level.</span></span>
<span id="cb720-4"><a href="#cb720-4" aria-hidden="true" tabindex="-1"></a>wqpsites_sc_stream_temp_applicable <span class="ot">&lt;-</span> wqpsites_sc_stream_temp <span class="sc">%&gt;%</span> </span>
<span id="cb720-5"><a href="#cb720-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(DrainageAreaMeasure.MeasureValue),</span>
<span id="cb720-6"><a href="#cb720-6" aria-hidden="true" tabindex="-1"></a>         VerticalMeasure.MeasureValue <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb720-7"><a href="#cb720-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb720-8"><a href="#cb720-8" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(wqpsites_sc_stream_temp_applicable)</span></code></pre></div>
<pre><code>## [1] 72</code></pre>
<p>This brings the count down to a much more manageable 72 sites. Now we are ready to download this data.</p>
</div>
</div>
<div id="readnwis-functions" class="section level2 hasAnchor" number="8.11">
<h2 class="hasAnchor"><span class="header-section-number">8.11</span> readNWIS functions<a href="#readnwis-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have learned how to discover data available in NWIS, but now we will look at how to retrieve data. There are many functions to do this, see the table below for a description of each. Each variation of <code>readNWIS</code> is accessing a different web service. For a definition and more information on each of these services, please see <a href="https://waterservices.usgs.gov/rest/" class="uri">https://waterservices.usgs.gov/rest/</a>. Also, refer to the previous lesson for a description of the major arguments to <code>readNWIS</code> functions.</p>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="3" style="text-align: left;">
<caption>
Table 1. readNWIS function definitions
</caption>
</td>
</tr>
<tr>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Function
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Description
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Arguments
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readnwisdata">readNWISdata</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Most general NWIS data import function. User must explicitly define the service parameter. More flexible than the other functions.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
…, asDateTime, convertType, tz
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
<a href="#readnwisdv">readNWISdv</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Returns time-series data summarized to a day. Default is mean daily.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
siteNumbers, parameterCd, startDate, endDate, statCd
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readnwisgwl">readNWISgwl</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Groundwater levels.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
siteNumbers, startDate, endDate, parameterCd, convertType, tz
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
<a href="#readnwismeas">readNWISmeas</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Surface water measurements.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
siteNumbers, startDate, endDate, tz, expanded, convertType
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readnwispcode">readNWISpCode</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Metadata information for one or many parameter codes.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
parameterCd
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
<a href="#readnwispeak">readNWISpeak</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Annual maximum instantaneous streamflows and gage heights.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
siteNumbers, startDate, endDate, asDateTime, convertType
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readnwisqw">readNWISqw</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Discrete water quality data.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
siteNumbers, parameterCd, startDate, endDate, expanded, reshape, tz
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
<a href="#readnwisrating">readNWISrating</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Rating table information for active stream gages
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
siteNumber, type, convertType
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readnwissite">readNWISsite</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Site metadata information
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
siteNumbers
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
<a href="#readnwisstat">readNWISstat</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Daily, monthly, or annual statistics for time-series data. Default is mean daily.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
siteNumbers, parameterCd, startDate, endDate, convertType, statReportType, statType
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readnwisuse">readNWISuse</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Data from the USGS National Water Use Program.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
stateCd, countyCd, years, categories, convertType, transform
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
<a href="#readnwisuv">readNWISuv</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
Returns time-series data reported from the USGS Instantaneous Values Web Service.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
siteNumbers, parameterCd, startDate, endDate, tz
</td>
</tr>
</tbody>
</table>
<p>Each service-specific function is a wrapper for the more flexible <code>readNWISdata</code>. They set a default for the service argument and have limited user defined arguments. All <code>readNWIS</code> functions require a “major filter” as an argument, but <code>readNWISdata</code> can accept any major filter while others are limited to site numbers or state/county codes (see Table 1 for more info).</p>
<p>Other major filters that can be used in <code>readNWISdata</code> include hydrologic unit codes (<code>huc</code>) and bounding boxes (<code>bBox</code>). More information about major filters can be found in the <a href="https://waterservices.usgs.gov/rest/Site-Service.html#Major_Filters">NWIS web services documentation</a>.</p>
<p>The following are examples of how to use each of the readNWIS family of functions. Don’t forget to load the <code>dataRetrieval</code> library if you are in a new session.</p>
<ol style="list-style-type: decimal">
<li><a href="#readnwisdata-county">readNWISdata, county major filter</a></li>
<li><a href="#readnwisdata-huc">readNWISdata, huc major filter</a></li>
<li><a href="#readnwisdata-bbox">readNWISdata, bbox major filter</a></li>
<li><a href="#readnwisdv">readNWISdv</a></li>
<li><a href="#readnwisgwl">readNWISgwl</a></li>
<li><a href="#readnwismeas">readNWISmeas</a></li>
<li><a href="#readnwispcode">readNWISpCode</a></li>
<li><a href="#readnwispeak">readNWISpeak</a></li>
<li><a href="#readnwisqw-multsite">readNWISqw, multiple sites</a></li>
<li><a href="#readnwisqw-multparm">readNWISqw, multiple parameters</a></li>
<li><a href="#readnwisrating">readNWISrating, using base table</a></li>
<li><a href="#readnwisrating">readNWISrating, corrected table</a></li>
<li><a href="#readnwisrating">readNWISrating, shift table</a></li>
<li><a href="#readnwissite">readNWISsite</a></li>
<li><a href="#readnwisstat">readNWISstat</a></li>
<li><a href="#readnwisuse">readNWISuse</a></li>
<li><a href="#readnwisuv">readNWISuv</a></li>
</ol>
<div id="readnwisdata" class="section level3 hasAnchor" number="8.11.1">
<h3 class="hasAnchor"><span class="header-section-number">8.11.1</span> readNWISdata<a href="#readnwisdata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the generic, catch-all for pulling down NWIS data. It can accept a number of arguments, but the argument name must be included. To use this function, you need to specify at list one major filter (state, county, site number, huc, or bounding box) and the NWIS service (daily value, instantaneous, groundwater, etc). The rest are optional query parameters. Follow along with the three examples below or see <code>?readNWISdata</code> for more information.</p>
<p><a name="readnwisdata-county"></a></p>
<p><strong>Historic mean daily streamflow for sites in Maui County, Hawaii.</strong></p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="#cb722-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: Maui County </span></span>
<span id="cb722-2"><a href="#cb722-2" aria-hidden="true" tabindex="-1"></a><span class="do">## need to also include the state when using counties as the major filter</span></span>
<span id="cb722-3"><a href="#cb722-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Service: daily value, dv</span></span>
<span id="cb722-4"><a href="#cb722-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter code: streamflow in cfs, 00060</span></span>
<span id="cb722-5"><a href="#cb722-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb722-6"><a href="#cb722-6" aria-hidden="true" tabindex="-1"></a>MauiCo_avgdailyQ <span class="ot">&lt;-</span> <span class="fu">readNWISdata</span>(<span class="at">stateCd=</span><span class="st">&quot;Hawaii&quot;</span>, <span class="at">countyCd=</span><span class="st">&quot;Maui&quot;</span>, <span class="at">service=</span><span class="st">&quot;dv&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00060&quot;</span>)</span>
<span id="cb722-7"><a href="#cb722-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(MauiCo_avgdailyQ)</span></code></pre></div>
<pre><code>##   agency_cd  site_no   dateTime X_00060_00003 X_00060_00003_cd tz_cd
## 1      USGS 16400000 2022-10-11          15.1                P   UTC
## 2      USGS 16401000 1929-08-31          18.0                A   UTC
## 3      USGS 16402000 1957-07-31          51.0                A   UTC
## 4      USGS 16403000 1957-06-30           5.5                A   UTC
## 5      USGS 16403600 1970-09-30           2.4                A   UTC
## 6      USGS 16403900 1996-09-30           1.3                A   UTC</code></pre>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="#cb724-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many sites are returned?</span></span>
<span id="cb724-2"><a href="#cb724-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(MauiCo_avgdailyQ<span class="sc">$</span>site_no))</span></code></pre></div>
<pre><code>## [1] 134</code></pre>
<p><a name="readnwisdata-huc"></a></p>
<p><strong>Historic minimum water temperatures for the HUC8 corresponding to the island of Maui, Hawaii.</strong></p>
<p>To see all HUCs available, visit <a href="https://water.usgs.gov/GIS/huc_name.html" class="uri">https://water.usgs.gov/GIS/huc_name.html</a>. The default statistic for daily values in <code>readNWISdata</code> is to return the max (00001), min (00002), and mean (00003). We will specify the minimum only for this example. You will need to use the statistic code, not the name. For all the available statistic codes, see the <a href="https://waterservices.usgs.gov/rest/Statistics-Service.html#statType">statType web service documentation</a> and <a href="https://help.waterdata.usgs.gov/stat_code">NWIS table mapping statistic names to codes</a>. Caution! In <code>readNWISdata</code> and <code>readNWISdv</code> the argument is called <code>statCd</code>, but in <code>readNWISstat</code> the argument is <code>statType</code>.</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="#cb726-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: HUC 8 for Maui, 20020000</span></span>
<span id="cb726-2"><a href="#cb726-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Service: daily value, dv</span></span>
<span id="cb726-3"><a href="#cb726-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistic: minimum, 00002</span></span>
<span id="cb726-4"><a href="#cb726-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter code: water temperature in deg C, 00010</span></span>
<span id="cb726-5"><a href="#cb726-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb726-6"><a href="#cb726-6" aria-hidden="true" tabindex="-1"></a>MauiHUC8_mindailyT <span class="ot">&lt;-</span> <span class="fu">readNWISdata</span>(<span class="at">huc=</span><span class="st">&quot;20020000&quot;</span>, <span class="at">service=</span><span class="st">&quot;dv&quot;</span>, <span class="at">statCd=</span><span class="st">&quot;00002&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00010&quot;</span>)</span>
<span id="cb726-7"><a href="#cb726-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(MauiHUC8_mindailyT)</span></code></pre></div>
<pre><code>##   agency_cd  site_no   dateTime X_00010_00002 X_00010_00002_cd tz_cd
## 1      USGS 16508000 2003-11-24          17.4                A   UTC
## 2      USGS 16516000 2003-11-24          16.3                A   UTC
## 3      USGS 16520000 2004-04-14          17.5                A   UTC
## 4      USGS 16527000 2004-01-13          15.4                A   UTC
## 5      USGS 16555000 2004-01-13          16.4                A   UTC
## 6      USGS 16618000 2022-10-11          20.5                P   UTC</code></pre>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="#cb728-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many sites are returned?</span></span>
<span id="cb728-2"><a href="#cb728-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(MauiHUC8_mindailyT<span class="sc">$</span>site_no))</span></code></pre></div>
<pre><code>## [1] 47</code></pre>
<p><a name="readnwisdata-bbox"></a></p>
<p><strong>Total nitrogen in mg/L for last 30 days around Great Salt Lake in Utah.</strong></p>
<p>This example uses <code>Sys.Date</code> to get the most recent date, so your dates will differ. To get any data around Great Salt Lake, we will use a bounding box as the major filter. The bounding box must be a vector of decimal numbers indicating the western longitude, southern latitude, eastern longitude, and northern latitude. The vector must be in that order.</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: bounding box around Great Salt Lake </span></span>
<span id="cb730-2"><a href="#cb730-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Service: water quality, qw</span></span>
<span id="cb730-3"><a href="#cb730-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter code: total nitrogen in mg/L, 00600</span></span>
<span id="cb730-4"><a href="#cb730-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Beginning: this past 30 days, use Sys.Date()</span></span>
<span id="cb730-5"><a href="#cb730-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb730-6"><a href="#cb730-6" aria-hidden="true" tabindex="-1"></a>prev30days <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="dv">30</span></span>
<span id="cb730-7"><a href="#cb730-7" aria-hidden="true" tabindex="-1"></a>SaltLake_totalN <span class="ot">&lt;-</span> <span class="fu">readNWISdata</span>(<span class="at">bBox=</span><span class="fu">c</span>(<span class="sc">-</span><span class="fl">113.0428</span>, <span class="fl">40.6474</span>, <span class="sc">-</span><span class="fl">112.0265</span>, <span class="fl">41.7018</span>), <span class="at">service=</span><span class="st">&quot;qw&quot;</span>, </span>
<span id="cb730-8"><a href="#cb730-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">parameterCd=</span><span class="st">&quot;00600&quot;</span>, <span class="at">startDate=</span>prev30days)</span>
<span id="cb730-9"><a href="#cb730-9" aria-hidden="true" tabindex="-1"></a><span class="co"># This service returns a lot of columns:</span></span>
<span id="cb730-10"><a href="#cb730-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(SaltLake_totalN)</span></code></pre></div>
<pre><code>##  [1] &quot;agency_cd&quot;                           &quot;site_no&quot;                            
##  [3] &quot;sample_dt&quot;                           &quot;sample_tm&quot;                          
##  [5] &quot;sample_end_dt&quot;                       &quot;sample_end_tm&quot;                      
##  [7] &quot;tm_datum_rlbty_cd&quot;                   &quot;coll_ent_cd&quot;                        
##  [9] &quot;medium_cd&quot;                           &quot;tu_id&quot;                              
## [11] &quot;body_part_id&quot;                        &quot;p00010&quot;                             
## [13] &quot;p00020&quot;                              &quot;p00025&quot;                             
## [15] &quot;p00061&quot;                              &quot;p00065&quot;                             
## [17] &quot;p00095&quot;                              &quot;p00098&quot;                             
## [19] &quot;p00191&quot;                              &quot;p00300&quot;                             
## [21] &quot;p00301&quot;                              &quot;p00400&quot;                             
## [23] &quot;p00480&quot;                              &quot;p30207&quot;                             
## [25] &quot;p30209&quot;                              &quot;p30211&quot;                             
## [27] &quot;p50280&quot;                              &quot;p70305&quot;                             
## [29] &quot;p71820&quot;                              &quot;p71999&quot;                             
## [31] &quot;p72012&quot;                              &quot;p72013&quot;                             
## [33] &quot;p72020&quot;                              &quot;p72104&quot;                             
## [35] &quot;p72219&quot;                              &quot;p72220&quot;                             
## [37] &quot;p72263&quot;                              &quot;p82398&quot;                             
## [39] &quot;p84164&quot;                              &quot;p84171&quot;                             
## [41] &quot;p84182&quot;                              &quot;p99105&quot;                             
## [43] &quot;p99111&quot;                              &quot;p99156&quot;                             
## [45] &quot;p99159&quot;                              &quot;p99206&quot;                             
## [47] &quot;sample_start_time_datum_cd_reported&quot; &quot;sample_end_time_datum_cd_reported&quot;  
## [49] &quot;startDateTime&quot;                       &quot;tz_cd&quot;</code></pre>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="#cb732-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many sites are returned?</span></span>
<span id="cb732-2"><a href="#cb732-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(SaltLake_totalN<span class="sc">$</span>site_no))</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
</div>
<div id="readnwisdv" class="section level3 hasAnchor" number="8.11.2">
<h3 class="hasAnchor"><span class="header-section-number">8.11.2</span> readNWISdv<a href="#readnwisdv" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the daily value service function. It has a limited number of arguments and requires a site number and parameter code. Follow along with the example below or see <code>?readNWISdv</code> for more information.</p>
<p><a name="readnwisdv"></a></p>
<p><strong>Minimum and maximum pH daily data for a site on the Missouri River near Townsend, MT.</strong></p>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="#cb734-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember, you can always use whatNWISdata to see what is available at the site before querying</span></span>
<span id="cb734-2"><a href="#cb734-2" aria-hidden="true" tabindex="-1"></a>mt_available <span class="ot">&lt;-</span> <span class="fu">whatNWISdata</span>(<span class="at">siteNumber=</span><span class="st">&quot;462107111312301&quot;</span>, <span class="at">service=</span><span class="st">&quot;dv&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00400&quot;</span>)</span>
<span id="cb734-3"><a href="#cb734-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mt_available)</span></code></pre></div>
<pre><code>##   agency_cd         site_no                                 station_nm
## 4      USGS 462107111312301 Missouri River ab Canyon Ferry nr Townsend
## 5      USGS 462107111312301 Missouri River ab Canyon Ferry nr Townsend
## 6      USGS 462107111312301 Missouri River ab Canyon Ferry nr Townsend
##   site_tp_cd dec_lat_va dec_long_va coord_acy_cd dec_coord_datum_cd alt_va
## 4         ST   46.35188   -111.5239            S              NAD83   3790
## 5         ST   46.35188   -111.5239            S              NAD83   3790
## 6         ST   46.35188   -111.5239            S              NAD83   3790
##   alt_acy_va alt_datum_cd   huc_cd data_type_cd parm_cd stat_cd ts_id
## 4         20       NGVD29 10030101           dv   00400   00001 82218
## 5         20       NGVD29 10030101           dv   00400   00002 82219
## 6         20       NGVD29 10030101           dv   00400   00008 82220
##   loc_web_ds medium_grp_cd parm_grp_cd   srs_id access_cd begin_date   end_date
## 4         NA           wat        &lt;NA&gt; 17028275         0 2010-08-18 2011-09-21
## 5         NA           wat        &lt;NA&gt; 17028275         0 2010-08-18 2011-09-21
## 6         NA           wat        &lt;NA&gt; 17028275         0 2010-08-18 2011-09-21
##   count_nu
## 4       72
## 5       72
## 6       72</code></pre>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 462107111312301</span></span>
<span id="cb736-2"><a href="#cb736-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistic: minimum and maximum, 00001 and 00002</span></span>
<span id="cb736-3"><a href="#cb736-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter: pH, 00400</span></span>
<span id="cb736-4"><a href="#cb736-4" aria-hidden="true" tabindex="-1"></a>mt_site_pH <span class="ot">&lt;-</span> <span class="fu">readNWISdv</span>(<span class="at">siteNumber=</span><span class="st">&quot;462107111312301&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00400&quot;</span>, </span>
<span id="cb736-5"><a href="#cb736-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">statCd=</span><span class="fu">c</span>(<span class="st">&quot;00001&quot;</span>, <span class="st">&quot;00002&quot;</span>))</span>
<span id="cb736-6"><a href="#cb736-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mt_site_pH)</span></code></pre></div>
<pre><code>##   agency_cd         site_no       Date X_00400_00001 X_00400_00001_cd
## 1      USGS 462107111312301 2010-08-18           8.9                A
## 2      USGS 462107111312301 2010-08-19           8.9                A
## 3      USGS 462107111312301 2010-08-20           8.9                A
## 4      USGS 462107111312301 2010-08-21           8.9                A
## 5      USGS 462107111312301 2010-08-22           8.8                A
## 6      USGS 462107111312301 2010-08-23           8.9                A
##   X_00400_00002 X_00400_00002_cd
## 1           8.3                A
## 2           8.3                A
## 3           8.4                A
## 4           8.4                A
## 5           8.4                A
## 6           8.4                A</code></pre>
</div>
<div id="readnwisgwl" class="section level3 hasAnchor" number="8.11.3">
<h3 class="hasAnchor"><span class="header-section-number">8.11.3</span> readNWISgwl<a href="#readnwisgwl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the groundwater level service function. It has a limited number of arguments and requires a site number. Follow along with the example below or see <code>?readNWISgwl</code> for more information.</p>
<p><a name="readnwisgwl"></a></p>
<p><strong>Historic groundwater levels for a site near Portland, Oregon.</strong></p>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 452840122302202</span></span>
<span id="cb738-2"><a href="#cb738-2" aria-hidden="true" tabindex="-1"></a>or_site_gwl <span class="ot">&lt;-</span> <span class="fu">readNWISgwl</span>(<span class="at">siteNumbers=</span><span class="st">&quot;452840122302202&quot;</span>)</span>
<span id="cb738-3"><a href="#cb738-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(or_site_gwl)</span></code></pre></div>
<pre><code>##   agency_cd         site_no site_tp_cd     lev_dt lev_tm lev_tz_cd_reported
## 1      USGS 452840122302202         GW 1988-03-14   &lt;NA&gt;                UTC
## 2      USGS 452840122302202         GW 1988-03-14   &lt;NA&gt;                UTC
## 3      USGS 452840122302202         GW 1988-03-14   &lt;NA&gt;                UTC
## 4      USGS 452840122302202         GW 1988-04-05  17:50                UTC
## 5      USGS 452840122302202         GW 1988-04-05  17:50                UTC
## 6      USGS 452840122302202         GW 1988-04-05  17:50                UTC
##   lev_va sl_lev_va sl_datum_cd lev_status_cd lev_agency_cd lev_dt_acy_cd
## 1     NA    232.07      NGVD29             1          &lt;NA&gt;             D
## 2     NA    235.56      NAVD88             1          &lt;NA&gt;             D
## 3   9.78        NA        &lt;NA&gt;             1          &lt;NA&gt;             D
## 4     NA    233.08      NGVD29             1          &lt;NA&gt;             m
## 5     NA    236.57      NAVD88             1          &lt;NA&gt;             m
## 6   8.77        NA        &lt;NA&gt;             1          &lt;NA&gt;             m
##   lev_acy_cd lev_src_cd lev_meth_cd lev_age_cd parameter_cd        lev_dateTime
## 1       &lt;NA&gt;       &lt;NA&gt;           Z          A        62610                &lt;NA&gt;
## 2       &lt;NA&gt;       &lt;NA&gt;           Z          A        62611                &lt;NA&gt;
## 3       &lt;NA&gt;       &lt;NA&gt;           Z          A        72019                &lt;NA&gt;
## 4       &lt;NA&gt;       &lt;NA&gt;           S          A        62610 1988-04-05 17:50:00
## 5       &lt;NA&gt;       &lt;NA&gt;           S          A        62611 1988-04-05 17:50:00
## 6       &lt;NA&gt;       &lt;NA&gt;           S          A        72019 1988-04-05 17:50:00
##   lev_tz_cd
## 1       UTC
## 2       UTC
## 3       UTC
## 4       UTC
## 5       UTC
## 6       UTC</code></pre>
</div>
<div id="readnwismeas" class="section level3 hasAnchor" number="8.11.4">
<h3 class="hasAnchor"><span class="header-section-number">8.11.4</span> readNWISmeas<a href="#readnwismeas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the field measurement service function which pulls manual measurements for streamflow and gage height. It has a limited number of arguments and requires a site number. Follow along with the example below or see <code>?readNWISmeas</code> for more information.</p>
<p><a name="readnwismeas"></a></p>
<p><strong>Historic surface water measurements for a site near Dade City, Florida.</strong></p>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="#cb740-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 02311500</span></span>
<span id="cb740-2"><a href="#cb740-2" aria-hidden="true" tabindex="-1"></a>fl_site_meas <span class="ot">&lt;-</span> <span class="fu">readNWISmeas</span>(<span class="at">siteNumbers=</span><span class="st">&quot;02311500&quot;</span>)</span>
<span id="cb740-3"><a href="#cb740-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Names of columns returned:</span></span>
<span id="cb740-4"><a href="#cb740-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(fl_site_meas)</span></code></pre></div>
<pre><code>##  [1] &quot;agency_cd&quot;                 &quot;site_no&quot;                  
##  [3] &quot;measurement_nu&quot;            &quot;measurement_dt&quot;           
##  [5] &quot;measurement_tm&quot;            &quot;q_meas_used_fg&quot;           
##  [7] &quot;party_nm&quot;                  &quot;site_visit_coll_agency_cd&quot;
##  [9] &quot;gage_height_va&quot;            &quot;discharge_va&quot;             
## [11] &quot;measured_rating_diff&quot;      &quot;gage_va_change&quot;           
## [13] &quot;gage_va_time&quot;              &quot;control_type_cd&quot;          
## [15] &quot;discharge_cd&quot;              &quot;measurement_dateTime&quot;     
## [17] &quot;tz_cd&quot;</code></pre>
</div>
<div id="readnwispcode" class="section level3 hasAnchor" number="8.11.5">
<h3 class="hasAnchor"><span class="header-section-number">8.11.5</span> readNWISpCode<a href="#readnwispcode" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function returns the parameter information associated with a parameter code. It only has one argument - the parameter code. See the example below or <code>?readNWISpCode</code> for more information.</p>
<p><a name="readnwispcode"></a></p>
<p><strong>Get information about the parameters gage height, specific conductance, and total phosphorus.</strong></p>
<p>This function only has one argument, the parameter code. You can supply one or multiple and you will get a dataframe with information about each parameter.</p>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gage height, 00065</span></span>
<span id="cb742-2"><a href="#cb742-2" aria-hidden="true" tabindex="-1"></a><span class="fu">readNWISpCode</span>(<span class="st">&quot;00065&quot;</span>)</span></code></pre></div>
<pre><code>##    parameter_cd parameter_group_nm      parameter_nm casrn      srsname
## 48        00065           Physical Gage height, feet       Height, gage
##    parameter_units
## 48              ft</code></pre>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb744-1"><a href="#cb744-1" aria-hidden="true" tabindex="-1"></a><span class="co"># specific conductance and total phosphorus, 00095 and 00665</span></span>
<span id="cb744-2"><a href="#cb744-2" aria-hidden="true" tabindex="-1"></a><span class="fu">readNWISpCode</span>(<span class="fu">c</span>(<span class="st">&quot;00095&quot;</span>, <span class="st">&quot;00665&quot;</span>))</span></code></pre></div>
<pre><code>##     parameter_cd parameter_group_nm
## 63         00095           Physical
## 210        00665           Nutrient
##                                                                                   parameter_nm
## 63  Specific conductance, water, unfiltered, microsiemens per centimeter at 25 degrees Celsius
## 210                          Phosphorus, water, unfiltered, milligrams per liter as phosphorus
##         casrn              srsname parameter_units
## 63            Specific conductance      uS/cm @25C
## 210 7723-14-0           Phosphorus       mg/l as P</code></pre>
</div>
<div id="readnwispeak" class="section level3 hasAnchor" number="8.11.6">
<h3 class="hasAnchor"><span class="header-section-number">8.11.6</span> readNWISpeak<a href="#readnwispeak" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the peak flow service function. It has a limited number of arguments and requires a site number. Follow along with the example below or see <code>?readNWISpeak</code> for more information.</p>
<p>The default settings will return data where the date of the peak flow is known. To see peak flows with incomplete dates, change <code>convertType</code> to <code>FALSE</code>. This allows the date column to come through as character, keeping any incomplete or incorrect dates.</p>
<p><a name="readnwispeak"></a></p>
<p><strong>Peak flow values for a site near Cassia, Florida.</strong></p>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="#cb746-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 02235200</span></span>
<span id="cb746-2"><a href="#cb746-2" aria-hidden="true" tabindex="-1"></a>fl_site_peak <span class="ot">&lt;-</span> <span class="fu">readNWISpeak</span>(<span class="at">siteNumbers=</span><span class="st">&quot;02235200&quot;</span>)</span>
<span id="cb746-3"><a href="#cb746-3" aria-hidden="true" tabindex="-1"></a>fl_site_peak<span class="sc">$</span>peak_dt</span></code></pre></div>
<pre><code>##  [1] &quot;1962-10-06&quot; &quot;1964-09-13&quot; &quot;1965-08-11&quot; &quot;1966-08-15&quot; &quot;1967-08-30&quot;
##  [6] &quot;1968-09-01&quot; &quot;1968-10-22&quot; &quot;1969-10-05&quot; &quot;1971-02-10&quot; &quot;1972-04-02&quot;
## [11] &quot;1973-09-16&quot; &quot;1974-09-07&quot; &quot;1975-09-01&quot; &quot;1976-06-06&quot; NA          
## [16] &quot;1978-08-08&quot; &quot;1979-09-29&quot; &quot;1980-04-04&quot; &quot;1981-09-18&quot; &quot;1982-04-12&quot;
## [21] &quot;1983-04-24&quot; &quot;1984-04-11&quot; &quot;1985-09-21&quot; &quot;1986-01-14&quot; &quot;1987-04-01&quot;
## [26] &quot;1988-09-11&quot; &quot;1989-01-24&quot; &quot;1990-02-27&quot; &quot;1991-06-02&quot; &quot;1991-10-08&quot;
## [31] &quot;1993-03-27&quot; &quot;1994-09-12&quot; &quot;1994-11-18&quot; &quot;1995-10-12&quot; &quot;1996-10-12&quot;
## [36] &quot;1998-02-21&quot; &quot;1998-10-05&quot; &quot;1999-10-08&quot; &quot;2001-09-17&quot; &quot;2002-08-16&quot;
## [41] &quot;2003-03-10&quot; &quot;2004-09-13&quot; &quot;2004-10-01&quot; &quot;2005-10-25&quot; &quot;2007-07-21&quot;
## [46] &quot;2008-08-26&quot; &quot;2009-05-26&quot; &quot;2010-03-16&quot; &quot;2011-04-07&quot; &quot;2012-08-30&quot;
## [51] &quot;2012-10-08&quot; &quot;2014-07-31&quot; &quot;2015-09-20&quot; &quot;2016-02-06&quot; &quot;2017-09-12&quot;
## [56] &quot;2018-07-06&quot; &quot;2019-08-17&quot; &quot;2020-07-17&quot; &quot;2020-10-04&quot;</code></pre>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="#cb748-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare complete with incomplete/incorrect dates</span></span>
<span id="cb748-2"><a href="#cb748-2" aria-hidden="true" tabindex="-1"></a>fl_site_peak_incomp <span class="ot">&lt;-</span> <span class="fu">readNWISpeak</span>(<span class="at">siteNumbers=</span><span class="st">&quot;02235200&quot;</span>, <span class="at">convertType =</span> <span class="cn">FALSE</span>)</span>
<span id="cb748-3"><a href="#cb748-3" aria-hidden="true" tabindex="-1"></a>fl_site_peak_incomp<span class="sc">$</span>peak_dt[<span class="fu">is.na</span>(fl_site_peak<span class="sc">$</span>peak_dt)]</span></code></pre></div>
<pre><code>## [1] &quot;1977-00-00&quot;</code></pre>
</div>
<div id="readnwisqw" class="section level3 hasAnchor" number="8.11.7">
<h3 class="hasAnchor"><span class="header-section-number">8.11.7</span> readNWISqw<a href="#readnwisqw" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the water quality service function. It has a limited number of arguments and requires a site number and a parameter code. Follow along with the two examples below or see <code>?readNWISqw</code> for more information.</p>
<p><a name="readnwisqw-multsite"></a></p>
<p><strong>Dissolved oxygen for two sites near the Columbia River in Oregon for water year 2016</strong></p>
<div class="sourceCode" id="cb750"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb750-1"><a href="#cb750-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site numbers, 455415119314601 and 454554119121801</span></span>
<span id="cb750-2"><a href="#cb750-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter: dissolved oxygen in mg/L, 00300</span></span>
<span id="cb750-3"><a href="#cb750-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Begin date: October 1, 2015</span></span>
<span id="cb750-4"><a href="#cb750-4" aria-hidden="true" tabindex="-1"></a><span class="co"># End date: September 30, 2016</span></span>
<span id="cb750-5"><a href="#cb750-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb750-6"><a href="#cb750-6" aria-hidden="true" tabindex="-1"></a>or_site_do <span class="ot">&lt;-</span> <span class="fu">readNWISqw</span>(<span class="at">siteNumbers=</span><span class="fu">c</span>(<span class="st">&quot;455415119314601&quot;</span>, <span class="st">&quot;454554119121801&quot;</span>), <span class="at">parameterCd=</span><span class="st">&quot;00300&quot;</span>,</span>
<span id="cb750-7"><a href="#cb750-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">startDate=</span><span class="st">&quot;2015-10-01&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2016-09-30&quot;</span>)</span>
<span id="cb750-8"><a href="#cb750-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(or_site_do)</span></code></pre></div>
<pre><code>## [1] 36</code></pre>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="#cb752-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(or_site_do[,<span class="fu">c</span>(<span class="st">&quot;site_no&quot;</span>,<span class="st">&quot;sample_dt&quot;</span>,<span class="st">&quot;result_va&quot;</span>)])</span></code></pre></div>
<pre><code>##           site_no  sample_dt result_va
## 1 455415119314601 2015-10-28       0.7
## 2 455415119314601 2016-01-20       0.1
## 3 455415119314601 2016-03-18       0.1
## 4 455415119314601 2016-04-21       0.4
## 5 455415119314601 2016-06-22       0.5
## 6 455415119314601 2016-07-28       0.0</code></pre>
<p><a name="readnwisqw-multparm"></a></p>
<p><strong>Post Clean Water Act lead and mercury levels in McGaw, Ohio.</strong></p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="#cb754-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 03237280</span></span>
<span id="cb754-2"><a href="#cb754-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter: mercury and lead in micrograms/liter, 71890 and 01049</span></span>
<span id="cb754-3"><a href="#cb754-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Begin date: January 1, 1972</span></span>
<span id="cb754-4"><a href="#cb754-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb754-5"><a href="#cb754-5" aria-hidden="true" tabindex="-1"></a>oh_site_cwa <span class="ot">&lt;-</span> <span class="fu">readNWISqw</span>(<span class="at">siteNumbers=</span><span class="st">&quot;03237280&quot;</span>, </span>
<span id="cb754-6"><a href="#cb754-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">parameterCd=</span><span class="fu">c</span>(<span class="st">&quot;71890&quot;</span>, <span class="st">&quot;01049&quot;</span>),</span>
<span id="cb754-7"><a href="#cb754-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">startDate=</span><span class="st">&quot;1972-01-01&quot;</span>)</span>
<span id="cb754-8"><a href="#cb754-8" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(oh_site_cwa)</span></code></pre></div>
<pre><code>## [1] 76</code></pre>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="#cb756-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(oh_site_cwa)</span></code></pre></div>
<pre><code>## [1] 36</code></pre>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="#cb758-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(oh_site_cwa[,<span class="fu">c</span>(<span class="st">&quot;parm_cd&quot;</span>,<span class="st">&quot;sample_dt&quot;</span>,<span class="st">&quot;result_va&quot;</span>)])</span></code></pre></div>
<pre><code>##   parm_cd  sample_dt result_va
## 1   01049 1972-06-20       0.0
## 2   01049 1973-06-21        NA
## 3   71890 1973-06-21       0.5
## 4   01049 1973-10-31        NA
## 5   71890 1973-10-31       0.5
## 6   01049 1980-03-04      10.0</code></pre>
</div>
<div id="readnwisrating" class="section level3 hasAnchor" number="8.11.8">
<h3 class="hasAnchor"><span class="header-section-number">8.11.8</span> readNWISrating<a href="#readnwisrating" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the rating curve service function. It has a limited number of arguments and requires a site number. Follow along with the three examples below or see <code>?readNWISrating</code> for more information.</p>
<p>There are three different types of rating tables that can be accessed using the argument <code>type</code>. They are <code>base</code>, <code>corr</code> (corrected), and <code>exsa</code> (shifts). For <code>type=="base"</code> (the default), the result is a data frame with 3 columns: <code>INDEP</code>, <code>DEP</code>, and <code>STOR</code>. For <code>type=="corr"</code>, the resulting data frame will have 3 columns: <code>INDEP</code>, <code>CORR</code>, and <code>CORRINDEP</code>. For <code>type=="exsa"</code>, the data frame will have 4 columns: <code>INDEP</code>, <code>DEP</code>, <code>STOR</code>, and <code>SHIFT</code>. See below for definitions of each column.</p>
<ul>
<li><code>INDEP</code> is the gage height in feet</li>
<li><code>DEP</code> is the streamflow in cubic feet per second</li>
<li><code>STOR</code> “*” indicates a fixed point of the rating curve, <code>NA</code> for non-fixed points</li>
<li><code>SHIFT</code> indicates shifting in rating for the corresponding <code>INDEP</code> value</li>
<li><code>CORR</code> are the corrected values of <code>INDEP</code></li>
<li><code>CORRINDEP</code> are the corrected values of <code>CORR</code></li>
</ul>
<p>There are also a number of attributes associated with the data.frame returned - <code>url</code>, <code>queryTime</code>, <code>comment</code>, <code>siteInfo</code>, and <code>RATING</code>. <code>RATING</code> will only be included when <code>type</code> is <code>base</code>. See <a href="#accessing-attributes">this section</a> for how to access attributes of <code>dataRetrieval</code> data frames.</p>
<p><a name="readnwisrating"></a></p>
<p><strong>Rating tables for Mississippi River at St. Louis, MO</strong></p>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="#cb760-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 07010000</span></span>
<span id="cb760-2"><a href="#cb760-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Type: default, base </span></span>
<span id="cb760-3"><a href="#cb760-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb760-4"><a href="#cb760-4" aria-hidden="true" tabindex="-1"></a>miss_rating_base <span class="ot">&lt;-</span> <span class="fu">readNWISrating</span>(<span class="at">siteNumber=</span><span class="st">&quot;07010000&quot;</span>)</span>
<span id="cb760-5"><a href="#cb760-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(miss_rating_base)</span></code></pre></div>
<pre><code>##    INDEP      DEP STOR
## 1 -10.95  30000.0    *
## 2   9.40 188188.6    *
## 3  17.89 293140.6    *
## 4  25.00 400400.0    *
## 5  30.00 501300.0    *
## 6  34.34 600000.0    *</code></pre>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="#cb762-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 07010000</span></span>
<span id="cb762-2"><a href="#cb762-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Type: corr </span></span>
<span id="cb762-3"><a href="#cb762-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb762-4"><a href="#cb762-4" aria-hidden="true" tabindex="-1"></a>miss_rating_corr <span class="ot">&lt;-</span> <span class="fu">readNWISrating</span>(<span class="at">siteNumber=</span><span class="st">&quot;07010000&quot;</span>, <span class="at">type=</span><span class="st">&quot;corr&quot;</span>)</span>
<span id="cb762-5"><a href="#cb762-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(miss_rating_corr)</span></code></pre></div>
<pre><code>##    INDEP CORR CORRINDEP
## 1 -10.95    0    -10.95
## 2 -10.94    0    -10.94
## 3 -10.93    0    -10.93
## 4 -10.92    0    -10.92
## 5 -10.91    0    -10.91
## 6 -10.90    0    -10.90</code></pre>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="#cb764-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 07010000</span></span>
<span id="cb764-2"><a href="#cb764-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Type: exsa </span></span>
<span id="cb764-3"><a href="#cb764-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb764-4"><a href="#cb764-4" aria-hidden="true" tabindex="-1"></a>miss_rating_exsa <span class="ot">&lt;-</span> <span class="fu">readNWISrating</span>(<span class="at">siteNumber=</span><span class="st">&quot;07010000&quot;</span>, <span class="at">type=</span><span class="st">&quot;exsa&quot;</span>)</span>
<span id="cb764-5"><a href="#cb764-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(miss_rating_exsa)</span></code></pre></div>
<pre><code>##    INDEP SHIFT      DEP STOR
## 1 -10.95     0 30000.00    *
## 2 -10.94     0 30041.15 &lt;NA&gt;
## 3 -10.93     0 30082.33 &lt;NA&gt;
## 4 -10.92     0 30123.54 &lt;NA&gt;
## 5 -10.91     0 30164.78 &lt;NA&gt;
## 6 -10.90     0 30206.06 &lt;NA&gt;</code></pre>
</div>
<div id="readnwissite" class="section level3 hasAnchor" number="8.11.9">
<h3 class="hasAnchor"><span class="header-section-number">8.11.9</span> readNWISsite<a href="#readnwissite" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is pulls data from a USGS site file. It only has one argument - the site number. Follow along with the example below or see <code>?readNWISsite</code> for more information.</p>
<p><a name="readnwissite"></a></p>
<p><strong>Get metadata information for a site in Bronx, NY</strong></p>
<div class="sourceCode" id="cb766"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb766-1"><a href="#cb766-1" aria-hidden="true" tabindex="-1"></a><span class="co"># site number, 01302020</span></span>
<span id="cb766-2"><a href="#cb766-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb766-3"><a href="#cb766-3" aria-hidden="true" tabindex="-1"></a><span class="fu">readNWISsite</span>(<span class="at">siteNumbers=</span><span class="st">&quot;01302020&quot;</span>)</span></code></pre></div>
<pre><code>##   agency_cd  site_no                                     station_nm site_tp_cd
## 1      USGS 01302020 BRONX RIVER AT NY BOTANICAL GARDEN AT BRONX NY         ST
##     lat_va  long_va dec_lat_va dec_long_va coord_meth_cd coord_acy_cd
## 1 405144.3 735227.8   40.86231   -73.87439             N            1
##   coord_datum_cd dec_coord_datum_cd district_cd state_cd county_cd country_cd
## 1          NAD83              NAD83          36       36       005         US
##   land_net_ds       map_nm map_scale_fc alt_va alt_meth_cd alt_acy_va
## 1          NA FLUSHING, NY        24000  49.86           X       0.08
##   alt_datum_cd   huc_cd basin_cd topo_cd                 instruments_cd
## 1       NAVD88 02030102     &lt;NA&gt;    &lt;NA&gt; YNNNYNNNNYNNNNNNNNNNNNNNNNNNNN
##   construction_dt inventory_dt drain_area_va contrib_drain_area_va tz_cd
## 1              NA           NA          38.4                    NA   EST
##   local_time_fg reliability_cd gw_file_cd nat_aqfr_cd aqfr_cd aqfr_type_cd
## 1             N           &lt;NA&gt;       &lt;NA&gt;        &lt;NA&gt;    &lt;NA&gt;         &lt;NA&gt;
##   well_depth_va hole_depth_va depth_src_cd project_no
## 1            NA            NA         &lt;NA&gt;       &lt;NA&gt;</code></pre>
</div>
<div id="readnwisstat" class="section level3 hasAnchor" number="8.11.10">
<h3 class="hasAnchor"><span class="header-section-number">8.11.10</span> readNWISstat<a href="#readnwisstat" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the statistics service function. It has a limited number of arguments and requires a site number and parameter code. Follow along with the example below or see <code>?readNWISstat</code> for more information.</p>
<p>The <a href="https://waterservices.usgs.gov/rest/Statistics-Service.html">NWIS Statistics web service</a> is currently in Beta mode, so use at your own discretion. Additionally, “mean” is the only <code>statType</code> that can be used for annual or monthly report types at this time.</p>
<p><a name="readnwisstat"></a></p>
<p><strong>Historic annual average discharge near Mississippi River outlet</strong></p>
<div class="sourceCode" id="cb768"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb768-1"><a href="#cb768-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 07374525</span></span>
<span id="cb768-2"><a href="#cb768-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter: discharge in cfs, 00060</span></span>
<span id="cb768-3"><a href="#cb768-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Time division: annual</span></span>
<span id="cb768-4"><a href="#cb768-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistic: average, &quot;mean&quot;</span></span>
<span id="cb768-5"><a href="#cb768-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb768-6"><a href="#cb768-6" aria-hidden="true" tabindex="-1"></a>mississippi_avgQ <span class="ot">&lt;-</span> <span class="fu">readNWISstat</span>(<span class="at">siteNumbers=</span><span class="st">&quot;07374525&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00060&quot;</span>, </span>
<span id="cb768-7"><a href="#cb768-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">statReportType=</span><span class="st">&quot;annual&quot;</span>, <span class="at">statType=</span><span class="st">&quot;mean&quot;</span>)</span>
<span id="cb768-8"><a href="#cb768-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mississippi_avgQ)</span></code></pre></div>
<pre><code>##   agency_cd  site_no parameter_cd ts_id loc_web_ds year_nu mean_va
## 1      USGS 07374525        00060 61182         NA    2009  618800
## 2      USGS 07374525        00060 61182         NA    2010  563700
## 3      USGS 07374525        00060 61182         NA    2012  362100
## 4      USGS 07374525        00060 61182         NA    2014  489000
## 5      USGS 07374525        00060 61182         NA    2015  625800
## 6      USGS 07374525        00060 61182         NA    2020  706300</code></pre>
</div>
<div id="readnwisuse" class="section level3 hasAnchor" number="8.11.11">
<h3 class="hasAnchor"><span class="header-section-number">8.11.11</span> readNWISuse<a href="#readnwisuse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the water use service function. The water use data web service requires a state and/or county as the major filter. The default will return all years and all categories available. The following table shows the water-use categories and their corresponding abbreviation for county and state data. Note that categories have changed over time, and vary by data sets requested. National and site-specific data sets exist, but only county/state data are available through this service. Please visit the <a href="https://water.usgs.gov/watuse/">USGS National Water Use Information Program website</a> for more information.</p>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="2" style="text-align: left;">
<caption>
Table 2. Water-use category names and abbreviations.
</caption>
</td>
</tr>
<tr>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Name
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Abbreviation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Aquaculture
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
AQ
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Commercial
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
CO
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Domestic
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
DO
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Hydroelectric Power
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
HY
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Irrigation, Crop
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
IC
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Irrigation, Golf Courses
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
IG
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Industrial
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
IN
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Total Irrigation
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
IT
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Livestock (Animal Specialties)
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
LA
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Livestock
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
LI
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Livestock (Stock)
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
LS
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Mining
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
MI
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Other Industrial
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
OI
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Thermoelectric Power (Closed-loop cooling)
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
PC
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Fossil-fuel Thermoelectric Power
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
PF
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Geothermal Thermoelectric Power
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
PG
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Nuclear Thermoelectric Power
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
PN
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Thermoelectric Power (Once-through cooling)
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
PO
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Public Supply
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
PS
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Total Power
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
PT
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Total Thermoelectric Power
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
PT
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
Reservoir Evaporation
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; text-align: left;">
RE
</td>
</tr>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Total Population
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
TP
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
Wastewater Treatment
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
WW
</td>
</tr>
</tbody>
</table>
<p>Follow along with the example below or see <code>?readNWISuse</code> for more information.</p>
<p><a name="readnwisuse"></a></p>
<p><strong>Las Vegas historic water use</strong></p>
<div class="sourceCode" id="cb770"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb770-1"><a href="#cb770-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: Clark County, NV</span></span>
<span id="cb770-2"><a href="#cb770-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Water-use category: public supply, PS</span></span>
<span id="cb770-3"><a href="#cb770-3" aria-hidden="true" tabindex="-1"></a>vegas_wu <span class="ot">&lt;-</span> <span class="fu">readNWISuse</span>(<span class="at">stateCd=</span><span class="st">&quot;NV&quot;</span>, <span class="at">countyCd=</span><span class="st">&quot;Clark&quot;</span>, <span class="at">categories=</span><span class="st">&quot;PS&quot;</span>)</span>
<span id="cb770-4"><a href="#cb770-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(vegas_wu)</span></code></pre></div>
<pre><code>## [1] 26</code></pre>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="#cb772-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(vegas_wu)</span></code></pre></div>
<pre><code>##  [1] &quot;state_cd&quot;                                                                
##  [2] &quot;state_name&quot;                                                              
##  [3] &quot;county_cd&quot;                                                               
##  [4] &quot;county_nm&quot;                                                               
##  [5] &quot;year&quot;                                                                    
##  [6] &quot;Public.Supply.population.served.by.groundwater..in.thousands&quot;            
##  [7] &quot;Public.Supply.population.served.by.surface.water..in.thousands&quot;          
##  [8] &quot;Public.Supply.total.population.served..in.thousands&quot;                     
##  [9] &quot;Public.Supply.self.supplied.groundwater.withdrawals..fresh..in.Mgal.d&quot;   
## [10] &quot;Public.Supply.self.supplied.groundwater.withdrawals..saline..in.Mgal.d&quot;  
## [11] &quot;Public.Supply.total.self.supplied.withdrawals..groundwater..in.Mgal.d&quot;   
## [12] &quot;Public.Supply.self.supplied.surface.water.withdrawals..fresh..in.Mgal.d&quot; 
## [13] &quot;Public.Supply.self.supplied.surface.water.withdrawals..saline..in.Mgal.d&quot;
## [14] &quot;Public.Supply.total.self.supplied.withdrawals..surface.water..in.Mgal.d&quot; 
## [15] &quot;Public.Supply.total.self.supplied.withdrawals..fresh..in.Mgal.d&quot;         
## [16] &quot;Public.Supply.total.self.supplied.withdrawals..saline..in.Mgal.d&quot;        
## [17] &quot;Public.Supply.total.self.supplied.withdrawals..total..in.Mgal.d&quot;         
## [18] &quot;Public.Supply.deliveries.to.domestic..in.Mgal.d&quot;                         
## [19] &quot;Public.Supply.deliveries.to.commercial..in.Mgal.d&quot;                       
## [20] &quot;Public.Supply.deliveries.to.industrial..in.Mgal.d&quot;                       
## [21] &quot;Public.Supply.deliveries.to.thermoelectric..in.Mgal.d&quot;                   
## [22] &quot;Public.Supply.total.deliveries..in.Mgal.d&quot;                               
## [23] &quot;Public.Supply.public.use.and.losses..in.Mgal.d&quot;                          
## [24] &quot;Public.Supply.per.capita.use..in.gallons.person.day&quot;                     
## [25] &quot;Public.Supply.reclaimed.wastewater..in.Mgal.d&quot;                           
## [26] &quot;Public.Supply.number.of.facilities&quot;</code></pre>
<div class="sourceCode" id="cb774"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb774-1"><a href="#cb774-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(vegas_wu[,<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>])</span></code></pre></div>
<pre><code>##   state_cd state_name county_cd    county_nm year
## 1       32     Nevada       003 Clark County 1985
## 2       32     Nevada       003 Clark County 1990
## 3       32     Nevada       003 Clark County 1995
## 4       32     Nevada       003 Clark County 2000
## 5       32     Nevada       003 Clark County 2005
## 6       32     Nevada       003 Clark County 2010
##   Public.Supply.population.served.by.groundwater..in.thousands
## 1                                                      149.770
## 2                                                      108.140
## 3                                                      128.010
## 4                                                      176.850
## 5                                                            -
## 6                                                            -
##   Public.Supply.population.served.by.surface.water..in.thousands
## 1                                                        402.210
## 2                                                        618.000
## 3                                                        844.060
## 4                                                       1169.600
## 5                                                              -
## 6                                                              -</code></pre>
</div>
<div id="readnwisuv" class="section level3 hasAnchor" number="8.11.12">
<h3 class="hasAnchor"><span class="header-section-number">8.11.12</span> readNWISuv<a href="#readnwisuv" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function is the unit value (or instantaneous) service function. It has a limited number of arguments and requires a site number and parameter code. Follow along with the example below or see <code>?readNWISuv</code> for more information.</p>
<p><a name="readnwisuv"></a></p>
<p><strong>Turbidity and discharge for April 2016 near Lake Tahoe in California.</strong></p>
<div class="sourceCode" id="cb776"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb776-1"><a href="#cb776-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 10336676</span></span>
<span id="cb776-2"><a href="#cb776-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameter: discharge in cfs and turbidity in FNU, 00060 and 63680</span></span>
<span id="cb776-3"><a href="#cb776-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Begin date: April 1, 2016</span></span>
<span id="cb776-4"><a href="#cb776-4" aria-hidden="true" tabindex="-1"></a><span class="co"># End date: April 30, 2016</span></span>
<span id="cb776-5"><a href="#cb776-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb776-6"><a href="#cb776-6" aria-hidden="true" tabindex="-1"></a>ca_site_do <span class="ot">&lt;-</span> <span class="fu">readNWISuv</span>(<span class="at">siteNumbers=</span><span class="st">&quot;10336676&quot;</span>, <span class="at">parameterCd=</span><span class="fu">c</span>(<span class="st">&quot;00060&quot;</span>, <span class="st">&quot;63680&quot;</span>),</span>
<span id="cb776-7"><a href="#cb776-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">startDate=</span><span class="st">&quot;2016-04-01&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2016-04-30&quot;</span>)</span>
<span id="cb776-8"><a href="#cb776-8" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ca_site_do)</span></code></pre></div>
<pre><code>## [1] 2880</code></pre>
<div class="sourceCode" id="cb778"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb778-1"><a href="#cb778-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ca_site_do)</span></code></pre></div>
<pre><code>##   agency_cd  site_no            dateTime X_00060_00000 X_00060_00000_cd
## 1      USGS 10336676 2016-04-01 07:00:00          28.9                A
## 2      USGS 10336676 2016-04-01 07:15:00          28.2                A
## 3      USGS 10336676 2016-04-01 07:30:00          28.2                A
## 4      USGS 10336676 2016-04-01 07:45:00          28.9                A
## 5      USGS 10336676 2016-04-01 08:00:00          28.9                A
## 6      USGS 10336676 2016-04-01 08:15:00          28.2                A
##   X_63680_00000 X_63680_00000_cd tz_cd
## 1           1.2                A   UTC
## 2           1.3                A   UTC
## 3           1.2                A   UTC
## 4           1.1                A   UTC
## 5           1.2                A   UTC
## 6           1.3                A   UTC</code></pre>
</div>
</div>
<div id="additional-features" class="section level2 hasAnchor" number="8.12">
<h2 class="hasAnchor"><span class="header-section-number">8.12</span> Additional Features<a href="#additional-features" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="accessing-attributes" class="section level3 hasAnchor" number="8.12.1">
<h3 class="hasAnchor"><span class="header-section-number">8.12.1</span> Accessing attributes<a href="#accessing-attributes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>dataRetrieval</code> returns a lot of useful information as “attributes” to the data returned. This includes site metadata information, the NWIS url used, date and time the query was performed, and more. First, you want to use <code>attributes()</code> to see what information is available. It returns a list of all the metadata information. Then you can use <code>attr()</code> to actually get that information. Let’s use the base rating table example from before to illustrate this. It has a special attribute called “RATING”.</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="#cb780-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Major filter: site number, 07010000</span></span>
<span id="cb780-2"><a href="#cb780-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Type: default, base </span></span>
<span id="cb780-3"><a href="#cb780-3" aria-hidden="true" tabindex="-1"></a>miss_rating_base <span class="ot">&lt;-</span> <span class="fu">readNWISrating</span>(<span class="at">siteNumber=</span><span class="st">&quot;07010000&quot;</span>)</span>
<span id="cb780-4"><a href="#cb780-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb780-5"><a href="#cb780-5" aria-hidden="true" tabindex="-1"></a><span class="co"># how many attributes are there and what are they?</span></span>
<span id="cb780-6"><a href="#cb780-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">attributes</span>(miss_rating_base))</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">attributes</span>(miss_rating_base))</span></code></pre></div>
<pre><code>## [1] &quot;row.names&quot;  &quot;names&quot;      &quot;class&quot;      &quot;queryTime&quot;  &quot;url&quot;       
## [6] &quot;headerInfo&quot; &quot;comment&quot;    &quot;RATING&quot;     &quot;siteInfo&quot;</code></pre>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the site info</span></span>
<span id="cb784-2"><a href="#cb784-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(miss_rating_base, <span class="st">&quot;siteInfo&quot;</span>)</span></code></pre></div>
<pre><code>##   agency_cd  site_no                         station_nm site_tp_cd   lat_va
## 1      USGS 07010000 Mississippi River at St. Louis, MO         ST 383744.4
##    long_va dec_lat_va dec_long_va coord_meth_cd coord_acy_cd coord_datum_cd
## 1 901047.2     38.629   -90.17978             N            5          NAD83
##   dec_coord_datum_cd district_cd state_cd county_cd country_cd
## 1              NAD83          29       29       510         US
##               land_net_ds       map_nm map_scale_fc alt_va alt_meth_cd
## 1       S   T45N  R07E  5 GRANITE CITY        24000 379.58           L
##   alt_acy_va alt_datum_cd   huc_cd basin_cd topo_cd
## 1       0.05       NAVD88 07140101     &lt;NA&gt;    &lt;NA&gt;
##                   instruments_cd construction_dt inventory_dt drain_area_va
## 1 NNNNYNNNNNNNNNNNNNNNNNNNNNNNNN              NA     19891229        697000
##   contrib_drain_area_va tz_cd local_time_fg reliability_cd gw_file_cd
## 1                    NA   CST             Y              C   NNNNNNNN
##   nat_aqfr_cd aqfr_cd aqfr_type_cd well_depth_va hole_depth_va depth_src_cd
## 1        &lt;NA&gt;    &lt;NA&gt;         &lt;NA&gt;            NA            NA         &lt;NA&gt;
##   project_no
## 1       &lt;NA&gt;</code></pre>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="#cb786-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now look at the special RATING attribute</span></span>
<span id="cb786-2"><a href="#cb786-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(miss_rating_base, <span class="st">&quot;RATING&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ID=19.0&quot;                                                            
## [2] &quot;TYPE=STGQ&quot;                                                          
## [3] &quot;NAME=stage-discharge&quot;                                               
## [4] &quot;AGING=Working&quot;                                                      
## [5] &quot;REMARKS= developed for persistent trend to right of rating below 25&quot;
## [6] &quot;EXPANSION=logarithmic&quot;                                              
## [7] &quot;OFFSET1=-2.800000E+01&quot;</code></pre>
<p>All attributes are an R object once you extract them. They can be lists, data.frames, vectors, etc. If we want to use information from one of the attributes, index it just like you would any other object of that type. For example, we want the drainage area for this Mississippi site:</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save site info metadata as its own object</span></span>
<span id="cb788-2"><a href="#cb788-2" aria-hidden="true" tabindex="-1"></a>miss_site_info <span class="ot">&lt;-</span> <span class="fu">attr</span>(miss_rating_base, <span class="st">&quot;siteInfo&quot;</span>)</span>
<span id="cb788-3"><a href="#cb788-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(miss_site_info)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="#cb790-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the drainage area</span></span>
<span id="cb790-2"><a href="#cb790-2" aria-hidden="true" tabindex="-1"></a>miss_site_info<span class="sc">$</span>drain_area_va</span></code></pre></div>
<pre><code>## [1] 697000</code></pre>
</div>
<div id="using-lists-as-input" class="section level3 hasAnchor" number="8.12.2">
<h3 class="hasAnchor"><span class="header-section-number">8.12.2</span> Using lists as input<a href="#using-lists-as-input" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>readNWISdata</code> allows users to give a list of named arguments as the input to the call. This is especially handy if you would like to build up a list of arguments and use it in multiple calls. This only works in <code>readNWISdata</code>, none of the other <code>readNWIS...</code> functions have this ability.</p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="#cb792-1" aria-hidden="true" tabindex="-1"></a>chicago_q_args <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">siteNumbers=</span><span class="fu">c</span>(<span class="st">&quot;05537500&quot;</span>, <span class="st">&quot;05536358&quot;</span>, <span class="st">&quot;05531045&quot;</span>),</span>
<span id="cb792-2"><a href="#cb792-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">startDate=</span><span class="st">&quot;2015-10-01&quot;</span>,</span>
<span id="cb792-3"><a href="#cb792-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">endDate=</span><span class="st">&quot;2015-12-31&quot;</span>,</span>
<span id="cb792-4"><a href="#cb792-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">parameterCd=</span><span class="st">&quot;00060&quot;</span>)</span>
<span id="cb792-5"><a href="#cb792-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-6"><a href="#cb792-6" aria-hidden="true" tabindex="-1"></a><span class="co"># query for unit value data with those arguments</span></span>
<span id="cb792-7"><a href="#cb792-7" aria-hidden="true" tabindex="-1"></a>chicago_q_uv <span class="ot">&lt;-</span> <span class="fu">readNWISdata</span>(chicago_q_args, <span class="at">service=</span><span class="st">&quot;uv&quot;</span>)</span>
<span id="cb792-8"><a href="#cb792-8" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(chicago_q_uv)</span></code></pre></div>
<pre><code>## [1] 14488</code></pre>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="#cb794-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same query but for daily values</span></span>
<span id="cb794-2"><a href="#cb794-2" aria-hidden="true" tabindex="-1"></a>chicago_q_dv <span class="ot">&lt;-</span> <span class="fu">readNWISdata</span>(chicago_q_args, <span class="at">service=</span><span class="st">&quot;dv&quot;</span>)</span>
<span id="cb794-3"><a href="#cb794-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(chicago_q_dv)</span></code></pre></div>
<pre><code>## [1] 151</code></pre>
</div>
<div id="helper-functions" class="section level3 hasAnchor" number="8.12.3">
<h3 class="hasAnchor"><span class="header-section-number">8.12.3</span> Helper functions<a href="#helper-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are currently 3 helper functions: renameNWIScolumns, addWaterYear, and zeroPad. <code>renameNWIScolumns</code> takes some of the default column names and makes them more human-readable (e.g. “X_00060_00000” becomes “Flow_Inst”). <code>addWaterYear</code> adds an additional column of integers indicating the water year. <code>zeroPad</code> is used to add leading zeros to any string that is missing them, and is not restricted to <code>dataRetrieval</code> output.</p>
<p><strong>renameNWIScolumns</strong></p>
<p><code>renameNWIScolumns</code> can be used in two ways: it can be a standalone function following the <code>dataRetrieval</code> call or it can be piped (as long as <code>magrittr</code> or <code>dplyr</code> are loaded). Both examples are shown below. Note that <code>renameNWIScolumns</code> is intended for use with columns named using pcodes. It does not work with all possible data returned.</p>
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="#cb796-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get discharge and temperature data for July 2016 in Ft Worth, TX</span></span>
<span id="cb796-2"><a href="#cb796-2" aria-hidden="true" tabindex="-1"></a>ftworth_qt_july <span class="ot">&lt;-</span> <span class="fu">readNWISuv</span>(<span class="at">siteNumbers=</span><span class="st">&quot;08048000&quot;</span>, <span class="at">parameterCd=</span><span class="fu">c</span>(<span class="st">&quot;00060&quot;</span>, <span class="st">&quot;00010&quot;</span>), </span>
<span id="cb796-3"><a href="#cb796-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">startDate=</span><span class="st">&quot;2016-07-01&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2016-07-31&quot;</span>)</span>
<span id="cb796-4"><a href="#cb796-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ftworth_qt_july)</span></code></pre></div>
<pre><code>## [1] &quot;agency_cd&quot;        &quot;site_no&quot;          &quot;dateTime&quot;         &quot;X_00010_00000&quot;   
## [5] &quot;X_00010_00000_cd&quot; &quot;X_00060_00000&quot;    &quot;X_00060_00000_cd&quot; &quot;tz_cd&quot;</code></pre>
<div class="sourceCode" id="cb798"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb798-1"><a href="#cb798-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now rename columns</span></span>
<span id="cb798-2"><a href="#cb798-2" aria-hidden="true" tabindex="-1"></a>ftworth_qt_july_renamed <span class="ot">&lt;-</span> <span class="fu">renameNWISColumns</span>(ftworth_qt_july)</span>
<span id="cb798-3"><a href="#cb798-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ftworth_qt_july_renamed)</span></code></pre></div>
<pre><code>## [1] &quot;agency_cd&quot;     &quot;site_no&quot;       &quot;dateTime&quot;      &quot;Wtemp_Inst&quot;   
## [5] &quot;Wtemp_Inst_cd&quot; &quot;Flow_Inst&quot;     &quot;Flow_Inst_cd&quot;  &quot;tz_cd&quot;</code></pre>
<p>Now try with a pipe. Remember to load a packge that uses <code>%&gt;%</code>.</p>
<div class="sourceCode" id="cb800"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb800-1"><a href="#cb800-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb800-2"><a href="#cb800-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb800-3"><a href="#cb800-3" aria-hidden="true" tabindex="-1"></a><span class="co"># get discharge and temperature data for July 2016 in Ft Worth, TX</span></span>
<span id="cb800-4"><a href="#cb800-4" aria-hidden="true" tabindex="-1"></a><span class="co"># pipe straight into rename function</span></span>
<span id="cb800-5"><a href="#cb800-5" aria-hidden="true" tabindex="-1"></a>ftworth_qt_july_pipe <span class="ot">&lt;-</span> <span class="fu">readNWISuv</span>(<span class="at">siteNumbers=</span><span class="st">&quot;08048000&quot;</span>, <span class="at">parameterCd=</span><span class="fu">c</span>(<span class="st">&quot;00060&quot;</span>, <span class="st">&quot;00010&quot;</span>), </span>
<span id="cb800-6"><a href="#cb800-6" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">startDate=</span><span class="st">&quot;2016-07-01&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2016-07-31&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb800-7"><a href="#cb800-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">renameNWISColumns</span>()</span>
<span id="cb800-8"><a href="#cb800-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb800-9"><a href="#cb800-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ftworth_qt_july_pipe)</span></code></pre></div>
<pre><code>## [1] &quot;agency_cd&quot;     &quot;site_no&quot;       &quot;dateTime&quot;      &quot;Wtemp_Inst&quot;   
## [5] &quot;Wtemp_Inst_cd&quot; &quot;Flow_Inst&quot;     &quot;Flow_Inst_cd&quot;  &quot;tz_cd&quot;</code></pre>
<p><strong>addWaterYear</strong></p>
<p>Similar to <code>renameNWIScolumns</code>, <code>addWaterYear</code> can be used as a standalone function or with a pipe. This function defines a water year as October 1 of the previous year to September 30 of the current year. Additionally, <code>addWaterYear</code> is limited to data.frames with date columns titled “dateTime”, “Date”, “ActivityStartDate”, and “ActivityEndDate”.</p>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="#cb802-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mean daily discharge on the Colorado River in Grand Canyon National Park for fall of 2014</span></span>
<span id="cb802-2"><a href="#cb802-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The dates in Sept should be water year 2014, but the dates in Oct and Nov are water year 2015</span></span>
<span id="cb802-3"><a href="#cb802-3" aria-hidden="true" tabindex="-1"></a>co_river_q_fall <span class="ot">&lt;-</span> <span class="fu">readNWISdv</span>(<span class="at">siteNumber=</span><span class="st">&quot;09403850&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00060&quot;</span>, </span>
<span id="cb802-4"><a href="#cb802-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">startDate=</span><span class="st">&quot;2014-09-28&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2014-11-30&quot;</span>)</span>
<span id="cb802-5"><a href="#cb802-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(co_river_q_fall)</span></code></pre></div>
<pre><code>##   agency_cd  site_no       Date X_00060_00003 X_00060_00003_cd
## 1      USGS 09403850 2014-09-28        319.00                A
## 2      USGS 09403850 2014-09-29        411.00                A
## 3      USGS 09403850 2014-09-30        375.00                A
## 4      USGS 09403850 2014-10-01         26.40                A
## 5      USGS 09403850 2014-10-02         10.80                A
## 6      USGS 09403850 2014-10-03          5.98                A</code></pre>
<div class="sourceCode" id="cb804"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb804-1"><a href="#cb804-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now add the water year column</span></span>
<span id="cb804-2"><a href="#cb804-2" aria-hidden="true" tabindex="-1"></a>co_river_q_fall_wy <span class="ot">&lt;-</span> <span class="fu">addWaterYear</span>(co_river_q_fall)</span>
<span id="cb804-3"><a href="#cb804-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(co_river_q_fall_wy)</span></code></pre></div>
<pre><code>##   agency_cd  site_no       Date waterYear X_00060_00003 X_00060_00003_cd
## 1      USGS 09403850 2014-09-28      2014        319.00                A
## 2      USGS 09403850 2014-09-29      2014        411.00                A
## 3      USGS 09403850 2014-09-30      2014        375.00                A
## 4      USGS 09403850 2014-10-01      2015         26.40                A
## 5      USGS 09403850 2014-10-02      2015         10.80                A
## 6      USGS 09403850 2014-10-03      2015          5.98                A</code></pre>
<div class="sourceCode" id="cb806"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb806-1"><a href="#cb806-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(co_river_q_fall_wy<span class="sc">$</span>waterYear)</span></code></pre></div>
<pre><code>## [1] 2014 2015</code></pre>
<p>Now try with a pipe.</p>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="#cb808-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mean daily discharge on the Colorado River in Grand Canyon National Park for fall of 2014</span></span>
<span id="cb808-2"><a href="#cb808-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pipe straight into rename function</span></span>
<span id="cb808-3"><a href="#cb808-3" aria-hidden="true" tabindex="-1"></a>co_river_q_fall_pipe <span class="ot">&lt;-</span> <span class="fu">readNWISdv</span>(<span class="at">siteNumber=</span><span class="st">&quot;09403850&quot;</span>, <span class="at">parameterCd=</span><span class="st">&quot;00060&quot;</span>, </span>
<span id="cb808-4"><a href="#cb808-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">startDate=</span><span class="st">&quot;2014-09-01&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2014-11-30&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb808-5"><a href="#cb808-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addWaterYear</span>()</span>
<span id="cb808-6"><a href="#cb808-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb808-7"><a href="#cb808-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(co_river_q_fall_pipe)</span></code></pre></div>
<pre><code>## [1] &quot;agency_cd&quot;        &quot;site_no&quot;          &quot;Date&quot;             &quot;waterYear&quot;       
## [5] &quot;X_00060_00003&quot;    &quot;X_00060_00003_cd&quot;</code></pre>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="#cb810-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(co_river_q_fall_pipe)</span></code></pre></div>
<pre><code>##   agency_cd  site_no       Date waterYear X_00060_00003 X_00060_00003_cd
## 1      USGS 09403850 2014-09-01      2014          3.79              A e
## 2      USGS 09403850 2014-09-02      2014          3.50              A e
## 3      USGS 09403850 2014-09-03      2014          3.54              A e
## 4      USGS 09403850 2014-09-04      2014          3.63              A e
## 5      USGS 09403850 2014-09-05      2014          3.85              A e
## 6      USGS 09403850 2014-09-06      2014          3.76              A e</code></pre>
<p><strong>zeroPad</strong></p>
<p><code>zeroPad</code> is designed to work on any string, so it is not specific to <code>dataRetrieval</code> data.frame output like the previous helper functions. Oftentimes, when reading in Excel or other local data, leading zeros are dropped from site numbers. This function allows you to put them back in. <code>x</code> is the string you would like to pad, and <code>padTo</code> is the total number of characters the string should have. For instance if an 8-digit site number was read in as numeric, we could pad that by:</p>
<div class="sourceCode" id="cb812"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb812-1"><a href="#cb812-1" aria-hidden="true" tabindex="-1"></a>siteNum <span class="ot">&lt;-</span> <span class="dv">02121500</span></span>
<span id="cb812-2"><a href="#cb812-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(siteNum)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb814"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb814-1"><a href="#cb814-1" aria-hidden="true" tabindex="-1"></a>siteNum</span></code></pre></div>
<pre><code>## [1] 2121500</code></pre>
<div class="sourceCode" id="cb816"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb816-1"><a href="#cb816-1" aria-hidden="true" tabindex="-1"></a>siteNum_fix <span class="ot">&lt;-</span> <span class="fu">zeroPad</span>(siteNum, <span class="dv">8</span>)</span>
<span id="cb816-2"><a href="#cb816-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(siteNum_fix)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="#cb818-1" aria-hidden="true" tabindex="-1"></a>siteNum_fix</span></code></pre></div>
<pre><code>## [1] &quot;02121500&quot;</code></pre>
<p>The next lesson looks at how to use <code>dataRetrieval</code> functions for Water Quality Portal retrievals.</p>
</div>
</div>
<div id="readwqp-functions" class="section level2 hasAnchor" number="8.13">
<h2 class="hasAnchor"><span class="header-section-number">8.13</span> readWQP functions<a href="#readwqp-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After discovering Water Quality Portal (WQP) data in the <a href="/dataRetrieval-discovery">data discovery section</a>, we can now read it in using the desired parameters. There are two functions to do this in <code>dataRetrieval</code>. Table 1 describes them below.</p>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="3" style="text-align: left;">
<caption>
Table 1. readWQP function definitions
</caption>
</td>
</tr>
<tr>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Function
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Description
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Arguments
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
<a href="#readwqpdata">readWQPdata</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
Most general WQP data import function. Users must define each parameter.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; text-align: left;">
…, querySummary, tz, ignore_attributes
</td>
</tr>
<tr style="background-color: #f7f7f7;">
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
<a href="#readwqpqw">readWQPqw</a>
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
Used for querying by site numbers and parameter codes only.
</td>
<td style="padding-bottom: 0.5em; padding-right: 0.5em; padding-top: 0.5em; background-color: #f7f7f7; border-bottom: 2px solid grey; text-align: left;">
siteNumbers, parameterCd, startDate, endDate, tz, querySummary
</td>
</tr>
</tbody>
</table>
<p>The main difference between these two functions is that <code>readWQPdata</code> is general and accepts any of the paremeters described in the <a href="https://www.waterqualitydata.us/webservices_documentation/#WQPWebServicesGuide-Submitting">WQP Web Services Guide</a>. In contrast, <code>readWQPqw</code> has five arguments and users can only use this if they know the site number(s) and parameter code(s) for which they want data.</p>
<p>The following are examples of how to use each of the readWQP family of functions. Don’t forget to load the <code>dataRetrieval</code> library if you are in a new session.</p>
<ol style="list-style-type: decimal">
<li><a href="#readwqpdata-state">readWQPdata, state, site type, and characteristic name</a></li>
<li><a href="#readwqpdata-county">readWQPdata, county and characteristic group</a></li>
<li><a href="#readwqpdata-bbox">readWQPdata, bbox, characteristic name, and start date</a></li>
<li><a href="#readwqpqw">readWQPqw</a></li>
</ol>
<div id="readwqpdata" class="section level3 hasAnchor" number="8.13.1">
<h3 class="hasAnchor"><span class="header-section-number">8.13.1</span> readWQPdata<a href="#readwqpdata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The generic function used to pull Water Quality Portal data. This function is very flexible. You can specify any of the parameters from the <a href="https://www.waterqualitydata.us/webservices_documentation/#WQPWebServicesGuide-Submitting">WQP Web Service Guide</a>. To learn what the possible values for each, see the <a href="https://www.waterqualitydata.us/webservices_documentation/#WQPWebServicesGuide-Domain">table of domain values</a>. Follow along with the three examples below or see <code>?readWQPdata</code> for more information.</p>
<p><a name="readwqpdata-state"></a></p>
<p><strong>Phosphorus data in Wisconsin lakes for water year 2010</strong></p>
<div class="sourceCode" id="cb820"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb820-1"><a href="#cb820-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This takes about 3 minutes to complete.</span></span>
<span id="cb820-2"><a href="#cb820-2" aria-hidden="true" tabindex="-1"></a>WI_lake_phosphorus_2010 <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">statecode=</span><span class="st">&quot;WI&quot;</span>, </span>
<span id="cb820-3"><a href="#cb820-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">siteType=</span><span class="st">&quot;Lake, Reservoir, Impoundment&quot;</span>, </span>
<span id="cb820-4"><a href="#cb820-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">characteristicName=</span><span class="st">&quot;Phosphorus&quot;</span>, </span>
<span id="cb820-5"><a href="#cb820-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">startDate=</span><span class="st">&quot;2009-10-01&quot;</span>, <span class="at">endDate=</span><span class="st">&quot;2010-09-30&quot;</span>)</span>
<span id="cb820-6"><a href="#cb820-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb820-7"><a href="#cb820-7" aria-hidden="true" tabindex="-1"></a><span class="co"># What columns are available?</span></span>
<span id="cb820-8"><a href="#cb820-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(WI_lake_phosphorus_2010)</span></code></pre></div>
<pre><code>##  [1] &quot;OrganizationIdentifier&quot;                           
##  [2] &quot;OrganizationFormalName&quot;                           
##  [3] &quot;ActivityIdentifier&quot;                               
##  [4] &quot;ActivityTypeCode&quot;                                 
##  [5] &quot;ActivityMediaName&quot;                                
##  [6] &quot;ActivityMediaSubdivisionName&quot;                     
##  [7] &quot;ActivityStartDate&quot;                                
##  [8] &quot;ActivityStartTime.Time&quot;                           
##  [9] &quot;ActivityStartTime.TimeZoneCode&quot;                   
## [10] &quot;ActivityEndDate&quot;                                  
## [11] &quot;ActivityEndTime.Time&quot;                             
## [12] &quot;ActivityEndTime.TimeZoneCode&quot;                     
## [13] &quot;ActivityDepthHeightMeasure.MeasureValue&quot;          
## [14] &quot;ActivityDepthHeightMeasure.MeasureUnitCode&quot;       
## [15] &quot;ActivityDepthAltitudeReferencePointText&quot;          
## [16] &quot;ActivityTopDepthHeightMeasure.MeasureValue&quot;       
## [17] &quot;ActivityTopDepthHeightMeasure.MeasureUnitCode&quot;    
## [18] &quot;ActivityBottomDepthHeightMeasure.MeasureValue&quot;    
## [19] &quot;ActivityBottomDepthHeightMeasure.MeasureUnitCode&quot; 
## [20] &quot;ProjectIdentifier&quot;                                
## [21] &quot;ActivityConductingOrganizationText&quot;               
## [22] &quot;MonitoringLocationIdentifier&quot;                     
## [23] &quot;ActivityCommentText&quot;                              
## [24] &quot;SampleAquifer&quot;                                    
## [25] &quot;HydrologicCondition&quot;                              
## [26] &quot;HydrologicEvent&quot;                                  
## [27] &quot;SampleCollectionMethod.MethodIdentifier&quot;          
## [28] &quot;SampleCollectionMethod.MethodIdentifierContext&quot;   
## [29] &quot;SampleCollectionMethod.MethodName&quot;                
## [30] &quot;SampleCollectionEquipmentName&quot;                    
## [31] &quot;ResultDetectionConditionText&quot;                     
## [32] &quot;CharacteristicName&quot;                               
## [33] &quot;ResultSampleFractionText&quot;                         
## [34] &quot;ResultMeasureValue&quot;                               
## [35] &quot;ResultMeasure.MeasureUnitCode&quot;                    
## [36] &quot;MeasureQualifierCode&quot;                             
## [37] &quot;ResultStatusIdentifier&quot;                           
## [38] &quot;StatisticalBaseCode&quot;                              
## [39] &quot;ResultValueTypeName&quot;                              
## [40] &quot;ResultWeightBasisText&quot;                            
## [41] &quot;ResultTimeBasisText&quot;                              
## [42] &quot;ResultTemperatureBasisText&quot;                       
## [43] &quot;ResultParticleSizeBasisText&quot;                      
## [44] &quot;PrecisionValue&quot;                                   
## [45] &quot;ResultCommentText&quot;                                
## [46] &quot;USGSPCode&quot;                                        
## [47] &quot;ResultDepthHeightMeasure.MeasureValue&quot;            
## [48] &quot;ResultDepthHeightMeasure.MeasureUnitCode&quot;         
## [49] &quot;ResultDepthAltitudeReferencePointText&quot;            
## [50] &quot;SubjectTaxonomicName&quot;                             
## [51] &quot;SampleTissueAnatomyName&quot;                          
## [52] &quot;ResultAnalyticalMethod.MethodIdentifier&quot;          
## [53] &quot;ResultAnalyticalMethod.MethodIdentifierContext&quot;   
## [54] &quot;ResultAnalyticalMethod.MethodName&quot;                
## [55] &quot;MethodDescriptionText&quot;                            
## [56] &quot;LaboratoryName&quot;                                   
## [57] &quot;AnalysisStartDate&quot;                                
## [58] &quot;ResultLaboratoryCommentText&quot;                      
## [59] &quot;DetectionQuantitationLimitTypeName&quot;               
## [60] &quot;DetectionQuantitationLimitMeasure.MeasureValue&quot;   
## [61] &quot;DetectionQuantitationLimitMeasure.MeasureUnitCode&quot;
## [62] &quot;PreparationStartDate&quot;                             
## [63] &quot;ProviderName&quot;                                     
## [64] &quot;ActivityStartDateTime&quot;                            
## [65] &quot;ActivityEndDateTime&quot;</code></pre>
<div class="sourceCode" id="cb822"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb822-1"><a href="#cb822-1" aria-hidden="true" tabindex="-1"></a><span class="co">#How much data is returned?</span></span>
<span id="cb822-2"><a href="#cb822-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(WI_lake_phosphorus_2010)</span></code></pre></div>
<pre><code>## [1] 495</code></pre>
<p><a name="readwqpdata-county"></a></p>
<p><strong>All nutrient data in Napa County, California</strong></p>
<div class="sourceCode" id="cb824"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb824-1"><a href="#cb824-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use empty character strings to specify that you want the historic record.</span></span>
<span id="cb824-2"><a href="#cb824-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This takes about 3 minutes to run.</span></span>
<span id="cb824-3"><a href="#cb824-3" aria-hidden="true" tabindex="-1"></a>Napa_lake_nutrients_Aug2010 <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">statecode=</span><span class="st">&quot;CA&quot;</span>, <span class="at">countycode=</span><span class="st">&quot;055&quot;</span>, </span>
<span id="cb824-4"><a href="#cb824-4" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">characteristicType=</span><span class="st">&quot;Nutrient&quot;</span>)</span>
<span id="cb824-5"><a href="#cb824-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb824-6"><a href="#cb824-6" aria-hidden="true" tabindex="-1"></a><span class="co">#How much data is returned?</span></span>
<span id="cb824-7"><a href="#cb824-7" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(Napa_lake_nutrients_Aug2010)</span></code></pre></div>
<pre><code>## [1] 5579</code></pre>
<p><a name="readwqpdata-bbox"></a></p>
<p><strong>Everglades water temperature data since 2016</strong></p>
<div class="sourceCode" id="cb826"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb826-1"><a href="#cb826-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bounding box defined by a vector of Western-most longitude, Southern-most latitude, </span></span>
<span id="cb826-2"><a href="#cb826-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Eastern-most longitude, and Northern-most longitude.</span></span>
<span id="cb826-3"><a href="#cb826-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This takes about 3 minutes to run.</span></span>
<span id="cb826-4"><a href="#cb826-4" aria-hidden="true" tabindex="-1"></a>Everglades_temp_2016_present <span class="ot">&lt;-</span> <span class="fu">readWQPdata</span>(<span class="at">bBox=</span><span class="fu">c</span>(<span class="sc">-</span><span class="fl">81.70</span>, <span class="fl">25.08</span>, <span class="sc">-</span><span class="fl">80.30</span>, <span class="fl">26.51</span>),  </span>
<span id="cb826-5"><a href="#cb826-5" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">characteristicName=</span><span class="st">&quot;Temperature, water&quot;</span>,</span>
<span id="cb826-6"><a href="#cb826-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">startDate=</span><span class="st">&quot;2016-01-01&quot;</span>)</span>
<span id="cb826-7"><a href="#cb826-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb826-8"><a href="#cb826-8" aria-hidden="true" tabindex="-1"></a><span class="co">#How much data is returned?</span></span>
<span id="cb826-9"><a href="#cb826-9" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(Everglades_temp_2016_present)</span></code></pre></div>
<pre><code>## [1] 23856</code></pre>
</div>
<div id="readwqpqw" class="section level3 hasAnchor" number="8.13.2">
<h3 class="hasAnchor"><span class="header-section-number">8.13.2</span> readWQPqw<a href="#readwqpqw" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This function has a limited number of arguments - it can only be used for pulling WQP data by site number and parameter code. By default, dates are set to pull the entire record available. When specifying USGS sites as <code>siteNumbers</code> to <code>readWQP</code> functions, precede the number with “USGS-”. See the example below or <code>?readWQPqw</code> for more information.</p>
<p><a name="readwqpqw"></a></p>
<p><strong>Dissolved oxygen data since 2010 for 2 South Carolina USGS sites</strong></p>
<div class="sourceCode" id="cb828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb828-1"><a href="#cb828-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using a few USGS sites, get dissolved oxygen data</span></span>
<span id="cb828-2"><a href="#cb828-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This takes ~ 30 seconds to complete.</span></span>
<span id="cb828-3"><a href="#cb828-3" aria-hidden="true" tabindex="-1"></a>SC_do_data_since2010 <span class="ot">&lt;-</span> <span class="fu">readWQPqw</span>(<span class="at">siteNumbers =</span> <span class="fu">c</span>(<span class="st">&quot;USGS-02146110&quot;</span>, <span class="st">&quot;USGS-325427080014600&quot;</span>),</span>
<span id="cb828-4"><a href="#cb828-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">parameterCd =</span> <span class="st">&quot;00300&quot;</span>, <span class="at">startDate =</span> <span class="st">&quot;2010-01-01&quot;</span>)</span>
<span id="cb828-5"><a href="#cb828-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb828-6"><a href="#cb828-6" aria-hidden="true" tabindex="-1"></a><span class="co"># How much data was returned?</span></span>
<span id="cb828-7"><a href="#cb828-7" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(SC_do_data_since2010)</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb830-1"><a href="#cb830-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What are the DO values and the dates the sample was collected?</span></span>
<span id="cb830-2"><a href="#cb830-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(SC_do_data_since2010[, <span class="fu">c</span>(<span class="st">&quot;ResultMeasureValue&quot;</span>, <span class="st">&quot;ActivityStartDate&quot;</span>)])</span></code></pre></div>
<pre><code>##   ResultMeasureValue ActivityStartDate
## 1                5.8        2010-09-26
## 2                5.9        2010-04-08
## 3                5.0        2011-09-06
## 4                7.2        2011-03-09
## 5                4.8        2011-09-06
## 6                6.4        2011-10-18</code></pre>
</div>
</div>
<div id="attributes-and-metadata" class="section level2 hasAnchor" number="8.14">
<h2 class="hasAnchor"><span class="header-section-number">8.14</span> Attributes and metadata<a href="#attributes-and-metadata" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Similar to the data frames returned from <code>readNWIS</code> functions, there are attributes (aka metadata) attached to the data. Use <code>attributes</code> to see all of them and <code>attr</code> to extract a particular attribute.</p>
<div class="sourceCode" id="cb832"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb832-1"><a href="#cb832-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What are the attributes available?</span></span>
<span id="cb832-2"><a href="#cb832-2" aria-hidden="true" tabindex="-1"></a>wqp_attributes <span class="ot">&lt;-</span> <span class="fu">attributes</span>(Everglades_temp_2016_present)</span>
<span id="cb832-3"><a href="#cb832-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(wqp_attributes)</span></code></pre></div>
<pre><code>## [1] &quot;names&quot;        &quot;class&quot;        &quot;row.names&quot;    &quot;siteInfo&quot;     &quot;variableInfo&quot;
## [6] &quot;queryTime&quot;    &quot;url&quot;</code></pre>
<div class="sourceCode" id="cb834"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb834-1"><a href="#cb834-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the variableInfo attribute</span></span>
<span id="cb834-2"><a href="#cb834-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">attr</span>(Everglades_temp_2016_present, <span class="st">&quot;variableInfo&quot;</span>))</span></code></pre></div>
<pre><code>##   characteristicName param_units valueType
## 1 Temperature, water       deg C      &lt;NA&gt;
## 2 Temperature, water       deg C      &lt;NA&gt;
## 3 Temperature, water       deg C      &lt;NA&gt;
## 4 Temperature, water       deg C      &lt;NA&gt;
## 5 Temperature, water       deg C      &lt;NA&gt;
## 6 Temperature, water       deg C      &lt;NA&gt;</code></pre>
<p>Let’s make a quick map to look at the stations that collected the Everglades data:</p>
<div class="sourceCode" id="cb836"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb836-1"><a href="#cb836-1" aria-hidden="true" tabindex="-1"></a>siteInfo <span class="ot">&lt;-</span> <span class="fu">attr</span>(Everglades_temp_2016_present, <span class="st">&quot;siteInfo&quot;</span>)</span>
<span id="cb836-2"><a href="#cb836-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb836-3"><a href="#cb836-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb836-4"><a href="#cb836-4" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(<span class="st">&#39;state&#39;</span>, <span class="at">regions=</span><span class="st">&#39;florida&#39;</span>)</span>
<span id="cb836-5"><a href="#cb836-5" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main=</span><span class="st">&quot;Everglade Sites&quot;</span>)</span>
<span id="cb836-6"><a href="#cb836-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="at">x=</span>siteInfo<span class="sc">$</span>dec_lon_va, </span>
<span id="cb836-7"><a href="#cb836-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span>siteInfo<span class="sc">$</span>dec_lat_va)</span>
<span id="cb836-8"><a href="#cb836-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a rectangle to see where your original query bounding box in relation to sites</span></span>
<span id="cb836-9"><a href="#cb836-9" aria-hidden="true" tabindex="-1"></a><span class="fu">rect</span>(<span class="sc">-</span><span class="fl">81.70</span>, <span class="fl">25.08</span>, <span class="sc">-</span><span class="fl">80.30</span>, <span class="fl">26.51</span>, <span class="at">col =</span> <span class="cn">NA</span>, <span class="at">border =</span> <span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<div class="figure">
<img src="08-USGS_files/figure-html/unnamed-chunk-8-1.png" alt="A map of NWIS site locations in the Everglades" width="672" />
<p class="caption">
(#fig:unnamed-chunk-8)A map of NWIS site locations in the Everglades
</p>
</div>
<p>You can now find and download Water Quality Portal data from R!</p>
</div>
<div id="usgs-coding-lab-exercises" class="section level2 hasAnchor" number="8.15">
<h2 class="hasAnchor"><span class="header-section-number">8.15</span> USGS Coding Lab Exercises<a href="#usgs-coding-lab-exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="just-how-dry-was-the-2020-monsoon" class="section level3 hasAnchor" number="8.15.1">
<h3 class="hasAnchor"><span class="header-section-number">8.15.1</span> Just how dry was the 2020 monsoon?<a href="#just-how-dry-was-the-2020-monsoon" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="images/09sep20_jja20p.png" width="325" /></p>
<p>Recently NOAA published a press release demonstrating that 2020 was <em>both</em> the hottest <em>and</em> driest summer on record for Arizona. In this lab we will look at USGS NWIS stream gauge and preciptitation data to investigate just how anomalous 2020 data are.</p>
<p><strong>1:</strong> Use the <code>readNWISstat</code> function to retrieve the following statewide data for 2015-2020:
1. Precipitation total (inches/week)
2. Streamflow (ft^3/s)</p>
<p><strong>2:</strong> Create two timeseries plots (one for preciptitation, one for streamflow), where color is a function of year (e.g. the x axis is month, the y axis is precipitation, legend shows color by year).</p>
<p><strong>3.</strong> Calculate the monthly mean precipitation and streamflow from 2015-2019, and use that mean to calculate a 2020 anomaly timeseries. Create two new plots (like #2 above) with the 2015-2019 mean as a thick black line, and 2020 anomaly as a thin red line.</p>
</div>
</div>
<div id="geoknife---introduction" class="section level2 hasAnchor" number="8.16">
<h2 class="hasAnchor"><span class="header-section-number">8.16</span> geoKnife - Introduction<a href="#geoknife---introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="lesson-summary-1" class="section level2 hasAnchor" number="8.17">
<h2 class="hasAnchor"><span class="header-section-number">8.17</span> Lesson Summary<a href="#lesson-summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This lesson will explore how to find and download large gridded datasets via the R package <code>geoknife</code>. The package was created to allow easy access to data stored in the <a href="https://cida.usgs.gov/gdp/">Geo Data Portal (GDP)</a>, or any gridded dataset available through the <a href="https://www.opendap.org/">OPeNDAP</a> protocol DAP2 that meets some basic metadata requirements. <code>geoknife</code> refers to the gridded dataset as the <code>fabric</code>, the spatial feature of interest as the <code>stencil</code>, and the subset algorithm parameters as the <code>knife</code> (see below).</p>
<div class="figure">
<img src="images/geoknife_summary_subset.png" title="geoknife terminology figure" alt="" />
<p class="caption">figure illustrating definitions of fabric, stencil, and knife</p>
</div>
</div>
<div id="lesson-objectives-1" class="section level2 hasAnchor" number="8.18">
<h2 class="hasAnchor"><span class="header-section-number">8.18</span> Lesson Objectives<a href="#lesson-objectives-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Explore and query large gridded datasets for efficient and reproducible large-scale analyses.</p>
<p>By the end of this lesson, the learner will be able to:</p>
<ol style="list-style-type: decimal">
<li>Explain the differences between remote and local processing.</li>
<li>Differentiate the three main concepts of this package: fabric, stencil, and knife.</li>
<li>Use this package to retrieve pre-processed data from the Geo Data Portal (GDP) via geoknife.</li>
</ol>
</div>
<div id="lesson-resources-1" class="section level2 hasAnchor" number="8.19">
<h2 class="hasAnchor"><span class="header-section-number">8.19</span> Lesson Resources<a href="#lesson-resources-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Publication: <a href="http://onlinelibrary.wiley.com/doi/10.1111/ecog.01880/abstract">geoknife: reproducible web-processing of large gridded datasets</a></li>
<li>Tutorial (vignette): <a href="https://cran.r-project.org/web/packages/geoknife/vignettes/geoknife.html">geoknife vignette</a></li>
<li>An overview of <a href="https://cida.usgs.gov/gdp/how-to-gdp/">remote processing basics</a> with the Geo Data Portal</li>
<li>A blog post on <a href="https://waterdata.usgs.gov/blog/ts-colin-precip/">visualizing Tropical Storm Colin rainfall</a> with geoknife</li>
<li>Source code: <a href="https://github.com/USGS-R/geoknife">geoknife on GitHub</a></li>
<li>Report a bug or suggest a feature: <a href="https://github.com/USGS-R/geoknife/issues">geoknife issues on GitHub</a></li>
</ul>
</div>
<div id="remote-processing" class="section level2 hasAnchor" number="8.20">
<h2 class="hasAnchor"><span class="header-section-number">8.20</span> Remote processing<a href="#remote-processing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The USGS Geo Data Portal is designed to perform web-service processing on large gridded datasets. <code>geoknife</code> allows R users to take advantage of these services by processing large data, such as data available in the GDP catalog or a user-defined dataset, on the web. This type of workflow has three main advantages:</p>
<ol style="list-style-type: decimal">
<li>it allows the user to avoid downloading large datasets,</li>
<li>it avoids reinventing the wheel for the creation and optimization of complex geoprocessing algorithms, and</li>
<li>computing resources are dedicated elsewhere, so geoknife operations do not have much of an impact on a local computer.</li>
</ol>
</div>
<div id="geoknife-components-fabric-stencil-knife" class="section level2 hasAnchor" number="8.21">
<h2 class="hasAnchor"><span class="header-section-number">8.21</span> geoknife components: fabric, stencil, knife<a href="#geoknife-components-fabric-stencil-knife" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The main components of a geoknife workflow are the “fabric”, “stencil”, and “knife”. These three components go into the final element, the geoknife “job” (geojob), which defines what the user needs from the processing, allows tracking of the processing status, and methods to dowload the results. The fabric is the gridded web dataset to be processed, the stencil is the feature of interest, and the knife is the processing algorithm parameters. Each of the <code>geoknife</code> components is created using a corresponding function: fabrics are created using <code>webdata()</code>, stencils are created using <code>webgeom()</code> or <code>simplegeom()</code>, and knives are created using <code>webprocess()</code>.</p>
<p>This lesson will focus on discovering what options exist for each of those components. The next lesson will teach you how to construct each component and put it together to get the processed data. Before continuing this lesson, load the geoknife library (install if necessary).</p>
<div class="sourceCode" id="cb837"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb837-1"><a href="#cb837-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the geoknife package</span></span>
<span id="cb837-2"><a href="#cb837-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geoknife)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;geoknife&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     id</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     start</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     title</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     url</code></pre>
</div>
<div id="available-webdata" class="section level2 hasAnchor" number="8.22">
<h2 class="hasAnchor"><span class="header-section-number">8.22</span> Available webdata<a href="#available-webdata" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="gdp-datasets" class="section level3 hasAnchor" number="8.22.1">
<h3 class="hasAnchor"><span class="header-section-number">8.22.1</span> GDP datasets<a href="#gdp-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To learn what data is available through GDP, you can explore the <a href="https://cida.usgs.gov/gdp/">online catalog</a> or use the function <code>query</code>. Note that the access pattern for determining available fabrics differs slightly from stencils and knives. Running <code>query("webdata")</code> will return every dataset available through GDP:</p>
<div class="sourceCode" id="cb843"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb843-1"><a href="#cb843-1" aria-hidden="true" tabindex="-1"></a>all_webdata <span class="ot">&lt;-</span> <span class="fu">query</span>(<span class="st">&quot;webdata&quot;</span>)</span>
<span id="cb843-2"><a href="#cb843-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(all_webdata)</span></code></pre></div>
<pre><code>## An object of class &quot;datagroup&quot;:
## [1] 4km Monthly Parameter-elevation Regressions on Independent Slopes Model Monthly Climate Data for the Continental United States. January 2012 Shapshot 
##   url: https://cida.usgs.gov/thredds/dodsC/prism 
## [2] 4km Monthly Parameter-elevation Regressions on Independent Slopes Model Monthly Climate Data for the Continental United States. January 2022 Snapshot 
##   url: https://cida.usgs.gov/thredds/dodsC/prism_v2 
## [3] ACCESS 1980-1999 
##   url: https://cida.usgs.gov/thredds/dodsC/notaro_ACCESS_1980_1999 
## [4] ACCESS 2040-2059 
##   url: https://cida.usgs.gov/thredds/dodsC/notaro_ACCESS_2040_2059 
## [5] ACCESS 2080-2099 
##   url: https://cida.usgs.gov/thredds/dodsC/notaro_ACCESS_2080_2099 
## [6] Bias Corrected Constructed Analogs V2 Daily Future CMIP5 Climate Projections 
##   url: https://cida.usgs.gov/thredds/dodsC/cmip5_bcca/future</code></pre>
<div class="sourceCode" id="cb845"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb845-1"><a href="#cb845-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(all_webdata)</span></code></pre></div>
<pre><code>## [1] 532</code></pre>
<p>Notice that the object returned is a special <code>geoknife</code> class of <code>datagroup</code>. There are specific <code>geoknife</code> functions that only operate on an object of this class, see <code>?title</code> and <code>?abstract</code>. These two functions are used to extract metadata information about each of the available GDP datasets. With 532 datasets available, it is likely that reading through each to find ones that are of interest to you would be time consuming. You can use <code>grep</code> along with the functions <code>title</code> and <code>abstract</code> to figure out which datasets you would like to use for processing.</p>
<p>Let’s say that we were interested in evapotranspiration data. To search for which GDP datasets might contain evapotranspiration data, you can use the titles and abstracts.</p>
<div class="sourceCode" id="cb847"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb847-1"><a href="#cb847-1" aria-hidden="true" tabindex="-1"></a><span class="co"># notice that you cannot perform a grep on all_webdata - it is because it is a special class</span></span>
<span id="cb847-2"><a href="#cb847-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `grep(&quot;evapotranspiration&quot;, all_webdata)` will fail</span></span>
<span id="cb847-3"><a href="#cb847-3" aria-hidden="true" tabindex="-1"></a><span class="co"># you need to perform pattern matching on vectors</span></span>
<span id="cb847-4"><a href="#cb847-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb847-5"><a href="#cb847-5" aria-hidden="true" tabindex="-1"></a>all_titles <span class="ot">&lt;-</span> <span class="fu">title</span>(all_webdata)</span>
<span id="cb847-6"><a href="#cb847-6" aria-hidden="true" tabindex="-1"></a>which_titles <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;evapotranspiration&quot;</span>, all_titles)</span>
<span id="cb847-7"><a href="#cb847-7" aria-hidden="true" tabindex="-1"></a>evap_titles <span class="ot">&lt;-</span> all_titles[which_titles]</span>
<span id="cb847-8"><a href="#cb847-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(evap_titles)</span></code></pre></div>
<pre><code>## [1] &quot;Monthly Conterminous U.S. actual evapotranspiration data&quot;
## [2] &quot;Yearly Conterminous U.S. actual evapotranspiration data&quot;</code></pre>
<div class="sourceCode" id="cb849"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb849-1"><a href="#cb849-1" aria-hidden="true" tabindex="-1"></a>all_abstracts <span class="ot">&lt;-</span> <span class="fu">abstract</span>(all_webdata)</span>
<span id="cb849-2"><a href="#cb849-2" aria-hidden="true" tabindex="-1"></a>which_abstracts <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;evapotranspiration&quot;</span>, all_abstracts)</span>
<span id="cb849-3"><a href="#cb849-3" aria-hidden="true" tabindex="-1"></a>evap_abstracts <span class="ot">&lt;-</span> all_abstracts[which_abstracts]</span>
<span id="cb849-4"><a href="#cb849-4" aria-hidden="true" tabindex="-1"></a>evap_abstracts[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Reference evapotranspiration (ET0), like potential evapotranspiration, is a measure of  atmospheric evaporative demand. It was used in the context of this study to evaluate drought  conditions that can lead to wildfire activity in Alaska using the Evaporative Demand Drought  Index (EDDI) and the Standardized Precipitation Evapotranspiration Index (SPEI). The ET0 data are  on a 20km grid with daily temporal resolution and were computed using the meteorological inputs  from the dynamically downscaled ERA-Interim reanalysis and two global climate model projections  (CCSM4 and GFDL-CM3). The model projections are from CMIP5 and use the RCP8.5 scenario. The  dynamically downscaled data are available at https://registry.opendata.aws/wrf-alaska-snap/.  The ET0 was computed following the American Society of Civil Engineers Standardized Reference  Evapotranspiration Equation based on the downscaled daily temperature, humidity and winds. The  full details of the computation of ET0, an evaluation of the underlying data, and the assessment  of the fire indices are described in Ziel et al. (2020; https://doi.org/10.3390/f11050516).&quot;</code></pre>
<p>13 possible datasets to look through is a lot more manageable than 532. Let’s say the dataset titled “Yearly Conterminous U.S. actual evapotranspiration data” interested us enough to explore more. We have now identified a fabric of interest.</p>
<p>We might want to know more about the dataset, such as what variables and time periods are available. To actually create the fabric, you will need to use <code>webdata</code> and supply the appropriate datagroup object as the input. This should result in an object with a class of <code>webdata</code>. The following functions will operate only on an object of class <code>webdata</code>.</p>
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb851-1"><a href="#cb851-1" aria-hidden="true" tabindex="-1"></a>evap_fabric <span class="ot">&lt;-</span> <span class="fu">webdata</span>(all_webdata[<span class="st">&quot;Yearly Conterminous U.S. actual evapotranspiration data&quot;</span>])</span>
<span id="cb851-2"><a href="#cb851-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(evap_fabric)</span></code></pre></div>
<pre><code>## [1] &quot;webdata&quot;
## attr(,&quot;package&quot;)
## [1] &quot;geoknife&quot;</code></pre>
<p>Now that we have a defined fabric, we can explore what variables and time period are within that data. First, we use <code>query</code> to determine what variables exist. You’ll notice that the function <code>variable</code> returns NA. This is fine when you are just exploring available data; however, exploring available times requires that the variable be defined because sometimes individual variables within a dataset can have different time ranges. Thus, we need to set which variable from the dataset will be used. Then, we can explore times that are available in the data. Using <code>query()</code> is helpful when exploring datasets, but is unecessary if you already know what times and variables you’d like to access.</p>
<div class="sourceCode" id="cb853"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb853-1"><a href="#cb853-1" aria-hidden="true" tabindex="-1"></a><span class="co"># no variables defined yet</span></span>
<span id="cb853-2"><a href="#cb853-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span>(evap_fabric)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb855"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb855-1"><a href="#cb855-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find what variables are available</span></span>
<span id="cb855-2"><a href="#cb855-2" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(evap_fabric, <span class="st">&quot;variables&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;et&quot;</code></pre>
<div class="sourceCode" id="cb857"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb857-1"><a href="#cb857-1" aria-hidden="true" tabindex="-1"></a><span class="co"># trying to find available times before setting the variable results in an error</span></span>
<span id="cb857-2"><a href="#cb857-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `query(evap_fabric, &quot;times&quot;)` will fail</span></span>
<span id="cb857-3"><a href="#cb857-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb857-4"><a href="#cb857-4" aria-hidden="true" tabindex="-1"></a><span class="co"># only one variable, &quot;et&quot;</span></span>
<span id="cb857-5"><a href="#cb857-5" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span>(evap_fabric) <span class="ot">&lt;-</span> <span class="st">&quot;et&quot;</span></span>
<span id="cb857-6"><a href="#cb857-6" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span>(evap_fabric)</span></code></pre></div>
<pre><code>## [1] &quot;et&quot;</code></pre>
<div class="sourceCode" id="cb859"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb859-1"><a href="#cb859-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now that the variable is set, we can explore available times</span></span>
<span id="cb859-2"><a href="#cb859-2" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(evap_fabric, <span class="st">&quot;times&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2000-01-01 UTC&quot; &quot;2021-01-01 UTC&quot;</code></pre>
</div>
<div id="datasets-not-in-gdp" class="section level3 hasAnchor" number="8.22.2">
<h3 class="hasAnchor"><span class="header-section-number">8.22.2</span> Datasets not in GDP<a href="#datasets-not-in-gdp" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Any gridded dataset available online that follows OPeNDAP protocol and some additional conventions can be used with <code>geoknife</code>. These datasets can be found through web searches or other catalogs and require finding out the OPeNDAP endpoint (URL) for the dataset. This url is used as the input to the argument <code>url</code> in <code>webdata</code>. Please email the GDP development team (<a href="mailto:gdp@usgs.gov" class="email">gdp@usgs.gov</a>) with questions abvout these specifics.</p>
<p>There are hundreds (or potentially thousands) of additional OPeNDAP datasets that will work with geoknife, but need to be found through web searches or catalogs (e.g., <a href="www.esrl.noaa.gov/psd/thredds/dodsC/Datasets">www.esrl.noaa.gov/psd/thredds/dodsC/Datasets</a> and <a href="http://apdrc.soest.hawaii.edu/data/data.php">apdrc.soest.hawaii.edu/data/data.php</a> ).</p>
<p>We searched NOAA’s OPenDAP data catalog and found data from the <a href="https://opendap.co-ops.nos.noaa.gov/thredds/catalog.html">Center for Operational Oceanographic Products and Services THREDDS server</a>. It includes forecasts for water levels, water currents, water temperatures, and salinity levels for Delaware Bay. Since it is forecasted data, the times associated with the data will change. To create a webdata object from this dataset, just use the OPeNDAP url. Then query variables and time as we did before.</p>
<div class="sourceCode" id="cb861"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb861-1"><a href="#cb861-1" aria-hidden="true" tabindex="-1"></a>DelBay_fabric <span class="ot">&lt;-</span> <span class="fu">webdata</span>(<span class="at">url=</span><span class="st">&quot;https://opendap.co-ops.nos.noaa.gov/thredds/dodsC/DBOFS/fmrc/Aggregated_7_day_DBOFS_Fields_Forecast_best.ncd&quot;</span>)</span>
<span id="cb861-2"><a href="#cb861-2" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(DelBay_fabric, <span class="st">&quot;variables&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;zeta&quot;  &quot;u&quot;     &quot;v&quot;     &quot;w&quot;     &quot;temp&quot;  &quot;Pair&quot;  &quot;Uwind&quot; &quot;Vwind&quot; &quot;h&quot;    
## [10] &quot;f&quot;     &quot;pm&quot;    &quot;pn&quot;    &quot;angle&quot;</code></pre>
<div class="sourceCode" id="cb863"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb863-1"><a href="#cb863-1" aria-hidden="true" tabindex="-1"></a><span class="co"># need to set the variable(s) in order to query the times</span></span>
<span id="cb863-2"><a href="#cb863-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span>(DelBay_fabric) <span class="ot">&lt;-</span> <span class="st">&quot;temp&quot;</span></span>
<span id="cb863-3"><a href="#cb863-3" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(DelBay_fabric, <span class="st">&quot;times&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-10-04 UTC&quot; &quot;2022-10-14 UTC&quot;</code></pre>
<p>The first example we’ve included here uses aggregated data, meaning there is a single URL for all the data of this type on the server. Some data that you encounter might be non-aggregated, meaning there are multiple URLs to access the same data. In these cases, you will need to create more than one geojob and join data at the end.</p>
<p>Here is a second example of using a non-GDP dataset which is not aggregated in times or variables. This data was found under the <a href="https://thredds.ucar.edu/thredds">data section on Unidata’s THREDDS server</a>. This example includes water vapor at 8km resolution at national extent from <a href="https://thredds.ucar.edu/thredds/catalog/satellite/WV/catalog.html">here</a>.</p>
<div class="sourceCode" id="cb865"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb865-1"><a href="#cb865-1" aria-hidden="true" tabindex="-1"></a>wv_fabric <span class="ot">&lt;-</span> <span class="fu">webdata</span>(<span class="at">url=</span><span class="st">&quot;https://thredds.ucar.edu/thredds/dodsC/satellite/WV/SUPER-NATIONAL_8km/current/SUPER-NATIONAL_8km_WV_20200904_1330.gini&quot;</span>)</span>
<span id="cb865-2"><a href="#cb865-2" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(wv_fabric, <span class="st">&quot;variables&quot;</span>)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb867"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb867-1"><a href="#cb867-1" aria-hidden="true" tabindex="-1"></a><span class="co"># need to set the variable(s) in order to query the times</span></span>
<span id="cb867-2"><a href="#cb867-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span>(wv_fabric) <span class="ot">&lt;-</span> <span class="st">&quot;IR_WV&quot;</span></span>
<span id="cb867-3"><a href="#cb867-3" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(wv_fabric, <span class="st">&quot;times&quot;</span>) <span class="co"># Note the times of this dataset include only a single timestep, since the data collection has a file for each time</span></span></code></pre></div>
<pre><code>## POSIXct of length 0</code></pre>
<p>The url used here for <code>webdata()</code> contains the date and the time, so we would need to construct a loop through multiple timesteps in order to assemble a time series from this data source.</p>
</div>
</div>
<div id="available-webgeoms" class="section level2 hasAnchor" number="8.23">
<h2 class="hasAnchor"><span class="header-section-number">8.23</span> Available webgeoms<a href="#available-webgeoms" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we have explored options for our webdata, let’s look at what options exist for geospatial features.</p>
<p>The next component to <code>geoknife</code> jobs is the spatial extent of the data, a.k.a. the stencil. The stencil is defined by using either of the functions <code>simplegeom</code> or <code>webgeom</code>. <code>simplegeom</code> is used to explicitly define an area by the user, but <code>webgeom</code> is used to specify an existing web feature service (WFS) as the geospatial extent. Defining your stencil using <code>simplegeom</code> will be covered in the next lesson. This lesson will just show you how to learn what available webgeoms exist. Users can use any WFS url to create their stencil, but there are a number of features that exist through GDP already. To determine what features exist, you can create a default webgeom object and then query its geom name, attributes, and values. This will return all available GDP default features.</p>
<div class="sourceCode" id="cb869"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb869-1"><a href="#cb869-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setup a default stencil by using webgeom and not supplying any arguments</span></span>
<span id="cb869-2"><a href="#cb869-2" aria-hidden="true" tabindex="-1"></a>default_stencil <span class="ot">&lt;-</span> <span class="fu">webgeom</span>()</span>
<span id="cb869-3"><a href="#cb869-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb869-4"><a href="#cb869-4" aria-hidden="true" tabindex="-1"></a><span class="co"># now determine what geoms are available with the default</span></span>
<span id="cb869-5"><a href="#cb869-5" aria-hidden="true" tabindex="-1"></a>default_geoms <span class="ot">&lt;-</span> <span class="fu">query</span>(default_stencil, <span class="st">&quot;geoms&quot;</span>)</span>
<span id="cb869-6"><a href="#cb869-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(default_geoms)</span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<div class="sourceCode" id="cb871"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb871-1"><a href="#cb871-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(default_geoms)</span></code></pre></div>
<pre><code>## [1] &quot;sample:Alaska&quot;                  &quot;upload:CIDA_TEST_2&quot;            
## [3] &quot;sample:CONUS_Climate_Divisions&quot; &quot;derivative:CONUS_States&quot;       
## [5] &quot;sample:CONUS_states&quot;            &quot;sample:CSC_Boundaries&quot;</code></pre>
<p>You will notice a pattern with the names of the geoms: a category followed by <code>:</code>, and then a specific name. These category-name combinations are the strings you would use to define your geom. Additionally, <code>webgeom</code> can accept a URL that points directly to a WFS. The categories you should be familiar with are <code>sample</code> and <code>upload</code>. <code>sample</code> geoms are any that are available through <code>geoknife</code> by default. <code>upload</code> geoms are custom shapefiles that someone uploaded through GDP. If you would like to upload a specific shapefile to GDP, go to the <a href="https://cida.usgs.gov/gdp/client/#!advanced/spatial">advanced spatial section in GDP</a>. <strong>Be aware that uploaded shapefiles are wiped from the server at regular intervals (could be as often as weekly)</strong>. To use your own shapefile: upload it as a zip shapefile, execute your job and then save the output; re-upload your shapefile the next time you need it on GDP if it has expired.</p>
<p>Similar to fabrics where you could not query times without setting the variables, you cannot query attributes of stencils before defining the geoms. Likewise, you cannot query for values of a stencil until you have set the attributes. Attributes give the metadata associated with the stencil and it’s geom. Values tell you the individual spatial features available in that attribute of the geom.</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb873-1"><a href="#cb873-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add a geom to see what values are available</span></span>
<span id="cb873-2"><a href="#cb873-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom</span>(default_stencil)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb875-1"><a href="#cb875-1" aria-hidden="true" tabindex="-1"></a><span class="fu">geom</span>(default_stencil) <span class="ot">&lt;-</span> <span class="st">&quot;sample:CONUS_states&quot;</span></span>
<span id="cb875-2"><a href="#cb875-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb875-3"><a href="#cb875-3" aria-hidden="true" tabindex="-1"></a><span class="co"># now that geom is set, you can query for available attributes</span></span>
<span id="cb875-4"><a href="#cb875-4" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(default_stencil, <span class="st">&quot;attributes&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;STATE&quot; &quot;FIPS&quot;</code></pre>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb877-1"><a href="#cb877-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attribute</span>(default_stencil) <span class="ot">&lt;-</span> <span class="st">&quot;STATE&quot;</span></span>
<span id="cb877-2"><a href="#cb877-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb877-3"><a href="#cb877-3" aria-hidden="true" tabindex="-1"></a><span class="co"># now that attribute is set, you can query for available values</span></span>
<span id="cb877-4"><a href="#cb877-4" aria-hidden="true" tabindex="-1"></a>STATE_values <span class="ot">&lt;-</span> <span class="fu">query</span>(default_stencil, <span class="st">&quot;values&quot;</span>)</span>
<span id="cb877-5"><a href="#cb877-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(STATE_values)</span></code></pre></div>
<pre><code>## [1] &quot;Alabama&quot;     &quot;Arizona&quot;     &quot;Arkansas&quot;    &quot;California&quot;  &quot;Colorado&quot;   
## [6] &quot;Connecticut&quot;</code></pre>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="#cb879-1" aria-hidden="true" tabindex="-1"></a><span class="co"># switch the stencil to see the differences</span></span>
<span id="cb879-2"><a href="#cb879-2" aria-hidden="true" tabindex="-1"></a>ecoreg_stencil <span class="ot">&lt;-</span> default_stencil</span>
<span id="cb879-3"><a href="#cb879-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom</span>(ecoreg_stencil) <span class="ot">&lt;-</span> <span class="st">&quot;sample:Ecoregions_Level_III&quot;</span></span>
<span id="cb879-4"><a href="#cb879-4" aria-hidden="true" tabindex="-1"></a><span class="fu">query</span>(ecoreg_stencil, <span class="st">&quot;attributes&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;LEVEL3_NAM&quot;</code></pre>
<div class="sourceCode" id="cb881"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb881-1"><a href="#cb881-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attribute</span>(ecoreg_stencil) <span class="ot">&lt;-</span> <span class="st">&quot;LEVEL3_NAM&quot;</span></span>
<span id="cb881-2"><a href="#cb881-2" aria-hidden="true" tabindex="-1"></a>ecoreg_values <span class="ot">&lt;-</span> <span class="fu">query</span>(ecoreg_stencil, <span class="st">&quot;values&quot;</span>)</span>
<span id="cb881-3"><a href="#cb881-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ecoreg_values)</span></code></pre></div>
<pre><code>## [1] &quot;Ahklun And Kilbuck Mountains&quot; &quot;Alaska Peninsula Mountains&quot;  
## [3] &quot;Alaska Range&quot;                 &quot;Aleutian Islands&quot;            
## [5] &quot;Arctic Coastal Plain&quot;         &quot;Arctic Foothills&quot;</code></pre>
<div class="sourceCode" id="cb883"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb883-1"><a href="#cb883-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now set the values to the Driftless Area and Blue Ridge ecoregions</span></span>
<span id="cb883-2"><a href="#cb883-2" aria-hidden="true" tabindex="-1"></a><span class="fu">values</span>(ecoreg_stencil) <span class="ot">&lt;-</span> ecoreg_values[<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">33</span>)]</span>
<span id="cb883-3"><a href="#cb883-3" aria-hidden="true" tabindex="-1"></a><span class="fu">values</span>(ecoreg_stencil)</span></code></pre></div>
<pre><code>## [1] &quot;Blue Ridge&quot;     &quot;Driftless Area&quot;</code></pre>
<p>There are some built-in templates that allow stencils to be defined more specifically. Currently, the package only supports US States, Level III Ecoregions, or HUC8s. Below are shortcuts to setting the geom, attribute, and values.</p>
<div class="sourceCode" id="cb885"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb885-1"><a href="#cb885-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating geoms from the available templates</span></span>
<span id="cb885-2"><a href="#cb885-2" aria-hidden="true" tabindex="-1"></a><span class="fu">webgeom</span>(<span class="st">&#39;state::Wisconsin&#39;</span>)</span></code></pre></div>
<pre><code>## An object of class &quot;webgeom&quot;:
## url: https://labs.waterdata.usgs.gov/gdp_web/geoserver/wfs 
## geom: sample:CONUS_states 
## attribute: STATE 
## values: Wisconsin 
## wfs version: 1.1.0</code></pre>
<div class="sourceCode" id="cb887"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb887-1"><a href="#cb887-1" aria-hidden="true" tabindex="-1"></a><span class="fu">webgeom</span>(<span class="st">&#39;state::Wisconsin,Maine&#39;</span>) <span class="co"># multiple states separated by comma</span></span></code></pre></div>
<pre><code>## An object of class &quot;webgeom&quot;:
## url: https://labs.waterdata.usgs.gov/gdp_web/geoserver/wfs 
## geom: sample:CONUS_states 
## attribute: STATE 
## values: Wisconsin, Maine 
## wfs version: 1.1.0</code></pre>
<div class="sourceCode" id="cb889"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb889-1"><a href="#cb889-1" aria-hidden="true" tabindex="-1"></a><span class="fu">webgeom</span>(<span class="st">&#39;HUC8::09020306,14060009&#39;</span>) <span class="co"># multiple HUCs separated by comma</span></span></code></pre></div>
<pre><code>## An object of class &quot;webgeom&quot;:
## url: https://labs.waterdata.usgs.gov/gdp_web/geoserver/wfs 
## geom: sample:simplified_huc8 
## attribute: HUC_8 
## values: 09020306, 14060009 
## wfs version: 1.1.0</code></pre>
<div class="sourceCode" id="cb891"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb891-1"><a href="#cb891-1" aria-hidden="true" tabindex="-1"></a><span class="fu">webgeom</span>(<span class="st">&#39;ecoregion::Colorado Plateaus,Driftless Area&#39;</span>) <span class="co"># multiple ecoregions separated by comma</span></span></code></pre></div>
<pre><code>## An object of class &quot;webgeom&quot;:
## url: https://labs.waterdata.usgs.gov/gdp_web/geoserver/wfs 
## geom: sample:Ecoregions_Level_III 
## attribute: LEVEL3_NAM 
## values: Colorado Plateaus, Driftless Area 
## wfs version: 1.1.0</code></pre>
</div>
<div id="available-webprocesses" class="section level2 hasAnchor" number="8.24">
<h2 class="hasAnchor"><span class="header-section-number">8.24</span> Available webprocesses<a href="#available-webprocesses" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The final component to a geojob is the process algorithm used to aggregate the data across the defined stencil. Web process algorithms can be defined by the user, but let’s explore the defaults available through GDP.</p>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb893-1"><a href="#cb893-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setup a default knife by using webprocess and not supplying any arguments</span></span>
<span id="cb893-2"><a href="#cb893-2" aria-hidden="true" tabindex="-1"></a>default_knife <span class="ot">&lt;-</span> <span class="fu">webprocess</span>()</span>
<span id="cb893-3"><a href="#cb893-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb893-4"><a href="#cb893-4" aria-hidden="true" tabindex="-1"></a><span class="co"># now determine what web processing algorithms are available with the default</span></span>
<span id="cb893-5"><a href="#cb893-5" aria-hidden="true" tabindex="-1"></a>default_algorithms <span class="ot">&lt;-</span> <span class="fu">query</span>(default_knife, <span class="st">&#39;algorithms&#39;</span>)</span>
<span id="cb893-6"><a href="#cb893-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(default_algorithms)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb895-1"><a href="#cb895-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(default_algorithms)</span></code></pre></div>
<pre><code>## $`Timeseries Service Subset`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureTimeSeriesAlgorithm&quot;
## 
## $`Categorical Coverage Fraction`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureCategoricalGridCoverageAlgorithm&quot;
## 
## $`OPeNDAP Subset`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureCoverageOPeNDAPIntersectionAlgorithm&quot;
## 
## $`Area Grid Statistics (unweighted)`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureGridStatisticsAlgorithm&quot;
## 
## $`Area Grid Statistics (weighted)`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm&quot;
## 
## $`WCS Subset`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureCoverageIntersectionAlgorithm&quot;</code></pre>
<p>From this list, you can define which algorithm you would like the webprocess component to use. Definitions of each of the default algorithms can be found in the Geo Data Portal Algorithm Summaries section of the <a href="https://cida.usgs.gov/gdp/client/#!advanced/process">GDP process documentation</a>. For example, we want to use the OPeNDAP subsetting algorithm, “OPeNDAP Subset”, which downloads a spatiotemporal chunk of data without any spatial processing.</p>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb897-1"><a href="#cb897-1" aria-hidden="true" tabindex="-1"></a><span class="co"># algorithm actually has a default of the weighted average</span></span>
<span id="cb897-2"><a href="#cb897-2" aria-hidden="true" tabindex="-1"></a><span class="fu">algorithm</span>(default_knife)</span></code></pre></div>
<pre><code>## $`Area Grid Statistics (weighted)`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm&quot;</code></pre>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb899-1"><a href="#cb899-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the algorithm to OPeNDAP&#39;s subset</span></span>
<span id="cb899-2"><a href="#cb899-2" aria-hidden="true" tabindex="-1"></a><span class="fu">algorithm</span>(default_knife) <span class="ot">&lt;-</span> default_algorithms[<span class="st">&#39;OPeNDAP Subset&#39;</span>]</span>
<span id="cb899-3"><a href="#cb899-3" aria-hidden="true" tabindex="-1"></a><span class="fu">algorithm</span>(default_knife)</span></code></pre></div>
<pre><code>## $`OPeNDAP Subset`
## [1] &quot;gov.usgs.cida.gdp.wps.algorithm.FeatureCoverageOPeNDAPIntersectionAlgorithm&quot;</code></pre>
<p>Now that we can explore all of our options, we will learn how to construct each component and execute a geojob in the next lesson.</p>
</div>
<div id="setting-up-a-geojob" class="section level2 hasAnchor" number="8.25">
<h2 class="hasAnchor"><span class="header-section-number">8.25</span> Setting up a geojob<a href="#setting-up-a-geojob" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A <code>geojob</code> is the object that contains all of the necessary processing information to execute a data request to GDP. The <code>geojob</code> is made up of the <code>stencil</code>, <code>fabric</code>, and <code>knife</code>.</p>
<p>To create a <code>geojob</code>, use the function <code>geoknife</code> and give the three components as arguments. <code>stencil</code> and <code>fabric</code> must be indicated, but <code>knife</code> has a default. Any additional arguments are specifications for the webprocessing step. See <code>?'webprocess-class'</code> for options. This portion of the lesson will not discuss all of the options.</p>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb901-1"><a href="#cb901-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the geoknife package</span></span>
<span id="cb901-2"><a href="#cb901-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geoknife)</span></code></pre></div>
<p>Let’s setup a <code>geojob</code> to find the unweighted annual evapotranspiration rates for the state of Indiana using the annual evapotranspiration data we saw in the previous section. Since we have seen the URL and know the available variables and times, we can set all of that directly in the <code>webdata</code> function. Note: the times field must be a vector of start then end date, and be class <code>POSIXct</code> or character.</p>
<div class="sourceCode" id="cb902"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb902-1"><a href="#cb902-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create fabric</span></span>
<span id="cb902-2"><a href="#cb902-2" aria-hidden="true" tabindex="-1"></a>evap_fabric <span class="ot">&lt;-</span> <span class="fu">webdata</span>(<span class="at">times =</span> <span class="fu">c</span>(<span class="st">&quot;2005-01-01&quot;</span>, <span class="st">&quot;2015-01-01&quot;</span>),</span>
<span id="cb902-3"><a href="#cb902-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">variables =</span> <span class="st">&quot;et&quot;</span>,</span>
<span id="cb902-4"><a href="#cb902-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">url =</span> <span class="st">&#39;https://cida.usgs.gov/thredds/dodsC/ssebopeta/yearly&#39;</span>)</span>
<span id="cb902-5"><a href="#cb902-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-6"><a href="#cb902-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create stencil</span></span>
<span id="cb902-7"><a href="#cb902-7" aria-hidden="true" tabindex="-1"></a>evap_stencil <span class="ot">&lt;-</span> <span class="fu">webgeom</span>(<span class="st">&#39;state::Indiana&#39;</span>)</span>
<span id="cb902-8"><a href="#cb902-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-9"><a href="#cb902-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create knife (which defaults to weighted)</span></span>
<span id="cb902-10"><a href="#cb902-10" aria-hidden="true" tabindex="-1"></a>evap_knife <span class="ot">&lt;-</span> <span class="fu">webprocess</span>()</span>
<span id="cb902-11"><a href="#cb902-11" aria-hidden="true" tabindex="-1"></a><span class="co"># find unweighted algorithm</span></span>
<span id="cb902-12"><a href="#cb902-12" aria-hidden="true" tabindex="-1"></a>all_algorithms <span class="ot">&lt;-</span> <span class="fu">query</span>(evap_knife, <span class="st">&#39;algorithms&#39;</span>)</span>
<span id="cb902-13"><a href="#cb902-13" aria-hidden="true" tabindex="-1"></a>unw_algorithm <span class="ot">&lt;-</span> all_algorithms[<span class="fu">grep</span>(<span class="st">&#39;unweighted&#39;</span>, <span class="fu">names</span>(all_algorithms))]</span>
<span id="cb902-14"><a href="#cb902-14" aria-hidden="true" tabindex="-1"></a><span class="co"># set knife algorithm to unweighted</span></span>
<span id="cb902-15"><a href="#cb902-15" aria-hidden="true" tabindex="-1"></a><span class="fu">algorithm</span>(evap_knife) <span class="ot">&lt;-</span> unw_algorithm</span>
<span id="cb902-16"><a href="#cb902-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-17"><a href="#cb902-17" aria-hidden="true" tabindex="-1"></a><span class="co"># create the geojob</span></span>
<span id="cb902-18"><a href="#cb902-18" aria-hidden="true" tabindex="-1"></a>evap_geojob <span class="ot">&lt;-</span> <span class="fu">geoknife</span>(evap_stencil, evap_fabric, evap_knife)</span></code></pre></div>
<pre><code>## Process Accepted</code></pre>
</div>
<div id="checking-the-geojob-status" class="section level2 hasAnchor" number="8.26">
<h2 class="hasAnchor"><span class="header-section-number">8.26</span> Checking the geojob status<a href="#checking-the-geojob-status" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The geojob has been created and started on the server. Now, you can check to see if the processing is complete by using <code>check</code>.</p>
<div class="sourceCode" id="cb904"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb904-1"><a href="#cb904-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check</span>(evap_geojob)</span></code></pre></div>
<pre><code>## $status
## [1] &quot;Process successful&quot;
## 
## $URL
## [1] &quot;https://labs.waterdata.usgs.gov:443/gdp-process-wps/RetrieveResultServlet?id=ab2aaf27-1755-4829-a69d-1564a1e12626OUTPUT&quot;
## 
## $statusType
## [1] &quot;ProcessSucceeded&quot;
## 
## $percentComplete
## [1] &quot;100&quot;</code></pre>
<p>Other helpful functions to get status information about the job are <code>running</code> (returns <code>TRUE</code>/<code>FALSE</code> to say if the job is still processing), <code>error</code> (returns <code>TRUE</code>/<code>FALSE</code> to say if there was an error during the processing), and <code>successful</code> (returns <code>TRUE</code>/<code>FALSE</code> indicating whether the job process was able to complete without any issues). Only one of these can return <code>TRUE</code> at a time.</p>
<div class="sourceCode" id="cb906"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb906-1"><a href="#cb906-1" aria-hidden="true" tabindex="-1"></a><span class="fu">running</span>(evap_geojob)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb908"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb908-1"><a href="#cb908-1" aria-hidden="true" tabindex="-1"></a><span class="fu">error</span>(evap_geojob)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb910-1"><a href="#cb910-1" aria-hidden="true" tabindex="-1"></a><span class="fu">successful</span>(evap_geojob)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>The results of all the status checks say that our job was successful. These status checks are useful if you put a geojob in a script and want to fail gracefully when there is an error in the job.</p>
</div>
<div id="getting-geojob-data" class="section level2 hasAnchor" number="8.27">
<h2 class="hasAnchor"><span class="header-section-number">8.27</span> Getting geojob data<a href="#getting-geojob-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Since this job has finished processing and was successful, you can now get the data. You’ll notice that <code>evap_geojob</code> does not actually contain any data. It only contains information about the job that you submitted. To get the data, you need to use <code>result</code> or <code>download</code>. The feature summary algorithms will return simple tabular data, so you can use <code>result</code> to automatically take the output and parse it into an R <code>data.frame</code>. We used a feature summary algorithm in the evapotranspiration example, which returned tabular data. So, let’s use <code>result</code> to get the <code>geojob</code> output.</p>
<div class="sourceCode" id="cb912"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb912-1"><a href="#cb912-1" aria-hidden="true" tabindex="-1"></a>evap_data <span class="ot">&lt;-</span> <span class="fu">result</span>(evap_geojob)</span>
<span id="cb912-2"><a href="#cb912-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(evap_data)</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb914-1"><a href="#cb914-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(evap_data)</span></code></pre></div>
<pre><code>##     DateTime  Indiana variable statistic
## 1 2005-01-01 603.7376       et      MEAN
## 2 2006-01-01 688.1866       et      MEAN
## 3 2007-01-01 576.3254       et      MEAN
## 4 2008-01-01 691.2009       et      MEAN
## 5 2009-01-01 689.2706       et      MEAN
## 6 2010-01-01 630.4045       et      MEAN</code></pre>
<p>There are additional algorithms that return subsets of the raw data as netcdf or geotiff formats. These formats will require you to handle the output manually using <code>download</code>. Use this function to download the output to a file and then read it using your preferred data parsing method. <code>download</code> can also be used for tabular data if you have a parsing method that differs from what is used in <code>result</code>. See <code>?download</code> for more information.</p>
</div>
<div id="wait-and-email" class="section level2 hasAnchor" number="8.28">
<h2 class="hasAnchor"><span class="header-section-number">8.28</span> <code>wait</code> and <code>email</code><a href="#wait-and-email" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This was not a computationally or spatially intensive request, so the job finished almost immediately. However, if we had setup a more complex job, it could still be running. Even though the processing of these large gridded datasets uses resources on a remote server, your workflow needs to account for processing time before using the results. There are a few scenarios to consider:</p>
<ol style="list-style-type: decimal">
<li>You are manually executing a job and manually checking it.</li>
<li>You are running a script that kicks off a <code>geoknife</code> process followed by lines of code that use the returned data.</li>
<li>You are running a long <code>geoknife</code> process and want to be able to close R/RStudio and come back to a completed job later.</li>
</ol>
<p>For the first scenario, the workflow from above was fine. If you are manually checking that the job has completed before trying to extract results, then nothing should fail.</p>
<p>For the second scenario, your code will fail because it will continue to execute the code line by line after starting the job. So, your code will fail at the code that gets the data (<code>result</code>/<code>download</code>) since the job is still running. You can prevent scripts from continuing until the job is complete by using the function <code>wait</code>. This function makes a call to GDP at specified intervals to see if the job is complete, and allows the code to continue once the job is complete. This function has two arguments: the <code>geojob</code> object and <code>sleep.time</code>. <code>sleep.time</code> defines the interval at which to check the status of the job in seconds (the default for <code>sleep.time</code> is 5 seconds). Please try to adjust <code>sleep.time</code> to limit the number of calls to GDP, e.g. if you know the job will take about an hour, set <code>sleep.time=120</code> (2 min) because every 5 seconds would be excessive.</p>
<div class="sourceCode" id="cb916"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb916-1"><a href="#cb916-1" aria-hidden="true" tabindex="-1"></a><span class="co"># typical wait workflow</span></span>
<span id="cb916-2"><a href="#cb916-2" aria-hidden="true" tabindex="-1"></a>evap_geojob <span class="ot">&lt;-</span> <span class="fu">geoknife</span>(evap_stencil, evap_fabric, evap_knife)</span>
<span id="cb916-3"><a href="#cb916-3" aria-hidden="true" tabindex="-1"></a><span class="fu">wait</span>(evap_geojob, <span class="at">sleep.time =</span> <span class="dv">20</span>)</span>
<span id="cb916-4"><a href="#cb916-4" aria-hidden="true" tabindex="-1"></a>evap_data <span class="ot">&lt;-</span> <span class="fu">result</span>(evap_geojob)</span></code></pre></div>
<p>If you know ahead of time that your process will be long, you can tell the job to wait when defining your knife (the default is to not wait). <code>sleep.time</code> can be specified as an argument to <code>webprocess</code>. The following is functionally the same as the use of <code>wait()</code> from above.</p>
<div class="sourceCode" id="cb917"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb917-1"><a href="#cb917-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create knife with the args wait and sleep.time</span></span>
<span id="cb917-2"><a href="#cb917-2" aria-hidden="true" tabindex="-1"></a>evap_knife <span class="ot">&lt;-</span> <span class="fu">webprocess</span>(<span class="at">wait=</span><span class="cn">TRUE</span>, <span class="at">sleep.time=</span><span class="dv">20</span>)</span>
<span id="cb917-3"><a href="#cb917-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb917-4"><a href="#cb917-4" aria-hidden="true" tabindex="-1"></a><span class="co"># follow the same code from before to get the unweighted algorithm</span></span>
<span id="cb917-5"><a href="#cb917-5" aria-hidden="true" tabindex="-1"></a>all_algorithms <span class="ot">&lt;-</span> <span class="fu">query</span>(evap_knife, <span class="st">&#39;algorithms&#39;</span>)</span>
<span id="cb917-6"><a href="#cb917-6" aria-hidden="true" tabindex="-1"></a>unw_algorithm <span class="ot">&lt;-</span> all_algorithms[<span class="fu">grep</span>(<span class="st">&#39;unweighted&#39;</span>, <span class="fu">names</span>(all_algorithms))]</span>
<span id="cb917-7"><a href="#cb917-7" aria-hidden="true" tabindex="-1"></a><span class="fu">algorithm</span>(evap_knife) <span class="ot">&lt;-</span> unw_algorithm</span>
<span id="cb917-8"><a href="#cb917-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb917-9"><a href="#cb917-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create geojob using knife w/ wait</span></span>
<span id="cb917-10"><a href="#cb917-10" aria-hidden="true" tabindex="-1"></a>evap_geojob <span class="ot">&lt;-</span> <span class="fu">geoknife</span>(evap_stencil, evap_fabric, evap_knife)</span>
<span id="cb917-11"><a href="#cb917-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb917-12"><a href="#cb917-12" aria-hidden="true" tabindex="-1"></a><span class="co"># get result</span></span>
<span id="cb917-13"><a href="#cb917-13" aria-hidden="true" tabindex="-1"></a>evap_data <span class="ot">&lt;-</span> <span class="fu">result</span>(evap_geojob)</span></code></pre></div>
<p>As for the third scenario, if you have a job that will take a long time and plan to close R in the interim, you can specify the argument <code>email</code> when creating the knife. Then when you use your new knife in the <code>geoknife</code> call, it will send an email with appropriate information upon job completion (you will see <code>gdp_data@usgs.gov</code> as the sender).</p>
<div class="sourceCode" id="cb918"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb918-1"><a href="#cb918-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example of how to specify an email address to get a job completion alert</span></span>
<span id="cb918-2"><a href="#cb918-2" aria-hidden="true" tabindex="-1"></a>knife_willemail <span class="ot">&lt;-</span> <span class="fu">webprocess</span>(<span class="at">email=</span><span class="st">&#39;fake.email@gmail.com&#39;</span>)</span>
<span id="cb918-3"><a href="#cb918-3" aria-hidden="true" tabindex="-1"></a>knife_willemail</span></code></pre></div>
<pre><code>## An object of class &quot;webprocess&quot;:
## url: https://labs.waterdata.usgs.gov/gdp-process-wps/WebProcessingService 
## algorithm: Area Grid Statistics (weighted) 
## web processing service version: 1.0.0 
## process inputs: 
##    SUMMARIZE_TIMESTEP: false
##    SUMMARIZE_FEATURE_ATTRIBUTE: false
##    DELIMITER: COMMA
##    REQUIRE_FULL_COVERAGE: true
##    STATISTICS: 
##    GROUP_BY: 
## wait: FALSE 
## email: fake.email@gmail.com</code></pre>
<p>The email alert will contain the completed job URL. Since this process requires you to leave R and get information from an email, it is often only recommended if you don’t plan to do further analysis in R, or you use <code>saveRDS</code> to save the <code>geojob</code> object so you can load it in a later session. Otherwise, we recommend using the <code>wait()</code> function in a script. Use the URL as a string in this workflow to get your results:</p>
<div class="sourceCode" id="cb920"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb920-1"><a href="#cb920-1" aria-hidden="true" tabindex="-1"></a>geojob <span class="ot">&lt;-</span> <span class="fu">geojob</span>(<span class="st">&quot;my url as a string&quot;</span>)</span>
<span id="cb920-2"><a href="#cb920-2" aria-hidden="true" tabindex="-1"></a><span class="fu">check</span>(geojob)</span>
<span id="cb920-3"><a href="#cb920-3" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">result</span>(geojob)</span></code></pre></div>
</div>
<div id="putting-it-all-together-mapping-precipitation-from-tropical-storm-colin" class="section level2 hasAnchor" number="8.29">
<h2 class="hasAnchor"><span class="header-section-number">8.29</span> Putting it all together, mapping precipitation from Tropical Storm Colin<a href="#putting-it-all-together-mapping-precipitation-from-tropical-storm-colin" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following example is slightly modified from the blog post <a href="https://waterdata.usgs.gov/blog/ts-colin-precip/">here</a> and shows a workflow for accessing rainfall data for the time period covering Tropical Storm Colin and visualizing the total rainfall per county during the time range.</p>
<p>Define a function to retrieve precip data using geoknife</p>
<div class="sourceCode" id="cb921"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb921-1"><a href="#cb921-1" aria-hidden="true" tabindex="-1"></a>getPrecip <span class="ot">&lt;-</span> <span class="cf">function</span>(states, startDate, endDate){</span>
<span id="cb921-2"><a href="#cb921-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb921-3"><a href="#cb921-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># use fips data from maps package</span></span>
<span id="cb921-4"><a href="#cb921-4" aria-hidden="true" tabindex="-1"></a>    counties_fips <span class="ot">&lt;-</span> maps<span class="sc">::</span>county.fips <span class="sc">%&gt;%</span> </span>
<span id="cb921-5"><a href="#cb921-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">statecounty=</span><span class="fu">as.character</span>(polyname)) <span class="sc">%&gt;%</span> <span class="co"># character to split into state &amp; county</span></span>
<span id="cb921-6"><a href="#cb921-6" aria-hidden="true" tabindex="-1"></a>        tidyr<span class="sc">::</span><span class="fu">separate</span>(polyname, <span class="fu">c</span>(<span class="st">&#39;statename&#39;</span>, <span class="st">&#39;county&#39;</span>), <span class="st">&#39;,&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb921-7"><a href="#cb921-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">fips =</span> <span class="fu">sprintf</span>(<span class="st">&#39;%05d&#39;</span>, fips)) <span class="sc">%&gt;%</span> <span class="co"># fips need 5 digits to join w/ geoknife result</span></span>
<span id="cb921-8"><a href="#cb921-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">filter</span>(statename <span class="sc">%in%</span> states) </span>
<span id="cb921-9"><a href="#cb921-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb921-10"><a href="#cb921-10" aria-hidden="true" tabindex="-1"></a>    stencil <span class="ot">&lt;-</span> <span class="fu">webgeom</span>(<span class="at">geom =</span> <span class="st">&#39;sample:Counties&#39;</span>,</span>
<span id="cb921-11"><a href="#cb921-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">attribute =</span> <span class="st">&#39;FIPS&#39;</span>,</span>
<span id="cb921-12"><a href="#cb921-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">values =</span> counties_fips<span class="sc">$</span>fips)</span>
<span id="cb921-13"><a href="#cb921-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb921-14"><a href="#cb921-14" aria-hidden="true" tabindex="-1"></a>    fabric <span class="ot">&lt;-</span> <span class="fu">webdata</span>(<span class="at">url =</span> <span class="st">&#39;https://cida.usgs.gov/thredds/dodsC/UofIMETDATA&#39;</span>, </span>
<span id="cb921-15"><a href="#cb921-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">variables =</span> <span class="st">&quot;precipitation_amount&quot;</span>, </span>
<span id="cb921-16"><a href="#cb921-16" aria-hidden="true" tabindex="-1"></a>                      <span class="at">times =</span> <span class="fu">c</span>(startDate, endDate))</span>
<span id="cb921-17"><a href="#cb921-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb921-18"><a href="#cb921-18" aria-hidden="true" tabindex="-1"></a>    job <span class="ot">&lt;-</span> <span class="fu">geoknife</span>(stencil, fabric, <span class="at">wait =</span> <span class="cn">TRUE</span>, <span class="at">REQUIRE_FULL_COVERAGE=</span><span class="cn">FALSE</span>)</span>
<span id="cb921-19"><a href="#cb921-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">check</span>(job)</span>
<span id="cb921-20"><a href="#cb921-20" aria-hidden="true" tabindex="-1"></a>    precipData_result <span class="ot">&lt;-</span> <span class="fu">result</span>(job, <span class="at">with.units=</span><span class="cn">TRUE</span>)</span>
<span id="cb921-21"><a href="#cb921-21" aria-hidden="true" tabindex="-1"></a>    precipData <span class="ot">&lt;-</span> precipData_result <span class="sc">%&gt;%</span> </span>
<span id="cb921-22"><a href="#cb921-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span>variable, <span class="sc">-</span>statistic, <span class="sc">-</span>units) <span class="sc">%&gt;%</span> </span>
<span id="cb921-23"><a href="#cb921-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">gather</span>(<span class="at">key =</span> fips, <span class="at">value =</span> precipVal, <span class="sc">-</span>DateTime) <span class="sc">%&gt;%</span></span>
<span id="cb921-24"><a href="#cb921-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">left_join</span>(counties_fips, <span class="at">by=</span><span class="st">&quot;fips&quot;</span>) <span class="co">#join w/ counties data</span></span>
<span id="cb921-25"><a href="#cb921-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb921-26"><a href="#cb921-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(precipData)</span>
<span id="cb921-27"><a href="#cb921-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb921-28"><a href="#cb921-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb921-29"><a href="#cb921-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to map cumulative precipitation data using R package maps:</span></span>
<span id="cb921-30"><a href="#cb921-30" aria-hidden="true" tabindex="-1"></a>precipMap <span class="ot">&lt;-</span> <span class="cf">function</span>(precipData, startDate, endDate){</span>
<span id="cb921-31"><a href="#cb921-31" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">9</span>,<span class="st">&#39;Blues&#39;</span>))(<span class="dv">9</span>)</span>
<span id="cb921-32"><a href="#cb921-32" aria-hidden="true" tabindex="-1"></a>  precip_breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">80</span>,<span class="at">by =</span> <span class="dv">10</span>), <span class="dv">200</span>)</span>
<span id="cb921-33"><a href="#cb921-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb921-34"><a href="#cb921-34" aria-hidden="true" tabindex="-1"></a>  precipData_cols <span class="ot">&lt;-</span> precipData <span class="sc">%&gt;%</span> </span>
<span id="cb921-35"><a href="#cb921-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(statename, statecounty) <span class="sc">%&gt;%</span> </span>
<span id="cb921-36"><a href="#cb921-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">cumprecip =</span> <span class="fu">sum</span>(precipVal)) <span class="sc">%&gt;%</span> </span>
<span id="cb921-37"><a href="#cb921-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">cols =</span> <span class="fu">cut</span>(cumprecip, <span class="at">breaks =</span> precip_breaks, <span class="at">labels =</span> cols, <span class="at">right=</span><span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb921-38"><a href="#cb921-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">cols =</span> <span class="fu">as.character</span>(cols))</span>
<span id="cb921-39"><a href="#cb921-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb921-40"><a href="#cb921-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>))</span>
<span id="cb921-41"><a href="#cb921-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb921-42"><a href="#cb921-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="st">&#39;county&#39;</span>, <span class="at">regions =</span> precipData_cols<span class="sc">$</span>statecounty, </span>
<span id="cb921-43"><a href="#cb921-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> precipData_cols<span class="sc">$</span>cols, <span class="at">exact=</span><span class="cn">TRUE</span>)</span>
<span id="cb921-44"><a href="#cb921-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb921-45"><a href="#cb921-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">legend</span>(<span class="at">x =</span> <span class="st">&quot;bottomright&quot;</span>, <span class="at">fill =</span> cols, <span class="at">cex =</span> <span class="fl">0.7</span>, <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>, </span>
<span id="cb921-46"><a href="#cb921-46" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="st">&quot;Cumulative</span><span class="sc">\n</span><span class="st">Precipitation (mm)&quot;</span>,</span>
<span id="cb921-47"><a href="#cb921-47" aria-hidden="true" tabindex="-1"></a>         <span class="at">legend =</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="st">&#39;&lt;&#39;</span>, precip_breaks[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fu">length</span>(precip_breaks))]), </span>
<span id="cb921-48"><a href="#cb921-48" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">paste</span>(<span class="st">&#39;&gt;&#39;</span>, <span class="fu">tail</span>(precip_breaks,<span class="dv">2</span>)[<span class="dv">1</span>]))) <span class="co"># greater</span></span>
<span id="cb921-49"><a href="#cb921-49" aria-hidden="true" tabindex="-1"></a>  graphics<span class="sc">::</span><span class="fu">title</span>(<span class="st">&quot;Cumulative Precipitation from Tropical Storm Colin&quot;</span>,</span>
<span id="cb921-50"><a href="#cb921-50" aria-hidden="true" tabindex="-1"></a>                  <span class="at">line =</span> <span class="dv">2</span>, <span class="at">cex.main=</span><span class="fl">1.2</span>)  <span class="co">#title was being masked by geoknife</span></span>
<span id="cb921-51"><a href="#cb921-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mtext</span>(<span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="dv">1</span>, <span class="at">cex =</span> <span class="fl">0.9</span>, </span>
<span id="cb921-52"><a href="#cb921-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">text=</span> <span class="fu">paste</span>(<span class="st">&quot;By county from&quot;</span>, startDate, <span class="st">&quot;to&quot;</span>, endDate))</span>
<span id="cb921-53"><a href="#cb921-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb921-54"><a href="#cb921-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb921-55"><a href="#cb921-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, we can use those functions to fetch data for specific counties and time periods.</span></span>
<span id="cb921-56"><a href="#cb921-56" aria-hidden="true" tabindex="-1"></a><span class="co"># TS Colin made landfall on June 6th and moved into open ocean on June 7th. Use these dates as the start and end times in our </span></span>
<span id="cb921-57"><a href="#cb921-57" aria-hidden="true" tabindex="-1"></a><span class="co"># function (need to account for timezone, +5 UTC). We can visualize the path of the storm by mapping cumulative precipitation for each county.</span></span>
<span id="cb921-58"><a href="#cb921-58" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb921-59"><a href="#cb921-59" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb921-60"><a href="#cb921-60" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geoknife) <span class="co">#order matters because &#39;query&#39; is masked by a function in dplyr</span></span>
<span id="cb921-61"><a href="#cb921-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb921-62"><a href="#cb921-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb921-63"><a href="#cb921-63" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb921-64"><a href="#cb921-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb921-65"><a href="#cb921-65" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">&quot;select&quot;</span>, <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb921-66"><a href="#cb921-66" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">&quot;filter&quot;</span>, <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb921-67"><a href="#cb921-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb921-68"><a href="#cb921-68" aria-hidden="true" tabindex="-1"></a>statesTSColin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;florida&#39;</span>, <span class="st">&#39;alabama&#39;</span>, <span class="st">&#39;georgia&#39;</span>, </span>
<span id="cb921-69"><a href="#cb921-69" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&#39;south carolina&#39;</span>, <span class="st">&#39;north carolina&#39;</span>)</span>
<span id="cb921-70"><a href="#cb921-70" aria-hidden="true" tabindex="-1"></a>startTSColin <span class="ot">&lt;-</span> <span class="st">&quot;2016-06-06 05:00:00&quot;</span></span>
<span id="cb921-71"><a href="#cb921-71" aria-hidden="true" tabindex="-1"></a>endTSColin <span class="ot">&lt;-</span> <span class="st">&quot;2016-06-08 05:00:00&quot;</span></span>
<span id="cb921-72"><a href="#cb921-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb921-73"><a href="#cb921-73" aria-hidden="true" tabindex="-1"></a>precipData <span class="ot">&lt;-</span> <span class="fu">getPrecip</span>(<span class="at">states =</span> statesTSColin, </span>
<span id="cb921-74"><a href="#cb921-74" aria-hidden="true" tabindex="-1"></a>                        <span class="at">startDate =</span> startTSColin, </span>
<span id="cb921-75"><a href="#cb921-75" aria-hidden="true" tabindex="-1"></a>                        <span class="at">endDate =</span> endTSColin)</span>
<span id="cb921-76"><a href="#cb921-76" aria-hidden="true" tabindex="-1"></a><span class="fu">precipMap</span>(precipData, </span>
<span id="cb921-77"><a href="#cb921-77" aria-hidden="true" tabindex="-1"></a>          <span class="at">startDate =</span> startTSColin, </span>
<span id="cb921-78"><a href="#cb921-78" aria-hidden="true" tabindex="-1"></a>          <span class="at">endDate =</span> endTSColin)</span></code></pre></div>
<p><img src="08-USGS_files/figure-html/visualize-colin-1.png" width="672" /></p>
</div>
<div id="usgs-nwis-culmination-write-up" class="section level2 hasAnchor" number="8.30">
<h2 class="hasAnchor"><span class="header-section-number">8.30</span> USGS NWIS Culmination Write Up<a href="#usgs-nwis-culmination-write-up" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Write up a 1-page <strong>derived data product or research pipeline proposal</strong> summary of a project that you might want to explore using USGS NWIS and USGS GDP data. Include the types of data that you would need to implement this project and how you would retrieve them. Save this summary as you will be refining and adding to your ideas over the course of the semester.</p>
<p>Suggestions:</p>
<ol style="list-style-type: decimal">
<li><p>Tables or bullet lists of <strong>specific</strong> data products</p></li>
<li><p>An <strong>overarching high-quality figure</strong> to show how these data align</p></li>
<li><p>One paragraph summarizing <em>how</em> this data or analysis is useful to <strong>you and/or the infrastructure</strong>.</p></li>
</ol>
<!--chapter:end:08-USGS.Rmd-->
</div>
</div>
<div id="frequently-asked-questions" class="section level1 unnumbered hasAnchor">
<h1 class="unnumbered hasAnchor">Frequently Asked Questions:<a href="#frequently-asked-questions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="where-can-i-find-due-dates-for-assignments" class="section level2 hasAnchor" number="8.31">
<h2 class="hasAnchor"><span class="header-section-number">8.31</span> Where can I find due dates for assignments?<a href="#where-can-i-find-due-dates-for-assignments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>All assignment deadlines can be found in BBLearn. Within this textbook we have suggestions for the timing of all writen questions, coding labs and final culmination writes ups. All material by infrastructure is due before we begin the next infrastructure.</em></p>
</div>
<div id="how-do-i-submit-assignments" class="section level2 hasAnchor" number="8.32">
<h2 class="hasAnchor"><span class="header-section-number">8.32</span> How do I submit assignments?<a href="#how-do-i-submit-assignments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>All assignments (except the very first git assignment) are submitted via BBLearn as both .Rmds and .pdfs</em></p>
</div>
<div id="do-i-still-have-to-submit-written-exercises-as-.rmd-and-.pdf" class="section level2 hasAnchor" number="8.33">
<h2 class="hasAnchor"><span class="header-section-number">8.33</span> Do I still have to submit written exercises as .Rmd and .pdf?<a href="#do-i-still-have-to-submit-written-exercises-as-.rmd-and-.pdf" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>Yes.</em></p>
</div>
<div id="whats-better-for-code-conciseness-or-readability" class="section level2 hasAnchor" number="8.34">
<h2 class="hasAnchor"><span class="header-section-number">8.34</span> What’s better for code, conciseness or readability?<a href="#whats-better-for-code-conciseness-or-readability" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>Readability &gt; Conciseness</code></p>
<p><em>I personally almost always use dplyr, my thoughts, pulled largely from Dr. Derek Sonderegger’s Statistical Computing Course are below:</em></p>
<p>The pipe command in <code>dplyr</code> <code>%&gt;%</code> allows for very readable code. The idea is that the <code>%&gt;%</code> operator works by translating the command <em>a</em> <code>%&gt;%</code> <em>f(b)</em> to the expression <em>f(a,b)</em>. This operator works on <strong>any function</strong> and was introduced in the <code>magrittr</code> package. The beauty of this comes when you have a suite of functions that take input arguments of the same type as their output. They are human readable!</p>
<p>For example if we wanted to start with <em>x</em>, and first apply function <em>f()</em>, then <em>g()</em>, and then <em>h()</em>, the usual R command would be <em>h(g(f(x)))</em> which is hard to read because you have to start reading at the innermost set of parentheses. Using the pipe command <code>%&gt;%</code>, this sequence of operations becomes <em>x</em> <code>%&gt;%</code> <em>f()</em> <code>%&gt;%</code> <em>g()</em> <code>%&gt;%</code> <em>h()</em>.</p>
<p>Dr. Hadley Wickham (aka R genius) gave the following example of readability:</p>
<pre><code>bopping(
  scooping_up(
    hopping_through(foo_foo),
    field_mice),
  head)</code></pre>
<p>is more readably written:</p>
<pre><code>foo_foo %&gt;% 
  hopping_through(forest) %&gt;%
  scooping_up( field_mice) %&gt;%
  bopping( head )</code></pre>
<p>In dplyr, all the functions take a data set as its first argument and outputs an appropriately modified data set. This allows me to chain together commands in a readable fashion. Then in 3 months I don’t have to wonder what on earth I was doing last time I opened this project, if I filtered the data, etc etc. Your future self will sincerely thank your past self.</p>
</div>
<div id="how-find-i-find-resources-to-navigate-the-neon-data-portal" class="section level2 hasAnchor" number="8.35">
<h2 class="hasAnchor"><span class="header-section-number">8.35</span> How find I find resources to navigate the NEON Data Portal?<a href="#how-find-i-find-resources-to-navigate-the-neon-data-portal" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A fantastic powerpoint giving you step-by-step directions <a href="https://www.neonscience.org/sites/default/files/Access_NEON_Data_%20Visual_Guide_6Feb2020.pptx">can be found here</a>.</p>
</div>
<div id="how-can-i-best-prepare-for-class-and-succeed" class="section level2 hasAnchor" number="8.36">
<h2 class="hasAnchor"><span class="header-section-number">8.36</span> How can I best prepare for class and succeed?<a href="#how-can-i-best-prepare-for-class-and-succeed" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Read the textbook, click on linked resources including videos, review materials as we go or read ahead.</p></li>
<li><p>Complete assignments as we go or ahead of time. Do not wait until the last minute.</p></li>
<li><p>Pick a ‘coding buddy’ and help each other tackle errors that arise.</p></li>
<li><p>Reach out to your instructors if you need clarification on assignments.</p></li>
</ol>
</div>
</div>
<div id="fall-2020-ignite-session" class="section level1 hasAnchor" number="9">
<h1 class="hasAnchor"><span class="header-section-number">9</span> Fall 2020 IGNITE Session<a href="#fall-2020-ignite-session" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zOGxBkqw0E8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<!--chapter:end:15_FAQ.Rmd-->
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

</body>

</html>
